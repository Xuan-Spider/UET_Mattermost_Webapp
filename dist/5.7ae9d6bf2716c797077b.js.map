{"version":3,"sources":["webpack:///./actions/admin_actions.jsx","webpack:///./actions/channel_actions.jsx","webpack:///./actions/command.js","webpack:///./actions/file_actions.jsx","webpack:///./actions/global_actions.jsx","webpack:///./actions/hooks.js","webpack:///./actions/invite_actions.jsx","webpack:///./actions/marketplace.js","webpack:///./actions/team_actions.jsx","webpack:///./actions/views/channel.js","webpack:///./actions/views/lhs.js","webpack:///./actions/views/modals.js","webpack:///./actions/views/notice.js","webpack:///./actions/views/posts.js","webpack:///./actions/views/profile_popover.js","webpack:///./actions/views/root.js","webpack:///./actions/views/search.js","webpack:///./actions/views/settings.js","webpack:///./actions/views/system.js","webpack:///./actions/websocket_actions.jsx","webpack:///./client/web_websocket_client.jsx","webpack:///./client/websocket_client.jsx","webpack:///./components/about_build_modal/about_build_modal.jsx","webpack:///./components/about_build_modal/index.js","webpack:///./components/add_groups_to_channel_modal/add_groups_to_channel_modal.jsx","webpack:///./components/add_groups_to_channel_modal/index.js","webpack:///./components/add_groups_to_team_modal/add_groups_to_team_modal.jsx","webpack:///./components/add_groups_to_team_modal/index.js","webpack:///./components/add_user_to_channel_modal/add_user_to_channel_modal.jsx","webpack:///./components/add_user_to_channel_modal/index.js","webpack:///./components/announcement_bar/announcement_bar.jsx","webpack:///./components/announcement_bar/announcement_bar_controller.jsx","webpack:///./components/announcement_bar/configuration_bar/configuration_bar.jsx","webpack:///./components/announcement_bar/configuration_bar/index.js","webpack:///./components/announcement_bar/index.js","webpack:///./components/announcement_bar/text_dismissable_bar.jsx","webpack:///./components/announcement_bar/version_bar/index.js","webpack:///./components/announcement_bar/version_bar/version_bar.jsx","webpack:///./components/at_mention/at_mention.jsx","webpack:///./components/at_mention/index.jsx","webpack:///./components/audio_video_preview.jsx","webpack:///./components/autocomplete_selector.jsx","webpack:///./components/autosize_textarea.tsx","webpack:///./components/change_url_modal/change_url_modal.jsx","webpack:///./components/change_url_modal/index.js","webpack:///./components/channel_groups_manage_modal/channel_groups_manage_modal.jsx","webpack:///./components/channel_groups_manage_modal/index.js","webpack:///./components/channel_header/channel_header.js","webpack:///./components/channel_header/components/header_icon_wrapper.js","webpack:///./components/channel_header/index.js","webpack:///./components/channel_header_dropdown/channel_header_dropdown.js","webpack:///./components/channel_header_dropdown/channel_header_dropdown_items.js","webpack:///./components/channel_header_dropdown/index.js","webpack:///./components/channel_header_dropdown/menu_items/close_channel/close_channel.js","webpack:///./components/channel_header_dropdown/menu_items/close_channel/index.js","webpack:///./components/channel_header_dropdown/menu_items/leave_channel/index.js","webpack:///./components/channel_header_dropdown/menu_items/leave_channel/leave_channel.js","webpack:///./components/channel_header_dropdown/menu_items/toggle_favorite_channel/index.js","webpack:///./components/channel_header_dropdown/menu_items/toggle_favorite_channel/toggle_favorite_channel.js","webpack:///./components/channel_header_dropdown/menu_items/toggle_mute_channel/index.js","webpack:///./components/channel_header_dropdown/menu_items/toggle_mute_channel/toggle_mute_channel.js","webpack:///./components/channel_header_dropdown/menu_items/view_pinned_posts/index.js","webpack:///./components/channel_header_dropdown/menu_items/view_pinned_posts/view_pinned_posts.js","webpack:///./components/channel_header_dropdown/mobile_channel_header_dropdown.js","webpack:///./components/channel_header_dropdown/mobile_channel_header_dropdown_animation.jsx","webpack:///./components/channel_header_mobile/channel_header_mobile.js","webpack:///./components/channel_header_mobile/channel_info_button/channel_info_button.js","webpack:///./components/channel_header_mobile/channel_info_button/index.js","webpack:///./components/channel_header_mobile/collapse_lhs_button/collapse_lhs_button.js","webpack:///./components/channel_header_mobile/collapse_lhs_button/index.js","webpack:///./components/channel_header_mobile/collapse_rhs_button/collapse_rhs_button.js","webpack:///./components/channel_header_mobile/collapse_rhs_button/index.js","webpack:///./components/channel_header_mobile/index.js","webpack:///./components/channel_header_mobile/show_search_button/index.js","webpack:///./components/channel_header_mobile/show_search_button/show_search_button.js","webpack:///./components/channel_header_mobile/unmute_channel_button/index.js","webpack:///./components/channel_header_mobile/unmute_channel_button/unmute_channel_button.js","webpack:///./components/channel_info_modal/channel_info_modal.jsx","webpack:///./components/channel_info_modal/index.js","webpack:///./components/channel_invite_modal/channel_invite_modal.jsx","webpack:///./components/channel_invite_modal/index.js","webpack:///./components/channel_layout/center_channel/center_channel.jsx","webpack:///./components/channel_layout/center_channel/index.js","webpack:///./components/channel_layout/channel_controller.jsx","webpack:///./components/channel_layout/channel_identifier_router/actions.js","webpack:///./components/channel_layout/channel_identifier_router/channel_identifier_router.jsx","webpack:///./components/channel_layout/channel_identifier_router/index.js","webpack:///./components/channel_members_dropdown/channel_members_dropdown.jsx","webpack:///./components/channel_members_dropdown/index.js","webpack:///./components/channel_members_modal/channel_members_modal.jsx","webpack:///./components/channel_members_modal/index.js","webpack:///./components/channel_notifications_modal/channel_notifications_modal.jsx","webpack:///./components/channel_notifications_modal/components/collapse_view.jsx","webpack:///./components/channel_notifications_modal/components/describe.jsx","webpack:///./components/channel_notifications_modal/components/expand_view.jsx","webpack:///./components/channel_notifications_modal/components/extra_info.jsx","webpack:///./components/channel_notifications_modal/components/notification_section.jsx","webpack:///./components/channel_notifications_modal/components/section_title.jsx","webpack:///./components/channel_notifications_modal/index.js","webpack:///./components/channel_view/channel_view.jsx","webpack:///./components/channel_view/index.js","webpack:///./components/code_preview.jsx","webpack:///./components/common/comment_icon.jsx","webpack:///./components/confirm_modal.jsx","webpack:///./components/convert_channel_modal/convert_channel_modal.jsx","webpack:///./components/convert_channel_modal/index.js","webpack:///./components/copy_url_context_menu/copy_url_context_menu.jsx","webpack:///./components/copy_url_context_menu/index.js","webpack:///./components/create_post/create_post.jsx","webpack:///./components/create_post/index.js","webpack:///./components/deferComponentRender.jsx","webpack:///./components/delete_channel_modal/delete_channel_modal.jsx","webpack:///./components/delete_channel_modal/index.js","webpack:///./components/delete_post_modal/delete_post_modal.jsx","webpack:///./components/delete_post_modal/index.js","webpack:///./components/dot_menu/dot_menu.jsx","webpack:///./components/dot_menu/index.js","webpack:///./components/edit_channel_header_modal/edit_channel_header_modal.jsx","webpack:///./components/edit_channel_header_modal/index.js","webpack:///./components/edit_channel_purpose_modal/edit_channel_purpose_modal.jsx","webpack:///./components/edit_channel_purpose_modal/index.js","webpack:///./components/edit_post_modal/edit_post_modal.jsx","webpack:///./components/edit_post_modal/index.js","webpack:///./components/emoji_picker/components/emoji_picker_category.jsx","webpack:///./components/emoji_picker/components/emoji_picker_header.jsx","webpack:///./components/emoji_picker/components/emoji_picker_item.jsx","webpack:///./components/emoji_picker/components/emoji_picker_preview.jsx","webpack:///./components/emoji_picker/emoji_picker.jsx","webpack:///./components/emoji_picker/emoji_picker_category_section.jsx","webpack:///./components/emoji_picker/emoji_picker_overlay.jsx","webpack:///./components/emoji_picker/emoji_picker_tabs.jsx","webpack:///./components/emoji_picker/index.js","webpack:///./components/external_image/external_image.jsx","webpack:///./components/external_image/index.js","webpack:///./components/file_attachment/file_attachment.jsx","webpack:///./components/file_attachment/file_thumbnail/file_thumbnail.jsx","webpack:///./components/file_attachment/file_thumbnail/index.js","webpack:///./components/file_attachment/filename_overlay.jsx","webpack:///./components/file_attachment/index.js","webpack:///./components/file_attachment_list/file_attachment_list.jsx","webpack:///./components/file_attachment_list/index.js","webpack:///./components/file_info_preview/file_info_preview.jsx","webpack:///./components/file_info_preview/index.js","webpack:///./components/file_preview/file_preview.jsx","webpack:///./components/file_preview/file_progress_preview.jsx","webpack:///./components/file_preview/index.js","webpack:///./components/file_upload/file_upload.jsx","webpack:///./components/file_upload/index.js","webpack:///./components/file_upload_overlay.tsx","webpack:///./components/form_error.tsx","webpack:///./components/formatted_markdown_message.jsx","webpack:///./components/get_link_modal.tsx","webpack:///./components/get_post_link_modal/get_post_link_modal.tsx","webpack:///./components/get_post_link_modal/index.js","webpack:///./components/get_public_link_modal/get_public_link_modal.jsx","webpack:///./components/get_public_link_modal/index.js","webpack:///./components/gif_picker/components/App/index.jsx","webpack:///./components/gif_picker/components/Categories/Categories.scss?5dd0","webpack:///./components/gif_picker/components/Categories/index.jsx","webpack:///./components/gif_picker/components/Header/Header.scss?adbd","webpack:///./components/gif_picker/components/Header/index.jsx","webpack:///./components/gif_picker/components/InfiniteScroll/index.js","webpack:///./components/gif_picker/components/Search/index.jsx","webpack:///./components/gif_picker/components/SearchBar/SearchBar.scss?839c","webpack:///./components/gif_picker/components/SearchBar/index.jsx","webpack:///./components/gif_picker/components/SearchGrid/SearchGrid.jsx","webpack:///./components/gif_picker/components/SearchGrid/SearchGrid.scss?ec0f","webpack:///./components/gif_picker/components/SearchGrid/index.js","webpack:///./components/gif_picker/components/SearchItem/SearchItem.scss?0fe3","webpack:///./components/gif_picker/components/SearchItem/index.jsx","webpack:///./components/gif_picker/components/Trending/index.jsx","webpack:///./components/gif_picker/gif_picker.jsx","webpack:///./components/gif_picker/static/search_end.png","webpack:///./components/gif_picker/utils/constants.js","webpack:///./components/header_footer_template_route.jsx","webpack:///./components/interactive_dialog/dialog_element/dialog_element.jsx","webpack:///./components/interactive_dialog/dialog_element/index.js","webpack:///./components/interactive_dialog/dialog_introduction_text.jsx","webpack:///./components/interactive_dialog/index.js","webpack:///./components/interactive_dialog/interactive_dialog.jsx","webpack:///./components/intl_provider/index.jsx","webpack:///./components/intl_provider/intl_provider.jsx","webpack:///./components/invitation_modal/index.js","webpack:///./components/invitation_modal/invitation_modal.jsx","webpack:///./components/invitation_modal/invitation_modal.scss?adc1","webpack:///./components/invitation_modal/invitation_modal_confirm_step.jsx","webpack:///./components/invitation_modal/invitation_modal_confirm_step.scss?22d8","webpack:///./components/invitation_modal/invitation_modal_confirm_step_row.jsx","webpack:///./components/invitation_modal/invitation_modal_confirm_step_row.scss?0345","webpack:///./components/invitation_modal/invitation_modal_confirm_step_table.jsx","webpack:///./components/invitation_modal/invitation_modal_confirm_step_table.scss?6c69","webpack:///./components/invitation_modal/invitation_modal_guests_step.jsx","webpack:///./components/invitation_modal/invitation_modal_guests_step.scss?3d47","webpack:///./components/invitation_modal/invitation_modal_initial_step.jsx","webpack:///./components/invitation_modal/invitation_modal_initial_step.scss?1723","webpack:///./components/invitation_modal/invitation_modal_members_step.jsx","webpack:///./components/invitation_modal/invitation_modal_members_step.scss?9c38","webpack:///./components/latex_block/index.js","webpack:///./components/latex_block/latex_block.jsx","webpack:///./components/leave_private_channel_modal/index.js","webpack:///./components/leave_private_channel_modal/leave_private_channel_modal.jsx","webpack:///./components/leave_team_modal/index.js","webpack:///./components/leave_team_modal/leave_team_modal.jsx","webpack:///./components/link_tooltip/link_tooltip.tsx","webpack:///./components/list_modal.jsx","webpack:///./components/loading_image_preview.tsx","webpack:///./components/loading_screen.tsx","webpack:///./components/local_date_time/index.js","webpack:///./components/local_date_time/local_date_time.tsx","webpack:///./components/localized_input/localized_input.tsx","webpack:///./components/main_menu/index.jsx","webpack:///./components/main_menu/main_menu.jsx","webpack:///./components/markdown/index.js","webpack:///./components/markdown/markdown.jsx","webpack:///./components/markdown_image.jsx","webpack:///./components/member_list_channel/index.js","webpack:///./components/member_list_channel/member_list_channel.jsx","webpack:///./components/member_list_team/index.js","webpack:///./components/member_list_team/member_list_team.jsx","webpack:///./components/message_submit_error.tsx","webpack:///./components/modal_controller/index.js","webpack:///./components/modal_controller/modal_controller.jsx","webpack:///./components/more_channels/index.js","webpack:///./components/more_channels/more_channels.jsx","webpack:///./components/more_direct_channels/group_message_option.jsx","webpack:///./components/more_direct_channels/index.js","webpack:///./components/more_direct_channels/more_direct_channels.jsx","webpack:///./components/msg_typing/index.js","webpack:///./components/msg_typing/msg_typing.tsx","webpack:///./components/multiselect/multiselect.tsx","webpack:///./components/multiselect/multiselect_list.tsx","webpack:///./components/needs_team/index.js","webpack:///./components/needs_team/needs_team.jsx","webpack:///./components/new_channel_flow/index.js","webpack:///./components/new_channel_flow/new_channel_flow.jsx","webpack:///./components/new_channel_modal/index.js","webpack:///./components/new_channel_modal/new_channel_modal.jsx","webpack:///./components/notify_counts/index.js","webpack:///./components/notify_counts/notify_counts.jsx","webpack:///./components/permalink_redirector/actions.js","webpack:///./components/permalink_redirector/index.js","webpack:///./components/permalink_redirector/permalink_redirector.jsx","webpack:///./components/permalink_view/actions.js","webpack:///./components/permalink_view/index.js","webpack:///./components/permalink_view/permalink_view.jsx","webpack:///./components/permissions_gates/channel_permission_gate/channel_permission_gate.jsx","webpack:///./components/permissions_gates/channel_permission_gate/index.js","webpack:///./components/permissions_gates/system_permission_gate/index.js","webpack:///./components/permissions_gates/system_permission_gate/system_permission_gate.jsx","webpack:///./components/permissions_gates/team_permission_gate/index.js","webpack:///./components/permissions_gates/team_permission_gate/team_permission_gate.jsx","webpack:///./components/plugin_marketplace/index.js","webpack:///./components/plugin_marketplace/marketplace_item/index.js","webpack:///./components/plugin_marketplace/marketplace_item/marketplace_item.js","webpack:///./components/plugin_marketplace/marketplace_modal.js","webpack:///./components/plugin_marketplace/marketplace_modal.scss?d39f","webpack:///./components/popover_list_members/index.js","webpack:///./components/popover_list_members/popover_list_members.jsx","webpack:///./components/popover_list_members/popover_list_members_item.jsx","webpack:///./components/post_deleted_modal.tsx","webpack:///./components/post_emoji/index.jsx","webpack:///./components/post_emoji/post_emoji.tsx","webpack:///./components/post_markdown/index.js","webpack:///./components/post_markdown/post_markdown.jsx","webpack:///./components/post_markdown/system_message_helpers.jsx","webpack:///./components/post_profile_picture/index.jsx","webpack:///./components/post_profile_picture/post_profile_picture.jsx","webpack:///./components/post_view/channel_intro_message/channel_intro_message.jsx","webpack:///./components/post_view/channel_intro_message/index.js","webpack:///./components/post_view/combined_system_message/combined_system_message.jsx","webpack:///./components/post_view/combined_system_message/index.js","webpack:///./components/post_view/combined_system_message/last_users.jsx","webpack:///./components/post_view/combined_user_activity_post/index.js","webpack:///./components/post_view/commented_on/commented_on.jsx","webpack:///./components/post_view/commented_on/index.js","webpack:///./components/post_view/commented_on_files_message/commented_on_files_message.jsx","webpack:///./components/post_view/commented_on_files_message/index.js","webpack:///./components/post_view/date_separator/date_separator.jsx","webpack:///./components/post_view/date_separator/index.js","webpack:///./components/post_view/failed_post_options/failed_post_options.jsx","webpack:///./components/post_view/failed_post_options/index.js","webpack:///./components/post_view/floating_timestamp/floating_timestamp.jsx","webpack:///./components/post_view/floating_timestamp/index.js","webpack:///./components/post_view/index.js","webpack:///./components/post_view/message_attachments/action_button.jsx","webpack:///./components/post_view/message_attachments/action_menu/action_menu.jsx","webpack:///./components/post_view/message_attachments/action_menu/index.js","webpack:///./components/post_view/message_attachments/message_attachment/index.js","webpack:///./components/post_view/message_attachments/message_attachment/message_attachment.jsx","webpack:///./components/post_view/message_attachments/message_attachment_list.jsx","webpack:///./components/post_view/new_message_separator/new_message_separator.jsx","webpack:///./components/post_view/new_messages_below/index.js","webpack:///./components/post_view/new_messages_below/new_messages_below.jsx","webpack:///./components/post_view/post/index.js","webpack:///./components/post_view/post/post.jsx","webpack:///./components/post_view/post_add_channel_member/index.js","webpack:///./components/post_view/post_add_channel_member/post_add_channel_member.jsx","webpack:///./components/post_view/post_attachment_opengraph/get_nearest_point.js","webpack:///./components/post_view/post_attachment_opengraph/index.js","webpack:///./components/post_view/post_attachment_opengraph/post_attachment_opengraph.jsx","webpack:///./components/post_view/post_body/index.js","webpack:///./components/post_view/post_body/post_body.jsx","webpack:///./components/post_view/post_body_additional_content/index.js","webpack:///./components/post_view/post_body_additional_content/post_body_additional_content.jsx","webpack:///./components/post_view/post_context.js","webpack:///./components/post_view/post_flag_icon/index.js","webpack:///./components/post_view/post_flag_icon/post_flag_icon.js","webpack:///./components/post_view/post_header/index.js","webpack:///./components/post_view/post_header/post_header.jsx","webpack:///./components/post_view/post_image/index.js","webpack:///./components/post_view/post_image/post_image.jsx","webpack:///./components/post_view/post_info/index.js","webpack:///./components/post_view/post_info/post_info.jsx","webpack:///./components/post_view/post_list/index.js","webpack:///./components/post_view/post_list/post_list.jsx","webpack:///./components/post_view/post_list/post_list_virtualized.jsx","webpack:///./components/post_view/post_list_row/index.js","webpack:///./components/post_view/post_list_row/post_list_row.jsx","webpack:///./components/post_view/post_message_view/index.js","webpack:///./components/post_view/post_message_view/post_message_view.jsx","webpack:///./components/post_view/post_reaction/index.js","webpack:///./components/post_view/post_reaction/post_reaction.jsx","webpack:///./components/post_view/post_time/index.js","webpack:///./components/post_view/post_time/post_time.jsx","webpack:///./components/post_view/post_view.jsx","webpack:///./components/post_view/reaction/index.js","webpack:///./components/post_view/reaction/reaction.jsx","webpack:///./components/post_view/reaction_list/index.js","webpack:///./components/post_view/reaction_list/reaction_list.jsx","webpack:///./components/post_view/scroll_to_bottom_arrows.jsx","webpack:///./components/post_view/show_more/index.js","webpack:///./components/post_view/show_more/show_more.jsx","webpack:///./components/profile_picture.tsx","webpack:///./components/profile_popover/index.js","webpack:///./components/profile_popover/profile_popover.jsx","webpack:///./components/quick_input.jsx","webpack:///./components/quick_switch_modal/index.js","webpack:///./components/quick_switch_modal/quick_switch_modal.jsx","webpack:///./components/recent_date.tsx","webpack:///./components/removed_from_channel_modal/index.js","webpack:///./components/removed_from_channel_modal/removed_from_channel_modal.jsx","webpack:///./components/rename_channel_modal/index.js","webpack:///./components/rename_channel_modal/rename_channel_modal.jsx","webpack:///./components/reset_status_modal/index.js","webpack:///./components/reset_status_modal/reset_status_modal.jsx","webpack:///./components/root/index.js","webpack:///./components/root/root.jsx","webpack:///./components/root_portal.jsx","webpack:///./components/save_button.tsx","webpack:///./components/search_bar/index.jsx","webpack:///./components/search_bar/search_bar.jsx","webpack:///./components/search_hint/search_hint.tsx","webpack:///./components/searchable_channel_list.jsx","webpack:///./components/searchable_user_list/searchable_user_list.jsx","webpack:///./components/searchable_user_list/searchable_user_list_container.jsx","webpack:///./components/setting_item_max.jsx","webpack:///./components/setting_item_min/index.js","webpack:///./components/setting_item_min/setting_item_min.jsx","webpack:///./components/setting_picture.jsx","webpack:///./components/setting_upload.jsx","webpack:///./components/shortcuts_modal.jsx","webpack:///./components/sidebar/channel_create.jsx","webpack:///./components/sidebar/channel_more.jsx","webpack:///./components/sidebar/channel_name.jsx","webpack:///./components/sidebar/header/dropdown/index.js","webpack:///./components/sidebar/header/dropdown/sidebar_header_dropdown.jsx","webpack:///./components/sidebar/header/index.js","webpack:///./components/sidebar/header/sidebar_header.jsx","webpack:///./components/sidebar/header/sidebar_header_dropdown_button.jsx","webpack:///./components/sidebar/index.js","webpack:///./components/sidebar/more_public_direct_channels.jsx","webpack:///./components/sidebar/sidebar.jsx","webpack:///./components/sidebar/sidebar_channel/index.js","webpack:///./components/sidebar/sidebar_channel/sidebar_channel.jsx","webpack:///./components/sidebar/sidebar_channel_button_or_link/sidebar_channel_button_or_link.jsx","webpack:///./components/sidebar/sidebar_channel_button_or_link/sidebar_channel_button_or_link_close_button.jsx","webpack:///./components/sidebar/sidebar_channel_button_or_link/sidebar_channel_button_or_link_icon.jsx","webpack:///./components/sidebar/sidebar_tutorial_tip.jsx","webpack:///./components/single_image_view/index.js","webpack:///./components/single_image_view/single_image_view.jsx","webpack:///./components/size_aware_image.jsx","webpack:///./components/spinner_button.tsx","webpack:///./components/status_dropdown/index.jsx","webpack:///./components/status_dropdown/status_dropdown.jsx","webpack:///./components/status_icon.jsx","webpack:///./components/suggestion/at_mention_provider/at_mention_provider.jsx","webpack:///./components/suggestion/at_mention_provider/at_mention_suggestion.jsx","webpack:///./components/suggestion/at_mention_provider/index.js","webpack:///./components/suggestion/channel_mention_provider.jsx","webpack:///./components/suggestion/command_provider.jsx","webpack:///./components/suggestion/emoticon_provider.jsx","webpack:///./components/suggestion/generic_channel_provider.jsx","webpack:///./components/suggestion/generic_user_provider.jsx","webpack:///./components/suggestion/menu_action_provider.jsx","webpack:///./components/suggestion/provider.jsx","webpack:///./components/suggestion/search_channel_provider.jsx","webpack:///./components/suggestion/search_channel_with_permissions_provider.jsx","webpack:///./components/suggestion/search_date_provider.jsx","webpack:///./components/suggestion/search_suggestion_list.jsx","webpack:///./components/suggestion/search_user_provider.jsx","webpack:///./components/suggestion/suggestion.jsx","webpack:///./components/suggestion/suggestion_box.jsx","webpack:///./components/suggestion/suggestion_date.jsx","webpack:///./components/suggestion/suggestion_list.jsx","webpack:///./components/suggestion/switch_channel_provider.jsx","webpack:///./components/suggestion/switch_team_provider.jsx","webpack:///./components/system_notice/index.js","webpack:///./components/system_notice/notices.jsx","webpack:///./components/system_notice/system_notice.jsx","webpack:///./components/team_general_tab/index.js","webpack:///./components/team_general_tab/team_general_tab.jsx","webpack:///./components/team_groups_manage_modal/index.js","webpack:///./components/team_groups_manage_modal/team_groups_manage_modal.jsx","webpack:///./components/team_import_tab.jsx","webpack:///./components/team_members_dropdown/index.js","webpack:///./components/team_members_dropdown/team_members_dropdown.jsx","webpack:///./components/team_members_modal/index.js","webpack:///./components/team_members_modal/team_members_modal.jsx","webpack:///./components/team_settings/index.js","webpack:///./components/team_settings/team_settings.jsx","webpack:///./components/team_settings_modal/index.js","webpack:///./components/team_settings_modal/team_settings_modal.jsx","webpack:///./components/team_sidebar/components/team_button.jsx","webpack:///./components/team_sidebar/index.js","webpack:///./components/team_sidebar/team_sidebar_controller.jsx","webpack:///./components/textbox/index.js","webpack:///./components/textbox/textbox.jsx","webpack:///./components/textbox/textbox_links.jsx","webpack:///./components/toggle_modal_button.jsx","webpack:///./components/toggle_modal_button_redux/index.js","webpack:///./components/toggle_modal_button_redux/toggle_modal_button_redux.jsx","webpack:///./components/tutorial/index.jsx","webpack:///./components/tutorial/menu_tutorial_tip.jsx","webpack:///./components/tutorial/tutorial_intro_screens/index.jsx","webpack:///./components/tutorial/tutorial_intro_screens/tutorial_intro_screens.jsx","webpack:///./components/tutorial/tutorial_tip/index.js","webpack:///./components/tutorial/tutorial_tip/tutorial_tip.jsx","webpack:///./components/tutorial/tutorial_view.jsx","webpack:///./components/unread_channel_indicator.tsx","webpack:///./components/user_list.jsx","webpack:///./components/user_list_row/index.js","webpack:///./components/user_list_row/user_list_row.jsx","webpack:///./components/user_profile/index.js","webpack:///./components/user_profile/user_profile.jsx","webpack:///./components/user_settings/import_theme_modal.jsx","webpack:///./components/user_settings/modal/index.js","webpack:///./components/user_settings/modal/user_settings_modal.jsx","webpack:///./components/view_image/image_preview.jsx","webpack:///./components/view_image/index.js","webpack:///./components/view_image/popover_bar/index.js","webpack:///./components/view_image/popover_bar/popover_bar.jsx","webpack:///./components/view_image/view_image.jsx","webpack:///./components/widgets/badges/badge.scss?25d8","webpack:///./components/widgets/badges/badge.tsx","webpack:///./components/widgets/badges/bot_badge.tsx","webpack:///./components/widgets/badges/guest_badge.tsx","webpack:///./components/widgets/icons/alert_icon.jsx","webpack:///./components/widgets/icons/archive_icon.jsx","webpack:///./components/widgets/icons/arrow_right_icon.jsx","webpack:///./components/widgets/icons/attachment_icon.jsx","webpack:///./components/widgets/icons/back_icon.jsx","webpack:///./components/widgets/icons/bot_icon.jsx","webpack:///./components/widgets/icons/close_circle_icon.jsx","webpack:///./components/widgets/icons/close_circle_solid_icon.jsx","webpack:///./components/widgets/icons/close_icon.jsx","webpack:///./components/widgets/icons/download_icon.jsx","webpack:///./components/widgets/icons/draft_icon.jsx","webpack:///./components/widgets/icons/emoji_icon.jsx","webpack:///./components/widgets/icons/fa_add_icon.jsx","webpack:///./components/widgets/icons/fa_back_icon.jsx","webpack:///./components/widgets/icons/fa_dropdown_icon.jsx","webpack:///./components/widgets/icons/fa_edit_icon.jsx","webpack:///./components/widgets/icons/fa_remove_icon.jsx","webpack:///./components/widgets/icons/fa_select_icon.jsx","webpack:///./components/widgets/icons/fa_success_icon.jsx","webpack:///./components/widgets/icons/fa_warning_icon.tsx","webpack:///./components/widgets/icons/flag_icon.jsx","webpack:///./components/widgets/icons/flag_icon_filled.jsx","webpack:///./components/widgets/icons/gfycat_icon.jsx","webpack:///./components/widgets/icons/gif_reactions_icon.jsx","webpack:///./components/widgets/icons/gif_search_clear_icon.jsx","webpack:///./components/widgets/icons/gif_search_icon.jsx","webpack:///./components/widgets/icons/gif_trending_icon.jsx","webpack:///./components/widgets/icons/globe_icon.jsx","webpack:///./components/widgets/icons/info_icon.jsx","webpack:///./components/widgets/icons/info_small_icon.jsx","webpack:///./components/widgets/icons/invite_icon.jsx","webpack:///./components/widgets/icons/invite_members_icon.jsx","webpack:///./components/widgets/icons/leave_team_icon.jsx","webpack:///./components/widgets/icons/link_icon.jsx","webpack:///./components/widgets/icons/lock_icon.jsx","webpack:///./components/widgets/icons/mail_icon.jsx","webpack:///./components/widgets/icons/mail_plus_icon.jsx","webpack:///./components/widgets/icons/mattermost_logo.jsx","webpack:///./components/widgets/icons/member_icon.jsx","webpack:///./components/widgets/icons/mentions_icon.jsx","webpack:///./components/widgets/icons/menu_icon.jsx","webpack:///./components/widgets/icons/message_icon.jsx","webpack:///./components/widgets/icons/pin_icon.jsx","webpack:///./components/widgets/icons/plugin_channel_header_icon.jsx","webpack:///./components/widgets/icons/plugin_icon.jsx","webpack:///./components/widgets/icons/reply_icon.jsx","webpack:///./components/widgets/icons/scroll_to_bottom_icon.jsx","webpack:///./components/widgets/icons/search_icon.jsx","webpack:///./components/widgets/icons/status_away_avatar_icon.jsx","webpack:///./components/widgets/icons/status_away_icon.jsx","webpack:///./components/widgets/icons/status_dnd_avatar_icon.jsx","webpack:///./components/widgets/icons/status_dnd_icon.jsx","webpack:///./components/widgets/icons/status_offline_avatar_icon.jsx","webpack:///./components/widgets/icons/status_offline_icon.jsx","webpack:///./components/widgets/icons/status_online_avatar_icon.jsx","webpack:///./components/widgets/icons/status_online_icon.jsx","webpack:///./components/widgets/icons/unread_below_icon.jsx","webpack:///./components/widgets/inputs/channels_input.jsx","webpack:///./components/widgets/inputs/channels_input.scss?f805","webpack:///./components/widgets/inputs/users_emails_input.jsx","webpack:///./components/widgets/inputs/users_emails_input.scss?1edd","webpack:///./components/widgets/loading/loading_spinner.tsx","webpack:///./components/widgets/loading/loading_wrapper.tsx","webpack:///./components/widgets/menu/menu.scss?b0b8","webpack:///./components/widgets/menu/menu.tsx","webpack:///./components/widgets/menu/menu_group.scss?326e","webpack:///./components/widgets/menu/menu_group.tsx","webpack:///./components/widgets/menu/menu_items/menu_item.scss?3bee","webpack:///./components/widgets/menu/menu_items/menu_item.tsx","webpack:///./components/widgets/menu/menu_items/menu_item_action.tsx","webpack:///./components/widgets/menu/menu_items/menu_item_external_link.tsx","webpack:///./components/widgets/menu/menu_items/menu_item_link.tsx","webpack:///./components/widgets/menu/menu_items/menu_item_toggle_modal_redux.tsx","webpack:///./components/widgets/menu/menu_items/submenu_item.tsx","webpack:///./components/widgets/menu/menu_modals/submenu_modal/submenu_modal.scss?180c","webpack:///./components/widgets/menu/menu_modals/submenu_modal/submenu_modal.tsx","webpack:///./components/widgets/menu/menu_wrapper.scss?d0eb","webpack:///./components/widgets/menu/menu_wrapper.tsx","webpack:///./components/widgets/menu/menu_wrapper_animation.tsx","webpack:///./components/widgets/modals/full_screen_modal.scss?50fc","webpack:///./components/widgets/modals/full_screen_modal.tsx","webpack:///./components/widgets/popover/index.tsx","webpack:///./components/widgets/separator/basic-separator.tsx","webpack:///./components/widgets/separator/notification-separator.scss?1f7d","webpack:///./components/widgets/separator/notification-separator.tsx","webpack:///./components/widgets/separator/separator.scss?c1e0","webpack:///./components/widgets/settings/bool_setting.tsx","webpack:///./components/widgets/settings/radio_setting.tsx","webpack:///./components/widgets/settings/setting.tsx","webpack:///./components/widgets/settings/text_setting.tsx","webpack:///./components/widgets/team_icon/team_icon.scss?f6aa","webpack:///./components/widgets/team_icon/team_icon.tsx","webpack:///./components/widgets/users/avatar.scss?2668","webpack:///./components/widgets/users/avatar.tsx","webpack:///./components/youtube_video/index.js","webpack:///./components/youtube_video/youtube_video.jsx","webpack:///./dispatcher/app_dispatcher.jsx","webpack:///./images/appIcons.png","webpack:///./images/favicon/favicon-16x16.png","webpack:///./images/favicon/redfavicon-16x16.png","webpack:///./images/filesOverlay.png","webpack:///./images/groups-avatar.png","webpack:///./images/icons/brokenimage.png","webpack:///./images/img_trans.gif","webpack:///./images/logoWhite.png","webpack:///./images/tutorialTip.gif","webpack:///./images/tutorialTipWhite.gif","webpack:///./components/gif_picker/components/Categories/Categories.scss","webpack:///./components/gif_picker/components/Header/Header.scss","webpack:///./components/gif_picker/components/SearchBar/SearchBar.scss","webpack:///./components/gif_picker/components/SearchGrid/SearchGrid.scss","webpack:///./components/gif_picker/components/SearchItem/SearchItem.scss","webpack:///./components/invitation_modal/invitation_modal.scss","webpack:///./components/invitation_modal/invitation_modal_confirm_step.scss","webpack:///./components/invitation_modal/invitation_modal_confirm_step_row.scss","webpack:///./components/invitation_modal/invitation_modal_confirm_step_table.scss","webpack:///./components/invitation_modal/invitation_modal_guests_step.scss","webpack:///./components/invitation_modal/invitation_modal_initial_step.scss","webpack:///./components/invitation_modal/invitation_modal_members_step.scss","webpack:///./components/plugin_marketplace/marketplace_modal.scss","webpack:///./components/widgets/badges/badge.scss","webpack:///./components/widgets/inputs/channels_input.scss","webpack:///./components/widgets/inputs/users_emails_input.scss","webpack:///./components/widgets/menu/menu.scss","webpack:///./components/widgets/menu/menu_group.scss","webpack:///./components/widgets/menu/menu_items/menu_item.scss","webpack:///./components/widgets/menu/menu_modals/submenu_modal/submenu_modal.scss","webpack:///./components/widgets/menu/menu_wrapper.scss","webpack:///./components/widgets/modals/full_screen_modal.scss","webpack:///./components/widgets/separator/notification-separator.scss","webpack:///./components/widgets/separator/separator.scss","webpack:///./components/widgets/team_icon/team_icon.scss","webpack:///./components/widgets/users/avatar.scss","webpack:///./plugins/channel_header_plug/channel_header_plug.jsx","webpack:///./plugins/channel_header_plug/index.js","webpack:///./plugins/export.js","webpack:///./plugins/index.js","webpack:///./plugins/interactive_dialog.js","webpack:///./plugins/mobile_channel_header_plug/index.js","webpack:///./plugins/mobile_channel_header_plug/mobile_channel_header_plug.jsx","webpack:///./plugins/pluggable/index.js","webpack:///./plugins/pluggable/pluggable.jsx","webpack:///./plugins/registry.js","webpack:///./selectors/lhs.jsx","webpack:///./selectors/local_storage.js","webpack:///./selectors/views/admin.js","webpack:///./selectors/views/channel.js","webpack:///./selectors/views/marketplace.js","webpack:///./selectors/views/modals.js","webpack:///./selectors/views/settings.js","webpack:///./selectors/views/system.js","webpack:///./selectors/views/websocket.js","webpack:///./stores/browser_store.jsx","webpack:///./stores/modal_store.jsx","webpack:///./utils/a11y_controller.js","webpack:///./utils/delayed_action.tsx","webpack:///./utils/dragster.ts","webpack:///./utils/emoji_utils.jsx","webpack:///./utils/file_utils.jsx","webpack:///./utils/license_utils.jsx","webpack:///./utils/markdown/link_only_renderer.jsx","webpack:///./utils/message_html_to_component.jsx","webpack:///./utils/paste.tsx","webpack:///./utils/position_utils.tsx","webpack:///./utils/route.jsx","webpack:///./utils/server_version.tsx","webpack:///./utils/team_utils.jsx","webpack:///./utils/youtube.js","webpack:///./WritableStream (ignored)"],"names":["dispatch","store","getState","reloadConfig","success","error","data","err","AdminActions","id","server_error_id","adminResetMfa","userId","UserActions","getClusterStatus","ldapTest","invalidateAllCaches","recycleDatabaseConnection","adminResetPassword","currentPassword","password","adminResetEmail","user","samlCertificateStatus","getOAuthAppInfo","clientId","bindClientFunc","clientFunc","Client4","params","allowOAuth2","responseType","redirectUri","state","scope","authorizeOAuthApp","emailToLdap","loginId","token","ldapId","ldapPassword","emailToOAuth","newType","oauthToEmail","currentService","email","follow_link","emitUserLoggedOutEvent","uploadBrandImage","brandImage","deleteBrandImage","uploadPublicSamlCertificate","file","uploadPrivateSamlCertificate","uploadIdpSamlCertificate","removePublicSamlCertificate","removePrivateSamlCertificate","removeIdpSamlCertificate","getStandardAnalytics","teamId","getAdvancedAnalytics","getBotPostsPerDayAnalytics","getPostsPerDayAnalytics","getUsersPerDayAnalytics","elasticsearchTest","config","testS3Connection","elasticsearchPurgeIndexes","setNavigationBlocked","blocked","type","ActionTypes","SET_NAVIGATION_BLOCKED","deferNavigation","onNavigationConfirmed","DEFER_NAVIGATION","cancelNavigation","CANCEL_NAVIGATION","confirmNavigation","thunkDispatch","thunkGetState","callback","getOnNavigationConfirmed","CONFIRM_NAVIGATION","invalidateAllEmailInvites","TeamActions","testSmtp","registerAdminConsolePlugin","pluginId","reducer","storeDispatch","RECEIVED_ADMIN_CONSOLE_REDUCER","unregisterAdminConsolePlugin","REMOVED_ADMIN_CONSOLE_REDUCER","testSiteURL","siteURL","registerAdminConsoleCustomSetting","key","component","showTitle","RECEIVED_ADMIN_CONSOLE_CUSTOM_COMPONENT","options","openDirectChannelToUserId","currentUserId","getCurrentUserId","channelName","getDirectChannelName","channel","getChannelByName","ChannelActions","trackEvent","now","Date","prefDirect","category","Preferences","CATEGORY_DIRECT_CHANNEL_SHOW","name","value","prefOpenTime","CATEGORY_CHANNEL_OPEN_TIME","toString","actions","PreferenceTypes","RECEIVED_PREFERENCES","batchActions","savePreferences","user_id","openGroupChannelToUserIds","userIds","result","browserHistory","push","getCurrentTeamUrl","loadChannelsForCurrentUser","unreads","getUnreadChannelIds","getCurrentTeamId","getChannel","Constants","DM_CHANNEL","loadNewDMIfNeeded","GM_CHANNEL","loadNewGMIfNeeded","loadProfilesForSidebar","searchMoreChannels","term","showArchivedChannels","Error","myMembers","getMyChannelMemberships","channels","filter","c","autocompleteChannels","autocompleteChannelsForSearch","addUsersToChannel","channelId","requests","map","uId","Promise","all","executeCommand","message","args","msg","cmdLength","indexOf","length","cmd","substring","toLowerCase","trim","PostActions","UserAgent","localizeMessage","GlobalActions","channel_id","root_id","parent_id","getCurrentChannel","PRIVATE_CHANNEL","getUserIdFromChannelName","CATEGORY_GROUP_CHANNEL_SHOW","currentTeamId","redirectChannel","getRedirectChannelNameForTeam","teamUrl","getCurrentRelativeTeamUrl","isFavoriteChannel","unfavoriteChannel","openModal","ModalId","ModalIdentifiers","USER_SETTINGS","dialogType","UserSettingsModal","hasGotoLocation","goto_location","isUrlSafe","trigger_id","IntegrationTypes","RECEIVED_DIALOG_TRIGGER_ID","startsWith","getSiteURL","substr","window","open","uploadFile","rootId","FileTypes","UPLOAD_FILES_REQUEST","request","post","getFilesRoute","set","getOptions","method","headers","attach","field","accept","handleFileUploadEnd","res","e","body","status","Utils","forceLogoutIfNecessary","failure","UPLOAD_FILES_FAILURE","clientIds","getLogErrorAction","file_infos","fileInfo","index","client_ids","RECEIVED_UPLOAD_FILES","UPLOAD_FILES_SUCCESS","emitChannelClickEvent","userVisitedFakeChannel","chan","fail","otherUserId","receivedChannel","createDirectChannel","switchToChannel","team_id","isRHSOpened","getIsRhsOpen","isPinnedPostsShowing","getRhsState","RHSStates","PIN","member","getMyChannelMember","getChannelStats","delete_at","penultimate","LocalStorageStore","getPreviousChannelName","setPenultimateChannelName","setPreviousChannelName","updateRhsState","ChannelTypes","SELECT_CHANNEL","SELECT_CHANNEL_WITH_MEMBER","fake","currentTeam","emitCloseRightHandSide","closeRightHandSide","toggleShortcutsModal","AppDispatcher","handleViewAction","TOGGLE_SHORTCUTS_MODAL","showChannelPurposeUpdateModal","TOGGLE_CHANNEL_PURPOSE_UPDATE_MODAL","showChannelNameUpdateModal","TOGGLE_CHANNEL_NAME_UPDATE_MODAL","showGetPostLinkModal","TOGGLE_GET_POST_LINK_MODAL","showGetPublicLinkModal","fileId","TOGGLE_GET_PUBLIC_LINK_MODAL","showGetTeamInviteLinkModal","TOGGLE_GET_TEAM_INVITE_LINK_MODAL","showLeavePrivateChannelModal","TOGGLE_LEAVE_PRIVATE_CHANNEL_MODAL","showMobileSubMenuModal","elements","submenuModalData","MOBILE_SUBMENU","SubMenuModal","dialogProps","sendEphemeralPost","parentId","timestamp","getCurrentChannelId","PostTypes","EPHEMERAL","create_at","update_at","props","handleNewPost","sendAddToChannelEphemeralPost","addedUsername","addedUserId","postRootId","EPHEMERAL_ADD_TO_CHANNEL","username","lastTimeTypingSent","emitLocalUserTypingEvent","parentPostId","userTyping","actionDispatch","actionGetState","getConfig","t","stats","getCurrentChannelStats","membersInChannel","member_count","TimeBetweenUserTypingUpdatesMilliseconds","MaxNotificationsPerChannel","EnableUserTypingMessages","WebSocketClient","redirectTo","shouldSignalLogout","userAction","setWasLoggedIn","logout","then","BrowserStore","signalLogout","clear","stopPeriodicStatusUpdates","WebsocketActions","clearUserCookie","catch","toggleSideBarRightMenuAction","doDispatch","closeLhs","closeRhsMenu","emitBrowserFocus","focus","BROWSER_CHANGE_FOCUS","getTeamRedirectChannelIfIsAccesible","team","myMember","getMyTeamMember","Object","keys","teamChannels","getChannelsNameMapInTeam","fetchMyChannelsAndMembers","channelMember","getChannelByNameAndTeamName","redirectUserToDefaultTeam","getCurrentUser","shouldLoadUser","getTeamMemberships","loadMe","locale","getCurrentLocale","getPreviousTeamId","myTeams","getMyTeams","getTeam","selectChannel","filterAndSortTeamsByDisplayName","myTeam","runMessageWillBePostedHooks","originalPost","hooks","plugins","components","MessageWillBePosted","hook","runSlashCommandWillBePostedHooks","originalMessage","originalArgs","SlashCommandWillBePosted","sendMembersInvites","users","emails","u","sent","notSent","usersToAdd","getTeamMember","isGuest","reason","response","addUsersToTeam","sendGuestInviteForUser","members","memberOfAll","memberOfAny","joinChannel","values","count","sendGuestsInvites","getChannelMembersInChannels","results","fetchPlugins","getFilter","getMarketplacePlugins","RECEIVED_MARKETPLACE_PLUGINS","installPlugin","version","INSTALLING_MARKETPLACE_PLUGIN","marketplacePlugin","getPlugin","INSTALLING_MARKETPLACE_PLUGIN_FAILED","installMarketplacePlugin","INSTALLING_MARKETPLACE_PLUGIN_SUCCEEDED","filterPlugins","FILTER_MARKETPLACE_PLUGINS","removeUserFromTeamAndGetStats","getUser","addUserToTeamFromInvite","inviteId","TeamTypes","RECEIVED_MY_TEAM_MEMBER","msg_count","mention_count","addUserToTeam","switchTeam","url","viewChannel","checkAndSetMobileView","UPDATE_MOBILE_VIEW","isMobile","goToLastViewedChannel","currentChannel","channelsInTeam","getChannelsNameMapInCurrentTeam","channelToSwitchTo","getLastViewedChannelName","switchToChannelById","display_name","getUserByUsername","direct","gmChannel","joinChannelById","leaveChannel","myPreferences","getMyPreferences","getCurrentTeam","removePreviousChannelName","leaveChannelRedux","prevChannelName","prevChannel","getMyChannels","OPEN_CHANNEL","selectTeam","LEAVE_TEAM","autocompleteUsersInChannel","prefix","autocompleteUsers","loadUnreads","time","atLatestMessage","atOldestmessage","INCREASE_POST_VISIBILITY","amount","order","next_post_id","RECEIVED_POSTS_FOR_CHANNEL_AT_TIME","prev_post_id","loadPostsAround","focusedPostId","Posts","POST_CHUNK_SIZE","loadLatestPosts","loadPosts","postId","POST_INCREASE_AMOUNT","LOADING_POSTS","page","PostRequestTypes","BEFORE_ID","moreToLoad","syncPostsInChannel","since","fetchThreads","socketStatus","getSocketStatus","sinceTimeToGetPosts","lastPostsApiCallForChannel","getLastPostsApiTimeForChannel","lastDisconnectAt","scrollPostListToBottom","EventEmitter","emit","EventTypes","POST_LIST_SCROLL_TO_BOTTOM","markChannelAsReadOnFocus","isManuallyUnread","markChannelAsRead","toggle","TOGGLE_LHS","OPEN_LHS","close","CLOSE_LHS","modalData","action","MODAL_OPEN","modalId","closeModal","MODAL_CLOSE","dismissNotice","DISMISS_NOTICE","editPost","logError","AnnouncementBarTypes","ANNOUNCEMENT","selectAttachmentMenuAction","actionId","cookie","dataSource","text","SELECT_ATTACHMENT_MENU_ACTION","getMembershipForCurrentEntities","selectedPost","getSelectedPost","exists","getChannelMember","loadMeAndConfig","promises","getClientConfig","getLicenseConfig","resolvedPromises","document","pluginTranslationSources","registerPluginTranslationsSource","sourceFunction","immutableTranslations","getTranslations","translations","assign","copyAndDispatchTranslations","unregisterPluginTranslationsSource","Reflect","deleteProperty","loadTranslations","forEach","pluginFunc","en","serverTranslations","from","RECEIVED_TRANSLATIONS","setModalSearchTerm","SearchTypes","SET_MODAL_SEARCH","setSystemUsersSearch","SET_SYSTEM_USERS_SEARCH","updateActiveSection","newActiveSection","UPDATE_ACTIVE_SECTION","incrementWsErrorCount","INCREMENT_WS_ERROR_COUNT","resetWsErrorCount","RESET_WS_ERROR_COUNT","MAX_WEBSOCKET_FAILS","pluginEventHandlers","initialize","WebSocket","console","log","connUrl","WebsocketURL","URL","protocol","test","host","WebsocketSecurePort","WebsocketPort","getUrlVersion","setEventCallback","handleEvent","setFirstConnectCallback","handleFirstConnect","setReconnectCallback","reconnect","setMissedEventCallback","setCloseCallback","handleClose","reconnectWebSocket","pluginReconnectHandlers","registerPluginReconnectHandler","handler","unregisterPluginReconnectHandler","includeWebSocket","GeneralTypes","WEBSOCKET_SUCCESS","loadPluginsIfNecessary","entities","teams","currentChannelId","mostRecentId","getMostRecentPostIdInChannel","mostRecentPost","getPost","getPosts","StatusActions","websocket","checkForModifiedUsers","clearErrors","intervalId","SYNC_INTERVAL_MILLISECONDS","startPeriodicSync","clearInterval","setInterval","stopPeriodicSync","registerPluginWebSocketEvent","event","unregisterPluginWebSocketEvent","events","unregisterAllPluginWebSocketEvents","failCount","AnnouncementBarMessages","WEBSOCKET_PORT_ERROR","WEBSOCKET_FAILURE","SocketEvents","POSTED","EPHEMERAL_MESSAGE","handleNewPostEventDebounced","POST_EDITED","handlePostEditEvent","POST_DELETED","handlePostDeleteEvent","POST_UNREAD","handlePostUnreadEvent","handleLeaveTeamEvent","UPDATE_TEAM","handleUpdateTeamEvent","DELETE_TEAM","handleDeleteTeamEvent","ADDED_TO_TEAM","handleTeamAddedEvent","USER_ADDED","handleUserAddedEvent","USER_REMOVED","handleUserRemovedEvent","USER_UPDATED","handleUserUpdatedEvent","ROLE_ADDED","handleRoleAddedEvent","ROLE_REMOVED","handleRoleRemovedEvent","MEMBERROLE_UPDATED","handleUpdateMemberRoleEvent","ROLE_UPDATED","handleRoleUpdatedEvent","CHANNEL_CREATED","handleChannelCreatedEvent","CHANNEL_DELETED","handleChannelDeletedEvent","CHANNEL_CONVERTED","handleChannelConvertedEvent","CHANNEL_UPDATED","handleChannelUpdatedEvent","CHANNEL_MEMBER_UPDATED","handleChannelMemberUpdatedEvent","DIRECT_ADDED","handleDirectAddedEvent","PREFERENCE_CHANGED","handlePreferenceChangedEvent","PREFERENCES_CHANGED","handlePreferencesChangedEvent","PREFERENCES_DELETED","handlePreferencesDeletedEvent","TYPING","handleUserTypingEvent","STATUS_CHANGED","handleStatusChangedEvent","HELLO","handleHelloEvent","REACTION_ADDED","handleReactionAddedEvent","REACTION_REMOVED","handleReactionRemovedEvent","EMOJI_ADDED","handleAddEmoji","CHANNEL_VIEWED","handleChannelViewedEvent","PLUGIN_ENABLED","handlePluginEnabled","PLUGIN_DISABLED","handlePluginDisabled","USER_ROLE_UPDATED","handleUserRoleUpdated","CONFIG_CHANGED","handleConfigChanged","LICENSE_CHANGED","handleLicenseChanged","PLUGIN_STATUSES_CHANGED","handlePluginStatusesChangedEvent","OPEN_DIALOG","handleOpenDialogEvent","pluginEvents","hasOwnProperty","RECEIVED_CHANNEL","General","doGetState","JSON","parse","replace","RECEIVED_MY_CHANNEL_MEMBER","debouncePostEvent","wait","timeout","queue","triggered","handleNewPostEvents","fx","clearTimeout","setTimeout","handleNewPostEvent","myDispatch","myGetState","getProfilesAndStatusesForPosts","fromAutoResponder","UserTypes","RECEIVED_STATUSES","UserStatuses","ONLINE","posts","receivedNewPost","getThreadsForPosts","receivedPost","broadcast","isActive","postDeleted","POST_UNREAD_SUCCESS","lastViewedAt","last_viewed_at","msgCount","mentionCount","RECEIVED_PROFILE_NOT_IN_TEAM","REMOVE_MEMBER_FROM_TEAM","channelsPerTeam","getChannelsInTeam","REMOVE_MEMBER_FROM_CHANNEL","global","location","pathname","UPDATED_TEAM","deletedTeam","teamMembers","teamMember","find","m","newTeamId","i","memberTeamId","RECEIVED_TEAM_DELETED","SELECT_TEAM","globalState","memberData","newRoles","roles","split","loadRolesIfNeeded","getChannelAndMyMember","RECEIVED_PROFILE_IN_CHANNEL","rhsChannelId","getSelectedChannelId","remover_id","loadUser","REMOVED_FROM_CHANNEL","RemovedFromChannelModal","removerId","LEAVE_CHANNEL","RECEIVED_PROFILE_NOT_IN_CHANNEL","haveISystemPermission","permission","Permissions","VIEW_MEMBERS","haveITeamPermission","currentUser","getMembersInCurrentChannel","getMe","RECEIVED_PROFILE","role","RoleTypes","RECEIVED_ROLE","ROLE_DELETED","viewArchivedChannels","ExperimentalViewArchivedChannels","RECEIVED_CHANNEL_DELETED","deleteAt","preference","addedNewDmUser","preferences","findIndex","DELETED_PREFERENCES","WebsocketEvents","STOP_TYPING","parseInt","getMissingProfilesByIds","getStatusForUserId","getStatusesByIds","setServerVersion","server_version","reaction","getCustomEmojiForReaction","emoji_name","RECEIVED_REACTION","emoji","EmojiTypes","RECEIVED_CUSTOM_EMOJI","REACTION_DELETED","manifest","loadPlugin","removePlugin","profiles","demoted","includes","PERMISSIONS_SYSTEM_ADMIN","CLIENT_CONFIG_RECEIVED","CLIENT_LICENSE_RECEIVED","license","AdminTypes","RECEIVED_PLUGIN_STATUSES","plugin_statuses","dialog","RECEIVED_DIALOG","currentTriggerId","integrations","dialogTriggerId","INTERACTIVE_DIALOG","InteractiveDialog","WebClient","MIN_WEBSOCKET_RETRY_TIME","MAX_WEBSOCKET_RETRY_TIME","constructor","conn","connectionUrl","sequence","eventSequence","connectFailCount","eventCallback","responseCallbacks","firstConnectCallback","reconnectCallback","missedEventCallback","errorCallback","closeCallback","onopen","sendMessage","onclose","retryTime","onerror","evt","onmessage","seq_reply","seq","setErrorCallback","readyState","OPEN","responseCallback","send","stringify","CLOSED","userUpdateActiveStatus","userIsActive","manual","user_is_active","getStatuses","user_ids","AboutBuildModal","React","PureComponent","setState","show","onHide","render","title","subTitle","learnMore","licensee","BuildEnterpriseReady","IsLicensed","Company","termsOfService","AboutLinks","TERMS_OF_SERVICE","privacyPolicy","PRIVACY_POLICY","tosPrivacyHyphen","TermsOfServiceLink","PrivacyPolicyLink","buildnumber","BuildNumber","isNaN","mmversion","doHide","handleExit","appTitle","SiteName","Version","SQLDriverName","currentYear","getFullYear","BuildHash","BuildHashEnterprise","webappBuildHash","COMMIT_HASH","BuildDate","PropTypes","func","isRequired","object","string","mapStateToProps","ABOUT","getLicense","isModalOpen","connect","GROUPS_PER_PAGE","MAX_SELECTABLE_VALUES","AddGroupsToChannelModal","Component","addError","saving","preventDefault","groupIDs","v","skipCommit","onAddCallback","handleHide","groupID","linkGroupSyncable","Groups","SYNCABLE_TYPE_CHANNEL","auto_add","handleResponse","loadingState","loadingGroups","prevPage","setGroupsLoadingState","getGroupsNotAssociatedToChannel","searchTerm","searchTimeoutId","search","componentDidMount","getAllGroupsAssociatedToChannel","UNSAFE_componentWillReceiveProps","nextProps","SEARCH_TIMEOUT_MILLISECONDS","renderOption","option","isSelected","onAdd","rowSelected","groupsAvatar","num","renderValue","numRemainingText","buttonSubmitText","buttonSubmitLoadingText","groupsToShow","groups","excludeGroups","hasGroup","og","g","includeGroups","currentChannelName","handlePageChange","handleDelete","addValue","handleSubmit","array","arrayOf","bool","shape","ownProps","views","modalSearch","selectGroupsNotAssociatedToChannel","regex","RegExp","group","mapDispatchToProps","bindActionCreators","AddGroupsToTeamModal","SYNCABLE_TYPE_TEAM","getGroupsNotAssociatedToTeam","getAllGroupsAssociatedToTeam","teamName","currentTeamName","selectGroupsNotAssociatedToTeam","AddUserToChannelModal","suggestionProviders","disableDispatches","channelSearchBox","textbox","getTextbox","activeElement","placeCaretAtEnd","target","selectedChannelId","input","focusTextbox","submitError","selection","checkingForMembership","isUserMemberOfChannel","addChannelMember","handleSubmitError","memberships","channelMembers","Boolean","SearchChannelWithPermissionsProvider","enableChannelProvider","targetUserIsMemberOfSelectedChannel","getFullName","errorMsg","help","content","setSearchBoxRef","onInputChange","handleKeyDown","didSelectChannel","SuggestionList","shouldDisableAddButton","AnnouncementBar","announcementBarCount","getAttribute","classList","add","setAttribute","componentWillUnmount","remove","barClass","barStyle","linkStyle","color","textColor","backgroundColor","DEVELOPER","CRITICAL","SUCCESS","closeButton","showCloseButton","announcementTooltip","OVERLAY_TIME_DELAY","node","AnnouncementBarController","adminConfiguredAnnouncementBar","EnableBanner","BannerText","BannerColor","BannerTextColor","AllowBannerDismissal","errorBar","latestError","dismissError","canViewSystemErrors","totalUsers","email_verified","number","RENEWAL_LINK","ConfigurationAnnouncementBar","LICENSE_EXPIRING","renewalLink","isLicensePastGracePeriod","LICENSE_EXPIRED","link","isLicenseExpired","isLicenseExpiring","dismissedExpiringLicense","dismissExpiringLicense","date","ExpiresAt","LICENSE_PAST_GRACE","formatMessage","context","intl","SendEmailNotifications","EnablePreviewModeBanner","emailMessage","PREVIEW_MODE","defaultMessage","SiteURL","EnableSignUpWithGitLab","siteURLMessage","intlShape","notice","hasBeenDismissed","ConfigurationBar","MANAGE_SYSTEM","errors","getDisplayableErrors","admin","analytics","TOTAL_USERS","dismissFirstError","bind","localStoragePrefix","TextDismissableBar","allowDismissal","localStorage","setItem","dismissed","onDismissal","getDerivedStateFromProps","getItem","extraProps","handleDismiss","__html","TextFormatting","singleline","mentionHighlight","serverVersion","general","VersionBar","reload","serverVersionOnAppLoad","equalServerVersions","reloadPage","spaceRequiredForPopOver","AtMention","targetBounds","overlayRef","current","getBoundingClientRect","placement","popOverOverlayPosition","innerHeight","createRef","getUserFromMentionName","usersByUsername","mentionName","children","suffix","className","hideOverlay","getProfilePictureUrl","last_picture_update","isRHS","hasMention","handleClick","displayUsername","teammateNameDisplay","getTeammateNameDisplaySetting","getUsersByUsername","AudioVideoPreview","video","ReactDOM","findDOMNode","refs","createElement","canPlayType","mime_type","canPlay","pause","currentTime","handleFileInfoChanged","source","$","one","handleLoadError","componentDidUpdate","prevProps","fileUrl","width","WEB_VIDEO_WIDTH","height","WEB_VIDEO_HEIGHT","MOBILE_VIDEO_WIDTH","MOBILE_VIDEO_HEIGHT","AutocompleteSelector","selected","onSelected","requestAnimationFrame","suggestionRef","blur","ref","focused","toggleFocus","providers","placeholder","footer","label","labelClassName","helpText","inputClassName","disabled","labelContent","helpTextContent","setSuggestionRef","onChange","handleSelected","onFocus","onBlur","AutosizeTextarea","reference","textarea","scrollHeight","style","getComputedStyle","borderWidth","borderTopWidth","borderBottomWidth","String","onHeightChange","maxHeight","selectionStart","selectionEnd","recalculateSize","defaultValue","onInput","otherProps","heightProps","rows","textareaPlaceholder","placeholderAriaLabel","handleChange","container","overflow","textOverflow","opacity","pointerEvents","position","whiteSpace","background","ChangeURLModal","currentURL","userEdit","formattedError","charAt","urlinput","cleanedURL","cleanUpUrlable","urlError","getURLError","onModalSubmit","onModalDismissed","urlClass","serverError","fullURL","currentTeamURL","shortURL","getShortenedURL","urlTooltip","onCancel","onModalExited","MAX_CHANNELNAME_LENGTH","onURLChanged","onSubmit","submitButtonText","ChannelGroupsManageModal","pageNumber","getGroupsAssociatedToChannel","DEFAULT_NUM_PER_PAGE","items","totalCount","totalGroupCount","item","listModal","unlinkGroupSyncable","loading","loadItems","MANAGE_CHANNEL_GROUPS","ADD_GROUPS_TO_TEAM","onClickRemoveGroup","renderRow","titleButtonOnClick","channelID","headerMarkdownOptions","atMentions","popoverMarkdownOptions","SEARCH_BAR_MINIMUM_WINDOW_SIZE","ChannelHeader","showSearchBar","getShowSearchBar","stopPropagation","isFavorite","favoriteChannel","mark_unread","NotificationLevels","ALL","updateChannelNotifyProps","MENTION","rhsState","showMentions","showPinnedPosts","FLAG","showFlaggedPosts","openRHSSearch","shiftKey","KeyCodes","M","searchMentions","headerOverlay","hide","K","altKey","toggleQuickSwitchModal","isQuickSwitcherOpen","QUICK_SWITCH","QuickSwitchModal","toggleFavoriteRef","removeAttribute","EDIT_CHANNEL_HEADER","EditChannelHeaderModal","getHeaderMarkdownOptions","memoizeResult","channelNamesMap","getPopoverMarkdownOptions","getCustomEmojisInText","header","addEventListener","handleShortcut","handleQuickSwitchKeyPress","handleResize","removeEventListener","prevHeader","rhsOpen","gmMembers","isMuted","channelMuted","isReadOnly","dmUser","hasGuests","ariaLabelChannelHeader","hasGuestsText","channelIsArchived","channel_mentions","channelTitle","archivedIcon","isDirect","isGroup","isPrivate","teammateId","displayname","membersMap","userDisplayName","displayNames","displayName","shift","popoverListMembers","dmHeaderIconStatus","dmHeaderTextStatus","is_bot","headerTextContainer","headerText","bot_description","popoverContent","handleOnMouseOver","handleOnMouseOut","handleFormattedTextClick","editMessage","showEditChannelHeaderModal","MANAGE_PRIVATE_CHANNEL_PROPERTIES","MANAGE_PUBLIC_CHANNEL_PROPERTIES","toggleFavoriteTooltip","toggleFavorite","ariaLabel","removeTooltipLink","channelMutedTooltip","muteTrigger","unmute","pinnedIconClass","searchButtonClick","getFlagged","oneOf","HeaderIconWrapper","iconComponent","buttonClass","buttonId","onClick","tooltipKey","tooltipText","toolTips","flaggedPosts","class","messageID","pinnedPosts","recentMentions","getTooltip","tooltip","ariaLabelText","propTypes","element","makeMapStateToProps","doGetProfilesInChannel","makeGetProfilesInChannel","dmUserId","guest_count","getMyCurrentChannelMembership","isCurrentChannelFavorite","isCurrentChannelReadOnly","isCurrentChannelMuted","withRouter","ChannelHeaderDropdown","isDefault","isReadonly","isArchived","penultimateViewedChannelName","isGroupConstrained","group_constrained","channelMembersPermission","MANAGE_PRIVATE_CHANNEL_MEMBERS","MANAGE_PUBLIC_CHANNEL_MEMBERS","channelPropertiesPermission","channelDeletePermission","DELETE_PRIVATE_CHANNEL","DELETE_PUBLIC_CHANNEL","divider","CHANNEL_INFO","ChannelInfoModal","CHANNEL_NOTIFICATIONS","ChannelNotificationsModal","CHANNEL_INVITE","ChannelInviteModal","CREATE_DM_CHANNEL","MoreDirectChannels","isExistingChannel","CHANNEL_MEMBERS","ChannelMembersModal","ADD_GROUPS_TO_CHANNEL","EDIT_CHANNEL_PURPOSE","EditChannelPurposeModal","RENAME_CHANNEL","RenameChannelModal","MANAGE_TEAM","CONVERT_CHANNEL","ConvertChannelModal","channelDisplayName","DELETE_CHANNEL","DeleteChannelModal","getTeammateId","createSelector","getTeammateStatus","getUserStatuses","userStatuses","isCurrentChannelDefault","isCurrentChannelArchived","getPenultimateViewedChannelName","mobileMapStateToProps","teammateIsBot","teammate","teammateStatus","Desktop","ChannelHeaderDropdownItems","Items","MobileChannelHeaderDropdown","Mobile","CloseChannel","LeaveChannel","isGuestUser","handleLeave","ToggleFavoriteChannel","toggleFavoriteChannel","MenuItemToggleMuteChannel","hasPinnedPosts","ViewPinnedPosts","getDisplayNameByUserId","MobileChannelHeaderDropdownAnimation","getChannelTitle","ANIMATION_DURATION","enter","exit","ChannelHeaderMobile","closeRhs","querySelector","hideSidebars","NavbarInfoButton","addOne","clickHere","popover","ChannelInfoButton","CollapseLhsButton","toggleLhs","CollapseRhsButton","toggleRhsMenu","membership","isChannelMuted","ShowSearchButton","UnmuteChannelButton","channelIcon","notFound","purpose","channelURL","channelPurpose","DEFAULT_CHANNEL","channelPurposeElement","channelHeader","USERS_PER_PAGE","inviteError","loadingUsers","setUsersLoadingState","getProfilesNotInChannel","handleInviteError","not_in_channel_id","searchProfiles","displayEntireNameForUser","getTeamStats","filterProfilesMatchingTerm","profilesNotInCurrentChannel","profilesNotInCurrentTeam","renderAriaLabel","getProfilesNotInCurrentChannel","getProfilesNotInCurrentTeam","CenterChannel","returnTo","lastChannelPath","match","classNames","lhsOpen","rhsMenuOpen","ChannelIdentifierRouter","getLastViewedChannelNameByTeamName","getTeamByName","getIsLhsOpen","getIsRhsMenuOpen","ChannelController","shouldComponentUpdate","teamType","pathName","fetchingChannels","platform","navigator","TeamSidebar","Sidebar","LENGTH_OF_ID","LENGTH_OF_GROUP_ID","LENGTH_OF_USER_ID_PAIR","onChannelByIdentifierEnter","history","path","identifier","teamObj","channelsByName","moreChannelsByName","getOtherChannels","goToChannelByChannelName","goToChannelByChannelId","goToGroupChannelByGroupId","goToDirectChannelByUserIds","goToDirectChannelByUsername","goToDirectChannelByEmail","goToDirectChannelByUserId","handleError","handleChannelJoinError","joinError","data2","getChannelError","doChannelChange","slice","selectUserByUsername","selectUser","selectUserByEmail","getUserByEmail","groupId","markGroupChannelOpen","defaultChannel","ROWS_FROM_BOTTOM_TO_OPEN_UP","ChannelMembersDropdown","removing","removeChannelMember","updateChannelMemberSchemeRoles","renderRole","isChannelAdmin","isLicensed","canChangeMemberRoles","canRemoveMember","scheme_admin","isMember","isDefaultChannel","currentRole","canMakeUserChannelMember","canMakeUserChannelAdmin","canRemoveUserFromChannel","handleMakeChannelMember","handleMakeChannelAdmin","handleRemoveFromChannel","haveIChannelPermission","MANAGE_CHANNEL_ROLES","canManageMembers","canManageChannelMembers","onAddNewMembersButton","updateSection","NotificationSections","NONE","section","activeSection","channelNotifyProps","notify_props","resetStateFromNotifyProps","desktopNotifyLevel","desktop","handleUpdateChannelNotifyProps","markUnreadNotifyLevel","pushNotifyLevel","ignoreChannelMentions","ignore_channel_mentions","getStateFromNotifyProps","prevChannelNotifyProps","channelMemberNotifyProps","currentUserNotifyProps","ignoreChannelMentionsDefault","IgnoreChannelMentions","OFF","ON","DEFAULT","sendPushNotifications","serverErrorTag","MARK_UNREAD","handleUpdateMarkUnreadLevel","handleSubmitMarkUnreadLevel","IGNORE_CHANNEL_MENTIONS","handleUpdateIgnoreChannelMentions","handleSubmitIgnoreChannelMentions","DESKTOP","handleUpdateDesktopNotifyLevel","handleSubmitDesktopNotifyLevel","PUSH","handleUpdatePushNotificationLevel","handleSubmitPushNotificationLevel","CollapseView","onExpandSection","globalNotifyLevel","memberNotifyLevel","Describe","isCollapsed","levelsFormattedMessageId","notifyLevel","ExpandView","onCollapseSection","inputs","ExtraInfo","NotificationSection","onUpdateSection","expand","globalNotificationLevel","memberNotificationLevel","handleOnChange","handleCollapseSection","handleExpandSection","SectionTitle","SendPushNotifications","ChannelView","updatedState","deferredPostView","createDeferredPostView","prevChannelId","channelView","mark","dur1","measure","dur2","clearMarks","duration","Math","round","showTutorial","createPost","deactivatedChannel","getChannelView","onClickCloseChannel","DeferredPostView","deferComponentRender","PostView","getDeactivatedChannel","getDirectTeammate","enableTutorial","EnableTutorial","tutorialStep","getInt","TUTORIAL_STEP","TutorialSteps","FINISHED","INTRO_SCREENS","CodePreview","usedLanguage","SyntaxHighlighting","extension","size","CODE_PREVIEW_MAX_FILE_SIZE","code","lang","ajax","async","dataType","handleReceivedError","handleReceivedCode","nodeName","XMLSerializer","serializeToString","updateStateFromProps","supports","lines","strlines","language","highlighted","CommentIcon","commentCountSpan","iconStyle","commentCount","searchStyle","extraClass","handleCommentClick","Locations","CENTER","SEARCH","ConfirmModal","cancelButton","getElementById","handleCancel","handleConfirm","checked","checkbox","onConfirm","handleKeypress","showCheckbox","checkboxText","cancelText","cancelButtonText","hideCancel","modalClass","onExited","confirmButtonClass","confirmButtonText","CHANNEL_ID_LENGTH","convertChannelToPrivate","handleConvert","currentTeamDetails","CopyUrlContextMenu","copyToClipboard","contextMenu","menuId","copy","contextMenuTrigger","trimRight","str","prototype","CreatePost","draft","submitting","showPreview","newState","screen","orientation","onOrientationChange","LANDSCAPE_ANGLE","abs","lastOrientation","getWrappedInstance","postError","showEmojiPicker","handleEmojiClose","uploadsInProgress","ignoreSlash","isErrorInvalidSlashCommand","submittedMessage","file_ids","fileInfos","errorClass","ANIMATION_TIMEOUT","addMessageIntoHistory","isReaction","exec","hookResult","emojiMap","has","sendReaction","setDraft","StoragePrefixes","DRAFT","draftsForChannel","fasterThanHumanWillClick","forceFocus","lastBlurAt","hideNotifyAllModal","doSubmit","showConfirmModal","tokens","command","updateChannel","userIsOutOfOffice","currentMembersCount","currentChannelMembersCount","notificationsToChannel","enableConfirmNotificationsToChannel","NOTIFY_ALL_MEMBERS","containsAtChannel","isTimezoneEnabled","getChannelTimezones","channelTimezoneCount","showNotifyAllModal","getStatusFromSlashCommand","isStatusSlashCommand","resetStatusModalData","RESET_STATUS","ResetStatusModal","newStatus","editChannelHeaderModalData","isDirectOrGroup","editChannelPurposeModalData","pending_post_id","metadata","onSubmitPost","keepFocus","ctrlSend","codeBlockOnCtrlEnter","allowSending","withClosedCodeBlock","ignoreKeyPress","postMessageOnKeyPress","lastChannelSwitchAt","caretPosition","persist","updatePreview","emitTypingEvent","clipboardData","table","getTable","formatMarkdownTableMessage","percent","uploadsProgressPercent","itemIndex","sortFileInfos","concat","modifiedDraft","info","fileUpload","cancelUpload","handleFileUploadChange","rhsExpanded","getElementsByClassName","shouldFocusMainTextbox","ctrlKey","metaKey","FORWARD_SLASH","focusTextboxIfNecessary","createPostControls","ctrlOrMetaKeyPressed","messageIsEmpty","draftMessageIsEmpty","ctrlEnterKeyCombo","ENTER","upKeyOnly","UP","shiftUpKeyCombo","ctrlKeyCombo","postMsgKeyPress","editLastPost","replyToLastPost","loadPrevMessage","DOWN","loadNextMessage","lastPost","currentUsersLatestPost","MESSAGE_TYPES","COMMENT","POST","setEditingPost","commentCountForPost","latestReplyablePostId","replyBox","selectPostFromRightHandSideSearchByPostId","moveHistoryIndexBack","fillMessageFromHistory","moveHistoryIndexForward","showPostDeletedModal","emojiAlias","aliases","firstPiece","lastPiece","splitMessageBasedOnCaretPosition","newMessage","newCaretPosition","getInputBox","gif","renderScrollbar","clearDraftUploads","pasteHandler","documentKeyHandler","setOrientationListeners","prevState","removeOrientationListeners","emojiName","addReaction","removeReaction","lastMessage","messageInHistoryItem","createTutorialTip","screens","shouldEnableSendButton","fullWidthTextBox","showTutorialTip","readOnlyChannel","ariaLabelMessageInput","notifyAllTitle","notifyAllConfirm","notifyAllMessage","totalMembers","timezones","postErrorClass","preview","removePreview","postFooterClassName","tutorialTip","centerClass","sendButtonClass","attachmentsDisabled","canUploadFiles","getFileCount","getFileUploadTarget","handleUploadStart","handleFileUploadComplete","handleUploadError","handleUploadProgress","emojiPicker","emojiButtonAriaLabel","enableEmojiPicker","getCreatePostControls","hideEmojiPicker","handleEmojiClick","handleGifClick","enableGifPicker","toggleEmojiPicker","createMessage","scrollbarClass","handleMouseUpKeyUp","handleHeightChange","handlePostError","handleBlur","maxPostSize","badConnection","hidePostDeletedModal","handleNotifyAllConfirmation","getCommentCountForPost","makeGetCommentCountForPost","getMessageInHistoryItem","makeGetMessageInHistoryItem","getPostDraft","recentPostIdInChannel","getLatestReplyablePostId","EnableEmojiPicker","EnableGifPicker","EnableConfirmNotificationsToChannel","OUT_OF_OFFICE","connectionErrorCount","ExperimentalTimezone","getBool","PreferencesRedux","CATEGORY_ADVANCED_SETTINGS","get","CATEGORY_DISPLAY_SETTINGS","CHANNEL_DISPLAY_MODE","CHANNEL_DISPLAY_MODE_DEFAULT","CHANNEL_DISPLAY_MODE_FULL_SCREEN","POST_POPOVER","getCurrentUsersLatestPost","isCurrentUserSystemAdmin","ExperimentalTownSquareIsReadOnly","MaxPostSize","DEFAULT_CHARACTER_LIMIT","getIsRhsExpanded","getEmojiMap","setGlobalItem","actionOnGlobalItemsWithPrefix","WrappedComponent","PreRenderComponent","DeferredRenderWrapper","shouldRender","hoistStatics","canViewArchivedChannels","deleteChannel","DeletePostModal","deleteAndRemovePost","deletePostBtn","commentWarning","postTerm","handleEntered","MENU_BOTTOM_MARGIN","PLUGGABLE_COMPONENT","DotMenu","canEdit","isFlagged","unflagPost","flagPost","handleAddReactionClick","is_pinned","unpinPost","pinPost","markPostAsUnread","deletePostModalData","DELETE_POST","RHS_ROOT","RHS_COMMENT","rect","y","top","windowHeight","openUp","editDisableAction","DelayedAction","handleEditDisable","buttonRef","disableCanEditPostByTime","postEditTimeLimit","PostUtils","UNSET_POST_EDIT_TIME_LIMIT","milliseconds","timeLeft","fireAfter","canDelete","cancel","isSystemMessage","pluginItems","pluginMenuItems","subMenu","handleDropdownOpened","refCallback","ADD_REACTION","handleAddReactionMenuItemActivated","handleUnreadMenuItemActivated","handlePermalinkMenuItemActivated","handleFlagMenuItemActivated","handlePinMenuItemActivated","renderDivider","handleEditMenuItemActivated","handleDeleteMenuItemActivated","PostEditTimeLimit","PostDropdownMenu","holders","defineMessages","isKeyPressed","ESCAPE","hideModal","patchChannel","editChannelHeaderTextbox","handleKeyPress","blurTextbox","handleSave","headerTitle","handleModalKeyDown","handleEntering","setTextboxLinksRef","renderError","injectIntl","requestStarted","unsetError","setError","submitted","channelPurposeModal","getPurpose","EditPostModal","editModalBody","editbox","editText","editPostEmoji","isSaveDisabled","editingPost","updatedPost","message_source","hasAttachment","scrollTo","handleEdit","doRefocus","refocusId","hideEditPostModal","prevShowState","hasAttachments","canEditPost","canDeletePost","errorBoxClass","getContainer","getEditPostControls","handleExited","handleEditKeyPress","setEditboxRef","getEditingPost","EDIT_POST","DELETE_OTHERS_POSTS","EDIT_OTHERS_POSTS","EmojiPickerCategory","onCategoryClick","enable","icon","EmojiPickerHeader","handleEmojiPickerClose","SCROLLING_ADDITIONAL_VISUAL_SPACING","EMOJI_LAZY_LOAD_SCROLL_THROTTLE","EmojiPickerItem","emojiItem","onItemOver","categoryIndex","emojiIndex","debounce","handleMouseOver","leading","trailing","onItemClick","topOfTheEmojiItem","offsetTop","bottomOfTheEmojiItem","offsetHeight","containerRef","containerTop","containerBottom","scrollTop","itemClassName","spriteClassName","batch","filename","image","handleMouseOverThrottle","imgTrans","getEmojiImageUrl","emojiItemRef","any","EmojiPickerPreview","previewImage","CATEGORY_SEARCH_RESULTS","EMOJI_HEIGHT","EMOJI_CONTAINER_HEIGHT","EMOJI_CONTAINER_STYLE","EMOJI_LAZY_LOAD_BUFFER","EMOJI_PER_ROW","EMOJI_TO_LOAD_PER_UPDATE","SYSTEM_EMOJIS_COUNT","recentEmojiCategory","recent","offset","peopleEmojiCategory","people","CATEGORIES","nature","foods","activity","places","objects","symbols","flags","custom","getEmojiFilename","filterEmojiSearchInput","EMOJIS_PER_PAGE","LOAD_MORE_AT_PIXELS_FROM_BOTTOM","EmojiPicker","getEmojis","categories","allEmojis","customEmojiMap","customEmojis","categoryEmojis","recentEmojis","reverse","indices","Emoji","emojiIds","currentEmoji","fileName","visible","categoryKeys","renderAllCategories","customEmojisEnabled","loadingMoreEmojis","getCustomEmojis","customEmojiPage","missingPages","incrementEmojiPickerPage","lastVisibleEmoji","emojiPickerContainer","searchInput","categoryName","cursor","updateEmojisToShow","searchCustomEmojis","onEmojiClick","selectNextEmoji","selectPrevEmoji","getCurrentEmojiByCursor","emojis","currentEmojiLoadedCount","emojisToShow","numEmojisLoaded","lastVisibleEmojiRef","handleItemOver","handleItemClick","divTopOffset","divHeight","handleScrollThrottle","throttle","handleScroll","loadMoreCustomEmojis","renderAllCategoriesFrame","rootComponent","difference","numToLoad","ceil","cancelAnimationFrame","pixelsFromBottom","clientHeight","newCursor","newCategory","getCategoryByIndex","lastVisibleEmojiInNewCategory","getCategoriesByKey","getEmojisByCategory","sortEmojis","recentEmojisProps","emojisMinusRecent","emojiArray","sortEmojisHelper","a","b","compareEmojis","sort","emojiId","getCurrentEmojiName","getCurrentEmojiCategoryName","currentCategoryName","emojiCategories","emojiPickerCategories","handleCategoryClick","handleCategoryKeyDown","emojiSearch","emojiSearchInput","handleFilterChange","emojiCurrentResults","categoryComponents","emojiCurrentResultsItems","updateCategoryOffset","emojiPickerContainerRef","overflowY","listHeight","onEmojiClose","EmojiPickerCategorySection","div","updateOffsetFrame","divRef","EmojiPickerOverlay","emojiPickerPosition","emojiTrigger","rightOffset","DEFAULT_EMOJI_PICKER_RIGHT_OFFSET","innerWidth","left","DEFAULT_EMOJI_PICKER_LEFT_OFFSET","getPlacement","spaceRequiredAbove","spaceRequiredBelow","onGifClick","topOffset","CENTER_SPACE_REQUIRED_ABOVE","CENTER_SPACE_REQUIRED_BELOW","EmojiPickerTabs","emojiTabVisible","pickerStyle","bottom","right","pickerClass","handleEnterEmojiTab","handleExitEmojiTab","EnableCustomEmoji","emojiPickerCustomPage","getRecentEmojis","ExternalImage","imageMetadata","src","format","enableSVGs","isSVGImage","getImageSrc","hasImageProxy","shouldRenderImage","EnableSVGs","HasImageProxy","FileAttachment","fileType","getFileType","IMAGE","thumbnailUrl","getFileThumbnailUrl","loadImage","handleImageLoaded","SVG","getFileUrl","mounted","loaded","handleImageClick","loadFiles","compactDisplay","trimmedFilename","trimFilename","fileThumbnail","fileDetail","ariaLabelImage","onAttachmentClick","toUpperCase","fileSizeToString","filenameOverlay","canDownloadFiles","FileThumbnail","thumbnail","THUMBNAIL_WIDTH","THUMBNAIL_HEIGHT","isGIFImage","has_preview_image","backgroundImage","backgroundSize","getIconClassName","FilenameOverlay","canDownload","iconClass","getFileDownloadUrl","FileAttachmentList","indexClicked","showPreviewModal","startImgIndex","fileCount","isEmbedVisible","minHeightPlaceholder","sortedFileInfos","postFiles","hidePreviewModal","minHeight","selectFilesForPost","makeGetFilesForPost","files","filenames","FileInfoPreview","infoParts","infoString","join","FilePreview","onRemove","previews","idx","imageClassName","handleRemove","FileProgressPreview","fileNameComponent","progressBar","percentTxt","toFixed","getFileTypeFromMime","limited","filesAbove","fileAbove","zeroBytesFiles","zeroBytesFile","pasted","OVERLAY_TIMEOUT","customStyles","FileUpload","currentRootId","onFileUpload","j","onUploadError","uploadFiles","sortedFiles","Array","localeCompare","numeric","willUploadHooks","pluginFilesWillUploadHooks","h","pluginUploadFiles","uploadsRemaining","MAX_UPLOAD_FILES","numUploads","tooLargeFiles","zeroFiles","maxFileSize","generateId","on","progressEvent","onUploadProgress","end","fileUploadFail","fileUploadSuccess","onUploadStart","tooLargeFilenames","max","zeroFilenames","checkPluginHooksAndUploadFiles","clearFileInput","onFileUploadChange","dataTransfer","droppedFiles","webkitGetAsEntry","isDirectory","types","isUriDrop","contains","containerSelector","overlaySelector","self","overlay","dragTimeout","dragsterActions","detail","isFileTransfer","leave","over","drop","handleDrop","unbindDragsterEvents","dragster","targetElement","eventTarget","getTarget","containsEventTarget","kind","getAsFile","d","hour","getHours","minute","getMinutes","ext","lastIndexOf","getMonth","getDate","newFile","Blob","cmdOrCtrlPressed","U","postTextbox","postType","commentTextbox","fileInput","click","abort","menuOpen","handleMaxUploadReached","registerDragEvents","pasteUpload","keyUpload","multiple","isMobileApp","isIosChrome","bodyAction","pluginFileUploadMethods","simulateInputClick","handleLocalFileUploaded","MaxFileSize","FileUploadMethod","FilesWillUploadHook","withRef","FileUploadOverlay","overlayClass","overlayType","fileOverlayImage","overlayLogoImage","FormError","iconClassName","margin","textClassName","TARGET_BLANK_URL_PREFIX","CustomRenderer","marked","Renderer","href","paragraph","FormattedMarkdownMessage","origMsg","markedUpMessage","breaks","sanitize","renderer","GetLinkModal","copiedLink","textAreaRef","setSelectionRange","execCommand","copyLink","queryCommandSupported","linkText","copyLinkConfirm","GetPostLinkModal","ModalStore","addModalListener","handleToggle","removeModalListener","currentTeamUrl","postUrl","GetPublicLinkModal","getFilePublicLink","Selectors","saveAppProps","App","appProps","onCategories","onSearch","onTrending","appClassName","authenticateSdk","gifs","cache","theme","getTheme","app","searchText","searchBarText","saveSearchBarText","saveSearchScrollPosition","searchTextUpdate","requestCategoriesList","requestCategoriesListIfNeeded","getStyle","makeStyleFromTheme","changeOpacity","centerChannelColor","Categories","tagsList","gfycats","tag","gfyId","tagName","sendImpressions","hasMore","filterTagsList","gfyItem","max1mbGif","avgColor","loadMore","centerChannelBg","borderBottomColor","fill","iconActive","iconHover","Header","hovering","renderTabs","tabs","tab","constants","Tab","TRENDING","renderTab","GifTrendingIcon","REACTIONS","GifReactionsIcon","Icon","callbackWrapper","paddingTop","InfiniteScroll","el","scrollComponent","scrollEl","useWindow","pageYOffset","documentElement","parentNode","isReverse","calculateTopPosition","Number","threshold","detachScrollListener","pageLoaded","pageStart","attachScrollListener","setScrollPosition","initialLoad","loader","scrollPosition","containerHeight","elementProps","defaultLoader","offsetParent","scrollListener","setDefaultLoader","searchGfycat","searchIfNeededInitial","Search","inputBackground","borderColor","SearchBar","triggerSearch","parseSearchText","searchTimeout","isFilteredTags","inputFocused","removeExtraSpaces","filteredTags","updateSearchInputValue","nextState","clearSearchButton","clearSearchHandle","focusInput","blurInput","ITEMS_PADDING","NUMBER_OF_COLUMNS_PORTRAIT","NUMBER_OF_COLUMNS_LANDSCAPE","WEBKIT_SCROLLBAR_WIDTH","SearchGrid","matchMedia","matches","numberOfColumns","keyword","gfyid","columnsHeights","min","containerWidth","offsetWidth","setNumberOfColumns","scrollY","padding","resizeHandler","scrollHandler","containerClassName","resultsByTerm","moreRemaining","isEmpty","columnWidth","leftPosition","itemWidth","searchItems","colIndex","minHeightColumnIndex","itemHeight","itemClickHandler","maxColumnHeight","emptySearch","SearchItem","paddingBottom","searchCategory","Trending","appName","mattermost","basePath","itemTapType","ItemTapAction","SHARE","shareEvent","appId","enableHistory","displayText","GifPicker","max5mbGif","PureRenderMixin","handleTrending","handleSearch","handleCategories","OPEN_EMBED_PAGE","HeaderFooterTemplate","lazy","LoggedIn","HFTRoute","rest","LoggedInHFTRoute","TEXT_DEFAULT_MAX_LENGTH","TEXTAREA_DEFAULT_MAX_LENGTH","DialogElement","GenericUserProvider","GenericChannelProvider","MenuActionProvider","subtype","errorText","optional","maxLength","displayNameContent","TextSetting","validTypes","DialogIntroductionText","formattedMessage","Markdown","gfm","callbackId","callback_id","introductionText","introduction_text","iconUrl","icon_url","submitLabel","submit_label","notifyOnCancel","notify_on_cancel","submitInteractiveDialog","elem","checkDialogElementForError","submission","hasErrors","checkIfErrorsMatchElements","cancelled","default","submitText","borderBottom","help_text","min_length","max_length","data_source","IntlProvider","setAcceptLanguage","loadTranslationsIfNecessary","localeInfo","I18n","setLocalizeFunction","handleLocaleChange","getProfiles","reduxSearchProfiles","searchChannels","reduxSearchChannels","getChannelsInCurrentTeam","invitableChannels","guestAccountsEnabled","EnableGuestAccounts","canInviteGuests","INVITE_GUEST","canAddUsers","ADD_USER_TO_TEAM","INVITATION","InvitationModal","STEPS_INITIAL","STEPS_INVITE_MEMBERS","STEPS_INVITE_GUESTS","STEPS_INVITE_CONFIRM","hasChanges","confirmBack","step","lastInviteChannels","lastInviteMesssage","prevStep","invitesSent","invitesNotSent","invitesType","InviteTypes","INVITE_MEMBER","goToPrevStep","goToInitialStep","confirmModal","extraText","invites","extraUserText","extraChannelText","lastInviteMessage","invite_id","getBackFunction","confirmClose","cancelClose","cancelBack","goToMembers","goToGuests","onMembersSubmit","onEdit","onGuestsSubmit","InvitationModalConfirmStep","invitesSentCount","invitesNotSentCount","sentCount","notSentCount","onDone","getInvitesCountsMessage","InvitationModalConfirmStepRow","invitation","guestBadge","profileImg","imageURLForUser","getLongDisplayName","InvitationModalConfirmStepTable","InvitationModalGuestsStep","usersAndEmails","customMessage","usersInputValue","channelsInputValue","termWithoutResults","debouncedSearchProfiles","myInvitableChannels","debouncedSearchChannels","customMessageOpen","textareaRef","userOrEmail","isEmail","defaultChannels","usersLoader","onUsersEmailsChange","onUsersInputChange","channelsLoader","onChannelsChange","onChannelsInputChange","openCustomMessage","closeCustomMessage","onMessageChange","sendInvites","InvitationModalInitialStep","InvitationModalMembersStep","inviteLinkRef","textField","innerText","appendChild","select","inviteUrl","submit","enableLatex","EnableLatex","LatexBlock","katex","html","renderToString","throwOnError","displayMode","defaultProps","LeavePrivateChannelModal","button","leaveTeam","toggleSideBarRightMenu","LeaveTeamModal","tooltipContainerStyles","display","flexDirection","alignItems","zIndex","LinkTooltip","hideTimeout","$target","$tooltipContainer","tooltipContainerRef","tooltipContainer","showTimeout","relatedTarget","hideTooltip","popper","Popper","modifiers","preventOverflow","enabled","OVERLAY_TIME_DELAY_SMALL","createPortal","showTooltip","ListModal","nextPage","onPageChange","numPerPage","renderRows","paginationRange","startCount","endCount","titleText","titleBarButtonText","titleBarButtonOnClick","searchPlaceholderText","onSearchInput","total","onPrev","onNext","LoadingImagePreview","progress","containerClass","progressView","LoadingScreen","userTimezone","getUserTimezone","enableTimezone","areTimezonesEnabledAndSupported","useMilitaryTime","USE_MILITARY_TIME","timeZone","getUserCurrentTimezone","LocalDateTime","eventTime","titleMoment","moment","titleString","tz","timezoneProps","toISOString","LocalizedInput","forwardRef","localizedPlaceholder","appDownloadLink","AppDownloadLink","enableCommands","EnableCommands","enableCustomEmoji","siteName","enableIncomingWebhooks","EnableIncomingWebhooks","enableOAuthServiceProvider","EnableOAuthServiceProvider","enableOutgoingWebhooks","EnableOutgoingWebhooks","enableUserCreation","EnableUserCreation","enableEmailInvitations","EnableEmailInvitations","enablePluginMarketplace","PluginsEnabled","EnableMarketplace","experimentalPrimaryTeam","ExperimentalPrimaryTeam","helpLink","HelpLink","reportAProblemLink","ReportAProblemLink","canCreateOrDeleteCustomEmoji","CREATE_EMOJIS","DELETE_EMOJIS","joinableTeams","getJoinableTeamIds","moreTeamsToJoin","MainMenu","isMentionSearch","teamIsGroupConstrained","A","mobile","mobileIcon","TEAM_SETTINGS","TeamSettingsModal","MANAGE_TEAM_GROUPS","teamID","TeamGroupsManageModal","REMOVE_USER_FROM_TEAM","MANAGE_TEAM_ROLES","TEAM_MEMBERS","TeamMembersModal","CREATE_TEAM","MANAGE_SLASH_COMMANDS","MANAGE_OAUTH","MANAGE_INCOMING_WEBHOOKS","MANAGE_OUTGOING_WEBHOOKS","PLUGIN_MARKETPLACE","MarketplaceModal","useSafeUrl","handleEmitUserLoggedOutEvent","isRequred","makeGetChannelNamesMap","channelMentions","getChannelNamesMap","autolinkedUrlSchemes","getAutolinkedUrlSchemes","enableFormatting","mentionKeys","getCurrentUserMentionKeys","minimumHashtagLength","MinimumHashtagLength","proxyImages","htmlFormattedText","messageHtmlToComponent","imageProps","imagesMetadata","hasPluginTooltips","MarkdownImage","imageIsLink","showModal","loadFailed","HEADER_CHANGE","prevSrc","onImageLoaded","onUpdated","alt","isHeaderChangeMessage","brokenImageIcon","safeSrc","getFileExtensionFromUrl","loadingClass","handleLoadFail","getUsersAndActionsToDisplay","getMembersInCurrentTeam","actionUserProps","usersToDisplay","sortByUsername","searchProfilesInCurrentChannel","getProfilesInCurrentChannel","totalChannelMembers","loadProfilesAndTeamMembersAndChannelMembers","loadStatusesForProfilesList","loadTeamMembersAndChannelMembersForProfilesList","MemberListChannel","PROFILE_CHUNK_SIZE","loadComplete","in_channel_id","membersLoaded","canManageTeamMembers","searchProfilesInCurrentTeam","getProfilesInCurrentTeam","getCurrentTeamStats","active_member_count","totalTeamMembers","loadProfilesAndTeamMembers","loadTeamMembersForProfilesList","MemberListTeam","teamMembersDropdown","TeamMembersDropdown","MessageSubmitError","errorContent","renderSlashCommandError","modals","ModalController","modalState","modalOutput","modal","modalComponent","getNotArchivedOtherChannels","getArchivedOtherChannels","archivedChannels","channelsRequestStarted","getChannels","RequestStatus","STARTED","canShowArchivedChannels","getArchivedChannels","MoreChannels","CHANNELS_CHUNK_SIZE","CHANNELS_PER_PAGE","bodyOnly","force","searchedChannels","done","getRelativeChannelURL","searching","shouldShowArchivedChannels","setSearchResults","morePublicChannelsModalType","serverErrorState","activeChannels","createNewChannelButton","CREATE_PUBLIC_CHANNEL","handleNewChannel","createChannelHelpText","CREATE_PRIVATE_CHANNEL","handleJoin","toggleArchivedChannels","GroupMessageOption","profile","currentChannelMembers","restrictDirectMessage","RestrictDirectMessage","searchProfilesSelector","selectProfiles","filteredGroupChannels","filterGroupChannels","getChannelsWithUserProfiles","getTotalUsersStatsSelector","total_users_count","groupChannels","statuses","getProfilesInTeam","getTotalUsersStats","loadProfilesForGroupChannels","searchGroupChannels","MAX_USERS_IN_GM","missingStatusByIds","exitToChannel","isArray","addUsers","existingUserIds","pageNum","getUserProfiles","multiselect","resetPaging","modalName","loadProfilesMissingStatus","updateFromProps","profilesData","groupChannelsData","note","active","inactive","handleSubmitImmediatelyOn","getUsersTypingByChannelAndPost","makeGetUsersTypingByChannelAndPost","typingUsers","MsgTyping","numUsers","last","pop","getTypingText","MultiSelect","a11yActive","listRef","setSelected","maxValues","handleAdd","reactSelectRef","handleInputChange","currentTarget","submitImmediatelyOn","change","handleInput","_","removedValue","splice","inputRef","handleEnterPress","A11yCustomEventTypes","ACTIVATE","handleA11yActivateEvent","DEACTIVATE","handleA11yDeactivateEvent","optionsToDisplay","nextButton","previousButton","noteTextContainer","noteText","valueMap","perPage","pageEnd","memberCount","memberOptions","styles","Menu","nullComponent","IndicatorsContainer","MultiValueLabel","paddedComponent","valueRenderer","onInputKeyDown","placeholderText","ariaLabelRenderer","handleOnClick","optionRenderer","onSelect","scheme_id","defaultAriaLabelRenderer","paddingRight","paddingLeft","borderRight","verticalAlign","control","base","borderRadius","boxShadow","multiValue","border","multiValueRemove","MultiSelectList","handleArrowPress","selectedRef","elemTop","elemBottom","listTop","listBottom","scrollIntoView","renderOutput","defaultOptionRenderer","optionControls","o","selectedOption","onAction","mfaRequired","checkIfMFARequired","teamsList","getMyTeamUnreads","setPreviousTeamId","loadStatusesForChannelAndSidebar","loadProfilesForDirect","NeedsTeam","LazyBackstageController","BackstageController","makeAsyncComponent","wakeUpInterval","lastTime","WAKEUP_CHECK_INTERVAL","WAKEUP_THRESHOLD","UNREAD_CHECK_TIME_MILLISECONDS","blurTime","getTime","initTeam","finishedFetchingChannels","L","sidebar","replyTextbox","updateCurrentTeam","joinTeam","startPeriodicStatusUpdates","iNoBounce","handleFocus","onShortcutKeyDown","disable","renderProps","createChannel","NewChannelFlow","SHOW_NEW_CHANNEL","SHOW_EDIT_URL","SHOW_EDIT_URL_THEN_COMPLETE","getChannelTypeFromProps","channelType","canCreatePublicChannel","canCreatePrivateChannel","flowState","nameModified","onCreateChannelError","newURL","channelData","showChannelModal","showChangeURLModal","changeURLTitle","changeURLSubmitButtonText","typeSwitched","urlChangeRequested","channelDataChanged","urlChangeSubmitted","urlChangeDismissed","NewChannelModal","displayNameError","enterPressed","displayNameInput","MIN_CHANNELNAME_LENGTH","onSubmitChannel","newData","channelHeaderInput","channelPurposeInput","onDataChanged","onChangeURLPressed","onTypeSwitched","addClass","enableTypeSelection","displayNameClass","publicChannelDesc","privateChannelDesc","typeOptions","handlePublicTypeSelect","handlePrivateTypeSelect","prettyTeamURL","onEnterKeyDown","handleOnURLChange","messageCount","getUnreadsInCurrentTeam","NotifyCounts","redirect","sanitizedUrl","ErrorPageTypes","TEAM_NOT_FOUND","PermalinkRedirector","focusPost","getPostThread","PERMALINK_NOT_FOUND","RECEIVED_FOCUSED_POST","PermalinkView","postid","valid","permalink","doPermalinkEvent","isStateValid","ChannelPermissionGate","hasPermission","invert","permissions","SystemPermissionGate","TeamPermissionGate","getPlugins","installedPlugins","getInstalledPlugins","pluginStatuses","installing","getInstalling","getError","isDefaultMarketplace","IsDefaultMarketplace","closeMarketplaceModal","MarketplaceItem","UpdateVersion","releaseNotesUrl","UpdateDetails","installedVersion","isInstalling","onUpdate","isUpdate","semver","gt","UpdateConfirmationModal","messages","sameMajorVersion","major","eventName","allowDetail","plugin_id","installed_version","showUpdateConfirmationModal","hideUpdateConfirmationModal","getItemButton","actionButton","onInstall","downloadUrl","onConfigure","description","versionLabel","pluginIcon","iconData","localTag","localTooltip","pluginDetailsInner","error_text","pluginDetails","homepageUrl","item_error","MarketplaceTabs","ALL_PLUGINS","INSTALLED_PLUGINS","Plugins","p","download_url","homepage_url","release_notes_url","icon_data","AllPlugins","InstalledPlugins","changeTab","tabKey","debouncedSearch","doSearch","searchClearTooltip","handleClearSearch","errorBanner","getAllChannelStats","loadProfilesAndStatusesInChannel","PopoverListMembers","closePopover","showPopover","showChannelMembersModal","showChannelInviteModal","showTeamMembersModal","popoverTarget","undefined","membersList","sortedUsers","sortUsers","isDirectChannel","handleShowDirectChannel","popoverButton","membersName","manageMembers","showMembersModal","countText","channelMembersModal","hideChannelMembersModal","teamMembersModal","hideTeamMembersModal","channelInviteModal","hideChannelInviteModal","channelMembersTooltip","handleGetProfilesInChannel","getTargetPopover","PopoverListMembersItem","messageIcon","showMessageIcon","botClass","OFFLINE","PostDeletedModal","imageUrl","PostEmoji","emojiText","pluginHooks","MessageWillFormat","PostMarkdown","renderedSystemMessage","renderSystemMessage","images","renderUsername","markdown","renderFormattedText","renderJoinChannelMessage","renderGuestJoinChannelMessage","renderLeaveChannelMessage","renderAddToChannelMessage","renderAddGuestToChannelMessage","renderRemoveFromChannelMessage","removedUsername","renderJoinTeamMessage","renderLeaveTeamMessage","renderAddToTeamMessage","renderRemoveFromTeamMessage","renderHeaderChangeMessage","headerOptions","oldHeader","old_header","newHeader","new_header","old","new","renderDisplayNameChangeMessage","old_displayname","new_displayname","oldDisplayName","newDisplayName","renderConvertChannelToPrivateMessage","renderPurposeChangeMessage","oldPurpose","old_purpose","newPurpose","new_purpose","renderChannelDeletedMessage","renderMeMessage","systemMessageRenderers","POST_TYPES","JOIN_CHANNEL","GUEST_JOIN_CHANNEL","ADD_TO_CHANNEL","ADD_GUEST_TO_CHANNEL","REMOVE_FROM_CHANNEL","JOIN_TEAM","ADD_TO_TEAM","REMOVE_FROM_TEAM","DISPLAYNAME_CHANGE","PURPOSE_CHANGE","ME","add_channel_member","isUserCanManageMembers","isEphemeral","addMemberProps","post_id","not_in_channel_user_ids","not_in_groups_usernames","not_in_channel_usernames","COMBINED_USER_ACTIVITY","allUserIds","allUsernames","messageData","user_activity","enablePostIconOverride","EnablePostIconOverride","isBot","PostProfilePicture","fromWebhook","defaultURL","postProps","postIconOverrideURL","useUserIcon","override_icon_url","use_user_icon","DEFAULT_WEBHOOK_LOGO","isBusy","profileSrc","getProfilePictureURL","getPostIconURL","overrideIconEmoji","override_icon_emoji","isEmoji","getStatus","ChannelIntroMessage","fullWidth","channelProfiles","centeredIntro","createDMIntroMessage","createGMIntroMessage","createDefaultIntroMessage","OFFTOPIC_CHANNEL","createOffTopicIntroMessage","createStandardIntroMessage","channelIntroId","pictures","names","createSetHeaderButton","teammateName","nickname","setHeaderButton","channelInviteButton","createInviteChannelButton","teamInviteLink","INVITE_USER","uiName","creatorName","creator_id","memberMessage","getMonthLong","creator","purposeMessage","postTypeMessage","one_you","two","many_expanded","CombinedSystemMessage","getMissingProfilesByUsernames","currentUsername","userProfiles","usernames","reduce","acc","currentUserDisplayName","getAllUsernames","someone","unshift","loadUserProfiles","renderFormattedMessage","actorId","getUsernamesByIds","actor","firstUser","secondUser","numOthers","localeHolder","renderMessage","removedUserIds","showJoinLeave","affectsCurrentUser","uniqueRemovedUserIds","arr","getProfilesByIdsAndUsernames","makeGetProfilesByIdsAndUsernames","ADVANCED_FILTER_JOIN_LEAVE","typeMessage","LastUsers","formatOptions","expandedLocale","lastIndex","lastUser","firstUserMessage","otherUsersMessage","actorMessage","generateCombinedPost","makeGenerateCombinedPost","combinedId","Post","CommentedOn","makeUsername","updateSearchTerms","showSearchResults","enablePostUsernameOverride","from_webhook","override_username","attachments","attachment","webhookMessage","pretext","fallback","makeCommentedOnMessage","onCommentClick","stripMarkdown","getDisplayNameByUser","EnablePostUsernameOverride","CommentedOnFilesMessage","plusMore","selectFileInfosForPost","DateSeparator","oneOfType","instanceOf","FailedPostOptions","removePost","retryPost","cancelPost","FloatingTimestamp","createAt","dateString","isScrolling","isRhsPost","PostListUtils","combinedIds","isChannelLoading","teamMemberships","lastChannelViewTime","teammate_id","last_post_at","channelLoading","ActionButton","handleAction","ActionMenu","default_option","handlePopupOpened","menuActions","doPostActionWithCookie","MessageAttachment","thumb_url","handleHeightReceived","image_url","checkOverflow","actionCookie","fields","fieldTables","headerCols","bodyCols","rowPos","lastWasLong","nrTables","short","preTextClass","preText","author","author_name","author_icon","author_link","title_link","LinkOnlyRenderer","attachmentText","handleHeightReceivedForImageUrl","footerIcon","footer_icon","footerIconMetadata","footerIconUrl","truncate","MAX_ATTACHMENT_FOOTER_LENGTH","omission","thumb","thumbMetadata","thumbUrl","handleHeightReceivedForThumbUrl","getFieldsTable","renderPostActions","useBorderStyle","borderLeftColor","MessageAttachmentList","NewMessageSeparator","separatorId","makeCountUnreadsBelow","getAllPosts","postIds","lastViewedBottom","allPosts","countUnreadsBelow","preparePostIdsForPostList","makePreparePostIdsForPostList","getPostIdsInChannel","newMessages","NewMessagesBelow","isVisible","atBottom","isFirstReply","previousPost","isPostCommentMention","makeIsPostCommentMention","createAriaLabelForPost","makeCreateAriaLabelForPost","replyCount","reply_count","rootPost","previousPostId","consecutivePostByUser","previousPostIsComment","POST_COLLAPSE_TIMEOUT","createAriaLabel","isCommentMention","center","CHANNEL_DISPLAY_MODE_CENTERED","MESSAGE_DISPLAY","MESSAGE_DISPLAY_DEFAULT","MESSAGE_DISPLAY_COMPACT","selectPost","selectPostCard","opened","togglePostMenu","dropdownOpened","isMeMessage","fromBot","failed","shouldHighlight","rootUser","hasSameRoot","currentUserCss","sameUserClass","hover","ariaHidden","currentAriaLabel","postRef","handleAlt","dispatchEvent","Event","UPDATE","checkIsMeMessage","from_bot","profilePic","hideProfilePicture","getClassName","handlePostFocus","removeFocus","setHover","unsetHover","handlePostClick","handleCardClick","PostAddChannelMember","generateAtMentions","andSeparator","commaSeparator","noGroupsUsernames","linkId","outOfChannelMessageID","outOfChannelMessageText","outOfChannelAtMentions","outOfGroupsMessageID","outOfGroupsMessageText","outOfGroupsAtMentions","outOfChannelMessage","outOfGroupsMessage","handleAddChannelMember","getDistanceBW2Points","point1","point2","xAttr","yAttr","sqrt","pow","getNearestPoint","pivotPoint","points","nearestPoint","point","enableLinkPreviews","EnableLinkPreviews","openGraphData","getOpenGraphMetadataForUrl","previewEnabled","LINK_PREVIEW_DISPLAY","PostAttachmentOpenGraph","DIMENSIONS_NEAREST_POINT_IMAGE","dimensions","largeImageMinRatio","largeImageMinWidth","imageRatio","REMOVE_LINK_PREVIEW","patchedPost","renderImageToggle","toggleEmbedVisibility","renderLargeImage","safeImageUrl","renderSmallImage","truncateText","ellipsis","hasPreviewBeenRemoved","getBestImageUrl","getImageMetadata","hasLargeImage","isLargeImage","removePreviewButton","handleRemovePreview","site_name","secure_url","bestImage","parentPost","parentPostUser","pluginPostTypes","postTypes","PostBody","SENDING_ANIMATION_DELAY","sendingAction","sending","comment","postClass","failedOptions","fileAttachmentHolder","messageWrapper","hasPlugin","messageWithAdditionalContent","mentionHighlightClass","ephemeralPostClass","pluginPostWillRenderEmbedComponents","PostWillRenderEmbedComponent","PostBodyAdditionalContent","embeds","embed","postWillRenderEmbedComponents","toggleable","YoutubeVideo","isYoutubeLink","prependToggle","getEmbed","isEmbedToggleable","renderToggle","renderEmbed","PostContext","createContext","PostFlagIcon","flagVisible","flagIcon","handlePress","PostHeader","userProfile","indicator","colon","SYSTEM_MESSAGE_PROFILE_IMAGE","showTimeWithoutHover","PostImage","safeLink","selectedCard","getSelectedPostCard","CATEGORY_FLAGGED_POST","mobileView","isCardOpen","PostInfo","showDotMenu","dotMenu","showCommentIcon","commentIconExtraClass","commentIcon","showReactionIcon","postReaction","getDotMenu","showDotMenuIcon","handleDotMenuOpened","showFlagIcon","postFlagIcon","postInfoIcon","card","createRemovePostButton","buildOptions","visibleMessage","pinnedBadge","showPostTime","postTime","isPermalink","ReduxPostUtils","isFirstLoad","postsInChannel","memoizedGetLatestPostId","getLatestPostId","getPostsChunkAroundPost","makeGetPostsChunkAroundPost","latestPostTimeStamp","chunk","atLatestPost","atOldestPost","formattedPostIds","latestAriaLabelFunc","unreadChunkTimeStamp","getUnreadPostsChunk","getRecentPostsChunkInChannel","oldest","indicateNewMessages","latestPostId","latestPost","postListIds","markChannelAsViewed","PostList","MAX_NUMBER_OF_AUTO_RETRIES","MAX_EXTRA_PAGES_LOADED","markChannelAsReadAndViewed","loadingOlderPosts","loadingNewerPosts","autoRetriesCount","callLoadPosts","autoRetryEnable","getOldestPostId","extraPagesLoaded","oldestPostId","getOldestVisiblePostId","getPostsBefore","getLatestVisiblePostId","getPostsAfter","AFTER_ID","loadingMorePosts","actionsForPostList","loadOlderPosts","loadNewerPosts","canLoadMorePosts","changeUnreadChunkTimeStamp","postsOnLoad","OVERSCAN_COUNT_BACKWARD","OVERSCAN_COUNT_FORWARD","HEIGHT_TRIGGER_FOR_MORE_POSTS","BUFFER_TO_BE_CONSIDERED_BOTTOM","MAXIMUM_POSTS_FOR_SLICING","postListStyle","virtListStyles","PostListRowListIds","START_OF_NEW_MESSAGES","dynamicListStyle","postMenuOpened","willChange","scrollStopAction","handleScrollStop","itemId","basePaddingClass","previousItemId","nextItemId","isDateLine","isStartOfNewMessages","getPreviousPostId","scrollDirection","scrollOffset","scrollUpdateWasRequested","didUserScrollBackwards","didUserScrollForwards","isOffsetWithInRange","offsetFromBottom","SCROLL_DELAY","postsRenderedRange","_getRangeToRender","checkBottom","updateAtBottom","isAtBottom","visibleTopItem","topPostId","visibleStartIndex","updateFloatingTimestamp","newMessagesSeparatorIndex","scrollToBottom","scrollToItem","channelIntroMessage","CHANNEL_INTRO_MESSAGE","postListRef","initRangeToRender","postIndex","getNewMessagesSeparatorIndex","maxPostsForSlicing","handleWindowResize","addListener","scrollToLatestMessages","getSnapshotBeforeUpdate","postsAddedAtTop","channelHeaderAdded","postListNode","previousScrollTop","parentElement","previousScrollHeight","snapshot","postlistScrollHeight","scrollValue","removeListener","newPostListIds","OLDER_MESSAGES_LOADER","LOAD_OLDER_MESSAGES_TRIGGER","NEWER_MESSAGES_LOADER","LOAD_NEWER_MESSAGES_TRIGGER","newMessagesBelow","itemKey","onScroll","onItemsRendered","initScrollToIndex","PostListRow","listId","previousListId","isRHSExpanded","isRHSOpen","PostMessageView","collapse","hasOverflow","renderDeletedPost","renderEditedIndicator","PluginComponent","PostReaction","TOP_OFFSET","RHS_SPACE_REQUIRED_ABOVE","RHS_SPACE_REQUIRED_BELOW","getDotMenuRef","PostTime","isMobileView","localDateTime","loaderForChangeOfPostsChunk","getProfilesForReactions","makeGetProfilesForReactions","me","reactions","getCustomEmojisByName","emojiImageUrl","canAddReaction","canRemoveReaction","checkReactionAction","REMOVE_REACTION","otherUsersCount","reactionCount","Reaction","ids","getDisplayName","currentUserReacted","sortedReactions","accumulator","getSortedUsers","otherUsers","reactionVerb","clickTooltip","emojiNameWithSpaces","ariaLabelEmoji","handleRemoveReaction","handleAddReaction","loadMissingProfiles","getReactionsForPost","makeGetReactionsForPost","ReactionList","EMOJI_PICKER_WIDTH_OFFSET","addReactionButton","reactionsByName","Map","emojiNames","addReactionTooltip","addReactionClassName","ScrollToBottomArrows","ShowMore","MAX_POST_HEIGHT","MAX_ATTACHMENT_TEXT_HEIGHT","MARGIN_CHANGE_FOR_COMPACT_POST","overflowRef","textContainer","isOverflow","checkTextOverflow","isAttachmentText","collapsedMaxHeightStyle","collapseGradientClass","collapseShowMoreClass","attachmentTextOverflow","showIcon","showText","toggleCollapse","ProfilePicture","profileIconClass","setOverlayRef","hideProfilePopover","wrapperClass","isTeamAdmin","isInCurrentTeam","canManageAnyChannelMembersInCurrentTeam","ProfilePopover","getComponentName","loadingDMChannel","popoverProps","hideStatus","dataContent","fullname","MAX_POSITION_LENGTH","timezone","handleEditAccountSettings","addToChannelMessage","ADD_USER_TO_CHANNEL","roleTitle","handleMentionKeyClick","Popover","QuickInput","delayInputUpdate","updateInputFromProps","inputComponent","setInput","elementType","showTeamSwitcher","CHANNEL_MODE","TEAM_MODE","switchBox","focusPostTextbox","TAB","switchMode","mode","selectedChannel","MENTION_MORE_CHANNELS","channelProviders","teamProviders","enableTeamProvider","SwitchChannelProvider","SwitchTeamProvider","renderDividers","channelShortcut","defaultChannelShortcut","teamShortcut","defaultTeamShortcut","channelsActiveClass","teamsActiveClass","setSwitchBoxRef","RecentDate","isToday","isYesterday","isSameDay","yesterday","setDate","remover","teamInfo","required","lowercase","defaultError","displayNameHolder","handleHolder","nameError","invalid","oldName","minLength","cleanedName","onSaveSuccess","nameClass","urlInputLabel","handleInputClass","readOnlyHandleInput","fullUrl","shortUrl","onDisplayNameChange","onNameChange","autoResetPref","CATEGORY_AUTO_RESET_MANUAL_STATUS","currentUserStatus","autoResetStatus","setStatus","pref","toTitleCase","statusIsManual","autoResetPrefNotSet","userStatus","userStatusId","manualStatusTitle","manualStatusMessage","renderModalMessage","manualStatusButton","manualStatusId","manualStatusCancel","manualStatusCheckbox","showTermsOfService","shouldShowTermsOfService","diagnosticsEnabled","DiagnosticsEnabled","noAccounts","NoAccounts","diagnosticId","DiagnosticId","Root","LazyErrorPage","LazyLoginController","LazyAdminConsole","LazyLoggedIn","LazyPasswordResetSendLink","LazyPasswordResetForm","LazySignupController","LazySignupEmail","LazyTermsOfService","LazyShouldVerifyEmail","LazyDoVerifyEmail","LazyClaimController","LazyHelpController","LazyGetIosApp","LazyGetAndroidApp","LazySelectTeam","LazyAuthorize","LazyCreateTeam","LazyMfa","CreateTeam","ErrorPage","TermsOfService","LoginController","AdminConsole","PasswordResetSendLink","PasswordResetForm","SignupController","SignupEmail","ShouldVerifyEmail","DoVerifyEmail","ClaimController","HelpController","GetIosApp","GetAndroidApp","SelectTeam","Authorize","Mfa","LoggedInRoute","isDevMode","enableDevModeFeatures","segmentKey","DIAGNOSTICS_SEGMENT_KEY","invoked","methods","factory","call","load","n","getElementsByTagName","insertBefore","SNIPPET_VERSION","identify","ip","referrer","anonymousId","initializePlugins","configLoaded","loadRecentlyUsedCustomEmojis","iosDownloadLink","IosAppDownloadLink","androidDownloadLink","AndroidAppDownloadLink","toResetPasswordScreen","hasSeenLandingPage","encodeURIComponent","setLandingPageSeen","currentCategoryFocus","currentSidebarFocus","setUrl","setSystemEmojis","EmojiIndicesByAlias","originalEvent","LOGOUT","storageArea","newValue","isSignallingLogout","LOGIN","isSignallingLogin","FastClick","a11yController","A11yController","newProps","redirectIfNecessary","onConfigLoaded","trackLoadTime","unbind","RootPortal","removeChild","SaveButton","savingMessage","btnClass","extraClasses","savingMessageComponent","defaultMessageComponent","isSearchingTerm","getIsSearchingTerm","searchTerms","getSearchTerms","isFlaggedPosts","terms","handleSearchOnSuccess","SearchChannelProvider","SearchUserProvider","SearchDateProvider","renderHintPopover","helpClass","mentionBtn","flagBtn","showMentionFlagBtns","mentionBtnClass","flagBtnClass","showClear","searchFormClass","searchForm","getSearch","handleUserFocus","handleUserBlur","SearchSuggestionList","SuggestionDate","isFocus","handleClear","SearchHint","withTitle","NEXT_BUTTON_TIMEOUT_MILLISECONDS","SearchableChannelList","isSearch","archiveIcon","joiningChannel","nextDisabled","nextTimeoutId","channelListScroll","listContent","marginTop","noResultsText","channelsPerPage","channelsToDisplay","createChannelRow","previousPage","createChannelButton","channelDropdown","toggleArchivedChannelsOff","toggleArchivedChannelsOn","NEXT_BUTTON_TIMEOUT","SearchableUserList","focusOnMount","onTermChange","usersPerPage","renderCount","focusSearchBar","userList","scrollToTop","filterRow","renderFilterRow","extraInfo","actionProps","rowComponentType","showTeamToggle","SearchableUserListContainer","handleTermChange","SettingItemMax","shiftEnter","keyCode","settingList","setting","focusableElements","querySelectorAll","onKeyDown","clientError","hintClass","infoPosition","saveButtonText","widthClass","containerStyle","submitExtra","handleUpdateSection","previousActiveSection","getPreviousActiveSection","SettingItemMin","edit","editButton","describeSection","disableOpen","getEdit","describe","SettingPicture","removeSrc","setDefaultSrc","confirmButton","onSetDefault","focusFirstElement","onFileChange","selectInput","previewBlob","createObjectURL","reader","FileReader","onload","FileUtils","orientationStyles","readAsArrayBuffer","imageContext","imageStyles","defaultImageSrc","imageElement","handleRemoveSrc","handleSetDefaultSrc","handleFileSelected","setPicture","revokeObjectURL","img","renderImg","disableSaveButtonFocus","submitActive","imgRender","handleFileChange","loadingPicture","handleInputFile","SettingsUpload","val","uploadinput","inputnode","fileNameText","submitButtonClass","fileTypesAccepted","doFileSelect","openFileSelect","allShortcuts","mainHeader","mac","navHeader","navPrev","navNext","navUnreadPrev","navUnreadNext","navSwitcher","navDMMenu","navSettings","navMentions","navFocusCenter","msgHeader","msgInputHeader","msgEdit","msgReply","msgReprintPrev","msgReprintNext","msgCompHeader","msgCompUsername","msgCompChannel","msgCompEmoji","filesHeader","filesUpload","browserHeader","browserChannelPrev","browserChannelNext","browserFontIncrease","browserFontDecrease","browserInputHeader","browserHighlightPrev","browserHighlightNext","browserNewline","ShortcutsModal","getShortcuts","isMac","shortcuts","s","renderShortcut","shortcut","ChannelCreate","ariaLabelPublic","createPublicChannel","ariaLabelPrivate","createPrivateChannel","ariaLabelDM","createDirectMessage","renderPublic","renderPrivate","createPublicDirectChannel","sectionType","renderDirect","renderCombined","ChannelMore","moreChannels","moreDirectMessages","browsePublicDirectChannels","JOIN_PUBLIC_CHANNELS","moreChannelsPublic","moreChannelsPrivate","clickableChannelHeader","ChannelName","tooltipTriggers","formattedMessageId","sectionTypeFormatMessageId","createPublicDirectChannelTooltip","MENU_POPOVER","teamDescription","teamDisplayName","SidebarHeaderDropdown","SidebarHeader","SidebarHeaderDropdownButton","mainMenuToolTip","teamNameWithToolTip","currentTeammate","sidebarPrefs","getSidebarPreferences","lastUnreadChannel","keepChannelIdAsUnread","unreadChannelIds","getSortedUnreadChannelIds","orderedChannelIds","getOrderedChannelIds","grouping","sorting","unreads_at_top","favorite_at_top","channelSwitcherOption","getBoolPreference","CATEGORY_SIDEBAR_SETTINGS","isOpen","getUnreads","MorePublicDirectChannels","handleSelect","renderView","renderThumbHorizontal","renderThumbVertical","showDirectChannelsModal","hideMoreDirectChannelsModal","showMoreDirectChannelsModal","currentSiteName","mentionTitle","unreadTitle","updateUnreadIndicators","spring","scrollbar","getCurrentValue","firstUnreadChannel","displayedChannels","getDisplayedChannels","unreadScrollAnimate","setCurrentValue","getScrollTop","setAtRest","MathUtil","mapValueInRange","unreadMargin","firstUnreadElement","setEndValue","lastUnreadElement","elementBottom","getClientHeight","showTopUnread","showBottomUnread","firstUnreadPosition","lastUnreadPosition","curChannel","CHANNEL_SCROLL_ADJUSTMENT","view","isSwitchingChannel","allChannelIds","curChannelId","curIndex","nextIndex","nextChannelId","updateScrollbarOnChannelChange","handleOpenMoreDirectChannelsModal","direction","ChannelUtils","allChannels","showMorePublicChannelsModal","hideMorePublicDirectChannelsModal","showNewChannelModal","showMoreChannelsModal","newChannelModalType","sectionsToHide","SidebarChannelGroups","UNREADS","FAVORITE","sec","createSidebarChannel","sectionId","showMorePublicDirectChannelsModal","showNewPublicChannelModal","showNewPrivateChannelModal","badgesActive","isLeaving","closedDirectChannel","animate","SpringSystem","createSpring","setOvershootClampingEnabled","onSpringUpdate","handleScrollAnimationUpdate","navigateChannelShortcut","navigateUnreadChannelShortcut","channelIdIsDisplayedForProps","updateTitle","setFirstAndLastUnreadChannels","deregisterSpring","removeAllListeners","destroy","setBadgesActiveAndFavicon","lastBadgesActive","rel","redFavicon","favicon","head","oldLink","above","below","moreDirectChannelsModal","moreChannelsModal","hideMoreChannelsModal","quickSwitchText","quickSwitchTextShortcutId","quickSwitchTextShortcutDefault","quickSwitchTextShortcut","openQuickSwitcher","morePublicDirectChannelsModal","onHandleNewChannel","hideNewChannelModal","scrollToFirstUnreadChannel","scrollToLastUnreadChannel","renderOrderedChannels","makeGetChannel","memberIds","getUserIdsInChannels","membersCount","unreadMentions","unreadMsgs","showUnreadForMsgs","total_msg_count","channelTeammateId","channelTeammateDeletedAt","channelTeammateUsername","channelTeammateIsBot","shouldHideChannel","shouldHideDefaultChannel","channelStatus","channelFake","channelStringified","hasDraft","CHANNEL_POPOVER","townSquareDisplayName","offTopicDisplayName","openLhs","SidebarChannel","closeHandler","showChannelAsUnread","handleLeaveDirectChannel","EnableXToLeaveChannelsFromLHS","handleLeavePublicChannel","handleLeavePrivateChannel","linkClass","rowClass","badge","SidebarChannelButtonOrLink","displayNameRef","scrollWidth","trackChannelSelectedEvent","gmItemRef","teammateDeletedAt","isDesktopApp","displayNameToolTip","channelTooltip","enableToolTipIfNeeded","maxWidth","SidebarChannelButtonOrLinkCloseButton","removeTooltip","SidebarChannelButtonOrLinkIcon","SidebarTutorialTip","DEFAULT_CHANNEL_UI_NAME","OFFTOPIC_CHANNEL_UI_NAME","townsquare","offtopic","isRhsOpen","SingleImageView","PREVIEW_IMAGE_MIN_DIMENSION","hasPreviewImage","fileURL","previewURL","getFilePreviewUrl","previewHeight","previewWidth","minPreviewClass","fileHeader","viewImageModal","fadeInClass","styleIfSvgWithDimensions","imageContainerStyle","svgClass","imageLoaded","MIN_IMAGE_SIZE","SizeAwareImage","isSmallImage","naturalWidth","naturalHeight","imageWidth","onImageLoadFail","showLoader","transform","handleSmallImageContainer","handleLoad","placeHolder","imageStyleChangesOnLoad","dimensionsAvailable","renderImageLoaderIfNeeded","visibility","renderImageWithContainerIfNeeded","heightTimeout","renderImageOrPlaceholder","SpinnerButton","spinning","spinningText","profilePicture","StatusDropdown","AWAY","DND","needsConfirm","isUserOutOfOffice","renderProfilePicture","dropdownIcon","renderDropdownIcon","setOnline","showStatusChangeConfirmation","setDnd","setAway","setOffline","onToggle","StatusIcon","IconComponent","StatusOnlineAvatarIcon","StatusAwayAvatarIcon","StatusDndAvatarIcon","StatusOfflineAvatarIcon","StatusOnlineIcon","StatusAwayIcon","StatusDndIcon","StatusOfflineIcon","AtMentionProvider","Provider","setProps","profilesInChannel","profilesNotInChannel","specialMentions","latestPrefix","MENTION_SPECIAL","getProfileSuggestions","profileSuggestions","usernameSuggestions","getSuggestionsSplitByMultiple","AUTOCOMPLETE_SPLIT_CHARACTERS","first_name","last_name","property","suggestions","getSuggestionsSplitBy","filterProfile","prefixLower","some","suggestion","localMembers","MENTION_MEMBERS","remoteMembers","remoteNonMembers","out_of_channel","MENTION_NONMEMBERS","localUserIds","orderUsers","aStartsWith","bStartsWith","localAndRemoteMembers","updateMatches","resultCallback","mentions","matchedPretext","AtMentionSuggestion","handlePretextChanged","captured","XRegExp","startNewRequest","showLoadingIndicator","shouldCancelDispatch","MENTION_MORE_MEMBERS","Suggestion","isSelection","baseProps","ChannelMentionSuggestion","ChannelMentionProvider","channelSearchFunc","lastPrefixTrimmed","lastPrefixWithNoResults","lastCompletedWord","resetRequest","words","wrappedChannelIds","wrappedChannels","nameWords","matched","wordMatched","MENTION_CHANNELS","sortChannelsByTypeAndDisplayName","handleChannels","withError","wrappedMoreChannels","wrapped","handleCompleteWord","CommandSuggestion","hint","CommandProvider","getCommandsList","auto_complete","trigger","auto_complete_hint","auto_complete_desc","MIN_EMOTICON_LENGTH","EMOJI_CATEGORY_SUGGESTION_BLACKLIST","EmoticonSuggestion","EmoticonProvider","resultsCallback","partialName","emoticon","Emoticons","autocompleteCustomEmojis","findAndSuggestEmojis","formatEmojis","recentMatched","alias","matchedArray","hasSystemEmoji","ChannelSuggestion","ChannelProvider","normalizedPretext","UserSuggestion","getUsersRoute","UserProvider","MenuActionSuggestion","displayAllOptions","filterOptions","filteredOptions","latestComplete","allowDividers","presentationType","itemToName","SearchChannelSuggestion","channelPrefix","channelNames","SearchChannelWithPermissionsSuggestion","channelSearchSorter","wrappedA","wrappedB","aIsArchived","bIsArchived","getCurrentUserLocale","aDisplayName","bDisplayName","makeChannelSearchFilter","channelPrefixLower","searchString","formatChannelsAndDispatch","fetchChannels","channelsAsync","channelsFromServer","completedChannels","channelFilter","newChannel","wrappedChannel","deactivated","SearchDateSuggestion","day","dayString","handleDayClick","datePrefix","dates","suggestionReadOut","generateLabel","currentLabel","announceLabel","getContent","renderChannelDivider","currentItem","onCompleteWord","SearchUserSuggestion","usernamePrefix","autocompleteUsersInTeam","tabIndex","SuggestionBox","mentionKey","insertText","addTextAtCaret","getInput","getDOMNode","delay","preventSuggestionListCloseFlag","handleEmitClearSuggestions","openOnFocus","openWhenEmpty","requiredCharacters","composing","onComposition","caret","keepPretext","endsWith","termWithoutMatched","overlap","findOverlap","replaceAllInputOnSelect","replaceText","onItemSelected","provider","setSelectionByDelta","delta","selectionIndex","cleared","hasSuggestions","selectPrevious","selectNext","completeOnTab","timeoutId","nonDebouncedPretextChanged","newComponents","newPretext","handleReceivedSuggestions","complete","handled","handleReceivedSuggestionsAndComplete","debouncedPretextChanged","handleFocusIn","handleFocusOut","listenForMentionKeyClick","contextId","listComponent","dateComponent","listStyle","renderNoResults","SuggestionListComponent","SuggestionDateComponent","setContainerRef","handleCompositionStart","handleCompositionUpdate","handleCompositionEnd","preventSuggestionListClose","wrapperHeight","aLower","bLower","itemComponent","visibleContentHeight","actualContentHeight","contentTop","contentTopPadding","css","contentBottomPadding","itemTop","itemBottomMargin","itemBottom","isEmptyObject","removeLabel","ariaLiveRef","innerHTML","lastType","mainClass","contentClass","SUGGESTION_LIST_MAXHEIGHT","PREVIEWER_HEIGHT","contentStyle","preventClose","SwitchChannelSuggestion","mapStateToPropsForSwitchChannelSuggestion","ConnectedSwitchChannelSuggestion","quickSwitchSorter","curState","usersInChannels","userSearchStrings","usersInChannel","Set","userString","getDirectAndGroupChannels","fetchUsersAndChannels","formatUnreadChannelsAndDispatch","usersAsync","usersFromServer","RECEIVED_PROFILES_LIST","userWrappedChannel","skipNotInChannel","ARCHIVED_CHANNEL","isGMVisible","isGroupChannelVisible","getLastPostPerChannel","isUnreadChannel","isDMVisible","isDirectChannelVisible","MENTION_UNREAD_CHANNELS","SwitchTeamSuggestion","teamPrefix","allTeams","teamNames","getCategory","makeGetCategory","getPreferenceNameMap","nameMap","CATEGORY_SYSTEM_NOTICE","dismissedNotices","isSystemAdmin","notices","Notices","SystemNotice","adminOnly","mattermostIcon","allowForget","InstallationDate","IssuedAt","USERS_THRESHOLD","Cluster","ServerVersion","remind","getCurrentNotice","hideAndRemind","hideAndForget","canInviteTeamMembers","patchTeam","regenerateTeamInviteId","removeTeamIcon","setTeamIcon","TeamGeneralTab","ACCEPTED_TEAM_IMAGE_TYPES","GeneralTab","setupInitialState","openInvite","allow_open_invite","allowed_domains","MIN_TEAMNAME_LENGTH","MAX_TEAMNAME_LENGTH","teamIconFile","loadingIcon","shouldFetchTeam","fetchTeam","off","openInviteSection","handleOpenInviteRadio","handleOpenInviteSubmit","inviteSection","getTeamInviteLink","handleInviteIdSubmit","nameSection","teamNameLabel","updateName","moveCursorToEnd","nameExtraInfo","handleNameSubmit","descriptionSection","teamDescriptionLabel","MAX_TEAMDESCRIPTION_LENGTH","updateDescription","descriptionExtraInfo","handleDescriptionSubmit","describemsg","teamIconSection","updateTeamIcon","handleTeamIconSubmit","handleTeamIconRemove","minMessage","last_team_icon_update","allowedDomainsSection","updateAllowedDomains","allowedDomainsInfo","handleAllowedDomainsSubmit","collapseModal","getGroupsAssociatedToTeam","handleDeleteConfirmed","handleDeleteCanceled","importSlack","TeamImportTab","atob","utils","onImportSuccess","onImportFailure","uploadDocsLink","uploadExportInstructions","uploadExporterLink","importCliLink","uploadHelpText","exportInstructions","slackAdvancedExporterLink","cliLink","uploadSection","doImportSlack","messageSection","getMyTeamMembers","updateUserActive","updateTeamMemberSchemeRoles","handleDemote","newRole","showDemoteModal","currentRoles","showMakeMember","showMakeAdmin","canRemoveFromTeam","makeDemoteModal","handleDemoteSubmit","handleDemoteCancel","handleRemoveFromTeam","handleMakeAdmin","handleMakeMember","onLoad","handleInvitePeople","TeamSettings","activeTab","SettingsSidebar","modalBody","closest","removeClass","active_tab","active_section","iconTitle","handleHidden","updateTab","TeamButton","teamIconUrl","unread","teamClass","handleDisabled","handleSwitch","toolTip","tip","btn","teamButton","myTeamMembers","getTeams","root","getProfilesInChannel","makeGetProfilesNotInChannel","Textbox","characterLimit","errorMessage","limit","onMouseUp","onKeyUp","checkMessageLength","supportsCommands","wrapper","updateSuggestions","textboxClassName","textWrapperClass","emojiEnabled","onKeyPress","handleMouseUp","handleKeyUp","suggestionListStyle","PreReleaseFeatures","PRE_RELEASE_FEATURES","TextboxLinks","hasText","editHeader","helpTextClass","previewMessageLink","previewLink","MARKDOWN_PREVIEW","togglePreview","ModalToggleButton","clickHandler","ModalToggleButtonRedux","accessibilityLabel","townSquare","restrictTeamInvite","supportEmail","SupportEmail","TutorialView","MenuTutorialTip","toggleFunc","onBottom","arrow","TutorialIntroScreens","NUM_SCREENS","currentScreen","createScreenOne","createScreenTwo","createScreenThree","circles","handleCircleClick","createCircles","appDownloadImage","AppIcons","inviteModalLink","inviteText","supportInfo","createScreen","handleNext","skipTutorial","TutorialTip","diagnosticsTag","targetRef","buttonText","dots","tutorialGifImage","tutorialGif","tutorialGifWhite","isRoot","UnreadChannelIndicator","classes","UserList","RowComponentType","TEST_ID_COUNT","UserListRow","buttons","Action","emailStyle","userCountID","userCountEmail","userCount","makeGetDisplayName","UserProfile","disablePopover","overwriteName","setOverlaynRef","overwriteImage","ImportThemeModal","isInputValid","inputError","colors","sidebarBg","sidebarText","sidebarUnreadText","sidebarTextHoverBg","sidebarTextActiveBorder","sidebarTextActiveColor","sidebarHeaderBg","sidebarHeaderTextColor","onlineIndicator","awayIndicator","mentionBg","mentionColor","newMessageSeparator","linkColor","buttonBg","buttonColor","mentionHighlightBg","mentionHighlightLink","codeTheme","TOGGLE_IMPORT_THEME_MODAL","updateShow","handleOnHide","closeUnusedDirectMessages","CloseUnusedDirectMessages","experimentalChannelOrganization","ExperimentalChannelOrganization","sendEmailNotifications","requireEmailVerification","RequireEmailVerification","sendVerificationEmail","UserSettings","security","notifications","advanced","checkEmail","confirmTitle","confirmMsg","confirmBtns","resendStatus","requireConfirm","modalBodyRef","enforceFocus","customConfirmAction","afterConfirm","handleCollapse","skipConfirm","handleCancelConfirmation","ImagePreview","previewUrl","enablePublicLink","EnablePublicLink","pluginFilePreviewComponents","ViewImage","PopoverBar","publicLink","showPublicLink","onGetPublicLink","downloadLinks","shouldOpenFile","isExternalFile","downloadLinkText","downloadLinkProps","download","fileIndex","totalFiles","PDFPreview","ViewImageModal","imageIndex","showImage","RIGHT","LEFT","handlePrev","startIndex","stop","imageHeight","has_image_preview","completedPercentage","handleImageProgress","showCloseBtn","onModalShown","onModalHidden","fileDownloadUrl","dialogClassName","VIDEO","AUDIO","PDF","floor","override","leftArrow","rightArrow","closeButtonClass","onMouseEnterImage","onMouseLeaveImage","handleGetPublicLink","Badge","BotBadge","GuestBadge","AlertIcon","ArchiveIcon","ArrowRightIcon","AttachmentIcon","BackIcon","BotIcon","CloseCircleIcon","CloseCircleSolidIcon","CloseIcon","DownloadIcon","DraftIcon","EmojiIcon","AddIcon","DropdownIcon","EditIcon","RemoveIcon","SelectIcon","SuccessIcon","WarningIcon","additionalClassName","FlagIcon","FlagIconFilled","GfycatIcon","GifSearchClearIcon","GifSearchIcon","GlobeIcon","InfoIcon","InfoSmallIcon","InviteIcon","InviteMembersIcon","LeaveTeamIcon","fillRule","clipRule","strokeLinejoin","strokeMiterlimit","LinkIcon","LockIcon","MailIcon","MailPlusIcon","MattermostLogo","st0","enableBackground","MemberIcon","MentionsIcon","MenuIcon","MessageIcon","PinIcon","PluginChannelHeaderIcon","PluginIcon","ReplyIcon","ScrollToBottomIcon","SearchIcon","UnreadBelowIcon","ChannelsInput","inputValue","customCallback","loadingMessageId","loadingMessageDefault","selectProps","noOptionsMessageId","noOptionsMessageDefault","innerProps","NoOptionsMessage","MultiValueRemove","selectRef","optionsLoader","empty","getOptionValue","formatOptionLabel","noOptionsMessage","loadingMessage","UsersEmailsInput","parts","getLongDisplayNameParts","fullName","getCreateLabel","renderUserName","validAddressMessageId","validAddressMessageDefault","noMatchMessageId","noMatchMessageDefault","showAddEmail","LoadingSpinner","LoadingWrapper","observer","disconnect","prevWasDivider","isAtBeginning","child","observe","attributes","childList","subtree","MutationObserver","hideUnneededDividers","openLeft","MenuGroup","MenuItemAction","MenuItemExternalLink","MenuItemLink","MenuItemToggleModalRedux","SubMenuItem","menuItem","MenuItem","textProp","MenuItemActionImpl","isDangerous","MenuItemExternalLinkImpl","MenuItemLinkImpl","to","MenuItemToggleModalReduxImpl","pathPair","entries","nativeEvent","composedPath","xOffset","hasSubmenu","parentWidth","childOffset","isValidElement","subMenuStyle","subMenuContent","SubMenuItems","MenuWrapper","closeOnBlur","keyboardClose","Animation","animationComponent","MenuWrapperAnimation","isAppearing","nodeStyler","styler","chain","update","tween","start","onEntering","onExiting","FullScreenModal","onClose","onGoBack","SizeMap","xs","sm","md","lg","popoverSize","popoverStyle","onMouseOut","onMouseOver","BasicSeparator","NotificationSeparator","BoolSetting","RadioSetting","Setting","inputId","resizable","resize","TeamIcon","withHover","hoverCss","imageURLForTeam","Avatar","googleDeveloperKey","GoogleDeveloperKey","playing","videoId","getVideoId","handleYoutubeTime","safeUrl","play","ytRegex","PayloadSources","Flux","handleServerAction","performServerAction","warn","payload","SERVER_ACTION","performViewAction","VIEW_ACTION","CustomMenu","rootCloseEvent","handleRootClose","CustomToggle","activeClass","dropdownOpen","ChannelHeaderPlug","toggleDropdown","plug","dropdownText","plugs","fireActionAndClose","createButton","createDropdown","ChannelHeaderButton","require","Redux","ReactRedux","ReactBootstrap","formatText","PDFJS","openInteractiveDialog","regeneratorRuntime","registerPlugin","plugin","loadErr","getWebappPlugins","RECEIVED_WEBAPP_PLUGINS","loadedPlugins","resolve","reject","oldManifest","webapp","bundle_path","REMOVED_WEBAPP_PLUGIN","initializePlugin","onError","bundlePath","script","registry","PluginRegistry","uninitialize","deinitialize","oldManifests","newManifests","newManifest","previousTriggerId","subscribe","MobileChannelHeaderButton","MobileChannelHeaderPlug","fireAction","isDropdown","createList","Pluggable","pluggableName","Children","only","childrenProps","componentName","pluginComponents","pluggableId","cloneElement","dispatchPluginComponentAction","RECEIVED_PLUGIN_COMPONENT","resolveReactElement","registerRootComponent","registerPopoverUserAttributesComponent","registerPopoverUserActionsComponent","registerLeftSidebarHeaderComponent","registerBottomTeamSidebarComponent","registerPostMessageAttachmentComponent","registerLinkTooltipComponent","registerChannelHeaderButtonAction","registerPostTypeComponent","RECEIVED_PLUGIN_POST_COMPONENT","registerPostCardTypeComponent","RECEIVED_PLUGIN_POST_CARD_COMPONENT","registerPostWillRenderEmbedComponent","registerMainMenuAction","registerPostDropdownMenuAction","registerPostDropdownSubMenuAction","registerMenuItem","parentMenuId","innerAction","innerFilter","registerSubMenuItem","f","rootRegisterMenuItem","registerPostDropdownMenuComponent","registerFileUploadMethod","registerFilesWillUploadHook","unregisterComponent","componentId","REMOVED_PLUGIN_COMPONENT","unregisterPostTypeComponent","REMOVED_PLUGIN_POST_COMPONENT","registerReducer","reducerRegistry","register","registerWebSocketEventHandler","unregisterWebSocketEventHandler","registerReconnectHandler","unregisterReconnectHandler","registerMessageWillBePostedHook","registerSlashCommandWillBePostedHook","registerMessageWillFormatHook","registerFilePreviewComponent","registerTranslations","getTranslationsForLocale","registerRightHandSidebarComponent","showRHSPlugin","hideRHSPlugin","toggleRHSPlugin","lhs","localStorageStore","getPenultimateChannelName","getNavigationBlocked","navigationBlock","showNavigationPrompt","lastGetPosts","marketplace","settings","system","websocketConnectionErrorCount","BrowserStoreClass","Actions","removeItem","getGlobalItem","removeGlobalItem","isLocalStorageSupported","logoutId","sessionStorage","signalLogin","hasCheckedLocalStorage","localStorageSupported","LOCAL_STORAGE","LANDING_PAGE_SEEN","landingPageSeen","ModalStoreClass","TOGGLE_DELETE_POST_MODAL","TOGGLE_QUICK_SWITCH_MODAL","dispatchToken","handleEventPayload","listenerOptions","capture","modifierKeys","ctrlIsPressed","altIsPressed","shiftIsPressed","lastInputEventIsKeyboard","tabKeyIsPressed","TILDE","regions","tildeKeyIsPressed","previousRegion","nextRegion","F6","f6KeyIsPressed","navigationInProgress","sections","upArrowKeyIsPressed","shouldReverseSections","nextSection","previousSection","downArrowKeyIsPressed","enterKeyIsPressed","SPACE","lKeyIsPressed","resetInterractionStates","mouseIsPressed","windowIsFocused","nextElement","updateActiveRegion","focusedElement","activeRegion","udpateCurrentFocus","updateActiveElement","regionHTMLCollection","getAllRegions","sectionHTMLCollection","modalHTMLCollection","getAllModals","popupHTMLCollection","getAllPopups","resetNavigation","KEY_DOWN","KEY_UP","CLICK","handleMouseClick","MOUSE_DOWN","handleMouseDown","MOUSE_UP","FOCUS","BLUR","handleWindowBlur","clearActiveRegion","clearCurrentFocus","isElementValid","modalIsOpen","popupIsOpen","domElements","sortElementsByAttributeOrder","elementIsVisible","activeRegionIndex","activeSectionIndex","getOrderReverseAttribute","a11yKeyIsPressed","newRegion","setActiveRegion","setCurrentFocus","shouldLoopNavigation","getLoopNavigationAttribute","newSection","setActiveSection","elementPath","region","pathElement","A11yClassNames","REGION","SECTION","setActiveElement","canFocusChild","handleActiveRegionUpdate","getAllSectionsForRegion","getFocusChildAttribute","clearActiveSection","handleActiveSectionUpdate","clearActiveElement","handleActiveElementUpdate","ACTIVE","forceUpdate","FOCUSED","blurActiveElement","elementA","elementB","elementAOrder","A11yAttributeNames","SORT_ORDER","elementBOrder","MODAL","POPUP","attributeValue","LOOP_NAVIGATION","ORDER_REVERSE","FOCUS_CHILD","invalidElements","timer","fire","query","noop","defaults","first","second","dragenter","enterEvent","CustomEvent","dragleave","leaveEvent","dragover","overEvent","dropEvent","unbindEvents","emojiA","emojiB","searchedName","aName","bName","aPrefix","bPrefix","enableFileAttachments","EnableFileAttachments","enableMobileFileUpload","EnableMobileFileUpload","EnableMobileFileDownload","MAX_FILENAME_LENGTH","mimetype","mimeTypeSplitBySlash","mimeTypePrefix","mimeTypeSuffix","getExifOrientation","DataView","getUint16","byteLength","marker","getUint32","little","tags","getOrientationStyles","transformOrigin","exif2css","LICENSE_EXPIRY_NOTIFICATION","LICENSE_GRACE_PERIOD","timeDiff","RemoveMarkdown","outHref","getScheme","output","parser","Parser","processNodeDefinitions","ProcessNodeDefinitions","isValidNode","processingInstructions","replaceChildren","shouldProcessNode","attribs","processNode","hrefAttrib","mentionAttrib","callAtMention","emojiAttrib","latex","processDefaultNode","parseWithInstructions","parseTable","getData","columnText","column","noBreakSpace","textContent","tableHeaders","row","headerRow","spacers","formattedTable","importComponentSuccess","comp","createGetChildComponentsFunction","arrayOfComponents","locaiton","notFoundParams","PAGE_NOT_FOUND","mfaPaths","mfaAuthServices","MFA","EnableMultifactorAuthentication","EnforceMultifactorAuthentication","GuestAccountsEnforceMultifactorAuthentication","mfa_active","auth_service","ignoredComponents","aIgnoringComponents","bIgnoringComponents","isServerVersionGreaterThanOrEqualTo","currentVersion","compareVersion","currentVersionNumber","x","compareVersionNumber","compareTeamsByDisplayName","timeRegex","hours","minutes","seconds","ticks"],"mappings":"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","file":"5.7ae9d6bf2716c797077b.js","sourcesContent":["// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport * as AdminActions from 'mattermost-redux/actions/admin';\nimport * as UserActions from 'mattermost-redux/actions/users';\nimport * as TeamActions from 'mattermost-redux/actions/teams';\nimport {Client4} from 'mattermost-redux/client';\nimport {bindClientFunc} from 'mattermost-redux/actions/helpers';\n\nimport {emitUserLoggedOutEvent} from 'actions/global_actions.jsx';\nimport {getOnNavigationConfirmed} from 'selectors/views/admin';\nimport store from 'stores/redux_store.jsx';\nimport {ActionTypes} from 'utils/constants';\n\nconst dispatch = store.dispatch;\nconst getState = store.getState;\n\nexport async function reloadConfig(success, error) {\n    const {data, error: err} = await dispatch(AdminActions.reloadConfig());\n    if (data && success) {\n        dispatch(AdminActions.getConfig());\n        dispatch(AdminActions.getEnvironmentConfig());\n        success(data);\n    } else if (err && error) {\n        error({id: err.server_error_id, ...err});\n    }\n}\n\nexport async function adminResetMfa(userId, success, error) {\n    const {data, error: err} = await UserActions.updateUserMfa(userId, false)(dispatch, getState);\n    if (data && success) {\n        success(data);\n    } else if (err && error) {\n        error({id: err.server_error_id, ...err});\n    }\n}\n\nexport async function getClusterStatus(success, error) {\n    const {data, error: err} = await AdminActions.getClusterStatus()(dispatch, getState);\n    if (data && success) {\n        success(data);\n    } else if (err && error) {\n        error({id: err.server_error_id, ...err});\n    }\n}\n\nexport async function ldapTest(success, error) {\n    const {data, error: err} = await AdminActions.testLdap()(dispatch, getState);\n    if (data && success) {\n        success(data);\n    } else if (err && error) {\n        error({id: err.server_error_id, ...err});\n    }\n}\n\nexport async function invalidateAllCaches(success, error) {\n    const {data, error: err} = await AdminActions.invalidateCaches()(dispatch, getState);\n    if (data && success) {\n        success(data);\n    } else if (err && error) {\n        error({id: err.server_error_id, ...err});\n    }\n}\n\nexport async function recycleDatabaseConnection(success, error) {\n    const {data, error: err} = await AdminActions.recycleDatabase()(dispatch, getState);\n    if (data && success) {\n        success(data);\n    } else if (err && error) {\n        error({id: err.server_error_id, ...err});\n    }\n}\n\nexport async function adminResetPassword(userId, currentPassword, password, success, error) {\n    const {data, error: err} = await UserActions.updateUserPassword(userId, currentPassword, password)(dispatch, getState);\n    if (data && success) {\n        success(data);\n    } else if (err && error) {\n        error({id: err.server_error_id, ...err});\n    }\n}\n\nexport async function adminResetEmail(user, success, error) {\n    const {data, error: err} = await UserActions.patchUser(user)(dispatch, getState);\n    if (data && success) {\n        success(data);\n    } else if (err && error) {\n        error({id: err.server_error_id, ...err});\n    }\n}\n\nexport async function samlCertificateStatus(success, error) {\n    const {data, error: err} = await AdminActions.getSamlCertificateStatus()(dispatch, getState);\n    if (data && success) {\n        success(data);\n    } else if (err && error) {\n        error({id: err.server_error_id, ...err});\n    }\n}\n\nexport function getOAuthAppInfo(clientId) {\n    return bindClientFunc({\n        clientFunc: Client4.getOAuthAppInfo,\n        params: [clientId],\n    });\n}\n\nexport function allowOAuth2({responseType, clientId, redirectUri, state, scope}) {\n    return bindClientFunc({\n        clientFunc: Client4.authorizeOAuthApp,\n        params: [responseType, clientId, redirectUri, state, scope],\n    });\n}\n\nexport async function emailToLdap(loginId, password, token, ldapId, ldapPassword, success, error) {\n    const {data, error: err} = await UserActions.switchEmailToLdap(loginId, password, ldapId, ldapPassword, token)(dispatch, getState);\n    if (data && success) {\n        success(data);\n    } else if (err && error) {\n        error({id: err.server_error_id, ...err});\n    }\n}\n\nexport async function emailToOAuth(loginId, password, token, newType, success, error) {\n    const {data, error: err} = await UserActions.switchEmailToOAuth(newType, loginId, password, token)(dispatch, getState);\n    if (data && success) {\n        success(data);\n    } else if (err && error) {\n        error({id: err.server_error_id, ...err});\n    }\n}\n\nexport async function oauthToEmail(currentService, email, password, success, error) {\n    const {data, error: err} = await UserActions.switchOAuthToEmail(currentService, email, password)(dispatch, getState);\n    if (data) {\n        if (data.follow_link) {\n            emitUserLoggedOutEvent(data.follow_link);\n        }\n        if (success) {\n            success(data);\n        }\n    } else if (err && error) {\n        error({id: err.server_error_id, ...err});\n    }\n}\n\nexport async function uploadBrandImage(brandImage, success, error) {\n    const {data, error: err} = await AdminActions.uploadBrandImage(brandImage)(dispatch, getState);\n    if (data && success) {\n        success(data);\n    } else if (err && error) {\n        error({id: err.server_error_id, ...err});\n    }\n}\n\nexport async function deleteBrandImage(success, error) {\n    const {data, error: err} = await AdminActions.deleteBrandImage()(dispatch, getState);\n    if (data && success) {\n        success(data);\n    } else if (err && error) {\n        error({id: err.server_error_id, ...err});\n    }\n}\n\nexport async function uploadPublicSamlCertificate(file, success, error) {\n    const {data, error: err} = await AdminActions.uploadPublicSamlCertificate(file)(dispatch, getState);\n    if (data && success) {\n        success('saml-public.crt');\n    } else if (err && error) {\n        error({id: err.server_error_id, ...err});\n    }\n}\n\nexport async function uploadPrivateSamlCertificate(file, success, error) {\n    const {data, error: err} = await AdminActions.uploadPrivateSamlCertificate(file)(dispatch, getState);\n    if (data && success) {\n        success('saml-private.key');\n    } else if (err && error) {\n        error({id: err.server_error_id, ...err});\n    }\n}\n\nexport async function uploadIdpSamlCertificate(file, success, error) {\n    const {data, error: err} = await AdminActions.uploadIdpSamlCertificate(file)(dispatch, getState);\n    if (data && success) {\n        success('saml-idp.crt');\n    } else if (err && error) {\n        error({id: err.server_error_id, ...err});\n    }\n}\n\nexport async function removePublicSamlCertificate(success, error) {\n    const {data, error: err} = await AdminActions.removePublicSamlCertificate()(dispatch, getState);\n    if (data && success) {\n        success(data);\n    } else if (err && error) {\n        error({id: err.server_error_id, ...err});\n    }\n}\n\nexport async function removePrivateSamlCertificate(success, error) {\n    const {data, error: err} = await AdminActions.removePrivateSamlCertificate()(dispatch, getState);\n    if (data && success) {\n        success(data);\n    } else if (err && error) {\n        error({id: err.server_error_id, ...err});\n    }\n}\n\nexport async function removeIdpSamlCertificate(success, error) {\n    const {data, error: err} = await AdminActions.removeIdpSamlCertificate()(dispatch, getState);\n    if (data && success) {\n        success(data);\n    } else if (err && error) {\n        error({id: err.server_error_id, ...err});\n    }\n}\n\nexport async function getStandardAnalytics(teamId) {\n    await AdminActions.getStandardAnalytics(teamId)(dispatch, getState);\n}\n\nexport async function getAdvancedAnalytics(teamId) {\n    await AdminActions.getAdvancedAnalytics(teamId)(dispatch, getState);\n}\n\nexport async function getBotPostsPerDayAnalytics(teamId) {\n    await AdminActions.getBotPostsPerDayAnalytics(teamId)(dispatch, getState);\n}\n\nexport async function getPostsPerDayAnalytics(teamId) {\n    await AdminActions.getPostsPerDayAnalytics(teamId)(dispatch, getState);\n}\n\nexport async function getUsersPerDayAnalytics(teamId) {\n    await AdminActions.getUsersPerDayAnalytics(teamId)(dispatch, getState);\n}\n\nexport async function elasticsearchTest(config, success, error) {\n    const {data, error: err} = await AdminActions.testElasticsearch(config)(dispatch, getState);\n    if (data && success) {\n        success(data);\n    } else if (err && error) {\n        error({id: err.server_error_id, ...err});\n    }\n}\n\nexport async function testS3Connection(success, error) {\n    const {data, error: err} = await AdminActions.testS3Connection()(dispatch, getState);\n    if (data && success) {\n        success(data);\n    } else if (err && error) {\n        error({id: err.server_error_id, ...err});\n    }\n}\n\nexport async function elasticsearchPurgeIndexes(success, error) {\n    const {data, error: err} = await AdminActions.purgeElasticsearchIndexes()(dispatch, getState);\n    if (data && success) {\n        success(data);\n    } else if (err && error) {\n        error({id: err.server_error_id, ...err});\n    }\n}\n\nexport function setNavigationBlocked(blocked) {\n    return {\n        type: ActionTypes.SET_NAVIGATION_BLOCKED,\n        blocked,\n    };\n}\n\nexport function deferNavigation(onNavigationConfirmed) {\n    return {\n        type: ActionTypes.DEFER_NAVIGATION,\n        onNavigationConfirmed,\n    };\n}\n\nexport function cancelNavigation() {\n    return {\n        type: ActionTypes.CANCEL_NAVIGATION,\n    };\n}\n\nexport function confirmNavigation() {\n    // have to rename these because of lint no-shadow\n    return (thunkDispatch, thunkGetState) => {\n        const callback = getOnNavigationConfirmed(thunkGetState());\n\n        if (callback) {\n            callback();\n        }\n\n        thunkDispatch({\n            type: ActionTypes.CONFIRM_NAVIGATION,\n        });\n    };\n}\n\nexport async function invalidateAllEmailInvites(success, error) {\n    const {data, error: err} = await dispatch(TeamActions.invalidateAllEmailInvites());\n    if (data && success) {\n        success(data);\n    } else if (err && error) {\n        error({id: err.server_error_id, ...err});\n    }\n}\n\nexport async function testSmtp(success, error) {\n    const {data, error: err} = await dispatch(AdminActions.testEmail());\n    if (data && success) {\n        success(data);\n    } else if (err && error) {\n        error({id: err.server_error_id, ...err});\n    }\n}\n\nexport function registerAdminConsolePlugin(pluginId, reducer) {\n    return (storeDispatch) => {\n        storeDispatch({\n            type: ActionTypes.RECEIVED_ADMIN_CONSOLE_REDUCER,\n            data: {\n                pluginId,\n                reducer,\n            },\n        });\n    };\n}\n\nexport function unregisterAdminConsolePlugin(pluginId) {\n    return (storeDispatch) => {\n        storeDispatch({\n            type: ActionTypes.REMOVED_ADMIN_CONSOLE_REDUCER,\n            data: {\n                pluginId,\n            },\n        });\n    };\n}\n\nexport async function testSiteURL(success, error, siteURL) {\n    const {data, error: err} = await dispatch(AdminActions.testSiteURL(siteURL));\n    if (data && success) {\n        success(data);\n    } else if (err && error) {\n        error({id: err.server_error_id, ...err});\n    }\n}\n\nexport function registerAdminConsoleCustomSetting(pluginId, key, component, {showTitle}) {\n    return (storeDispatch) => {\n        storeDispatch({\n            type: ActionTypes.RECEIVED_ADMIN_CONSOLE_CUSTOM_COMPONENT,\n            data: {\n                pluginId,\n                key,\n                component,\n                options: {showTitle},\n            },\n        });\n    };\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {batchActions} from 'redux-batched-actions';\n\nimport {PreferenceTypes} from 'mattermost-redux/action_types';\nimport * as ChannelActions from 'mattermost-redux/actions/channels';\nimport {savePreferences} from 'mattermost-redux/actions/preferences';\nimport {getMyChannelMemberships} from 'mattermost-redux/selectors/entities/common';\nimport {getChannelByName, getUnreadChannelIds, getChannel} from 'mattermost-redux/selectors/entities/channels';\nimport {getCurrentTeamUrl, getCurrentTeamId} from 'mattermost-redux/selectors/entities/teams';\nimport {getCurrentUserId} from 'mattermost-redux/selectors/entities/users';\n\nimport {trackEvent} from 'actions/diagnostics_actions.jsx';\nimport {loadNewDMIfNeeded, loadNewGMIfNeeded, loadProfilesForSidebar} from 'actions/user_actions.jsx';\nimport {browserHistory} from 'utils/browser_history';\nimport {Constants, Preferences} from 'utils/constants';\nimport {getDirectChannelName} from 'utils/utils';\n\nexport function openDirectChannelToUserId(userId) {\n    return async (dispatch, getState) => {\n        const state = getState();\n        const currentUserId = getCurrentUserId(state);\n        const channelName = getDirectChannelName(currentUserId, userId);\n        const channel = getChannelByName(state, channelName);\n\n        if (!channel) {\n            return dispatch(ChannelActions.createDirectChannel(currentUserId, userId));\n        }\n\n        trackEvent('api', 'api_channels_join_direct');\n        const now = Date.now();\n        const prefDirect = {\n            category: Preferences.CATEGORY_DIRECT_CHANNEL_SHOW,\n            name: userId,\n            value: 'true',\n        };\n        const prefOpenTime = {\n            category: Preferences.CATEGORY_CHANNEL_OPEN_TIME,\n            name: channel.id,\n            value: now.toString(),\n        };\n        const actions = [{\n            type: PreferenceTypes.RECEIVED_PREFERENCES,\n            data: [prefDirect],\n        }, {\n            type: PreferenceTypes.RECEIVED_PREFERENCES,\n            data: [prefOpenTime],\n        }];\n        dispatch(batchActions(actions));\n\n        dispatch(savePreferences(currentUserId, [\n            {user_id: currentUserId, ...prefDirect},\n            {user_id: currentUserId, ...prefOpenTime},\n        ]));\n\n        return {data: channel};\n    };\n}\n\nexport function openGroupChannelToUserIds(userIds) {\n    return async (dispatch, getState) => {\n        const result = await dispatch(ChannelActions.createGroupChannel(userIds));\n\n        if (result.error) {\n            browserHistory.push(getCurrentTeamUrl(getState()));\n        }\n\n        return result;\n    };\n}\n\nexport function loadChannelsForCurrentUser() {\n    return async (dispatch, getState) => {\n        const state = getState();\n        const unreads = getUnreadChannelIds(state);\n\n        await dispatch(ChannelActions.fetchMyChannelsAndMembers(getCurrentTeamId(state)));\n        for (const id of unreads) {\n            const channel = getChannel(state, id);\n            if (channel && channel.type === Constants.DM_CHANNEL) {\n                loadNewDMIfNeeded(channel.id);\n            } else if (channel && channel.type === Constants.GM_CHANNEL) {\n                loadNewGMIfNeeded(channel.id);\n            }\n        }\n\n        loadProfilesForSidebar();\n    };\n}\n\nexport function searchMoreChannels(term, showArchivedChannels) {\n    return async (dispatch, getState) => {\n        const state = getState();\n        const teamId = getCurrentTeamId(state);\n\n        if (!teamId) {\n            throw new Error('No team id');\n        }\n\n        const {data, error} = await dispatch(ChannelActions.searchChannels(teamId, term, showArchivedChannels));\n        if (data) {\n            const myMembers = getMyChannelMemberships(state);\n\n            // When searching public channels, only get channels user is not a member of\n            const channels = showArchivedChannels ? data : data.filter((c) => !myMembers[c.id]);\n            return {data: channels};\n        }\n\n        return {error};\n    };\n}\n\nexport function autocompleteChannels(term, success, error) {\n    return async (dispatch, getState) => {\n        const state = getState();\n        const teamId = getCurrentTeamId(state);\n        if (!teamId) {\n            return;\n        }\n\n        const {data, error: err} = await dispatch(ChannelActions.autocompleteChannels(teamId, term));\n        if (data && success) {\n            success(data);\n        } else if (err && error) {\n            error({id: err.server_error_id, ...err});\n        }\n    };\n}\n\nexport function autocompleteChannelsForSearch(term, success, error) {\n    return async (dispatch, getState) => {\n        const state = getState();\n        const teamId = getCurrentTeamId(state);\n\n        if (!teamId) {\n            return;\n        }\n\n        const {data, error: err} = await dispatch(ChannelActions.autocompleteChannelsForSearch(teamId, term));\n        if (data && success) {\n            success(data);\n        } else if (err && error) {\n            error({id: err.server_error_id, ...err});\n        }\n    };\n}\n\nexport function addUsersToChannel(channelId, userIds) {\n    return async (dispatch) => {\n        try {\n            const requests = userIds.map((uId) => dispatch(ChannelActions.addChannelMember(channelId, uId)));\n\n            return await Promise.all(requests);\n        } catch (error) {\n            return {error};\n        }\n    };\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {Client4} from 'mattermost-redux/client';\nimport {unfavoriteChannel} from 'mattermost-redux/actions/channels';\nimport {savePreferences} from 'mattermost-redux/actions/preferences';\nimport {getCurrentChannel, getRedirectChannelNameForTeam} from 'mattermost-redux/selectors/entities/channels';\nimport {getCurrentUserId} from 'mattermost-redux/selectors/entities/users';\nimport {getCurrentRelativeTeamUrl, getCurrentTeamId} from 'mattermost-redux/selectors/entities/teams';\nimport {IntegrationTypes} from 'mattermost-redux/action_types';\nimport {isFavoriteChannel} from 'mattermost-redux/utils/channel_utils';\n\nimport {openModal} from 'actions/views/modals';\nimport * as GlobalActions from 'actions/global_actions.jsx';\nimport * as PostActions from 'actions/post_actions.jsx';\n\nimport {isUrlSafe, getSiteURL} from 'utils/url';\nimport {localizeMessage, getUserIdFromChannelName} from 'utils/utils.jsx';\nimport * as UserAgent from 'utils/user_agent';\nimport {Constants, ModalIdentifiers} from 'utils/constants';\nimport {browserHistory} from 'utils/browser_history';\n\nimport UserSettingsModal from 'components/user_settings/modal';\n\nexport function executeCommand(message, args) {\n    return async (dispatch, getState) => {\n        const state = getState();\n\n        let msg = message;\n\n        let cmdLength = msg.indexOf(' ');\n        if (cmdLength < 0) {\n            cmdLength = msg.length;\n        }\n        const cmd = msg.substring(0, cmdLength).toLowerCase();\n        msg = cmd + ' ' + msg.substring(cmdLength, msg.length).trim();\n\n        switch (cmd) {\n        case '/search':\n            dispatch(PostActions.searchForTerm(msg.substring(cmdLength + 1, msg.length)));\n            return {data: true};\n        case '/shortcuts':\n            if (UserAgent.isMobile()) {\n                const error = {message: localizeMessage('create_post.shortcutsNotSupported', 'Keyboard shortcuts are not supported on your device')};\n                return {error};\n            }\n\n            GlobalActions.toggleShortcutsModal();\n            return {data: true};\n        case '/leave': {\n        // /leave command not supported in reply threads.\n            if (args.channel_id && (args.root_id || args.parent_id)) {\n                GlobalActions.sendEphemeralPost('/leave is not supported in reply threads. Use it in the center channel instead.', args.channel_id, args.parent_id);\n                return {data: true};\n            }\n            const channel = getCurrentChannel(state);\n            if (channel.type === Constants.PRIVATE_CHANNEL) {\n                GlobalActions.showLeavePrivateChannelModal(channel);\n                return {data: true};\n            } else if (\n                channel.type === Constants.DM_CHANNEL ||\n                channel.type === Constants.GM_CHANNEL\n            ) {\n                let name;\n                let category;\n                if (channel.type === Constants.DM_CHANNEL) {\n                    name = getUserIdFromChannelName(channel);\n                    category = Constants.Preferences.CATEGORY_DIRECT_CHANNEL_SHOW;\n                } else {\n                    name = channel.id;\n                    category = Constants.Preferences.CATEGORY_GROUP_CHANNEL_SHOW;\n                }\n                const currentUserId = getCurrentUserId(state);\n                const currentTeamId = getCurrentTeamId(state);\n                const redirectChannel = getRedirectChannelNameForTeam(state, currentTeamId);\n                const teamUrl = getCurrentRelativeTeamUrl(state);\n                browserHistory.push(`${teamUrl}/channels/${redirectChannel}`);\n\n                dispatch(savePreferences(currentUserId, [{category, name, user_id: currentUserId, value: 'false'}]));\n                if (isFavoriteChannel(channel)) {\n                    dispatch(unfavoriteChannel(channel.id));\n                }\n\n                return {data: true};\n            }\n            break;\n        }\n        case '/settings':\n            dispatch(openModal({ModalId: ModalIdentifiers.USER_SETTINGS, dialogType: UserSettingsModal}));\n            return {data: true};\n        case '/collapse':\n        case '/expand':\n            dispatch(PostActions.resetEmbedVisibility());\n        }\n\n        let data;\n        try {\n            data = await Client4.executeCommand(msg, args);\n        } catch (err) {\n            return {error: err};\n        }\n\n        const hasGotoLocation = data.goto_location && isUrlSafe(data.goto_location);\n\n        if (msg.trim() === '/logout') {\n            GlobalActions.emitUserLoggedOutEvent(hasGotoLocation ? data.goto_location : '/');\n            return {data: true};\n        }\n\n        if (data.trigger_id) {\n            dispatch({type: IntegrationTypes.RECEIVED_DIALOG_TRIGGER_ID, data: data.trigger_id});\n        }\n\n        if (hasGotoLocation) {\n            if (data.goto_location.startsWith('/')) {\n                browserHistory.push(data.goto_location);\n            } else if (data.goto_location.startsWith(getSiteURL())) {\n                browserHistory.push(data.goto_location.substr(getSiteURL().length));\n            } else {\n                window.open(data.goto_location);\n            }\n        }\n\n        return {data: true};\n    };\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {batchActions} from 'redux-batched-actions';\nimport request from 'superagent';\nimport {FileTypes} from 'mattermost-redux/action_types';\nimport {getLogErrorAction} from 'mattermost-redux/actions/errors';\nimport {forceLogoutIfNecessary} from 'mattermost-redux/actions/helpers';\nimport {Client4} from 'mattermost-redux/client';\n\nimport * as Utils from 'utils/utils.jsx';\n\nexport function uploadFile(file, name, channelId, rootId, clientId) {\n    return (dispatch) => {\n        dispatch({type: FileTypes.UPLOAD_FILES_REQUEST});\n\n        return request.\n            post(Client4.getFilesRoute()).\n            set(Client4.getOptions({method: 'post'}).headers).\n            attach('files', file, name).\n            field('channel_id', channelId).\n            field('client_ids', clientId).\n            accept('application/json');\n    };\n}\n\nexport function handleFileUploadEnd(file, name, channelId, rootId, clientId, {err, res}) {\n    return (dispatch, getState) => {\n        if (err) {\n            let e;\n            if (res && res.body && res.body.id) {\n                e = res.body;\n            } else if (err.status === 0 || !err.status) {\n                e = {message: Utils.localizeMessage('file_upload.generic_error', 'There was a problem uploading your files.')};\n            } else {\n                e = {message: Utils.localizeMessage('channel_loader.unknown_error', 'We received an unexpected status code from the server.') + ' (' + err.status + ')'};\n            }\n\n            forceLogoutIfNecessary(err, dispatch, getState);\n\n            const failure = {\n                type: FileTypes.UPLOAD_FILES_FAILURE,\n                clientIds: [clientId],\n                channelId,\n                rootId,\n                error: err,\n            };\n\n            dispatch(batchActions([failure, getLogErrorAction(err)]));\n            return {error: e};\n        }\n        const data = res.body.file_infos.map((fileInfo, index) => {\n            return {\n                ...fileInfo,\n                clientId: res.body.client_ids[index],\n            };\n        });\n\n        dispatch(batchActions([\n            {\n                type: FileTypes.RECEIVED_UPLOAD_FILES,\n                data,\n                channelId,\n                rootId,\n            },\n            {\n                type: FileTypes.UPLOAD_FILES_SUCCESS,\n            },\n        ]));\n\n        return {data: res.body};\n    };\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {batchActions} from 'redux-batched-actions';\n\nimport {\n    createDirectChannel,\n    fetchMyChannelsAndMembers,\n    getChannelByNameAndTeamName,\n    getChannelStats,\n    selectChannel,\n} from 'mattermost-redux/actions/channels';\nimport {logout, loadMe} from 'mattermost-redux/actions/users';\nimport {getConfig} from 'mattermost-redux/selectors/entities/general';\nimport {getCurrentTeamId, getMyTeams, getTeam, getMyTeamMember, getTeamMemberships} from 'mattermost-redux/selectors/entities/teams';\nimport {getCurrentUser, getCurrentUserId} from 'mattermost-redux/selectors/entities/users';\nimport {getCurrentChannelStats, getCurrentChannelId, getMyChannelMember, getRedirectChannelNameForTeam, getChannelsNameMapInTeam} from 'mattermost-redux/selectors/entities/channels';\nimport {ChannelTypes} from 'mattermost-redux/action_types';\n\nimport {browserHistory} from 'utils/browser_history';\nimport {handleNewPost} from 'actions/post_actions.jsx';\nimport {stopPeriodicStatusUpdates} from 'actions/status_actions.jsx';\nimport {loadProfilesForSidebar} from 'actions/user_actions.jsx';\nimport {closeRightHandSide, closeMenu as closeRhsMenu, updateRhsState} from 'actions/views/rhs';\nimport {clearUserCookie} from 'actions/views/cookie';\nimport {close as closeLhs} from 'actions/views/lhs';\nimport * as WebsocketActions from 'actions/websocket_actions.jsx';\nimport AppDispatcher from 'dispatcher/app_dispatcher.jsx';\nimport {getCurrentLocale} from 'selectors/i18n';\nimport {getIsRhsOpen, getRhsState} from 'selectors/rhs';\nimport BrowserStore from 'stores/browser_store.jsx';\nimport store from 'stores/redux_store.jsx';\nimport LocalStorageStore from 'stores/local_storage_store';\nimport WebSocketClient from 'client/web_websocket_client.jsx';\n\nimport {ActionTypes, Constants, PostTypes, RHSStates, ModalIdentifiers} from 'utils/constants';\nimport {filterAndSortTeamsByDisplayName} from 'utils/team_utils.jsx';\nimport * as Utils from 'utils/utils.jsx';\nimport SubMenuModal from '../components/widgets/menu/menu_modals/submenu_modal/submenu_modal';\n\nimport {openModal} from './views/modals';\n\nconst dispatch = store.dispatch;\nconst getState = store.getState;\n\nexport function emitChannelClickEvent(channel) {\n    async function userVisitedFakeChannel(chan, success, fail) {\n        const state = getState();\n        const currentUserId = getCurrentUserId(state);\n        const otherUserId = Utils.getUserIdFromChannelName(chan);\n        const {data: receivedChannel} = await createDirectChannel(currentUserId, otherUserId)(dispatch, getState);\n        if (receivedChannel) {\n            success(receivedChannel);\n        } else {\n            fail();\n        }\n    }\n    function switchToChannel(chan) {\n        const state = getState();\n        const userId = getCurrentUserId(state);\n        const teamId = chan.team_id || getCurrentTeamId(state);\n        const isRHSOpened = getIsRhsOpen(state);\n        const isPinnedPostsShowing = getRhsState(state) === RHSStates.PIN;\n        const member = getMyChannelMember(state, chan.id);\n\n        dispatch(getChannelStats(chan.id));\n\n        if (chan.delete_at === 0) {\n            const penultimate = LocalStorageStore.getPreviousChannelName(userId, teamId);\n            if (penultimate !== chan.name) {\n                LocalStorageStore.setPenultimateChannelName(userId, teamId, penultimate);\n                LocalStorageStore.setPreviousChannelName(userId, teamId, chan.name);\n            }\n        }\n\n        // When switching to a different channel if the pinned posts is showing\n        // Update the RHS state to reflect the pinned post of the selected channel\n        if (isRHSOpened && isPinnedPostsShowing) {\n            dispatch(updateRhsState(RHSStates.PIN, chan.id));\n        }\n\n        loadProfilesForSidebar();\n\n        dispatch(batchActions([{\n            type: ChannelTypes.SELECT_CHANNEL,\n            data: chan.id,\n        }, {\n            type: ActionTypes.SELECT_CHANNEL_WITH_MEMBER,\n            data: chan.id,\n            channel: chan,\n            member: member || {},\n        }]));\n    }\n\n    if (channel.fake) {\n        userVisitedFakeChannel(\n            channel,\n            (data) => {\n                switchToChannel(data);\n            },\n            () => {\n                browserHistory.push('/' + this.state.currentTeam.name);\n            }\n        );\n    } else {\n        switchToChannel(channel);\n    }\n}\n\nexport function emitCloseRightHandSide() {\n    dispatch(closeRightHandSide());\n}\n\nexport function toggleShortcutsModal() {\n    AppDispatcher.handleViewAction({\n        type: ActionTypes.TOGGLE_SHORTCUTS_MODAL,\n        value: true,\n    });\n}\n\nexport function showChannelPurposeUpdateModal(channel) {\n    AppDispatcher.handleViewAction({\n        type: ActionTypes.TOGGLE_CHANNEL_PURPOSE_UPDATE_MODAL,\n        value: true,\n        channel,\n    });\n}\n\nexport function showChannelNameUpdateModal(channel) {\n    AppDispatcher.handleViewAction({\n        type: ActionTypes.TOGGLE_CHANNEL_NAME_UPDATE_MODAL,\n        value: true,\n        channel,\n    });\n}\n\nexport function showGetPostLinkModal(post) {\n    AppDispatcher.handleViewAction({\n        type: ActionTypes.TOGGLE_GET_POST_LINK_MODAL,\n        value: true,\n        post,\n    });\n}\n\nexport function showGetPublicLinkModal(fileId) {\n    AppDispatcher.handleViewAction({\n        type: ActionTypes.TOGGLE_GET_PUBLIC_LINK_MODAL,\n        value: true,\n        fileId,\n    });\n}\n\nexport function showGetTeamInviteLinkModal() {\n    AppDispatcher.handleViewAction({\n        type: Constants.ActionTypes.TOGGLE_GET_TEAM_INVITE_LINK_MODAL,\n        value: true,\n    });\n}\n\nexport function showLeavePrivateChannelModal(channel) {\n    AppDispatcher.handleViewAction({\n        type: ActionTypes.TOGGLE_LEAVE_PRIVATE_CHANNEL_MODAL,\n        value: channel,\n    });\n}\n\nexport function showMobileSubMenuModal(elements) {\n    const submenuModalData = {\n        ModalId: ModalIdentifiers.MOBILE_SUBMENU,\n        dialogType: SubMenuModal,\n        dialogProps: {\n            elements,\n        },\n    };\n\n    dispatch(openModal(submenuModalData));\n}\n\nexport function sendEphemeralPost(message, channelId, parentId) {\n    const timestamp = Utils.getTimestamp();\n    const post = {\n        id: Utils.generateId(),\n        user_id: '0',\n        channel_id: channelId || getCurrentChannelId(getState()),\n        message,\n        type: PostTypes.EPHEMERAL,\n        create_at: timestamp,\n        update_at: timestamp,\n        root_id: parentId,\n        parent_id: parentId,\n        props: {},\n    };\n\n    dispatch(handleNewPost(post));\n}\n\nexport function sendAddToChannelEphemeralPost(user, addedUsername, addedUserId, channelId, postRootId = '', timestamp) {\n    const post = {\n        id: Utils.generateId(),\n        user_id: user.id,\n        channel_id: channelId || getCurrentChannelId(getState()),\n        message: '',\n        type: PostTypes.EPHEMERAL_ADD_TO_CHANNEL,\n        create_at: timestamp,\n        update_at: timestamp,\n        root_id: postRootId,\n        parent_id: postRootId,\n        props: {\n            username: user.username,\n            addedUsername,\n            addedUserId,\n        },\n    };\n\n    dispatch(handleNewPost(post));\n}\n\nlet lastTimeTypingSent = 0;\nexport function emitLocalUserTypingEvent(channelId, parentPostId) {\n    const userTyping = async (actionDispatch, actionGetState) => {\n        const state = actionGetState();\n        const config = getConfig(state);\n        const t = Date.now();\n        const stats = getCurrentChannelStats(state);\n        const membersInChannel = stats ? stats.member_count : 0;\n\n        if (((t - lastTimeTypingSent) > config.TimeBetweenUserTypingUpdatesMilliseconds) &&\n            (membersInChannel < config.MaxNotificationsPerChannel) && (config.EnableUserTypingMessages === 'true')) {\n            WebSocketClient.userTyping(channelId, parentPostId);\n            lastTimeTypingSent = t;\n        }\n\n        return {data: true};\n    };\n\n    return dispatch(userTyping);\n}\n\nexport function emitUserLoggedOutEvent(redirectTo = '/', shouldSignalLogout = true, userAction = true) {\n    // If the logout was intentional, discard knowledge about having previously been logged in.\n    // This bit is otherwise used to detect session expirations on the login page.\n    if (userAction) {\n        LocalStorageStore.setWasLoggedIn(false);\n    }\n\n    dispatch(logout()).then(() => {\n        if (shouldSignalLogout) {\n            BrowserStore.signalLogout();\n        }\n\n        BrowserStore.clear();\n        stopPeriodicStatusUpdates();\n        WebsocketActions.close();\n\n        clearUserCookie();\n\n        browserHistory.push(redirectTo);\n    }).catch(() => {\n        browserHistory.push(redirectTo);\n    });\n}\n\nexport function toggleSideBarRightMenuAction() {\n    return (doDispatch) => {\n        doDispatch(closeRightHandSide());\n        doDispatch(closeLhs());\n        doDispatch(closeRhsMenu());\n    };\n}\n\nexport function emitBrowserFocus(focus) {\n    dispatch({\n        type: ActionTypes.BROWSER_CHANGE_FOCUS,\n        focus,\n    });\n}\n\nasync function getTeamRedirectChannelIfIsAccesible(user, team) {\n    let state = getState();\n    let channel = null;\n\n    const myMember = getMyTeamMember(state, team.id);\n    if (!myMember || Object.keys(myMember).length === 0) {\n        return null;\n    }\n\n    let teamChannels = getChannelsNameMapInTeam(state, team.id);\n    if (!teamChannels || Object.keys(teamChannels).length === 0) {\n        // This should be executed in pretty limited scenarios (empty teams)\n        await dispatch(fetchMyChannelsAndMembers(team.id)); // eslint-disable-line no-await-in-loop\n        state = getState();\n        teamChannels = getChannelsNameMapInTeam(state, team.id);\n    }\n\n    let channelName = LocalStorageStore.getPreviousChannelName(user.id, team.id);\n    channel = teamChannels[channelName];\n    let channelMember = getMyChannelMember(state, channel && channel.id);\n\n    if (!channel || !channelMember) {\n        // This should be executed in pretty limited scenarios (when the last visited channel in the team has been removed)\n        await dispatch(getChannelByNameAndTeamName(team.name, channelName)); // eslint-disable-line no-await-in-loop\n        state = getState();\n        teamChannels = getChannelsNameMapInTeam(state, team.id);\n        channel = teamChannels[channelName];\n        channelMember = getMyChannelMember(state, channel && channel.id);\n    }\n\n    if (!channel || !channelMember) {\n        channelName = getRedirectChannelNameForTeam(state, team.id);\n        channel = teamChannels[channelName];\n        channelMember = getMyChannelMember(state, channel && channel.id);\n    }\n\n    if (channel && channelMember) {\n        return channel;\n    }\n    return null;\n}\n\nexport async function redirectUserToDefaultTeam() {\n    let state = getState();\n\n    // Assume we need to load the user if they don't have any team memberships loaded or the user loaded\n    let user = getCurrentUser(state);\n    const shouldLoadUser = Utils.isEmptyObject(getTeamMemberships(state)) || !user;\n\n    if (shouldLoadUser) {\n        await dispatch(loadMe());\n        state = getState();\n        user = getCurrentUser(state);\n    }\n\n    if (!user) {\n        return;\n    }\n\n    const locale = getCurrentLocale(state);\n    const teamId = LocalStorageStore.getPreviousTeamId(user.id);\n\n    let myTeams = getMyTeams(state);\n    if (myTeams.length === 0) {\n        browserHistory.push('/select_team');\n        return;\n    }\n\n    const team = getTeam(state, teamId);\n    if (team) {\n        const channel = await getTeamRedirectChannelIfIsAccesible(user, team);\n        if (channel) {\n            dispatch(selectChannel(channel.id));\n            browserHistory.push(`/${team.name}/channels/${channel.name}`);\n            return;\n        }\n    }\n\n    myTeams = filterAndSortTeamsByDisplayName(myTeams, locale);\n\n    for (const myTeam of myTeams) {\n        // This should execute async behavior in a pretty limited set of situations, so shouldn't be a problem\n        const channel = await getTeamRedirectChannelIfIsAccesible(user, myTeam); // eslint-disable-line no-await-in-loop\n        if (channel) {\n            dispatch(selectChannel(channel.id));\n            browserHistory.push(`/${myTeam.name}/channels/${channel.name}`);\n            return;\n        }\n    }\n\n    browserHistory.push('/select_team');\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nexport function runMessageWillBePostedHooks(originalPost) {\n    return async (dispatch, getState) => {\n        const hooks = getState().plugins.components.MessageWillBePosted;\n        if (!hooks || hooks.length === 0) {\n            return {data: originalPost};\n        }\n\n        let post = originalPost;\n\n        for (const hook of hooks) {\n            const result = await hook.hook(post); // eslint-disable-line no-await-in-loop\n\n            if (result) {\n                if (result.error) {\n                    return {\n                        error: result.error,\n                    };\n                }\n\n                post = result.post;\n            }\n        }\n\n        return {data: post};\n    };\n}\n\nexport function runSlashCommandWillBePostedHooks(originalMessage, originalArgs) {\n    return async (dispatch, getState) => {\n        const hooks = getState().plugins.components.SlashCommandWillBePosted;\n        if (!hooks || hooks.length === 0) {\n            return {data: {message: originalMessage, args: originalArgs}};\n        }\n\n        let message = originalMessage;\n        let args = originalArgs;\n\n        for (const hook of hooks) {\n            const result = await hook.hook(message, args); // eslint-disable-line no-await-in-loop\n\n            if (result) {\n                if (result.error) {\n                    return {\n                        error: result.error,\n                    };\n                }\n\n                message = result.message;\n                args = result.args;\n            }\n        }\n\n        return {data: {message, args}};\n    };\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport * as TeamActions from 'mattermost-redux/actions/teams';\nimport {getTeamMember} from 'mattermost-redux/selectors/entities/teams';\nimport {getChannelMembersInChannels} from 'mattermost-redux/selectors/entities/channels';\nimport {joinChannel} from 'mattermost-redux/actions/channels';\n\nimport {addUsersToTeam} from 'actions/team_actions';\n\nimport {t} from 'utils/i18n';\nimport {isGuest, localizeMessage} from 'utils/utils';\n\nexport function sendMembersInvites(teamId, users, emails) {\n    return async (dispatch, getState) => {\n        if (users.length > 0) {\n            await dispatch(TeamActions.getTeamMembersByIds(teamId, users.map((u) => u.id)));\n        }\n        const state = getState();\n        const sent = [];\n        const notSent = [];\n        const usersToAdd = [];\n        for (const user of users) {\n            const member = getTeamMember(state, teamId, user.id);\n            if (isGuest(user)) {\n                notSent.push({user, reason: localizeMessage('invite.members.user-is-guest', 'Contact your admin to make this guest a full member.')});\n            } else if (member) {\n                notSent.push({user, reason: localizeMessage('invite.members.already-member', 'This person is already a team member.')});\n            } else {\n                usersToAdd.push(user);\n            }\n        }\n        if (usersToAdd.length > 0) {\n            let response;\n            try {\n                response = await dispatch(addUsersToTeam(teamId, usersToAdd.map((u) => u.id)));\n            } catch (e) {\n                response = {error: localizeMessage('invite.members.unable-to-add-the-user-to-the-team', 'Unable to add the user to the team.')};\n            }\n            for (const user of usersToAdd) {\n                if (response.error) {\n                    notSent.push({user, reason: response.error.toString()});\n                } else {\n                    sent.push({user, reason: localizeMessage('invite.members.added-to-team', 'This member has been added to the team.')});\n                }\n            }\n        }\n        if (emails.length > 0) {\n            let response;\n            try {\n                response = await dispatch(TeamActions.sendEmailInvitesToTeam(teamId, emails));\n            } catch (e) {\n                response = {error: localizeMessage('invite.members.unable-to-add-the-user-to-the-team', 'Unable to add the user to the team.')};\n            }\n            for (const email of emails) {\n                if (response.error) {\n                    notSent.push({email, reason: response.error.toString()});\n                } else {\n                    sent.push({email, reason: localizeMessage('invite.members.invite-sent', 'An invitation email has been sent.')});\n                }\n            }\n        }\n        return {sent, notSent};\n    };\n}\n\nexport async function sendGuestInviteForUser(dispatch, user, teamId, channels, members) {\n    if (!isGuest(user)) {\n        return {notSent: {user, reason: localizeMessage('invite.members.user-is-not-guest', 'This person is already a member.')}};\n    }\n    let memberOfAll = true;\n    let memberOfAny = false;\n\n    for (const channel of channels) {\n        const member = members && members[channel] && members[channel][user.id];\n        if (member) {\n            memberOfAny = true;\n        } else {\n            memberOfAll = false;\n        }\n    }\n\n    if (memberOfAll) {\n        return {notSent: {user, reason: localizeMessage('invite.guests.already-all-channels-member', 'This person is already a member of all the channels.')}};\n    }\n\n    try {\n        await dispatch(addUsersToTeam(teamId, [user.id]));\n        for (const channel of channels) {\n            const member = members && members[channel] && members[channel][user.id];\n            if (!member) {\n                await dispatch(joinChannel(user.id, teamId, channel)); // eslint-disable-line no-await-in-loop\n            }\n        }\n    } catch (e) {\n        return {notSent: {user, reason: localizeMessage('invite.guests.unable-to-add-the-user-to-the-channels', 'Unable to add the guest to the channels.')}};\n    }\n\n    if (memberOfAny) {\n        return {notSent: {user, reason: localizeMessage('invite.guests.already-some-channels-member', 'This person is already a member of some of the channels.')}};\n    }\n    return {sent: {user, reason: {id: t('invite.guests.new-member'), message: 'This guest has been added to the team and {count, plural, one {channel} other {channels}}.', values: {count: channels.length}}}};\n}\n\nexport function sendGuestsInvites(teamId, channels, users, emails, message) {\n    return async (dispatch, getState) => {\n        if (users.length > 0) {\n            await dispatch(TeamActions.getTeamMembersByIds(teamId, users.map((u) => u.id)));\n        }\n        const state = getState();\n        const sent = [];\n        const notSent = [];\n        const members = getChannelMembersInChannels(state);\n        const results = await Promise.all(users.map((user) => sendGuestInviteForUser(dispatch, user, teamId, channels, members)));\n\n        for (const result of results) {\n            if (result.sent) {\n                sent.push(result.sent);\n            }\n            if (result.notSent) {\n                notSent.push(result.notSent);\n            }\n        }\n\n        if (emails.length > 0) {\n            let response;\n            try {\n                response = await dispatch(TeamActions.sendEmailGuestInvitesToChannels(teamId, channels, emails, message));\n            } catch (e) {\n                response = {error: localizeMessage('invite.guests.unable-to-add-the-user-to-the-channels', 'Unable to add the guest to the channels.')};\n            }\n            for (const email of emails) {\n                if (response.error) {\n                    notSent.push({email, reason: response.error.toString()});\n                } else {\n                    sent.push({email, reason: localizeMessage('invite.guests.added-to-channel', 'An invitation email has been sent.')});\n                }\n            }\n        }\n        return {sent, notSent};\n    };\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {Client4} from 'mattermost-redux/client';\n\nimport {getFilter, getPlugin} from 'selectors/views/marketplace';\nimport {ActionTypes} from 'utils/constants';\n\n// fetchPlugins fetches the latest marketplace plugins, subject to any existing search filter.\nexport function fetchPlugins() {\n    return async (dispatch, getState) => {\n        const state = getState();\n        const filter = getFilter(state);\n\n        try {\n            const plugins = await Client4.getMarketplacePlugins(filter);\n\n            dispatch({\n                type: ActionTypes.RECEIVED_MARKETPLACE_PLUGINS,\n                plugins,\n            });\n\n            return {plugins};\n        } catch (error) {\n            return {error};\n        }\n    };\n}\n\n// installPlugin installs the latest version of the given plugin from the marketplace.\n//\n// On success, it also requests the current state of the plugins to reflect the newly installed plugin.\nexport function installPlugin(id, version) {\n    return async (dispatch, getState) => {\n        dispatch({\n            type: ActionTypes.INSTALLING_MARKETPLACE_PLUGIN,\n            id,\n        });\n\n        const state = getState();\n\n        const marketplacePlugin = getPlugin(state, id);\n        if (!marketplacePlugin) {\n            dispatch({\n                type: ActionTypes.INSTALLING_MARKETPLACE_PLUGIN_FAILED,\n                id,\n                error: 'Unknown plugin: ' + id,\n            });\n            return;\n        }\n\n        try {\n            await Client4.installMarketplacePlugin(id, version);\n        } catch (error) {\n            dispatch({\n                type: ActionTypes.INSTALLING_MARKETPLACE_PLUGIN_FAILED,\n                id,\n                error: error.message,\n            });\n            return;\n        }\n\n        await dispatch(fetchPlugins());\n        dispatch({\n            type: ActionTypes.INSTALLING_MARKETPLACE_PLUGIN_SUCCEEDED,\n            id,\n        });\n    };\n}\n\n// filterPlugins sets a search filter for marketplace plugins, fetching the latest data.\nexport function filterPlugins(filter) {\n    return async (dispatch) => {\n        dispatch({\n            type: ActionTypes.FILTER_MARKETPLACE_PLUGINS,\n            filter,\n        });\n\n        return dispatch(fetchPlugins());\n    };\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {TeamTypes} from 'mattermost-redux/action_types';\nimport {viewChannel, getChannelStats} from 'mattermost-redux/actions/channels';\nimport * as TeamActions from 'mattermost-redux/actions/teams';\nimport {getCurrentChannelId} from 'mattermost-redux/selectors/entities/channels';\nimport {getUser} from 'mattermost-redux/actions/users';\n\nimport {browserHistory} from 'utils/browser_history';\n\nexport function removeUserFromTeamAndGetStats(teamId, userId) {\n    return async (dispatch, getState) => {\n        const response = await dispatch(TeamActions.removeUserFromTeam(teamId, userId));\n        dispatch(getUser(userId));\n        dispatch(TeamActions.getTeamStats(teamId));\n        dispatch(getChannelStats(getCurrentChannelId(getState())));\n        return response;\n    };\n}\n\nexport function addUserToTeamFromInvite(token, inviteId) {\n    return async (dispatch) => {\n        const {data: member, error} = await dispatch(TeamActions.addUserToTeamFromInvite(token, inviteId));\n        if (member) {\n            const {data} = await dispatch(TeamActions.getTeam(member.team_id));\n\n            dispatch({\n                type: TeamTypes.RECEIVED_MY_TEAM_MEMBER,\n                data: {\n                    ...member,\n                    delete_at: 0,\n                    msg_count: 0,\n                    mention_count: 0,\n                },\n            });\n\n            return {data};\n        }\n        return {error};\n    };\n}\n\nexport function addUserToTeam(teamId, userId) {\n    return async (dispatch) => {\n        const {data: member, error} = await dispatch(TeamActions.addUserToTeam(teamId, userId));\n        if (member) {\n            const {data} = await dispatch(TeamActions.getTeam(member.team_id));\n\n            dispatch({\n                type: TeamTypes.RECEIVED_MY_TEAM_MEMBER,\n                data: {\n                    ...member,\n                    delete_at: 0,\n                    msg_count: 0,\n                    mention_count: 0,\n                },\n            });\n\n            return {data};\n        }\n        return {error};\n    };\n}\n\nexport function addUsersToTeam(teamId, userIds) {\n    return async (dispatch, getState) => {\n        const {data, error} = await dispatch(TeamActions.addUsersToTeam(teamId, userIds));\n\n        if (error) {\n            return {error};\n        }\n\n        dispatch(getChannelStats(getCurrentChannelId(getState())));\n\n        return {data};\n    };\n}\n\nexport function switchTeam(url) {\n    return (dispatch, getState) => {\n        dispatch(viewChannel(getCurrentChannelId(getState())));\n        browserHistory.push(url);\n    };\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {batchActions} from 'redux-batched-actions';\n\nimport {\n    leaveChannel as leaveChannelRedux,\n    joinChannel,\n    markChannelAsRead,\n    unfavoriteChannel,\n} from 'mattermost-redux/actions/channels';\nimport * as PostActions from 'mattermost-redux/actions/posts';\nimport {TeamTypes} from 'mattermost-redux/action_types';\nimport {autocompleteUsers} from 'mattermost-redux/actions/users';\nimport {selectTeam} from 'mattermost-redux/actions/teams';\nimport {Posts} from 'mattermost-redux/constants';\nimport {\n    getChannel,\n    getChannelsNameMapInCurrentTeam,\n    getCurrentChannel,\n    getRedirectChannelNameForTeam,\n    getMyChannels,\n    getMyChannelMemberships,\n    isManuallyUnread,\n} from 'mattermost-redux/selectors/entities/channels';\nimport {getCurrentRelativeTeamUrl, getCurrentTeam, getCurrentTeamId} from 'mattermost-redux/selectors/entities/teams';\nimport {getCurrentUserId, getUserByUsername} from 'mattermost-redux/selectors/entities/users';\nimport {getMyPreferences} from 'mattermost-redux/selectors/entities/preferences';\nimport {getChannelByName, isFavoriteChannel} from 'mattermost-redux/utils/channel_utils';\nimport EventEmitter from 'mattermost-redux/utils/event_emitter';\n\nimport {openDirectChannelToUserId} from 'actions/channel_actions.jsx';\nimport {getLastViewedChannelName} from 'selectors/local_storage';\nimport {getLastPostsApiTimeForChannel} from 'selectors/views/channel';\nimport {getSocketStatus} from 'selectors/views/websocket';\n\nimport {browserHistory} from 'utils/browser_history';\nimport {Constants, ActionTypes, EventTypes, PostRequestTypes} from 'utils/constants';\nimport {isMobile} from 'utils/utils.jsx';\nimport LocalStorageStore from 'stores/local_storage_store.jsx';\n\nexport function checkAndSetMobileView() {\n    return (dispatch) => {\n        dispatch({\n            type: ActionTypes.UPDATE_MOBILE_VIEW,\n            data: isMobile(),\n        });\n    };\n}\n\nexport function goToLastViewedChannel() {\n    return async (dispatch, getState) => {\n        const state = getState();\n        const currentChannel = getCurrentChannel(state);\n        const channelsInTeam = getChannelsNameMapInCurrentTeam(state);\n\n        let channelToSwitchTo = getChannelByName(channelsInTeam, getLastViewedChannelName(state));\n\n        if (currentChannel.id === channelToSwitchTo.id) {\n            channelToSwitchTo = getChannelByName(channelsInTeam, getRedirectChannelNameForTeam(state, getCurrentTeamId(state)));\n        }\n\n        return dispatch(switchToChannel(channelToSwitchTo));\n    };\n}\n\nexport function switchToChannelById(channelId) {\n    return async (dispatch, getState) => {\n        const state = getState();\n        const channel = getChannel(state, channelId);\n        return dispatch(switchToChannel(channel));\n    };\n}\n\nexport function switchToChannel(channel) {\n    return async (dispatch, getState) => {\n        const state = getState();\n        const teamUrl = getCurrentRelativeTeamUrl(state);\n\n        if (channel.fake || channel.userId) {\n            const username = channel.userId ? channel.name : channel.display_name;\n            const user = getUserByUsername(state, username);\n            if (!user) {\n                return {error: true};\n            }\n\n            const direct = await dispatch(openDirectChannelToUserId(user.id));\n            if (direct.error) {\n                return {error: true};\n            }\n            browserHistory.push(`${teamUrl}/messages/@${channel.name}`);\n        } else if (channel.type === Constants.GM_CHANNEL) {\n            const gmChannel = getChannel(state, channel.id);\n            browserHistory.push(`${teamUrl}/channels/${gmChannel.name}`);\n        } else {\n            browserHistory.push(`${teamUrl}/channels/${channel.name}`);\n        }\n\n        return {data: true};\n    };\n}\n\nexport function joinChannelById(channelId) {\n    return async (dispatch, getState) => {\n        const state = getState();\n        const currentUserId = getCurrentUserId(state);\n        const currentTeamId = getCurrentTeamId(state);\n\n        return dispatch(joinChannel(currentUserId, currentTeamId, channelId));\n    };\n}\n\nexport function leaveChannel(channelId) {\n    return async (dispatch, getState) => {\n        const state = getState();\n        const myPreferences = getMyPreferences(state);\n        const currentUserId = getCurrentUserId(state);\n        const currentTeam = getCurrentTeam(state);\n\n        if (isFavoriteChannel(myPreferences, channelId)) {\n            dispatch(unfavoriteChannel(channelId));\n        }\n\n        const teamUrl = getCurrentRelativeTeamUrl(state);\n        LocalStorageStore.removePreviousChannelName(currentUserId, currentTeam.id);\n        const {error} = await dispatch(leaveChannelRedux(channelId));\n        if (error) {\n            return {error};\n        }\n        const prevChannelName = LocalStorageStore.getPreviousChannelName(currentUserId, currentTeam.id);\n        const channelsInTeam = getChannelsNameMapInCurrentTeam(state);\n        const prevChannel = getChannelByName(channelsInTeam, prevChannelName);\n        if (!prevChannel || !getMyChannelMemberships(getState())[prevChannel.id]) {\n            LocalStorageStore.removePreviousChannelName(currentUserId, currentTeam.id);\n        }\n        if (getMyChannels(getState()).filter((c) => c.type === Constants.OPEN_CHANNEL || c.type === Constants.PRIVATE_CHANNEL).length === 0) {\n            LocalStorageStore.removePreviousChannelName(currentUserId, currentTeam.id);\n            dispatch(selectTeam(''));\n            dispatch({type: TeamTypes.LEAVE_TEAM, data: currentTeam});\n            browserHistory.push('/');\n        } else {\n            browserHistory.push(teamUrl);\n        }\n\n        return {\n            data: true,\n        };\n    };\n}\n\nexport function autocompleteUsersInChannel(prefix, channelId) {\n    return async (dispatch, getState) => {\n        const state = getState();\n        const currentTeamId = getCurrentTeamId(state);\n\n        return dispatch(autocompleteUsers(prefix, currentTeamId, channelId));\n    };\n}\n\nexport function loadUnreads(channelId) {\n    return async (dispatch) => {\n        const time = Date.now();\n        const {data, error} = await dispatch(PostActions.getPostsUnread(channelId, false));\n        if (error) {\n            return {\n                error,\n                atLatestMessage: false,\n                atOldestmessage: false,\n            };\n        }\n\n        dispatch({\n            type: ActionTypes.INCREASE_POST_VISIBILITY,\n            data: channelId,\n            amount: data.order.length,\n        });\n\n        if (data.next_post_id === '') {\n            dispatch({\n                type: ActionTypes.RECEIVED_POSTS_FOR_CHANNEL_AT_TIME,\n                channelId,\n                time,\n            });\n        }\n\n        return {\n            atLatestMessage: data.next_post_id === '',\n            atOldestmessage: data.prev_post_id === '',\n        };\n    };\n}\n\nexport function loadPostsAround(channelId, focusedPostId) {\n    return async (dispatch) => {\n        const {data, error} = await dispatch(PostActions.getPostsAround(channelId, focusedPostId, Posts.POST_CHUNK_SIZE / 2, false));\n        if (error) {\n            return {\n                error,\n                atLatestMessage: false,\n                atOldestmessage: false,\n            };\n        }\n\n        dispatch({\n            type: ActionTypes.INCREASE_POST_VISIBILITY,\n            data: channelId,\n            amount: data.order.length,\n        });\n        return {\n            atLatestMessage: data.next_post_id === '',\n            atOldestmessage: data.prev_post_id === '',\n        };\n    };\n}\n\nexport function loadLatestPosts(channelId) {\n    return async (dispatch) => {\n        const time = Date.now();\n        const {data, error} = await dispatch(PostActions.getPosts(channelId, 0, Posts.POST_CHUNK_SIZE / 2, false));\n\n        if (error) {\n            return {\n                error,\n                atLatestMessage: false,\n                atOldestmessage: false,\n            };\n        }\n\n        dispatch({\n            type: ActionTypes.RECEIVED_POSTS_FOR_CHANNEL_AT_TIME,\n            channelId,\n            time,\n        });\n\n        return {\n            data,\n            atLatestMessage: data.next_post_id === '',\n            atOldestmessage: data.prev_post_id === '',\n        };\n    };\n}\n\nexport function loadPosts({channelId, postId, type}) {\n    //type here can be BEFORE_ID or AFTER_ID\n    return async (dispatch) => {\n        const POST_INCREASE_AMOUNT = Constants.POST_CHUNK_SIZE / 2;\n\n        dispatch({\n            type: ActionTypes.LOADING_POSTS,\n            data: true,\n            channelId,\n        });\n\n        const page = 0;\n        let result;\n        if (type === PostRequestTypes.BEFORE_ID) {\n            result = await dispatch(PostActions.getPostsBefore(channelId, postId, page, POST_INCREASE_AMOUNT, false));\n        } else {\n            result = await dispatch(PostActions.getPostsAfter(channelId, postId, page, POST_INCREASE_AMOUNT, false));\n        }\n\n        const {data} = result;\n\n        const actions = [{\n            type: ActionTypes.LOADING_POSTS,\n            data: false,\n            channelId,\n        }];\n\n        if (result.error) {\n            return {\n                error: result.error,\n                moreToLoad: true,\n            };\n        }\n        actions.push({\n            type: ActionTypes.INCREASE_POST_VISIBILITY,\n            data: channelId,\n            amount: data.order.length,\n        });\n\n        dispatch(batchActions(actions));\n\n        return {\n            moreToLoad: type === PostRequestTypes.BEFORE_ID ? data.prev_post_id !== '' : data.next_post_id !== '',\n        };\n    };\n}\n\nexport function syncPostsInChannel(channelId, since, fetchThreads = true) {\n    return async (dispatch, getState) => {\n        const time = Date.now();\n        const state = getState();\n        const socketStatus = getSocketStatus(state);\n        let sinceTimeToGetPosts = since;\n        const lastPostsApiCallForChannel = getLastPostsApiTimeForChannel(state, channelId);\n\n        if (lastPostsApiCallForChannel && lastPostsApiCallForChannel < socketStatus.lastDisconnectAt) {\n            sinceTimeToGetPosts = lastPostsApiCallForChannel;\n        }\n\n        const {data, error} = await dispatch(PostActions.getPostsSince(channelId, sinceTimeToGetPosts, fetchThreads));\n        if (data) {\n            dispatch({\n                type: ActionTypes.RECEIVED_POSTS_FOR_CHANNEL_AT_TIME,\n                channelId,\n                time,\n            });\n        }\n        return {data, error};\n    };\n}\n\nexport function scrollPostListToBottom() {\n    return () => {\n        EventEmitter.emit(EventTypes.POST_LIST_SCROLL_TO_BOTTOM);\n    };\n}\n\nexport function markChannelAsReadOnFocus(channelId) {\n    return (dispatch, getState) => {\n        if (isManuallyUnread(getState(), channelId)) {\n            return;\n        }\n\n        dispatch(markChannelAsRead(channelId));\n    };\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {ActionTypes} from 'utils/constants';\n\nexport const toggle = () => (dispatch) => dispatch({\n    type: ActionTypes.TOGGLE_LHS,\n});\n\nexport const open = () => (dispatch) => dispatch({\n    type: ActionTypes.OPEN_LHS,\n});\n\nexport const close = () => (dispatch) => dispatch({\n    type: ActionTypes.CLOSE_LHS,\n});\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {ActionTypes} from 'utils/constants';\n\nexport function openModal(modalData) {\n    return (dispatch) => {\n        const action = {\n            type: ActionTypes.MODAL_OPEN,\n            modalId: modalData.modalId,\n            dialogProps: modalData.dialogProps,\n            dialogType: modalData.dialogType,\n        };\n\n        dispatch(action);\n    };\n}\n\nexport function closeModal(modalId) {\n    return (dispatch) => {\n        const action = {\n            type: ActionTypes.MODAL_CLOSE,\n            modalId,\n        };\n\n        dispatch(action);\n    };\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {ActionTypes} from 'utils/constants';\n\nexport function dismissNotice(type) {\n    return (dispatch) => {\n        dispatch({\n            type: ActionTypes.DISMISS_NOTICE,\n            data: type,\n        });\n\n        return {data: true};\n    };\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport * as PostActions from 'mattermost-redux/actions/posts';\n\nimport {logError} from 'mattermost-redux/actions/errors';\n\nimport {ActionTypes, AnnouncementBarTypes} from 'utils/constants';\n\nexport function editPost(post) {\n    return async (dispatch, getState) => {\n        const result = await PostActions.editPost(post)(dispatch, getState);\n\n        // Send to error bar if it's an edit post error about time limit.\n        if (result.error && result.error.server_error_id === 'api.post.update_post.permissions_time_limit.app_error') {\n            dispatch(logError({type: AnnouncementBarTypes.ANNOUNCEMENT, message: result.error.message}, true));\n        }\n\n        return result;\n    };\n}\n\nexport function selectAttachmentMenuAction(postId, actionId, cookie, dataSource, text, value) {\n    return async (dispatch) => {\n        dispatch({\n            type: ActionTypes.SELECT_ATTACHMENT_MENU_ACTION,\n            postId,\n            data: {\n                [actionId]: {\n                    text,\n                    value,\n                },\n            },\n        });\n\n        dispatch(PostActions.doPostActionWithCookie(postId, actionId, cookie, value));\n    };\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {getTeamMember} from 'mattermost-redux/actions/teams';\nimport {getChannelMember} from 'mattermost-redux/actions/channels';\nimport {getCurrentChannel} from 'mattermost-redux/selectors/entities/channels';\nimport {getCurrentTeamId} from 'mattermost-redux/selectors/entities/teams';\n\nimport {getSelectedPost} from 'selectors/rhs';\n\nexport function getMembershipForCurrentEntities(userId) {\n    return async (dispatch, getState) => {\n        const state = getState();\n        const currentTeamId = getCurrentTeamId(state);\n\n        const selectedPost = getSelectedPost(state);\n        const currentChannel = getCurrentChannel(state);\n\n        let channelId;\n        if (selectedPost.exists === false) {\n            channelId = currentChannel.id;\n        } else {\n            channelId = selectedPost.channel_id;\n        }\n\n        return Promise.all([dispatch(getTeamMember(currentTeamId, userId)), dispatch(getChannelMember(channelId, userId))]);\n    };\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {getClientConfig, getLicenseConfig} from 'mattermost-redux/actions/general';\nimport * as UserActions from 'mattermost-redux/actions/users';\nimport {Client4} from 'mattermost-redux/client';\n\nimport {ActionTypes} from 'utils/constants';\nimport en from 'i18n/en.json';\nimport {getCurrentLocale, getTranslations} from 'selectors/i18n';\n\nexport function loadMeAndConfig() {\n    return async (dispatch) => {\n        // if any new promise needs to be added please be mindful of the order as it is used in root.jsx for redirection\n        const promises = [\n            dispatch(getClientConfig()),\n            dispatch(getLicenseConfig()),\n        ];\n\n        // need to await for clientConfig first as it is required for loadMe\n        const resolvedPromises = await Promise.all(promises);\n        if (document.cookie.indexOf('MMUSERID=') > -1) {\n            resolvedPromises.push(await dispatch(UserActions.loadMe()));\n        }\n\n        return resolvedPromises;\n    };\n}\n\nconst pluginTranslationSources = {};\n\nexport function registerPluginTranslationsSource(pluginId, sourceFunction) {\n    pluginTranslationSources[pluginId] = sourceFunction;\n    return (dispatch, getState) => {\n        const state = getState();\n        const locale = getCurrentLocale(state);\n        const immutableTranslations = getTranslations(state, locale);\n        const translations = {};\n        Object.assign(translations, immutableTranslations);\n        if (immutableTranslations) {\n            copyAndDispatchTranslations(dispatch, translations, sourceFunction(locale), locale);\n        }\n    };\n}\n\nexport function unregisterPluginTranslationsSource(pluginId) {\n    Reflect.deleteProperty(pluginTranslationSources, pluginId);\n}\n\nexport function loadTranslations(locale, url) {\n    return (dispatch) => {\n        const translations = {};\n        Object.values(pluginTranslationSources).forEach((pluginFunc) => {\n            Object.assign(translations, pluginFunc(locale));\n        });\n\n        // No need to go to the server for EN\n        if (locale === 'en') {\n            copyAndDispatchTranslations(dispatch, translations, en, locale);\n            return;\n        }\n        Client4.getTranslations(url).then((serverTranslations) => {\n            copyAndDispatchTranslations(dispatch, translations, serverTranslations, locale);\n        }).catch(() => {}); // eslint-disable-line no-empty-function\n    };\n}\n\nfunction copyAndDispatchTranslations(dispatch, translations, from, locale) {\n    Object.assign(translations, from);\n    dispatch({\n        type: ActionTypes.RECEIVED_TRANSLATIONS,\n        data: {\n            locale,\n            translations,\n        },\n    });\n}","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {SearchTypes} from 'utils/constants';\n\nexport function setModalSearchTerm(term) {\n    return async (dispatch) => {\n        dispatch({\n            type: SearchTypes.SET_MODAL_SEARCH,\n            data: term,\n        });\n        return {data: true};\n    };\n}\n\nexport function setSystemUsersSearch(term, team, filter = '') {\n    return async (dispatch) => {\n        dispatch({\n            type: SearchTypes.SET_SYSTEM_USERS_SEARCH,\n            data: {term, team, filter},\n        });\n        return {data: true};\n    };\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {ActionTypes} from 'utils/constants';\n\nexport function updateActiveSection(newActiveSection) {\n    return {\n        type: ActionTypes.UPDATE_ACTIVE_SECTION,\n        data: newActiveSection,\n    };\n}","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {ActionTypes} from 'utils/constants';\n\nexport function incrementWsErrorCount() {\n    return async (dispatch) => {\n        dispatch({\n            type: ActionTypes.INCREMENT_WS_ERROR_COUNT,\n        });\n    };\n}\n\nexport function resetWsErrorCount() {\n    return async (dispatch) => {\n        dispatch({\n            type: ActionTypes.RESET_WS_ERROR_COUNT,\n        });\n    };\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {batchActions} from 'redux-batched-actions';\nimport {\n    ChannelTypes,\n    EmojiTypes,\n    PostTypes,\n    TeamTypes,\n    UserTypes,\n    RoleTypes,\n    GeneralTypes,\n    AdminTypes,\n    IntegrationTypes,\n    PreferenceTypes,\n} from 'mattermost-redux/action_types';\nimport {WebsocketEvents, General, Permissions} from 'mattermost-redux/constants';\nimport {\n    getChannelAndMyMember,\n    getChannelMember,\n    getChannelStats,\n    viewChannel,\n    markChannelAsRead,\n} from 'mattermost-redux/actions/channels';\nimport {loadRolesIfNeeded} from 'mattermost-redux/actions/roles';\nimport {setServerVersion} from 'mattermost-redux/actions/general';\nimport {\n    getCustomEmojiForReaction,\n    getPosts,\n    getProfilesAndStatusesForPosts,\n    getThreadsForPosts,\n    postDeleted,\n    receivedNewPost,\n    receivedPost,\n} from 'mattermost-redux/actions/posts';\nimport {clearErrors, logError} from 'mattermost-redux/actions/errors';\n\nimport * as TeamActions from 'mattermost-redux/actions/teams';\nimport {\n    checkForModifiedUsers,\n    getMe,\n    getMissingProfilesByIds,\n    getStatusesByIds,\n    getUser as loadUser,\n} from 'mattermost-redux/actions/users';\nimport {Client4} from 'mattermost-redux/client';\nimport {getCurrentUser, getCurrentUserId, getStatusForUserId, getUser} from 'mattermost-redux/selectors/entities/users';\nimport {getMyTeams, getCurrentRelativeTeamUrl, getCurrentTeamId, getCurrentTeamUrl} from 'mattermost-redux/selectors/entities/teams';\nimport {getConfig} from 'mattermost-redux/selectors/entities/general';\nimport {getChannelsInTeam, getChannel, getCurrentChannel, getCurrentChannelId, getRedirectChannelNameForTeam, getMembersInCurrentChannel} from 'mattermost-redux/selectors/entities/channels';\nimport {getPost, getMostRecentPostIdInChannel} from 'mattermost-redux/selectors/entities/posts';\nimport {haveISystemPermission, haveITeamPermission} from 'mattermost-redux/selectors/entities/roles';\n\nimport {getSelectedChannelId} from 'selectors/rhs';\n\nimport {openModal} from 'actions/views/modals';\nimport {incrementWsErrorCount, resetWsErrorCount} from 'actions/views/system';\nimport {closeRightHandSide} from 'actions/views/rhs';\nimport {syncPostsInChannel} from 'actions/views/channel';\n\nimport {browserHistory} from 'utils/browser_history';\nimport {loadChannelsForCurrentUser} from 'actions/channel_actions.jsx';\nimport {redirectUserToDefaultTeam} from 'actions/global_actions.jsx';\nimport {handleNewPost} from 'actions/post_actions.jsx';\nimport * as StatusActions from 'actions/status_actions.jsx';\nimport {loadProfilesForSidebar} from 'actions/user_actions.jsx';\nimport store from 'stores/redux_store.jsx';\nimport WebSocketClient from 'client/web_websocket_client.jsx';\nimport {loadPlugin, loadPluginsIfNecessary, removePlugin} from 'plugins';\nimport {ActionTypes, Constants, AnnouncementBarMessages, SocketEvents, UserStatuses, ModalIdentifiers} from 'utils/constants';\nimport {fromAutoResponder} from 'utils/post_utils';\nimport {getSiteURL} from 'utils/url';\nimport {isGuest} from 'utils/utils';\nimport RemovedFromChannelModal from 'components/removed_from_channel_modal';\nimport InteractiveDialog from 'components/interactive_dialog';\n\nconst dispatch = store.dispatch;\nconst getState = store.getState;\n\nconst MAX_WEBSOCKET_FAILS = 7;\n\nconst pluginEventHandlers = {};\n\nexport function initialize() {\n    if (!window.WebSocket) {\n        console.log('Browser does not support websocket'); //eslint-disable-line no-console\n        return;\n    }\n\n    const config = getConfig(getState());\n    let connUrl = '';\n    if (config.WebsocketURL) {\n        connUrl = config.WebsocketURL;\n    } else {\n        connUrl = new URL(getSiteURL());\n\n        // replace the protocol with a websocket one\n        if (connUrl.protocol === 'https:') {\n            connUrl.protocol = 'wss:';\n        } else {\n            connUrl.protocol = 'ws:';\n        }\n\n        // append a port number if one isn't already specified\n        if (!(/:\\d+$/).test(connUrl.host)) {\n            if (connUrl.protocol === 'wss:') {\n                connUrl.host += ':' + config.WebsocketSecurePort;\n            } else {\n                connUrl.host += ':' + config.WebsocketPort;\n            }\n        }\n\n        connUrl = connUrl.toString();\n    }\n\n    // Strip any trailing slash before appending the pathname below.\n    if (connUrl.length > 0 && connUrl[connUrl.length - 1] === '/') {\n        connUrl = connUrl.substring(0, connUrl.length - 1);\n    }\n\n    connUrl += Client4.getUrlVersion() + '/websocket';\n\n    WebSocketClient.setEventCallback(handleEvent);\n    WebSocketClient.setFirstConnectCallback(handleFirstConnect);\n    WebSocketClient.setReconnectCallback(() => reconnect(false));\n    WebSocketClient.setMissedEventCallback(() => reconnect(false));\n    WebSocketClient.setCloseCallback(handleClose);\n    WebSocketClient.initialize(connUrl);\n}\n\nexport function close() {\n    WebSocketClient.close();\n}\n\nfunction reconnectWebSocket() {\n    close();\n    initialize();\n}\n\nconst pluginReconnectHandlers = {};\n\nexport function registerPluginReconnectHandler(pluginId, handler) {\n    pluginReconnectHandlers[pluginId] = handler;\n}\n\nexport function unregisterPluginReconnectHandler(pluginId) {\n    Reflect.deleteProperty(pluginReconnectHandlers, pluginId);\n}\n\nexport function reconnect(includeWebSocket = true) {\n    if (includeWebSocket) {\n        reconnectWebSocket();\n    }\n\n    dispatch({\n        type: GeneralTypes.WEBSOCKET_SUCCESS,\n        timestamp: Date.now(),\n    });\n\n    loadPluginsIfNecessary();\n\n    Object.values(pluginReconnectHandlers).forEach((handler) => {\n        if (handler && typeof handler === 'function') {\n            handler();\n        }\n    });\n\n    const state = getState();\n    const currentTeamId = state.entities.teams.currentTeamId;\n    if (currentTeamId) {\n        const currentChannelId = getCurrentChannelId(state);\n        const mostRecentId = getMostRecentPostIdInChannel(state, currentChannelId);\n        const mostRecentPost = getPost(state, mostRecentId);\n        dispatch(loadChannelsForCurrentUser());\n        if (mostRecentPost) {\n            dispatch(syncPostsInChannel(currentChannelId, mostRecentPost.create_at, false));\n        } else {\n            // if network timed-out the first time when loading a channel\n            // we can request for getPosts again when socket is connected\n            dispatch(getPosts(currentChannelId));\n        }\n        StatusActions.loadStatusesForChannelAndSidebar();\n        dispatch(TeamActions.getMyTeamUnreads());\n    }\n\n    if (state.websocket.lastDisconnectAt) {\n        dispatch(checkForModifiedUsers());\n    }\n\n    dispatch(resetWsErrorCount());\n    dispatch(clearErrors());\n}\n\nlet intervalId = '';\nconst SYNC_INTERVAL_MILLISECONDS = 1000 * 60 * 15; // 15 minutes\n\nexport function startPeriodicSync() {\n    clearInterval(intervalId);\n\n    intervalId = setInterval(\n        () => {\n            if (getCurrentUser(getState()) != null) {\n                reconnect(false);\n            }\n        },\n        SYNC_INTERVAL_MILLISECONDS\n    );\n}\n\nexport function stopPeriodicSync() {\n    clearInterval(intervalId);\n}\n\nexport function registerPluginWebSocketEvent(pluginId, event, action) {\n    if (!pluginEventHandlers[pluginId]) {\n        pluginEventHandlers[pluginId] = {};\n    }\n    pluginEventHandlers[pluginId][event] = action;\n}\n\nexport function unregisterPluginWebSocketEvent(pluginId, event) {\n    const events = pluginEventHandlers[pluginId];\n    if (!events) {\n        return;\n    }\n\n    Reflect.deleteProperty(events, event);\n}\n\nexport function unregisterAllPluginWebSocketEvents(pluginId) {\n    Reflect.deleteProperty(pluginEventHandlers, pluginId);\n}\n\nfunction handleFirstConnect() {\n    dispatch(batchActions([\n        {\n            type: GeneralTypes.WEBSOCKET_SUCCESS,\n            timestamp: Date.now(),\n        },\n        clearErrors(),\n    ]));\n}\n\nfunction handleClose(failCount) {\n    if (failCount > MAX_WEBSOCKET_FAILS) {\n        dispatch(logError({type: 'critical', message: AnnouncementBarMessages.WEBSOCKET_PORT_ERROR}, true));\n    }\n    dispatch(batchActions([\n        {\n            type: GeneralTypes.WEBSOCKET_FAILURE,\n            timestamp: Date.now(),\n        },\n        incrementWsErrorCount(),\n    ]));\n}\n\nexport function handleEvent(msg) {\n    switch (msg.event) {\n    case SocketEvents.POSTED:\n    case SocketEvents.EPHEMERAL_MESSAGE:\n        handleNewPostEventDebounced(msg);\n        break;\n\n    case SocketEvents.POST_EDITED:\n        handlePostEditEvent(msg);\n        break;\n\n    case SocketEvents.POST_DELETED:\n        handlePostDeleteEvent(msg);\n        break;\n\n    case SocketEvents.POST_UNREAD:\n        handlePostUnreadEvent(msg);\n        break;\n\n    case SocketEvents.LEAVE_TEAM:\n        handleLeaveTeamEvent(msg);\n        break;\n\n    case SocketEvents.UPDATE_TEAM:\n        handleUpdateTeamEvent(msg);\n        break;\n\n    case SocketEvents.DELETE_TEAM:\n        handleDeleteTeamEvent(msg);\n        break;\n\n    case SocketEvents.ADDED_TO_TEAM:\n        handleTeamAddedEvent(msg);\n        break;\n\n    case SocketEvents.USER_ADDED:\n        handleUserAddedEvent(msg);\n        break;\n\n    case SocketEvents.USER_REMOVED:\n        handleUserRemovedEvent(msg);\n        break;\n\n    case SocketEvents.USER_UPDATED:\n        handleUserUpdatedEvent(msg);\n        break;\n\n    case SocketEvents.ROLE_ADDED:\n        handleRoleAddedEvent(msg);\n        break;\n\n    case SocketEvents.ROLE_REMOVED:\n        handleRoleRemovedEvent(msg);\n        break;\n\n    case SocketEvents.MEMBERROLE_UPDATED:\n        handleUpdateMemberRoleEvent(msg);\n        break;\n\n    case SocketEvents.ROLE_UPDATED:\n        handleRoleUpdatedEvent(msg);\n        break;\n\n    case SocketEvents.CHANNEL_CREATED:\n        handleChannelCreatedEvent(msg);\n        break;\n\n    case SocketEvents.CHANNEL_DELETED:\n        handleChannelDeletedEvent(msg);\n        break;\n\n    case SocketEvents.CHANNEL_CONVERTED:\n        handleChannelConvertedEvent(msg);\n        break;\n\n    case SocketEvents.CHANNEL_UPDATED:\n        dispatch(handleChannelUpdatedEvent(msg));\n        break;\n\n    case SocketEvents.CHANNEL_MEMBER_UPDATED:\n        handleChannelMemberUpdatedEvent(msg);\n        break;\n\n    case SocketEvents.DIRECT_ADDED:\n        handleDirectAddedEvent(msg);\n        break;\n\n    case SocketEvents.PREFERENCE_CHANGED:\n        handlePreferenceChangedEvent(msg);\n        break;\n\n    case SocketEvents.PREFERENCES_CHANGED:\n        handlePreferencesChangedEvent(msg);\n        break;\n\n    case SocketEvents.PREFERENCES_DELETED:\n        handlePreferencesDeletedEvent(msg);\n        break;\n\n    case SocketEvents.TYPING:\n        dispatch(handleUserTypingEvent(msg));\n        break;\n\n    case SocketEvents.STATUS_CHANGED:\n        handleStatusChangedEvent(msg);\n        break;\n\n    case SocketEvents.HELLO:\n        handleHelloEvent(msg);\n        break;\n\n    case SocketEvents.REACTION_ADDED:\n        handleReactionAddedEvent(msg);\n        break;\n\n    case SocketEvents.REACTION_REMOVED:\n        handleReactionRemovedEvent(msg);\n        break;\n\n    case SocketEvents.EMOJI_ADDED:\n        handleAddEmoji(msg);\n        break;\n\n    case SocketEvents.CHANNEL_VIEWED:\n        handleChannelViewedEvent(msg);\n        break;\n\n    case SocketEvents.PLUGIN_ENABLED:\n        handlePluginEnabled(msg);\n        break;\n\n    case SocketEvents.PLUGIN_DISABLED:\n        handlePluginDisabled(msg);\n        break;\n\n    case SocketEvents.USER_ROLE_UPDATED:\n        handleUserRoleUpdated(msg);\n        break;\n\n    case SocketEvents.CONFIG_CHANGED:\n        handleConfigChanged(msg);\n        break;\n\n    case SocketEvents.LICENSE_CHANGED:\n        handleLicenseChanged(msg);\n        break;\n\n    case SocketEvents.PLUGIN_STATUSES_CHANGED:\n        handlePluginStatusesChangedEvent(msg);\n        break;\n\n    case SocketEvents.OPEN_DIALOG:\n        handleOpenDialogEvent(msg);\n        break;\n\n    default:\n    }\n\n    Object.values(pluginEventHandlers).forEach((pluginEvents) => {\n        if (!pluginEvents) {\n            return;\n        }\n\n        if (pluginEvents.hasOwnProperty(msg.event) && typeof pluginEvents[msg.event] === 'function') {\n            pluginEvents[msg.event](msg);\n        }\n    });\n}\n\n// handleChannelConvertedEvent handles updating of channel which is converted from public to private\nfunction handleChannelConvertedEvent(msg) {\n    const channelId = msg.data.channel_id;\n    if (channelId) {\n        const channel = getChannel(getState(), channelId);\n        if (channel) {\n            dispatch({\n                type: ChannelTypes.RECEIVED_CHANNEL,\n                data: {...channel, type: General.PRIVATE_CHANNEL},\n            });\n        }\n    }\n}\n\nexport function handleChannelUpdatedEvent(msg) {\n    return (doDispatch, doGetState) => {\n        const channel = JSON.parse(msg.data.channel);\n\n        doDispatch({type: ChannelTypes.RECEIVED_CHANNEL, data: channel});\n\n        const state = doGetState();\n        if (channel.id === getCurrentChannelId(state)) {\n            browserHistory.replace(`${getCurrentRelativeTeamUrl(state)}/channels/${channel.name}`);\n        }\n    };\n}\n\nfunction handleChannelMemberUpdatedEvent(msg) {\n    const channelMember = JSON.parse(msg.data.channelMember);\n    dispatch({type: ChannelTypes.RECEIVED_MY_CHANNEL_MEMBER, data: channelMember});\n}\n\nfunction debouncePostEvent(wait) {\n    let timeout;\n    let queue = [];\n    let count = 0;\n\n    // Called when timeout triggered\n    const triggered = () => {\n        timeout = null;\n\n        if (queue.length > 0) {\n            dispatch(handleNewPostEvents(queue));\n        }\n\n        queue = [];\n        count = 0;\n    };\n\n    return function fx(msg) {\n        if (timeout && count > 2) {\n            // If the timeout is going this is the second or further event so queue them up.\n            if (queue.push(msg) > 200) {\n                // Don't run us out of memory, give up if the queue gets insane\n                queue = [];\n                console.log('channel broken because of too many incoming messages'); //eslint-disable-line no-console\n            }\n            clearTimeout(timeout);\n            timeout = setTimeout(triggered, wait);\n        } else {\n            // Apply immediately for events up until count reaches limit\n            count += 1;\n            dispatch(handleNewPostEvent(msg));\n            clearTimeout(timeout);\n            timeout = setTimeout(triggered, wait);\n        }\n    };\n}\n\nconst handleNewPostEventDebounced = debouncePostEvent(100);\n\nexport function handleNewPostEvent(msg) {\n    return (myDispatch, myGetState) => {\n        const post = JSON.parse(msg.data.post);\n        myDispatch(handleNewPost(post, msg));\n\n        getProfilesAndStatusesForPosts([post], myDispatch, myGetState);\n\n        if (post.user_id !== getCurrentUserId(myGetState()) && !fromAutoResponder(post)) {\n            myDispatch({\n                type: UserTypes.RECEIVED_STATUSES,\n                data: [{user_id: post.user_id, status: UserStatuses.ONLINE}],\n            });\n        }\n    };\n}\n\nexport function handleNewPostEvents(queue) {\n    return (myDispatch, myGetState) => {\n        const posts = queue.map((msg) => JSON.parse(msg.data.post));\n\n        // Receive the posts as one continuous block since they were received within a short period\n        const actions = posts.map(receivedNewPost);\n        myDispatch(batchActions(actions));\n\n        // Load the posts' threads\n        myDispatch(getThreadsForPosts(posts));\n\n        // And any other data needed for them\n        getProfilesAndStatusesForPosts(posts, myDispatch, myGetState);\n    };\n}\n\nexport function handlePostEditEvent(msg) {\n    // Store post\n    const post = JSON.parse(msg.data.post);\n    dispatch(receivedPost(post));\n\n    getProfilesAndStatusesForPosts([post], dispatch, getState);\n    const currentChannelId = getCurrentChannelId(getState());\n\n    // Update channel state\n    if (currentChannelId === msg.broadcast.channel_id) {\n        if (window.isActive) {\n            dispatch(viewChannel(currentChannelId));\n        }\n    }\n}\n\nfunction handlePostDeleteEvent(msg) {\n    const post = JSON.parse(msg.data.post);\n    dispatch(postDeleted(post));\n}\n\nexport function handlePostUnreadEvent(msg) {\n    dispatch(\n        {\n            type: ActionTypes.POST_UNREAD_SUCCESS,\n            data: {\n                lastViewedAt: msg.data.last_viewed_at,\n                channelId: msg.broadcast.channel_id,\n                msgCount: msg.data.msg_count,\n                mentionCount: msg.data.mention_count,\n            },\n        }\n    );\n}\n\nasync function handleTeamAddedEvent(msg) {\n    await dispatch(TeamActions.getTeam(msg.data.team_id));\n    await dispatch(TeamActions.getMyTeamMembers());\n    await dispatch(TeamActions.getMyTeamUnreads());\n}\n\nexport function handleLeaveTeamEvent(msg) {\n    const state = getState();\n\n    const actions = [\n        {\n            type: UserTypes.RECEIVED_PROFILE_NOT_IN_TEAM,\n            data: {id: msg.data.team_id, user_id: msg.data.user_id},\n        },\n        {\n            type: TeamTypes.REMOVE_MEMBER_FROM_TEAM,\n            data: {team_id: msg.data.team_id, user_id: msg.data.user_id},\n        },\n    ];\n\n    const channelsPerTeam = getChannelsInTeam(state);\n    const channels = (channelsPerTeam && channelsPerTeam[msg.data.team_id]) || [];\n\n    for (const channel of channels) {\n        actions.push({\n            type: ChannelTypes.REMOVE_MEMBER_FROM_CHANNEL,\n            data: {id: channel, user_id: msg.data.user_id},\n        });\n    }\n\n    dispatch(batchActions(actions));\n\n    if (getCurrentUserId(state) === msg.data.user_id) {\n        dispatch({type: TeamTypes.LEAVE_TEAM, data: {id: msg.data.team_id}});\n\n        // if they are on the team being removed redirect them to default team\n        if (getCurrentTeamId(state) === msg.data.team_id) {\n            if (!global.location.pathname.startsWith('/admin_console')) {\n                redirectUserToDefaultTeam();\n            }\n        }\n    }\n}\n\nfunction handleUpdateTeamEvent(msg) {\n    dispatch({type: TeamTypes.UPDATED_TEAM, data: JSON.parse(msg.data.team)});\n}\n\nfunction handleDeleteTeamEvent(msg) {\n    const deletedTeam = JSON.parse(msg.data.team);\n    const state = store.getState();\n    const {teams} = state.entities.teams;\n    if (\n        deletedTeam &&\n        teams &&\n        teams[deletedTeam.id] &&\n        teams[deletedTeam.id].delete_at === 0\n    ) {\n        const {currentUserId} = state.entities.users;\n        const {currentTeamId, myMembers} = state.entities.teams;\n        const teamMembers = Object.values(myMembers);\n        const teamMember = teamMembers.find((m) => m.user_id === currentUserId && m.team_id === currentTeamId);\n\n        let newTeamId = '';\n        if (\n            deletedTeam &&\n            teamMember &&\n            deletedTeam.id === teamMember.team_id\n        ) {\n            const myTeams = {};\n            getMyTeams(state).forEach((t) => {\n                myTeams[t.id] = t;\n            });\n\n            for (let i = 0; i < teamMembers.length; i++) {\n                const memberTeamId = teamMembers[i].team_id;\n                if (\n                    myTeams &&\n                    myTeams[memberTeamId] &&\n                    myTeams[memberTeamId].delete_at === 0 &&\n                    deletedTeam.id !== memberTeamId\n                ) {\n                    newTeamId = memberTeamId;\n                    break;\n                }\n            }\n        }\n\n        dispatch(batchActions([\n            {type: TeamTypes.RECEIVED_TEAM_DELETED, data: {id: deletedTeam.id}},\n            {type: TeamTypes.UPDATED_TEAM, data: deletedTeam},\n        ]));\n\n        if (newTeamId) {\n            dispatch({type: TeamTypes.SELECT_TEAM, data: newTeamId});\n            const globalState = getState();\n            const redirectChannel = getRedirectChannelNameForTeam(globalState, newTeamId);\n            browserHistory.push(`${getCurrentTeamUrl(globalState)}/channels/${redirectChannel}`);\n        } else {\n            browserHistory.push('/');\n        }\n    }\n}\n\nfunction handleUpdateMemberRoleEvent(msg) {\n    const memberData = JSON.parse(msg.data.member);\n    const newRoles = memberData.roles.split(' ');\n\n    dispatch(loadRolesIfNeeded(newRoles));\n\n    dispatch({\n        type: TeamTypes.RECEIVED_MY_TEAM_MEMBER,\n        data: memberData,\n    });\n}\n\nfunction handleDirectAddedEvent(msg) {\n    dispatch(getChannelAndMyMember(msg.broadcast.channel_id));\n}\n\nfunction handleUserAddedEvent(msg) {\n    const currentChannelId = getCurrentChannelId(getState());\n    if (currentChannelId === msg.broadcast.channel_id) {\n        dispatch(getChannelStats(currentChannelId));\n        dispatch({\n            type: UserTypes.RECEIVED_PROFILE_IN_CHANNEL,\n            data: {id: msg.broadcast.channel_id, user_id: msg.data.user_id},\n        });\n    }\n\n    const currentTeamId = getCurrentTeamId(getState());\n    const currentUserId = getCurrentUserId(getState());\n    if (currentTeamId === msg.data.team_id && currentUserId === msg.data.user_id) {\n        dispatch(getChannelAndMyMember(msg.broadcast.channel_id));\n    }\n}\n\nexport function handleUserRemovedEvent(msg) {\n    const state = getState();\n    const currentChannel = getCurrentChannel(state) || {};\n    const currentUserId = getCurrentUserId(state);\n\n    if (msg.broadcast.user_id === currentUserId) {\n        dispatch(loadChannelsForCurrentUser());\n\n        const rhsChannelId = getSelectedChannelId(state);\n        if (msg.data.channel_id === rhsChannelId) {\n            dispatch(closeRightHandSide());\n        }\n\n        if (msg.data.channel_id === currentChannel.id) {\n            if (msg.data.remover_id === msg.broadcast.user_id) {\n                browserHistory.push(getCurrentRelativeTeamUrl(state));\n            } else {\n                const user = getUser(state, msg.data.remover_id);\n                if (!user) {\n                    dispatch(loadUser(msg.data.remover_id));\n                }\n\n                dispatch(openModal({\n                    modalId: ModalIdentifiers.REMOVED_FROM_CHANNEL,\n                    dialogType: RemovedFromChannelModal,\n                    dialogProps: {\n                        channelName: currentChannel.display_name,\n                        removerId: msg.data.remover_id,\n                    },\n                }));\n                redirectUserToDefaultTeam();\n            }\n        }\n\n        dispatch({\n            type: ChannelTypes.LEAVE_CHANNEL,\n            data: {id: msg.data.channel_id, user_id: msg.broadcast.user_id},\n        });\n    } else if (msg.broadcast.channel_id === currentChannel.id) {\n        dispatch(getChannelStats(currentChannel.id));\n        dispatch({\n            type: UserTypes.RECEIVED_PROFILE_NOT_IN_CHANNEL,\n            data: {id: msg.broadcast.channel_id, user_id: msg.data.user_id},\n        });\n    }\n\n    const channelId = msg.broadcast.channel_id || msg.data.channel_id;\n    const userId = msg.broadcast.user_id || msg.data.user_id;\n    const channel = getChannel(state, channelId);\n    if (channel && !haveISystemPermission(state, {permission: Permissions.VIEW_MEMBERS}) && !haveITeamPermission(state, {permission: Permissions.VIEW_MEMBERS, team: channel.team_id})) {\n        dispatch(batchActions([\n            {\n                type: UserTypes.RECEIVED_PROFILE_NOT_IN_TEAM,\n                data: {id: channel.team_id, user_id: userId},\n            },\n            {\n                type: TeamTypes.REMOVE_MEMBER_FROM_TEAM,\n                data: {team_id: channel.team_id, user_id: userId},\n            },\n        ]));\n    }\n}\n\nexport async function handleUserUpdatedEvent(msg) {\n    const state = getState();\n    const currentUser = getCurrentUser(state);\n    const user = msg.data.user;\n\n    if (isGuest(user)) {\n        let members = getMembersInCurrentChannel(state);\n        const currentChannelId = getCurrentChannelId(state);\n        if (members && members[user.id]) {\n            dispatch(getChannelStats(currentChannelId));\n        } else {\n            await dispatch(getChannelMember(currentChannelId, user.id));\n            members = getMembersInCurrentChannel(getState());\n            if (members && members[user.id]) {\n                dispatch(getChannelStats(currentChannelId));\n            }\n        }\n    }\n\n    if (currentUser.id === user.id) {\n        if (user.update_at > currentUser.update_at) {\n            // Need to request me to make sure we don't override with sanitized fields from the\n            // websocket event\n            getMe()(dispatch, getState);\n        }\n    } else {\n        dispatch({\n            type: UserTypes.RECEIVED_PROFILE,\n            data: user,\n        });\n    }\n}\n\nfunction handleRoleAddedEvent(msg) {\n    const role = JSON.parse(msg.data.role);\n\n    dispatch({\n        type: RoleTypes.RECEIVED_ROLE,\n        data: role,\n    });\n}\n\nfunction handleRoleRemovedEvent(msg) {\n    const role = JSON.parse(msg.data.role);\n\n    dispatch({\n        type: RoleTypes.ROLE_DELETED,\n        data: role,\n    });\n}\n\nfunction handleRoleUpdatedEvent(msg) {\n    const role = JSON.parse(msg.data.role);\n\n    dispatch({\n        type: RoleTypes.RECEIVED_ROLE,\n        data: role,\n    });\n}\n\nfunction handleChannelCreatedEvent(msg) {\n    const channelId = msg.data.channel_id;\n    const teamId = msg.data.team_id;\n    const state = getState();\n\n    if (getCurrentTeamId(state) === teamId && !getChannel(state, channelId)) {\n        dispatch(getChannelAndMyMember(channelId));\n    }\n}\n\nfunction handleChannelDeletedEvent(msg) {\n    const state = getState();\n    const config = getConfig(state);\n    const viewArchivedChannels = config.ExperimentalViewArchivedChannels === 'true';\n    if (getCurrentChannelId(state) === msg.data.channel_id && !viewArchivedChannels) {\n        const teamUrl = getCurrentRelativeTeamUrl(state);\n        const currentTeamId = getCurrentTeamId(state);\n        const redirectChannel = getRedirectChannelNameForTeam(state, currentTeamId);\n        browserHistory.push(teamUrl + '/channels/' + redirectChannel);\n    }\n\n    dispatch({type: ChannelTypes.RECEIVED_CHANNEL_DELETED, data: {id: msg.data.channel_id, team_id: msg.broadcast.team_id, deleteAt: msg.data.delete_at, viewArchivedChannels}});\n}\n\nfunction handlePreferenceChangedEvent(msg) {\n    const preference = JSON.parse(msg.data.preference);\n    dispatch({type: PreferenceTypes.RECEIVED_PREFERENCES, data: [preference]});\n\n    if (addedNewDmUser(preference)) {\n        loadProfilesForSidebar();\n    }\n}\n\nfunction handlePreferencesChangedEvent(msg) {\n    const preferences = JSON.parse(msg.data.preferences);\n    dispatch({type: PreferenceTypes.RECEIVED_PREFERENCES, data: preferences});\n\n    if (preferences.findIndex(addedNewDmUser) !== -1) {\n        loadProfilesForSidebar();\n    }\n}\n\nfunction handlePreferencesDeletedEvent(msg) {\n    const preferences = JSON.parse(msg.data.preferences);\n    dispatch({type: PreferenceTypes.DELETED_PREFERENCES, data: preferences});\n}\n\nfunction addedNewDmUser(preference) {\n    return preference.category === Constants.Preferences.CATEGORY_DIRECT_CHANNEL_SHOW && preference.value === 'true';\n}\n\nexport function handleUserTypingEvent(msg) {\n    return (doDispatch, doGetState) => {\n        const state = doGetState();\n        const config = getConfig(state);\n        const currentUserId = getCurrentUserId(state);\n        const userId = msg.data.user_id;\n\n        const data = {\n            id: msg.broadcast.channel_id + msg.data.parent_id,\n            userId,\n            now: Date.now(),\n        };\n\n        doDispatch({\n            type: WebsocketEvents.TYPING,\n            data,\n        });\n\n        setTimeout(() => {\n            doDispatch({\n                type: WebsocketEvents.STOP_TYPING,\n                data,\n            });\n        }, parseInt(config.TimeBetweenUserTypingUpdatesMilliseconds, 10));\n\n        if (userId !== currentUserId) {\n            doDispatch(getMissingProfilesByIds([userId]));\n        }\n\n        const status = getStatusForUserId(state, userId);\n        if (status !== General.ONLINE) {\n            doDispatch(getStatusesByIds([userId]));\n        }\n    };\n}\n\nfunction handleStatusChangedEvent(msg) {\n    dispatch({\n        type: UserTypes.RECEIVED_STATUSES,\n        data: [{user_id: msg.data.user_id, status: msg.data.status}],\n    });\n}\n\nfunction handleHelloEvent(msg) {\n    setServerVersion(msg.data.server_version)(dispatch, getState);\n}\n\nfunction handleReactionAddedEvent(msg) {\n    const reaction = JSON.parse(msg.data.reaction);\n\n    dispatch(getCustomEmojiForReaction(reaction.emoji_name));\n\n    dispatch({\n        type: PostTypes.RECEIVED_REACTION,\n        data: reaction,\n    });\n}\n\nfunction handleAddEmoji(msg) {\n    const data = JSON.parse(msg.data.emoji);\n\n    dispatch({\n        type: EmojiTypes.RECEIVED_CUSTOM_EMOJI,\n        data,\n    });\n}\n\nfunction handleReactionRemovedEvent(msg) {\n    const reaction = JSON.parse(msg.data.reaction);\n\n    dispatch({\n        type: PostTypes.REACTION_DELETED,\n        data: reaction,\n    });\n}\n\nfunction handleChannelViewedEvent(msg) {\n    // Useful for when multiple devices have the app open to different channels\n    if ((!window.isActive || getCurrentChannelId(getState()) !== msg.data.channel_id) &&\n        getCurrentUserId(getState()) === msg.broadcast.user_id) {\n        dispatch(markChannelAsRead(msg.data.channel_id, '', false));\n    }\n}\n\nexport function handlePluginEnabled(msg) {\n    const manifest = msg.data.manifest;\n    loadPlugin(manifest).catch((error) => {\n        console.error(error.message); //eslint-disable-line no-console\n    });\n}\n\nexport function handlePluginDisabled(msg) {\n    const manifest = msg.data.manifest;\n    removePlugin(manifest);\n}\n\nfunction handleUserRoleUpdated(msg) {\n    const user = store.getState().entities.users.profiles[msg.data.user_id];\n\n    if (user) {\n        const roles = msg.data.roles;\n        const newRoles = roles.split(' ');\n        const demoted = user.roles.includes(Constants.PERMISSIONS_SYSTEM_ADMIN) && !roles.includes(Constants.PERMISSIONS_SYSTEM_ADMIN);\n\n        store.dispatch({type: UserTypes.RECEIVED_PROFILE, data: {...user, roles}});\n        dispatch(loadRolesIfNeeded(newRoles));\n\n        if (demoted && global.location.pathname.startsWith('/admin_console')) {\n            redirectUserToDefaultTeam();\n        }\n    }\n}\n\nfunction handleConfigChanged(msg) {\n    store.dispatch({type: GeneralTypes.CLIENT_CONFIG_RECEIVED, data: msg.data.config});\n}\n\nfunction handleLicenseChanged(msg) {\n    store.dispatch({type: GeneralTypes.CLIENT_LICENSE_RECEIVED, data: msg.data.license});\n}\n\nfunction handlePluginStatusesChangedEvent(msg) {\n    store.dispatch({type: AdminTypes.RECEIVED_PLUGIN_STATUSES, data: msg.data.plugin_statuses});\n}\n\nfunction handleOpenDialogEvent(msg) {\n    const data = (msg.data && msg.data.dialog) || {};\n    const dialog = JSON.parse(data);\n\n    store.dispatch({type: IntegrationTypes.RECEIVED_DIALOG, data: dialog});\n\n    const currentTriggerId = getState().entities.integrations.dialogTriggerId;\n\n    if (dialog.trigger_id !== currentTriggerId) {\n        return;\n    }\n\n    store.dispatch(openModal({modalId: ModalIdentifiers.INTERACTIVE_DIALOG, dialogType: InteractiveDialog}));\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport WebSocketClient from './websocket_client.jsx';\n\nvar WebClient = new WebSocketClient();\nexport default WebClient;\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nconst MAX_WEBSOCKET_FAILS = 7;\nconst MIN_WEBSOCKET_RETRY_TIME = 3000; // 3 sec\nconst MAX_WEBSOCKET_RETRY_TIME = 300000; // 5 mins\n\nexport default class WebSocketClient {\n    constructor() {\n        this.conn = null;\n        this.connectionUrl = null;\n        this.sequence = 1;\n        this.eventSequence = 0;\n        this.connectFailCount = 0;\n        this.eventCallback = null;\n        this.responseCallbacks = {};\n        this.firstConnectCallback = null;\n        this.reconnectCallback = null;\n        this.missedEventCallback = null;\n        this.errorCallback = null;\n        this.closeCallback = null;\n    }\n\n    initialize(connectionUrl = this.connectionUrl, token) {\n        if (this.conn) {\n            return;\n        }\n\n        if (connectionUrl == null) {\n            console.log('websocket must have connection url'); //eslint-disable-line no-console\n            return;\n        }\n\n        if (this.connectFailCount === 0) {\n            console.log('websocket connecting to ' + connectionUrl); //eslint-disable-line no-console\n        }\n\n        this.conn = new WebSocket(connectionUrl);\n        this.connectionUrl = connectionUrl;\n\n        this.conn.onopen = () => {\n            this.eventSequence = 0;\n\n            if (token) {\n                this.sendMessage('authentication_challenge', {token});\n            }\n\n            if (this.connectFailCount > 0) {\n                console.log('websocket re-established connection'); //eslint-disable-line no-console\n                if (this.reconnectCallback) {\n                    this.reconnectCallback();\n                }\n            } else if (this.firstConnectCallback) {\n                this.firstConnectCallback();\n            }\n\n            this.connectFailCount = 0;\n        };\n\n        this.conn.onclose = () => {\n            this.conn = null;\n            this.sequence = 1;\n\n            if (this.connectFailCount === 0) {\n                console.log('websocket closed'); //eslint-disable-line no-console\n            }\n\n            this.connectFailCount++;\n\n            if (this.closeCallback) {\n                this.closeCallback(this.connectFailCount);\n            }\n\n            let retryTime = MIN_WEBSOCKET_RETRY_TIME;\n\n            // If we've failed a bunch of connections then start backing off\n            if (this.connectFailCount > MAX_WEBSOCKET_FAILS) {\n                retryTime = MIN_WEBSOCKET_RETRY_TIME * this.connectFailCount * this.connectFailCount;\n                if (retryTime > MAX_WEBSOCKET_RETRY_TIME) {\n                    retryTime = MAX_WEBSOCKET_RETRY_TIME;\n                }\n            }\n\n            setTimeout(\n                () => {\n                    this.initialize(connectionUrl, token);\n                },\n                retryTime\n            );\n        };\n\n        this.conn.onerror = (evt) => {\n            if (this.connectFailCount <= 1) {\n                console.log('websocket error'); //eslint-disable-line no-console\n                console.log(evt); //eslint-disable-line no-console\n            }\n\n            if (this.errorCallback) {\n                this.errorCallback(evt);\n            }\n        };\n\n        this.conn.onmessage = (evt) => {\n            const msg = JSON.parse(evt.data);\n            if (msg.seq_reply) {\n                if (msg.error) {\n                    console.log(msg); //eslint-disable-line no-console\n                }\n\n                if (this.responseCallbacks[msg.seq_reply]) {\n                    this.responseCallbacks[msg.seq_reply](msg);\n                    Reflect.deleteProperty(this.responseCallbacks, msg.seq_reply);\n                }\n            } else if (this.eventCallback) {\n                if (msg.seq !== this.eventSequence && this.missedEventCallback) {\n                    console.log('missed websocket event, act_seq=' + msg.seq + ' exp_seq=' + this.eventSequence); //eslint-disable-line no-console\n                    this.missedEventCallback();\n                }\n                this.eventSequence = msg.seq + 1;\n                this.eventCallback(msg);\n            }\n        };\n    }\n\n    setEventCallback(callback) {\n        this.eventCallback = callback;\n    }\n\n    setFirstConnectCallback(callback) {\n        this.firstConnectCallback = callback;\n    }\n\n    setReconnectCallback(callback) {\n        this.reconnectCallback = callback;\n    }\n\n    setMissedEventCallback(callback) {\n        this.missedEventCallback = callback;\n    }\n\n    setErrorCallback(callback) {\n        this.errorCallback = callback;\n    }\n\n    setCloseCallback(callback) {\n        this.closeCallback = callback;\n    }\n\n    close() {\n        this.connectFailCount = 0;\n        this.sequence = 1;\n        if (this.conn && this.conn.readyState === WebSocket.OPEN) {\n            this.conn.onclose = () => {}; //eslint-disable-line no-empty-function\n            this.conn.close();\n            this.conn = null;\n            console.log('websocket closed'); //eslint-disable-line no-console\n        }\n    }\n\n    sendMessage(action, data, responseCallback) {\n        const msg = {\n            action,\n            seq: this.sequence++,\n            data,\n        };\n\n        if (responseCallback) {\n            this.responseCallbacks[msg.seq] = responseCallback;\n        }\n\n        if (this.conn && this.conn.readyState === WebSocket.OPEN) {\n            this.conn.send(JSON.stringify(msg));\n        } else if (!this.conn || this.conn.readyState === WebSocket.CLOSED) {\n            this.conn = null;\n            this.initialize();\n        }\n    }\n\n    userTyping(channelId, parentId, callback) {\n        const data = {};\n        data.channel_id = channelId;\n        data.parent_id = parentId;\n\n        this.sendMessage('user_typing', data, callback);\n    }\n\n    userUpdateActiveStatus(userIsActive, manual, callback) {\n        const data = {\n            user_is_active: userIsActive,\n            manual,\n        };\n        this.sendMessage('user_update_active_status', data, callback);\n    }\n\n    getStatuses(callback) {\n        this.sendMessage('get_statuses', null, callback);\n    }\n\n    getStatusesByIds(userIds, callback) {\n        const data = {};\n        data.user_ids = userIds;\n        this.sendMessage('get_statuses_by_ids', data, callback);\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {Modal} from 'react-bootstrap';\nimport {FormattedMessage} from 'react-intl';\n\nimport FormattedMarkdownMessage from 'components/formatted_markdown_message';\nimport MattermostLogo from 'components/widgets/icons/mattermost_logo';\n\nimport {AboutLinks} from 'utils/constants';\n\nexport default class AboutBuildModal extends React.PureComponent {\n    static defaultProps = {\n        show: false,\n    };\n\n    static propTypes = {\n\n        /**\n         * Function that is called when the modal is dismissed\n         */\n        onHide: PropTypes.func.isRequired,\n\n        /**\n         * Global config object\n         */\n        config: PropTypes.object.isRequired,\n\n        /**\n         * Global license object\n         */\n        license: PropTypes.object.isRequired,\n\n        /**\n         * Webapp build hash override. By default, webpack sets this (so it must be overridden in tests).\n         */\n        webappBuildHash: PropTypes.string,\n    };\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            show: true,\n        };\n    }\n\n    doHide = () => {\n        this.setState({show: false});\n    }\n\n    handleExit = () => {\n        this.props.onHide();\n    }\n\n    render() {\n        const config = this.props.config;\n        const license = this.props.license;\n\n        let title = (\n            <FormattedMessage\n                id='about.teamEditiont0'\n                defaultMessage='Team Edition'\n            />\n        );\n\n        let subTitle = (\n            <FormattedMessage\n                id='about.teamEditionSt'\n                defaultMessage='All your team communication in one place, instantly searchable and accessible anywhere.'\n            />\n        );\n\n        let learnMore = (\n            <div>\n                <FormattedMessage\n                    id='about.teamEditionLearn'\n                    defaultMessage='Join the Mattermost community at '\n                />\n                <a\n                    target='_blank'\n                    rel='noopener noreferrer'\n                    href='http://www.mattermost.org/'\n                >\n                    {'mattermost.org'}\n                </a>\n            </div>\n        );\n\n        let licensee;\n        if (config.BuildEnterpriseReady === 'true') {\n            title = (\n                <FormattedMessage\n                    id='about.teamEditiont1'\n                    defaultMessage='Enterprise Edition'\n                />\n            );\n\n            subTitle = (\n                <FormattedMessage\n                    id='about.enterpriseEditionSt'\n                    defaultMessage='Modern communication from behind your firewall.'\n                />\n            );\n\n            learnMore = (\n                <div>\n                    <FormattedMessage\n                        id='about.enterpriseEditionLearn'\n                        defaultMessage='Learn more about Enterprise Edition at '\n                    />\n                    <a\n                        target='_blank'\n                        rel='noopener noreferrer'\n                        href='http://about.mattermost.com/'\n                    >\n                        {'about.mattermost.com'}\n                    </a>\n                </div>\n            );\n\n            if (license.IsLicensed === 'true') {\n                title = (\n                    <FormattedMessage\n                        id='about.enterpriseEditione1'\n                        defaultMessage='Enterprise Edition'\n                    />\n                );\n                licensee = (\n                    <div className='form-group'>\n                        <FormattedMessage\n                            id='about.licensed'\n                            defaultMessage='Licensed to:'\n                        />\n                        &nbsp;{license.Company}\n                    </div>\n                );\n            }\n        }\n\n        const termsOfService = (\n            <a\n                target='_blank'\n                id='tosLink'\n                rel='noopener noreferrer'\n                href={AboutLinks.TERMS_OF_SERVICE}\n            >\n                <FormattedMessage\n                    id='about.tos'\n                    defaultMessage='Terms of Service'\n                />\n            </a>\n        );\n\n        const privacyPolicy = (\n            <a\n                target='_blank'\n                id='privacyLink'\n                rel='noopener noreferrer'\n                href={AboutLinks.PRIVACY_POLICY}\n            >\n                <FormattedMessage\n                    id='about.privacy'\n                    defaultMessage='Privacy Policy'\n                />\n            </a>\n        );\n\n        let tosPrivacyHyphen;\n        if (config.TermsOfServiceLink && config.PrivacyPolicyLink) {\n            tosPrivacyHyphen = (\n                <span>\n                    {' - '}\n                </span>\n            );\n        }\n\n        // Only show build number if it's a number (so only builds from Jenkins)\n        let buildnumber = (\n            <div>\n                <FormattedMessage\n                    id='about.buildnumber'\n                    defaultMessage='Build Number:'\n                />\n                <span id='buildnumberString'>{'\\u00a0' + config.BuildNumber}</span>\n            </div>\n        );\n        if (isNaN(config.BuildNumber)) {\n            buildnumber = null;\n        }\n\n        let mmversion = config.BuildNumber;\n        if (!isNaN(config.BuildNumber)) {\n            mmversion = 'ci';\n        }\n\n        return (\n            <Modal\n                dialogClassName='a11y__modal about-modal'\n                show={this.state.show}\n                onHide={this.doHide}\n                onExited={this.handleExit}\n                role='dialog'\n                aria-labelledby='aboutModalLabel'\n            >\n                <Modal.Header closeButton={true}>\n                    <Modal.Title\n                        componentClass='h1'\n                        id='aboutModalLabel'\n                    >\n                        <FormattedMessage\n                            id='about.title'\n                            values={{appTitle: config.SiteName || 'Mattermost'}}\n                            defaultMessage='About {appTitle}'\n                        />\n                    </Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                    <div className='about-modal__content'>\n                        <div className='about-modal__logo'>\n                            <MattermostLogo/>\n                        </div>\n                        <div>\n                            <h3 className='about-modal__title'>{'Mattermost'} {title}</h3>\n                            <p className='about-modal__subtitle padding-bottom'>{subTitle}</p>\n                            <div className='form-group less'>\n                                <div>\n                                    <FormattedMessage\n                                        id='about.version'\n                                        defaultMessage='Mattermost Version:'\n                                    />\n                                    <span id='versionString'>{'\\u00a0' + mmversion}</span>\n                                </div>\n                                <div>\n                                    <FormattedMessage\n                                        id='about.dbversion'\n                                        defaultMessage='Database Schema Version:'\n                                    />\n                                    <span id='dbversionString'>{'\\u00a0' + config.Version}</span>\n                                </div>\n                                {buildnumber}\n                                <div>\n                                    <FormattedMessage\n                                        id='about.database'\n                                        defaultMessage='Database:'\n                                    />\n                                    {'\\u00a0' + config.SQLDriverName}\n                                </div>\n                            </div>\n                            {licensee}\n                        </div>\n                    </div>\n                    <div className='about-modal__footer'>\n                        {learnMore}\n                        <div className='form-group'>\n                            <div className='about-modal__copyright'>\n                                <FormattedMessage\n                                    id='about.copyright'\n                                    defaultMessage='Copyright 2015 - {currentYear} Mattermost, Inc. All rights reserved'\n                                    values={{\n                                        currentYear: new Date().getFullYear(),\n                                    }}\n                                />\n                            </div>\n                            <div className='about-modal__links'>\n                                {termsOfService}\n                                {tosPrivacyHyphen}\n                                {privacyPolicy}\n                            </div>\n                        </div>\n                    </div>\n                    <div className='about-modal__notice form-group padding-top x2'>\n                        <p>\n                            <FormattedMarkdownMessage\n                                id='about.notice'\n                                defaultMessage='Mattermost is made possible by the open source software used in our [server](!https://about.mattermost.com/platform-notice-txt/), [desktop](!https://about.mattermost.com/desktop-notice-txt/) and [mobile](!https://about.mattermost.com/mobile-notice-txt/) apps.'\n                            />\n                        </p>\n                    </div>\n                    <div className='about-modal__hash'>\n                        <p>\n                            <FormattedMessage\n                                id='about.hash'\n                                defaultMessage='Build Hash:'\n                            />\n                            &nbsp;{config.BuildHash}\n                            <br/>\n                            <FormattedMessage\n                                id='about.hashee'\n                                defaultMessage='EE Build Hash:'\n                            />\n                            &nbsp;{config.BuildHashEnterprise}\n                            <br/>\n                            <FormattedMessage\n                                id='about.hashwebapp'\n                                defaultMessage='Webapp Build Hash:'\n                            />\n                            &nbsp;{/* global COMMIT_HASH */ this.props.webappBuildHash || (typeof COMMIT_HASH === 'undefined' ? '' : COMMIT_HASH)}\n                        </p>\n                        <p>\n                            <FormattedMessage\n                                id='about.date'\n                                defaultMessage='Build Date:'\n                            />\n                            &nbsp;{config.BuildDate}\n                        </p>\n                    </div>\n                </Modal.Body>\n            </Modal>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {getConfig, getLicense} from 'mattermost-redux/selectors/entities/general';\n\nimport {ModalIdentifiers} from 'utils/constants';\nimport {isModalOpen} from 'selectors/views/modals';\n\nimport AboutBuildModal from './about_build_modal.jsx';\n\nfunction mapStateToProps(state) {\n    const modalId = ModalIdentifiers.ABOUT;\n    return {\n        config: getConfig(state),\n        license: getLicense(state),\n        show: isModalOpen(state, modalId),\n    };\n}\n\nexport default connect(mapStateToProps)(AboutBuildModal);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {Modal} from 'react-bootstrap';\nimport {FormattedMessage} from 'react-intl';\n\nimport {Groups} from 'mattermost-redux/constants';\n\nimport Constants from 'utils/constants';\nimport {localizeMessage} from 'utils/utils.jsx';\n\nimport MultiSelect from 'components/multiselect/multiselect';\nimport groupsAvatar from 'images/groups-avatar.png';\nimport AddIcon from 'components/widgets/icons/fa_add_icon';\n\nconst GROUPS_PER_PAGE = 50;\nconst MAX_SELECTABLE_VALUES = 10;\n\nexport default class AddGroupsToChannelModal extends React.Component {\n    static propTypes = {\n        currentChannelName: PropTypes.string.isRequired,\n        currentChannelId: PropTypes.string.isRequired,\n        searchTerm: PropTypes.string.isRequired,\n        groups: PropTypes.array.isRequired,\n\n        // used in tandem with 'skipCommit' to allow using this component without performing actual linking\n        excludeGroups: PropTypes.arrayOf(PropTypes.object),\n        includeGroups: PropTypes.arrayOf(PropTypes.object),\n        onHide: PropTypes.func,\n        skipCommit: PropTypes.bool,\n        onAddCallback: PropTypes.func,\n        actions: PropTypes.shape({\n            getGroupsNotAssociatedToChannel: PropTypes.func.isRequired,\n            setModalSearchTerm: PropTypes.func.isRequired,\n            linkGroupSyncable: PropTypes.func.isRequired,\n            getAllGroupsAssociatedToChannel: PropTypes.func.isRequired,\n        }).isRequired,\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.searchTimeoutId = 0;\n\n        this.state = {\n            values: [],\n            show: true,\n            search: false,\n            saving: false,\n            addError: null,\n            loadingGroups: true,\n        };\n    }\n\n    componentDidMount() {\n        Promise.all([\n            this.props.actions.getGroupsNotAssociatedToChannel(this.props.currentChannelId, '', 0, GROUPS_PER_PAGE + 1),\n            this.props.actions.getAllGroupsAssociatedToChannel(this.props.currentChannelId),\n        ]).then(() => {\n            this.setGroupsLoadingState(false);\n        });\n    }\n\n    UNSAFE_componentWillReceiveProps(nextProps) { // eslint-disable-line camelcase\n        if (this.props.searchTerm !== nextProps.searchTerm) {\n            clearTimeout(this.searchTimeoutId);\n\n            const searchTerm = nextProps.searchTerm;\n            if (searchTerm === '') {\n                return;\n            }\n\n            this.searchTimeoutId = setTimeout(\n                async () => {\n                    this.setGroupsLoadingState(true);\n                    await this.props.actions.getGroupsNotAssociatedToChannel(this.props.currentChannelId, searchTerm);\n                    this.setGroupsLoadingState(false);\n                },\n                Constants.SEARCH_TIMEOUT_MILLISECONDS\n            );\n        }\n    }\n\n    handleHide = () => {\n        this.props.actions.setModalSearchTerm('');\n        this.setState({show: false});\n    }\n\n    handleExit = () => {\n        if (this.props.onHide) {\n            this.props.onHide();\n        }\n    }\n\n    handleResponse = (err) => {\n        let addError = null;\n        if (err && err.message) {\n            addError = err.message;\n        }\n\n        this.setState({\n            saving: false,\n            addError,\n        });\n    }\n\n    handleSubmit = async (e) => {\n        if (e) {\n            e.preventDefault();\n        }\n\n        const groupIDs = this.state.values.map((v) => v.id);\n        if (groupIDs.length === 0) {\n            return;\n        }\n\n        if (this.props.skipCommit) {\n            if (this.props.onAddCallback) {\n                this.props.onAddCallback(groupIDs);\n            }\n            this.handleHide();\n            return;\n        }\n\n        this.setState({saving: true});\n\n        groupIDs.forEach(async (groupID) => {\n            const {error} = await this.props.actions.linkGroupSyncable(groupID, this.props.currentChannelId, Groups.SYNCABLE_TYPE_CHANNEL, {auto_add: true});\n            this.handleResponse(error);\n            if (!error) {\n                this.handleHide();\n            }\n        });\n    }\n\n    addValue = (value) => {\n        const values = Object.assign([], this.state.values);\n        const userIds = values.map((v) => v.id);\n        if (value && value.id && userIds.indexOf(value.id) === -1) {\n            values.push(value);\n        }\n\n        this.setState({values});\n    }\n\n    setGroupsLoadingState = (loadingState) => {\n        this.setState({\n            loadingGroups: loadingState,\n        });\n    }\n\n    handlePageChange = (page, prevPage) => {\n        if (page > prevPage) {\n            this.setGroupsLoadingState(true);\n            this.props.actions.getGroupsNotAssociatedToChannel(this.props.currentChannelId, this.props.searchTerm, page, GROUPS_PER_PAGE + 1).then(() => {\n                this.setGroupsLoadingState(false);\n            });\n        }\n    }\n\n    handleDelete = (values) => {\n        this.setState({values});\n    }\n\n    search = (term) => {\n        this.props.actions.setModalSearchTerm(term);\n    }\n\n    renderOption(option, isSelected, onAdd) {\n        const rowSelected = isSelected ? 'more-modal__row--selected' : '';\n\n        return (\n            <div\n                key={option.id}\n                ref={isSelected ? 'selected' : option.id}\n                className={'more-modal__row clickable ' + rowSelected}\n                onClick={() => onAdd(option)}\n            >\n                <img\n                    className='more-modal__image'\n                    src={groupsAvatar}\n                    alt='group picture'\n                    width='32'\n                    height='32'\n                />\n                <div\n                    className='more-modal__details'\n                >\n                    <div className='more-modal__name'>\n                        {option.display_name}&nbsp;{'-'}&nbsp;<span className='more-modal__name_sub'>\n                            <FormattedMessage\n                                id='numMembers'\n                                defaultMessage='{num, number} {num, plural, one {member} other {members}}'\n                                values={{\n                                    num: option.member_count,\n                                }}\n                            />\n                        </span>\n                    </div>\n                </div>\n                <div className='more-modal__actions'>\n                    <div className='more-modal__actions--round'>\n                        <AddIcon/>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n    renderValue(props) {\n        return props.data.display_name;\n    }\n\n    render() {\n        const numRemainingText = (\n            <div id='numGroupsRemaining'>\n                <FormattedMessage\n                    id='multiselect.numGroupsRemaining'\n                    defaultMessage='Use  to browse,  to select. You can add {num, number} more {num, plural, one {group} other {groups}}. '\n                    values={{\n                        num: MAX_SELECTABLE_VALUES - this.state.values.length,\n                    }}\n                />\n            </div>\n        );\n\n        const buttonSubmitText = localizeMessage('multiselect.add', 'Add');\n        const buttonSubmitLoadingText = localizeMessage('multiselect.adding', 'Adding...');\n\n        let addError = null;\n        if (this.state.addError) {\n            addError = (<div className='has-error col-sm-12'><label className='control-label font-weight--normal'>{this.state.addError}</label></div>);\n        }\n        let groupsToShow = this.props.groups;\n        if (this.props.excludeGroups) {\n            const hasGroup = (og) => !this.props.excludeGroups.find((g) => g.id === og.id);\n            groupsToShow = groupsToShow.filter(hasGroup);\n        }\n        if (this.props.includeGroups) {\n            const hasGroup = (og) => this.props.includeGroups.find((g) => g.id === og.id);\n            groupsToShow = [...groupsToShow, ...this.props.includeGroups.filter(hasGroup)];\n        }\n\n        return (\n            <Modal\n                id='addGroupsToChannelModal'\n                dialogClassName={'a11y__modal more-modal more-direct-channels'}\n                show={this.state.show}\n                onHide={this.handleHide}\n                onExited={this.handleExit}\n            >\n                <Modal.Header closeButton={true}>\n                    <Modal.Title>\n                        <FormattedMessage\n                            id='add_groups_to_channel.title'\n                            defaultMessage='Add New Groups To {channelName} Channel'\n                            values={{\n                                channelName: (\n                                    <strong>{this.props.currentChannelName}</strong>\n                                ),\n                            }}\n                        />\n                    </Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                    {addError}\n                    <MultiSelect\n                        key='addGroupsToChannelKey'\n                        options={groupsToShow}\n                        optionRenderer={this.renderOption}\n                        values={this.state.values}\n                        valueRenderer={this.renderValue}\n                        perPage={GROUPS_PER_PAGE}\n                        handlePageChange={this.handlePageChange}\n                        handleInput={this.search}\n                        handleDelete={this.handleDelete}\n                        handleAdd={this.addValue}\n                        handleSubmit={this.handleSubmit}\n                        maxValues={MAX_SELECTABLE_VALUES}\n                        numRemainingText={numRemainingText}\n                        buttonSubmitText={buttonSubmitText}\n                        buttonSubmitLoadingText={buttonSubmitLoadingText}\n                        saving={this.state.saving}\n                        loading={this.state.loadingGroups}\n                        placeholderText={localizeMessage('multiselect.addGroupsPlaceholder', 'Search and add groups')}\n                    />\n                </Modal.Body>\n            </Modal>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\nimport {getGroupsNotAssociatedToChannel, linkGroupSyncable, getAllGroupsAssociatedToChannel} from 'mattermost-redux/actions/groups';\nimport {getGroupsNotAssociatedToChannel as selectGroupsNotAssociatedToChannel} from 'mattermost-redux/selectors/entities/groups';\nimport {getCurrentChannel} from 'mattermost-redux/selectors/entities/channels';\n\nimport {setModalSearchTerm} from 'actions/views/search';\n\nimport AddGroupsToChannelModal from './add_groups_to_channel_modal';\n\nfunction mapStateToProps(state, ownProps) {\n    const searchTerm = state.views.search.modalSearch;\n\n    const channel = ownProps.channel || getCurrentChannel(state) || {};\n\n    let groups = selectGroupsNotAssociatedToChannel(state, channel.id);\n    if (searchTerm) {\n        const regex = RegExp(searchTerm, 'i');\n        groups = groups.filter((group) => regex.test(group.display_name) || regex.test(group.name));\n    }\n\n    return {\n        currentChannelName: channel.display_name,\n        currentChannelId: channel.id,\n        skipCommit: ownProps.skipCommit,\n        onAddCallback: ownProps.onAddCallback,\n        excludeGroups: ownProps.excludeGroups,\n        searchTerm,\n        groups,\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            getGroupsNotAssociatedToChannel,\n            setModalSearchTerm,\n            linkGroupSyncable,\n            getAllGroupsAssociatedToChannel,\n        }, dispatch),\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AddGroupsToChannelModal);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {Modal} from 'react-bootstrap';\nimport {FormattedMessage} from 'react-intl';\n\nimport {Groups} from 'mattermost-redux/constants';\n\nimport Constants from 'utils/constants';\nimport {localizeMessage} from 'utils/utils.jsx';\n\nimport MultiSelect from 'components/multiselect/multiselect';\nimport groupsAvatar from 'images/groups-avatar.png';\nimport AddIcon from 'components/widgets/icons/fa_add_icon';\n\nconst GROUPS_PER_PAGE = 50;\nconst MAX_SELECTABLE_VALUES = 10;\n\nexport default class AddGroupsToTeamModal extends React.Component {\n    static propTypes = {\n        currentTeamName: PropTypes.string.isRequired,\n        currentTeamId: PropTypes.string.isRequired,\n        searchTerm: PropTypes.string.isRequired,\n        groups: PropTypes.array.isRequired,\n\n        // used in tandem with 'skipCommit' to allow using this component without performing actual linking\n        excludeGroups: PropTypes.arrayOf(PropTypes.object),\n        includeGroups: PropTypes.arrayOf(PropTypes.object),\n        onHide: PropTypes.func,\n        skipCommit: PropTypes.bool,\n        onAddCallback: PropTypes.func,\n        actions: PropTypes.shape({\n            getGroupsNotAssociatedToTeam: PropTypes.func.isRequired,\n            setModalSearchTerm: PropTypes.func.isRequired,\n            linkGroupSyncable: PropTypes.func.isRequired,\n            getAllGroupsAssociatedToTeam: PropTypes.func.isRequired,\n        }).isRequired,\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.searchTimeoutId = 0;\n\n        this.state = {\n            values: [],\n            show: true,\n            search: false,\n            saving: false,\n            addError: null,\n            loadingGroups: true,\n        };\n    }\n\n    componentDidMount() {\n        Promise.all([\n            this.props.actions.getGroupsNotAssociatedToTeam(this.props.currentTeamId, '', 0, GROUPS_PER_PAGE + 1),\n            this.props.actions.getAllGroupsAssociatedToTeam(this.props.currentTeamId),\n        ]).then(() => {\n            this.setGroupsLoadingState(false);\n        });\n    }\n\n    UNSAFE_componentWillReceiveProps(nextProps) { // eslint-disable-line camelcase\n        if (this.props.searchTerm !== nextProps.searchTerm) {\n            clearTimeout(this.searchTimeoutId);\n\n            const searchTerm = nextProps.searchTerm;\n            if (searchTerm === '') {\n                return;\n            }\n\n            this.searchTimeoutId = setTimeout(\n                async () => {\n                    this.setGroupsLoadingState(true);\n                    await this.props.actions.getGroupsNotAssociatedToTeam(this.props.currentTeamId, searchTerm);\n                    this.setGroupsLoadingState(false);\n                },\n                Constants.SEARCH_TIMEOUT_MILLISECONDS\n            );\n        }\n    }\n\n    handleHide = () => {\n        this.props.actions.setModalSearchTerm('');\n        this.setState({show: false});\n    }\n\n    handleExit = () => {\n        if (this.props.onHide) {\n            this.props.onHide();\n        }\n    }\n\n    handleResponse = (err) => {\n        let addError = null;\n        if (err && err.message) {\n            addError = err.message;\n        }\n\n        this.setState({\n            saving: false,\n            addError,\n        });\n    }\n\n    handleSubmit = async (e) => {\n        if (e) {\n            e.preventDefault();\n        }\n\n        const groupIDs = this.state.values.map((v) => v.id);\n        if (groupIDs.length === 0) {\n            return;\n        }\n        if (this.props.skipCommit) {\n            if (this.props.onAddCallback) {\n                this.props.onAddCallback(groupIDs);\n            }\n            this.handleHide();\n            return;\n        }\n\n        this.setState({saving: true});\n\n        groupIDs.forEach(async (groupID) => {\n            const {error} = await this.props.actions.linkGroupSyncable(groupID, this.props.currentTeamId, Groups.SYNCABLE_TYPE_TEAM, {auto_add: true});\n            this.handleResponse(error);\n            if (!error) {\n                this.handleHide();\n            }\n        });\n    }\n\n    addValue = (value) => {\n        const values = Object.assign([], this.state.values);\n        const userIds = values.map((v) => v.id);\n        if (value && value.id && userIds.indexOf(value.id) === -1) {\n            values.push(value);\n        }\n\n        this.setState({values});\n    }\n\n    setGroupsLoadingState = (loadingState) => {\n        this.setState({\n            loadingGroups: loadingState,\n        });\n    }\n\n    handlePageChange = (page, prevPage) => {\n        if (page > prevPage) {\n            this.setGroupsLoadingState(true);\n            this.props.actions.getGroupsNotAssociatedToTeam(this.props.currentTeamId, this.props.searchTerm, page, GROUPS_PER_PAGE + 1).then(() => {\n                this.setGroupsLoadingState(false);\n            });\n        }\n    }\n\n    handleDelete = (values) => {\n        this.setState({values});\n    }\n\n    search = (term) => {\n        this.props.actions.setModalSearchTerm(term);\n    }\n\n    renderOption(option, isSelected, onAdd) {\n        const rowSelected = isSelected ? 'more-modal__row--selected' : '';\n\n        return (\n            <div\n                key={option.id}\n                ref={isSelected ? 'selected' : option.id}\n                className={'more-modal__row clickable ' + rowSelected}\n                onClick={() => onAdd(option)}\n            >\n                <img\n                    className='more-modal__image'\n                    src={groupsAvatar}\n                    alt='group picture'\n                    width='32'\n                    height='32'\n                />\n                <div\n                    className='more-modal__details'\n                >\n                    <div className='more-modal__name'>\n                        {option.display_name}&nbsp;{'-'}&nbsp;<span className='more-modal__name_sub'>\n                            <FormattedMessage\n                                id='numMembers'\n                                defaultMessage='{num, number} {num, plural, one {member} other {members}}'\n                                values={{\n                                    num: option.member_count,\n                                }}\n                            />\n                        </span>\n                    </div>\n                </div>\n                <div className='more-modal__actions'>\n                    <div className='more-modal__actions--round'>\n                        <AddIcon/>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n    renderValue(props) {\n        return props.data.display_name;\n    }\n\n    render() {\n        const numRemainingText = (\n            <div id='numGroupsRemaining'>\n                <FormattedMessage\n                    id='multiselect.numGroupsRemaining'\n                    defaultMessage='Use  to browse,  to select. You can add {num, number} more {num, plural, one {group} other {groups}}. '\n                    values={{\n                        num: MAX_SELECTABLE_VALUES - this.state.values.length,\n                    }}\n                />\n            </div>\n        );\n\n        const buttonSubmitText = localizeMessage('multiselect.add', 'Add');\n        const buttonSubmitLoadingText = localizeMessage('multiselect.adding', 'Adding...');\n\n        let addError = null;\n        if (this.state.addError) {\n            addError = (<div className='has-error col-sm-12'><label className='control-label font-weight--normal'>{this.state.addError}</label></div>);\n        }\n\n        let groupsToShow = this.props.groups;\n        if (this.props.excludeGroups) {\n            const hasGroup = (og) => !this.props.excludeGroups.find((g) => g.id === og.id);\n            groupsToShow = groupsToShow.filter(hasGroup);\n        }\n        if (this.props.includeGroups) {\n            const hasGroup = (og) => this.props.includeGroups.find((g) => g.id === og.id);\n            groupsToShow = [...groupsToShow, ...this.props.includeGroups.filter(hasGroup)];\n        }\n\n        return (\n            <Modal\n                id='addGroupsToTeamModal'\n                dialogClassName={'a11y__modal more-modal more-direct-channels'}\n                show={this.state.show}\n                onHide={this.handleHide}\n                onExited={this.handleExit}\n            >\n                <Modal.Header closeButton={true}>\n                    <Modal.Title componentClass='h1'>\n                        <FormattedMessage\n                            id='add_groups_to_team.title'\n                            defaultMessage='Add New Groups To {teamName} Team'\n                            values={{\n                                teamName: (\n                                    <strong>{this.props.currentTeamName}</strong>\n                                ),\n                            }}\n                        />\n                    </Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                    {addError}\n                    <MultiSelect\n                        key='addGroupsToTeamKey'\n                        options={groupsToShow}\n                        optionRenderer={this.renderOption}\n                        values={this.state.values}\n                        valueRenderer={this.renderValue}\n                        perPage={GROUPS_PER_PAGE}\n                        handlePageChange={this.handlePageChange}\n                        handleInput={this.search}\n                        handleDelete={this.handleDelete}\n                        handleAdd={this.addValue}\n                        handleSubmit={this.handleSubmit}\n                        maxValues={MAX_SELECTABLE_VALUES}\n                        numRemainingText={numRemainingText}\n                        buttonSubmitText={buttonSubmitText}\n                        buttonSubmitLoadingText={buttonSubmitLoadingText}\n                        saving={this.state.saving}\n                        loading={this.state.loadingGroups}\n                        placeholderText={localizeMessage('multiselect.addGroupsPlaceholder', 'Search and add groups')}\n                    />\n                </Modal.Body>\n            </Modal>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\nimport {getGroupsNotAssociatedToTeam, linkGroupSyncable, getAllGroupsAssociatedToTeam} from 'mattermost-redux/actions/groups';\nimport {getGroupsNotAssociatedToTeam as selectGroupsNotAssociatedToTeam} from 'mattermost-redux/selectors/entities/groups';\nimport {getCurrentTeam} from 'mattermost-redux/selectors/entities/teams';\n\nimport {setModalSearchTerm} from 'actions/views/search';\n\nimport AddGroupsToTeamModal from './add_groups_to_team_modal';\n\nfunction mapStateToProps(state, ownProps) {\n    const searchTerm = state.views.search.modalSearch;\n\n    const team = ownProps.team || getCurrentTeam(state) || {};\n\n    let groups = selectGroupsNotAssociatedToTeam(state, team.id);\n    if (searchTerm) {\n        const regex = RegExp(searchTerm, 'i');\n        groups = groups.filter((group) => regex.test(group.display_name) || regex.test(group.name));\n    }\n\n    return {\n        currentTeamName: team.display_name,\n        currentTeamId: team.id,\n        skipCommit: ownProps.skipCommit,\n        onAddCallback: ownProps.onAddCallback,\n        excludeGroups: ownProps.excludeGroups,\n        searchTerm,\n        groups,\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            getGroupsNotAssociatedToTeam,\n            setModalSearchTerm,\n            linkGroupSyncable,\n            getAllGroupsAssociatedToTeam,\n        }, dispatch),\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AddGroupsToTeamModal);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {Modal} from 'react-bootstrap';\nimport {FormattedMessage} from 'react-intl';\n\nimport {getFullName} from 'mattermost-redux/utils/user_utils';\n\nimport SearchChannelWithPermissionsProvider from 'components/suggestion/search_channel_with_permissions_provider.jsx';\nimport SuggestionBox from 'components/suggestion/suggestion_box.jsx';\nimport SuggestionList from 'components/suggestion/suggestion_list.jsx';\n\nimport {placeCaretAtEnd} from 'utils/utils.jsx';\n\nexport default class AddUserToChannelModal extends React.Component {\n    static propTypes = {\n\n        /**\n         * Function that's called when modal is closed\n         */\n        onHide: PropTypes.func.isRequired,\n\n        /**\n         * The user that is being added to a channel\n         */\n        user: PropTypes.object.isRequired,\n\n        /**\n         * Object used to determine if the user\n         * is a member of a given channel\n         */\n        channelMembers: PropTypes.object.isRequired,\n\n        actions: PropTypes.shape({\n\n            /**\n             * Function to add the user to a channel\n             */\n            addChannelMember: PropTypes.func.isRequired,\n\n            /**\n             * Function to fetch the user's channel membership\n             */\n            getChannelMember: PropTypes.func.isRequired,\n\n            /**\n             * Function passed on to the constructor of the\n             * SearchChannelWithPermissionsProvider class to fetch channels\n             * based on a search term\n             */\n            autocompleteChannelsForSearch: PropTypes.func.isRequired,\n        }).isRequired,\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n\n            /**\n             * Whether or not the modal is visible\n             */\n            show: true,\n\n            /**\n             * Whether or not a request to add the user is in progress\n             */\n            saving: false,\n\n            /**\n             * Whether or not a request to check for the user's channel membership\n             * is in progress\n             */\n            checkingForMembership: false,\n\n            /**\n             * The user input in the channel search box\n             */\n            text: '',\n\n            /**\n             * The id for the channel that is selected\n             */\n            selectedChannelId: null,\n\n            /**\n             * An error to display when the add request fails\n             */\n            submitError: '',\n        };\n        this.suggestionProviders = [new SearchChannelWithPermissionsProvider(props.actions.autocompleteChannelsForSearch)];\n        this.enableChannelProvider();\n    }\n\n    enableChannelProvider = () => {\n        this.suggestionProviders[0].disableDispatches = false;\n    }\n\n    focusTextbox = () => {\n        if (this.channelSearchBox == null) {\n            return;\n        }\n\n        const textbox = this.channelSearchBox.getTextbox();\n        if (document.activeElement !== textbox) {\n            textbox.focus();\n            placeCaretAtEnd(textbox);\n        }\n    }\n\n    onInputChange = (e) => {\n        this.setState({text: e.target.value, selectedChannelId: null});\n    }\n\n    onHide = () => {\n        this.setState({show: false});\n        this.props.onHide();\n    }\n\n    setSearchBoxRef = (input) => {\n        this.channelSearchBox = input;\n        this.focusTextbox();\n    }\n\n    handleSubmitError = (error) => {\n        if (error) {\n            this.setState({submitError: error.message, saving: false});\n        }\n    }\n\n    didSelectChannel = (selection) => {\n        const channel = selection.channel;\n        const userId = this.props.user.id;\n\n        this.setState({\n            text: channel.display_name,\n            selectedChannelId: channel.id,\n            checkingForMembership: true,\n            submitError: '',\n        });\n\n        this.props.actions.getChannelMember(channel.id, userId).then(() => {\n            this.setState({checkingForMembership: false});\n        });\n    }\n\n    handleSubmit = (e) => {\n        if (e && e.preventDefault) {\n            e.preventDefault();\n        }\n\n        const channelId = this.state.selectedChannelId;\n        const user = this.props.user;\n\n        if (!channelId) {\n            return;\n        }\n\n        if (this.isUserMemberOfChannel(channelId) || this.state.saving) {\n            return;\n        }\n\n        this.setState({saving: true});\n\n        this.props.actions.addChannelMember(channelId, user.id).then(({error}) => {\n            if (error) {\n                this.handleSubmitError(error);\n            } else {\n                this.onHide();\n            }\n        });\n    }\n\n    isUserMemberOfChannel = (channelId) => {\n        const user = this.props.user;\n        const memberships = this.props.channelMembers;\n\n        if (!channelId) {\n            return false;\n        }\n\n        if (!memberships[channelId]) {\n            return false;\n        }\n\n        return Boolean(memberships[channelId][user.id]);\n    }\n\n    render() {\n        const user = this.props.user;\n        const channelId = this.state.selectedChannelId;\n        const targetUserIsMemberOfSelectedChannel = this.isUserMemberOfChannel(channelId);\n\n        let name = getFullName(user);\n        if (!name) {\n            name = `@${user.username}`;\n        }\n\n        let errorMsg;\n        if (!this.state.saving) {\n            if (this.state.submitError) {\n                errorMsg = (\n                    <label\n                        id='add-user-to-channel-modal__invite-error'\n                        className='modal__error has-error control-label'\n                    >\n                        {this.state.submitError}\n                    </label>\n                );\n            } else if (targetUserIsMemberOfSelectedChannel) {\n                errorMsg = (\n                    <label\n                        id='add-user-to-channel-modal__user-is-member'\n                        className='modal__error has-error control-label'\n                    >\n                        <FormattedMessage\n                            id='add_user_to_channel_modal.membershipExistsError'\n                            defaultMessage='{name} is already a member of that channel'\n                            values={{\n                                name,\n                            }}\n                        />\n                    </label>\n                );\n            }\n        }\n\n        const help = (\n            <FormattedMessage\n                id='add_user_to_channel_modal.help'\n                defaultMessage='Type to find a channel. Use  to browse,  to select, ESC to dismiss.'\n            />\n        );\n\n        const content = (\n            <SuggestionBox\n                ref={this.setSearchBoxRef}\n                className='form-control focused'\n                onChange={this.onInputChange}\n                value={this.state.text}\n                onKeyDown={this.handleKeyDown}\n                onItemSelected={this.didSelectChannel}\n                listComponent={SuggestionList}\n                maxLength='64'\n                providers={this.suggestionProviders}\n                listStyle='bottom'\n                completeOnTab={false}\n                renderDividers={false}\n                delayInputUpdate={true}\n                openWhenEmpty={true}\n            />\n        );\n\n        const shouldDisableAddButton = targetUserIsMemberOfSelectedChannel ||\n            this.state.checkingForMembership ||\n            Boolean(!this.state.selectedChannelId) ||\n            this.state.saving;\n\n        return (\n            <Modal\n                dialogClassName='a11y__modal modal--overflow'\n                show={this.state.show}\n                onHide={this.onHide}\n                onExited={this.props.onHide}\n                ref='modal'\n                enforceFocus={true}\n                role='dialog'\n                aria-labelledby='addChannelModalLabel'\n            >\n                <Modal.Header closeButton={true}>\n                    <Modal.Title\n                        componentClass='h1'\n                        id='addChannelModalLabel'\n                    >\n                        <FormattedMessage\n                            id='add_user_to_channel_modal.title'\n                            defaultMessage='Add {name} to a channel'\n                            values={{\n                                name,\n                            }}\n                        />\n                    </Modal.Title>\n                </Modal.Header>\n                <form\n                    role='form'\n                    onSubmit={this.handleSubmit}\n                >\n                    <Modal.Body>\n                        <div className='modal__hint'>\n                            {help}\n                        </div>\n                        {content}\n                        <div>\n                            {errorMsg}\n                            <br/>\n                        </div>\n                    </Modal.Body>\n                    <Modal.Footer>\n                        <button\n                            type='button'\n                            className='btn btn-link'\n                            onClick={this.onHide}\n                        >\n                            <FormattedMessage\n                                id='add_user_to_channel_modal.cancel'\n                                defaultMessage='Cancel'\n                            />\n                        </button>\n                        <button\n                            type='button'\n                            id='add-user-to-channel-modal__add-button'\n                            className='btn btn-primary'\n                            onClick={this.handleSubmit}\n                            disabled={shouldDisableAddButton}\n                        >\n                            <FormattedMessage\n                                id='add_user_to_channel_modal.add'\n                                defaultMessage='Add'\n                            />\n                        </button>\n                    </Modal.Footer>\n                </form>\n            </Modal>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\nimport {addChannelMember, getChannelMember, autocompleteChannelsForSearch} from 'mattermost-redux/actions/channels';\nimport {getChannelMembersInChannels} from 'mattermost-redux/selectors/entities/channels';\n\nimport AddUserToChannelModal from './add_user_to_channel_modal.jsx';\n\nfunction mapStateToProps(state) {\n    const channelMembers = getChannelMembersInChannels(state) || {};\n    return {\n        channelMembers,\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            addChannelMember,\n            getChannelMember,\n            autocompleteChannelsForSearch,\n        }, dispatch),\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AddUserToChannelModal);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport {Tooltip, OverlayTrigger} from 'react-bootstrap';\n\nimport {Constants, AnnouncementBarTypes} from 'utils/constants';\nimport FormattedMarkdownMessage from 'components/formatted_markdown_message';\n\nexport default class AnnouncementBar extends React.PureComponent {\n    static propTypes = {\n        showCloseButton: PropTypes.bool,\n        color: PropTypes.string,\n        textColor: PropTypes.string,\n        type: PropTypes.string,\n        message: PropTypes.node.isRequired,\n        handleClose: PropTypes.func,\n    }\n    static defaultProps = {\n        showCloseButton: false,\n        color: '',\n        textColor: '',\n        type: AnnouncementBarTypes.CRITICAL,\n        handleClose: null,\n    }\n\n    componentDidMount() {\n        let announcementBarCount = document.body.getAttribute('announcementBarCount') || 0;\n        announcementBarCount++;\n        document.body.classList.add('announcement-bar--fixed');\n\n        // keeping a track of mounted AnnouncementBars so that on the last AnnouncementBars unmount we can remove the class on body\n        document.body.setAttribute('announcementBarCount', announcementBarCount);\n    }\n\n    componentWillUnmount() {\n        let announcementBarCount = document.body.getAttribute('announcementBarCount');\n        announcementBarCount--;\n        document.body.setAttribute('announcementBarCount', announcementBarCount);\n\n        // remove the class on body as it is the last announcementBar\n        if (announcementBarCount === 0) {\n            document.body.classList.remove('announcement-bar--fixed');\n        }\n    }\n\n    handleClose = (e) => {\n        e.preventDefault();\n        if (this.props.handleClose) {\n            this.props.handleClose();\n        }\n    }\n\n    render() {\n        if (!this.props.message) {\n            return null;\n        }\n\n        let barClass = 'announcement-bar';\n        const barStyle = {};\n        const linkStyle = {};\n        if (this.props.color && this.props.textColor) {\n            barStyle.backgroundColor = this.props.color;\n            barStyle.color = this.props.textColor;\n            linkStyle.color = this.props.textColor;\n        } else if (this.props.type === AnnouncementBarTypes.DEVELOPER) {\n            barClass = 'announcement-bar announcement-bar-developer';\n        } else if (this.props.type === AnnouncementBarTypes.CRITICAL) {\n            barClass = 'announcement-bar announcement-bar-critical';\n        } else if (this.props.type === AnnouncementBarTypes.SUCCESS) {\n            barClass = 'announcement-bar announcement-bar-success';\n        }\n\n        let closeButton;\n        if (this.props.showCloseButton) {\n            closeButton = (\n                <a\n                    href='#'\n                    className='announcement-bar__close'\n                    style={linkStyle}\n                    onClick={this.handleClose}\n                >\n                    {''}\n                </a>\n            );\n        }\n\n        let message = this.props.message;\n        if (typeof message == 'string') {\n            message = (\n                <FormattedMarkdownMessage id={this.props.message}/>\n            );\n        }\n\n        const announcementTooltip = (\n            <Tooltip id='announcement-bar__tooltip'>\n                {message}\n            </Tooltip>\n        );\n\n        return (\n            <div\n                className={barClass}\n                style={barStyle}\n            >\n                <OverlayTrigger\n                    delayShow={Constants.OVERLAY_TIME_DELAY}\n                    placement='bottom'\n                    overlay={announcementTooltip}\n                >\n                    <span>\n                        {message}\n                    </span>\n                </OverlayTrigger>\n                {closeButton}\n            </div>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport ConfigurationAnnouncementBar from './configuration_bar';\nimport VersionBar from './version_bar';\nimport TextDismissableBar from './text_dismissable_bar.jsx';\nimport AnnouncementBar from './announcement_bar.jsx';\n\nexport default class AnnouncementBarController extends React.PureComponent {\n    static propTypes = {\n        license: PropTypes.object,\n        config: PropTypes.object,\n        user: PropTypes.shape({\n            email: PropTypes.string.isRequired,\n            email_verified: PropTypes.bool,\n        }),\n        canViewSystemErrors: PropTypes.bool.isRequired,\n        latestError: PropTypes.object,\n        totalUsers: PropTypes.number,\n        actions: PropTypes.shape({\n            dismissError: PropTypes.func.isRequired,\n        }).isRequired,\n    }\n\n    render() {\n        let adminConfiguredAnnouncementBar = null;\n        if (this.props.config.EnableBanner === 'true' && this.props.config.BannerText.trim()) {\n            adminConfiguredAnnouncementBar = (\n                <TextDismissableBar\n                    color={this.props.config.BannerColor}\n                    textColor={this.props.config.BannerTextColor}\n                    allowDismissal={this.props.config.AllowBannerDismissal === 'true'}\n                    text={this.props.config.BannerText}\n                />\n            );\n        }\n\n        let errorBar = null;\n        if (this.props.latestError) {\n            errorBar = (\n                <AnnouncementBar\n                    type={this.props.latestError.error.type}\n                    message={this.props.latestError.error.message}\n                    showCloseButton={true}\n                    handleClose={this.props.actions.dismissError}\n                />\n            );\n        }\n\n        return (\n            <React.Fragment>\n                {adminConfiguredAnnouncementBar}\n                {errorBar}\n                <VersionBar/>\n                <ConfigurationAnnouncementBar\n                    config={this.props.config}\n                    license={this.props.license}\n                    canViewSystemErrors={this.props.canViewSystemErrors}\n                    totalUsers={this.props.totalUsers}\n                    user={this.props.user}\n                />\n            </React.Fragment>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport {FormattedMessage, intlShape} from 'react-intl';\n\nimport {isLicenseExpired, isLicenseExpiring, isLicensePastGracePeriod} from 'utils/license_utils.jsx';\nimport {AnnouncementBarTypes, AnnouncementBarMessages} from 'utils/constants';\n\nimport {t} from 'utils/i18n';\n\nimport FormattedMarkdownMessage from 'components/formatted_markdown_message';\n\nimport AnnouncementBar from '../announcement_bar.jsx';\nimport TextDismissableBar from '../text_dismissable_bar';\n\nconst RENEWAL_LINK = 'https://licensing.mattermost.com/renew';\n\nexport default class ConfigurationAnnouncementBar extends React.PureComponent {\n    static propTypes = {\n        config: PropTypes.object,\n        license: PropTypes.object,\n        user: PropTypes.object,\n        canViewSystemErrors: PropTypes.bool.isRequired,\n        totalUsers: PropTypes.number,\n        dismissedExpiringLicense: PropTypes.bool,\n        siteURL: PropTypes.string.isRequired,\n        actions: PropTypes.shape({\n            dismissNotice: PropTypes.func.isRequired,\n        }).isRequired,\n    };\n\n    static contextTypes = {\n        intl: intlShape,\n    };\n\n    dismissExpiringLicense = () => {\n        this.props.actions.dismissNotice(AnnouncementBarMessages.LICENSE_EXPIRING);\n    }\n\n    render() {\n        // System administrators\n        if (this.props.canViewSystemErrors) {\n            const renewalLink = RENEWAL_LINK + '?id=' + this.props.license.id + '&user_count=' + this.props.totalUsers;\n            if (isLicensePastGracePeriod()) {\n                return (\n                    <AnnouncementBar\n                        type={AnnouncementBarTypes.CRITICAL}\n                        message={\n                            <FormattedMarkdownMessage\n                                id={AnnouncementBarMessages.LICENSE_EXPIRED}\n                                defaultMessage='Enterprise license is expired and some features may be disabled. [Please renew](!{link}).'\n                                values={{\n                                    link: renewalLink,\n                                }}\n                            />\n                        }\n                    />\n                );\n            }\n\n            if (isLicenseExpired()) {\n                return (\n                    <AnnouncementBar\n                        type={AnnouncementBarTypes.CRITICAL}\n                        message={\n                            <FormattedMarkdownMessage\n                                id={AnnouncementBarMessages.LICENSE_EXPIRED}\n                                defaultMessage='Enterprise license is expired and some features may be disabled. [Please renew](!{link}).'\n                                values={{\n                                    link: renewalLink,\n                                }}\n                            />\n                        }\n                    />\n                );\n            }\n\n            if (isLicenseExpiring() && !this.props.dismissedExpiringLicense) {\n                return (\n                    <AnnouncementBar\n                        showCloseButton={true}\n                        handleClose={this.dismissExpiringLicense}\n                        type={AnnouncementBarTypes.ANNOUNCEMENT}\n                        message={\n                            <FormattedMarkdownMessage\n                                id={AnnouncementBarMessages.LICENSE_EXPIRING}\n                                defaultMessage='Enterprise license expires on {date, date, long}. [Please renew](!{link}).'\n                                values={{\n                                    date: new Date(parseInt(this.props.license.ExpiresAt, 10)),\n                                    link: renewalLink,\n                                }}\n                            />\n                        }\n                    />\n                );\n            }\n        } else {\n            // Regular users\n            if (isLicensePastGracePeriod()) { //eslint-disable-line no-lonely-if\n                return (\n                    <AnnouncementBar\n                        type={AnnouncementBarTypes.CRITICAL}\n                        message={\n                            <FormattedMessage\n                                id={AnnouncementBarMessages.LICENSE_PAST_GRACE}\n                                defaultMessage='Enterprise license is expired and some features may be disabled. Please contact your System Administrator for details.'\n                            />\n                        }\n                    />\n                );\n            }\n        }\n\n        const {formatMessage} = this.context.intl;\n\n        if (this.props.config.SendEmailNotifications !== 'true' &&\n            this.props.config.EnablePreviewModeBanner === 'true'\n        ) {\n            const emailMessage = formatMessage({\n                id: AnnouncementBarMessages.PREVIEW_MODE,\n                defaultMessage: 'Preview Mode: Email notifications have not been configured',\n            });\n\n            return (\n                <TextDismissableBar\n                    allowDismissal={true}\n                    text={emailMessage}\n                    type={AnnouncementBarTypes.ANNOUNCEMENT}\n                />\n            );\n        }\n\n        if (this.props.canViewSystemErrors && this.props.config.SiteURL === '') {\n            let id;\n            let defaultMessage;\n            if (this.props.config.EnableSignUpWithGitLab === 'true') {\n                id = t('announcement_bar.error.site_url_gitlab.full');\n                defaultMessage = 'Please configure your [Site URL](https://docs.mattermost.com/administration/config-settings.html#site-url) in the [System Console]({siteURL}/admin_console/environment/web_server) or in gitlab.rb if you\\'re using GitLab Mattermost.';\n            } else {\n                id = t('announcement_bar.error.site_url.full');\n                defaultMessage = 'Please configure your [Site URL](https://docs.mattermost.com/administration/config-settings.html#site-url) in the [System Console]({siteURL}/admin_console/environment/web_server).';\n            }\n\n            const values = {siteURL: this.props.siteURL};\n            const siteURLMessage = formatMessage({id, defaultMessage}, values);\n\n            return (\n                <TextDismissableBar\n                    allowDismissal={true}\n                    text={siteURLMessage}\n                    type={AnnouncementBarTypes.ANNOUNCEMENT}\n                />\n            );\n        }\n\n        return null;\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\n\nimport {AnnouncementBarMessages} from 'utils/constants';\nimport {dismissNotice} from 'actions/views/notice';\nimport {getSiteURL} from 'utils/url';\n\nimport ConfigurationBar from './configuration_bar.jsx';\n\nfunction mapStateToProps(state) {\n    return {\n        siteURL: getSiteURL(state),\n        dismissedExpiringLicense: Boolean(state.views.notice.hasBeenDismissed[AnnouncementBarMessages.LICENSE_EXPIRING]),\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            dismissNotice,\n        }, dispatch),\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ConfigurationBar);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\nimport {getCurrentUser} from 'mattermost-redux/selectors/entities/users';\nimport {haveISystemPermission} from 'mattermost-redux/selectors/entities/roles';\nimport {Permissions} from 'mattermost-redux/constants';\nimport {getConfig, getLicense} from 'mattermost-redux/selectors/entities/general';\nimport {getDisplayableErrors} from 'mattermost-redux/selectors/errors';\nimport {dismissError} from 'mattermost-redux/actions/errors';\nimport {getStandardAnalytics} from 'mattermost-redux/actions/admin';\n\nimport {dismissNotice} from 'actions/views/notice';\n\nimport AnnouncementBarController from './announcement_bar_controller.jsx';\n\nfunction mapStateToProps(state) {\n    const canViewSystemErrors = haveISystemPermission(state, {permission: Permissions.MANAGE_SYSTEM});\n    const license = getLicense(state);\n    const config = getConfig(state);\n    const user = getCurrentUser(state);\n    const errors = getDisplayableErrors(state);\n    const totalUsers = state.entities.admin.analytics.TOTAL_USERS;\n    let latestError = null;\n    if (errors && errors.length >= 1) {\n        latestError = errors[0];\n    }\n\n    return {\n        license,\n        config,\n        user,\n        canViewSystemErrors,\n        latestError,\n        totalUsers,\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    const dismissFirstError = dismissError.bind(null, 0);\n    return {\n        actions: bindActionCreators({\n            getStandardAnalytics,\n            dismissError: dismissFirstError,\n            dismissNotice,\n        }, dispatch),\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AnnouncementBarController);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport * as TextFormatting from 'utils/text_formatting.jsx';\n\nimport AnnouncementBar from './announcement_bar.jsx';\n\nconst localStoragePrefix = '__announcement__';\n\nexport default class TextDismissableBar extends React.PureComponent {\n    static propTypes = {\n        allowDismissal: PropTypes.bool.isRequired,\n        text: PropTypes.string.isRequired,\n        onDismissal: PropTypes.func,\n\n        // Any props that AnnouncementBar supports\n    };\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            dismissed: true,\n        };\n    }\n\n    static getDerivedStateFromProps(props) {\n        const dismissed = localStorage.getItem(localStoragePrefix + props.text);\n        return {\n            dismissed,\n        };\n    }\n\n    handleDismiss = () => {\n        if (!this.props.allowDismissal) {\n            return;\n        }\n        localStorage.setItem(localStoragePrefix + this.props.text, true);\n        this.setState({\n            dismissed: true,\n        });\n        if (this.props.onDismissal) {\n            this.props.onDismissal();\n        }\n    }\n\n    render() {\n        if (this.state.dismissed) {\n            return null;\n        }\n        const {allowDismissal, text, ...extraProps} = this.props;\n        return (\n            <AnnouncementBar\n                {...extraProps}\n                showCloseButton={allowDismissal}\n                handleClose={this.handleDismiss}\n                message={\n                    <span\n                        dangerouslySetInnerHTML={{__html: TextFormatting.formatText(text, {singleline: true, mentionHighlight: false})}}\n                    />\n                }\n            />\n        );\n    }\n}\n\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\n\nimport VersionBar from './version_bar.jsx';\n\nfunction mapStateToProps(state) {\n    return {\n        serverVersion: state.entities.general.serverVersion,\n    };\n}\n\nexport default connect(mapStateToProps)(VersionBar);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport {FormattedMessage} from 'react-intl';\n\nimport {equalServerVersions} from 'utils/server_version';\nimport {AnnouncementBarTypes} from 'utils/constants';\n\nimport AnnouncementBar from '../announcement_bar.jsx';\n\nexport default class VersionBar extends React.PureComponent {\n    static propTypes = {\n        serverVersion: PropTypes.string,\n    };\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            serverVersionOnAppLoad: props.serverVersion,\n        };\n    }\n\n    static getDerivedStateFromProps(props, state) {\n        if (!state.serverVersionOnAppLoad && props.serverVersion) {\n            return {\n                serverVersionOnAppLoad: props.serverVersion,\n            };\n        }\n\n        return null;\n    }\n\n    reloadPage = () => {\n        window.location.reload();\n    }\n\n    render() {\n        const {serverVersionOnAppLoad} = this.state;\n        const {serverVersion} = this.props;\n\n        if (!serverVersionOnAppLoad) {\n            return null;\n        }\n\n        if (!equalServerVersions(serverVersionOnAppLoad, serverVersion)) {\n            return (\n                <AnnouncementBar\n                    type={AnnouncementBarTypes.ANNOUNCEMENT}\n                    message={\n                        <React.Fragment>\n                            <FormattedMessage\n                                id='version_bar.new'\n                                defaultMessage='A new version of Mattermost is available.'\n                            />\n                            {' '}\n                            <a onClick={this.reloadPage}>\n                                <FormattedMessage\n                                    id='version_bar.refresh'\n                                    defaultMessage='Refresh the app now'\n                                />\n                            </a>\n                            {'.'}\n                        </React.Fragment>\n                    }\n                />\n            );\n        }\n\n        return null;\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {Overlay} from 'react-bootstrap';\nimport {Client4} from 'mattermost-redux/client';\nimport {displayUsername} from 'mattermost-redux/utils/user_utils';\n\nimport ProfilePopover from 'components/profile_popover';\n\nimport {popOverOverlayPosition} from 'utils/position_utils.tsx';\nconst spaceRequiredForPopOver = 300;\n\nexport default class AtMention extends React.PureComponent {\n    static propTypes = {\n        children: PropTypes.node,\n        currentUserId: PropTypes.string.isRequired,\n        hasMention: PropTypes.bool,\n        isRHS: PropTypes.bool,\n        mentionName: PropTypes.string.isRequired,\n        teammateNameDisplay: PropTypes.string.isRequired,\n        usersByUsername: PropTypes.object.isRequired,\n    };\n\n    static defaultProps = {\n        isRHS: false,\n        hasMention: false,\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            show: false,\n        };\n\n        this.overlayRef = React.createRef();\n    }\n\n    handleClick = (e) => {\n        const targetBounds = this.overlayRef.current.getBoundingClientRect();\n        const placement = popOverOverlayPosition(targetBounds, window.innerHeight, spaceRequiredForPopOver);\n\n        this.setState({target: e.target, show: !this.state.show, placement});\n    }\n\n    hideOverlay = () => {\n        this.setState({show: false});\n    }\n\n    getUserFromMentionName(props) {\n        const usersByUsername = props.usersByUsername;\n        let mentionName = props.mentionName.toLowerCase();\n\n        while (mentionName.length > 0) {\n            if (usersByUsername.hasOwnProperty(mentionName)) {\n                return usersByUsername[mentionName];\n            }\n\n            // Repeatedly trim off trailing punctuation in case this is at the end of a sentence\n            if ((/[._-]$/).test(mentionName)) {\n                mentionName = mentionName.substring(0, mentionName.length - 1);\n            } else {\n                break;\n            }\n        }\n\n        return '';\n    }\n\n    render() {\n        const user = this.getUserFromMentionName(this.props);\n        if (!user) {\n            return <React.Fragment>{this.props.children}</React.Fragment>;\n        }\n\n        const suffix = this.props.mentionName.substring(user.username.length);\n\n        let className = 'mention-link';\n        if (user.id === this.props.currentUserId) {\n            className += ' mention--highlight';\n        }\n\n        return (\n            <span>\n                <Overlay\n                    placement={this.state.placement}\n                    show={this.state.show}\n                    target={this.state.target}\n                    rootClose={true}\n                    onHide={this.hideOverlay}\n                >\n                    <ProfilePopover\n                        className='user-profile-popover'\n                        userId={user.id}\n                        src={Client4.getProfilePictureUrl(user.id, user.last_picture_update)}\n                        isRHS={this.props.isRHS}\n                        hasMention={this.props.hasMention}\n                        hide={this.hideOverlay}\n                    />\n                </Overlay>\n                <a\n                    className={className}\n                    onClick={this.handleClick}\n                    ref={this.overlayRef}\n                >\n                    {'@' + displayUsername(user, this.props.teammateNameDisplay)}\n                </a>\n                {suffix}\n            </span>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {getTeammateNameDisplaySetting} from 'mattermost-redux/selectors/entities/preferences';\nimport {getCurrentUserId, getUsersByUsername} from 'mattermost-redux/selectors/entities/users';\n\nimport AtMention from './at_mention.jsx';\n\nfunction mapStateToProps(state) {\n    return {\n        currentUserId: getCurrentUserId(state),\n        teammateNameDisplay: getTeammateNameDisplaySetting(state),\n        usersByUsername: getUsersByUsername(state),\n    };\n}\n\nexport default connect(mapStateToProps)(AtMention);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport $ from 'jquery';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport Constants from 'utils/constants';\nimport * as Utils from 'utils/utils.jsx';\n\nimport FileInfoPreview from 'components/file_info_preview';\n\nexport default class AudioVideoPreview extends React.PureComponent {\n    static propTypes = {\n\n        /**\n        * Compare file types\n        */\n        fileInfo: PropTypes.object.isRequired,\n\n        /**\n        *  URL of pdf file to output and compare to update props url\n        */\n        fileUrl: PropTypes.string.isRequired,\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            canPlay: true,\n        };\n    }\n\n    componentDidMount() {\n        this.handleFileInfoChanged(this.props.fileInfo);\n\n        if (this.refs.source) {\n            $(ReactDOM.findDOMNode(this.refs.source)).one('error', this.handleLoadError);\n        }\n    }\n\n    componentDidUpdate(prevProps) {\n        if (this.props.fileUrl !== prevProps.fileUrl) {\n            this.handleFileInfoChanged(this.props.fileInfo);\n        }\n\n        if (this.refs.source) {\n            $(ReactDOM.findDOMNode(this.refs.source)).one('error', this.handleLoadError);\n        }\n    }\n\n    handleFileInfoChanged = (fileInfo) => {\n        let video = ReactDOM.findDOMNode(this.refs.video);\n        if (!video) {\n            video = document.createElement('video');\n        }\n\n        const canPlayType = video.canPlayType(fileInfo.mime_type);\n\n        this.setState({\n            canPlay: canPlayType === 'probably' || canPlayType === 'maybe',\n        });\n    }\n\n    handleLoadError = () => {\n        this.setState({\n            canPlay: false,\n        });\n    }\n\n    stop = () => {\n        if (this.refs.video) {\n            const video = ReactDOM.findDOMNode(this.refs.video);\n            video.pause();\n            video.currentTime = 0;\n        }\n    }\n\n    render() {\n        if (!this.state.canPlay) {\n            return (\n                <FileInfoPreview\n                    fileInfo={this.props.fileInfo}\n                    fileUrl={this.props.fileUrl}\n                />\n            );\n        }\n\n        let width = Constants.WEB_VIDEO_WIDTH;\n        let height = Constants.WEB_VIDEO_HEIGHT;\n        if (Utils.isMobile()) {\n            width = Constants.MOBILE_VIDEO_WIDTH;\n            height = Constants.MOBILE_VIDEO_HEIGHT;\n        }\n\n        // add a key to the video to prevent React from using an old video source while a new one is loading\n        return (\n            <video\n                key={this.props.fileInfo.id}\n                ref='video'\n                data-setup='{}'\n                controls='controls'\n                width={width}\n                height={height}\n            >\n                <source\n                    ref='source'\n                    src={this.props.fileUrl}\n                />\n            </video>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport SuggestionBox from 'components/suggestion/suggestion_box.jsx';\nimport SuggestionList from 'components/suggestion/suggestion_list.jsx';\n\nexport default class AutocompleteSelector extends React.PureComponent {\n    static propTypes = {\n        providers: PropTypes.array.isRequired,\n        value: PropTypes.string.isRequired,\n        onSelected: PropTypes.func,\n        label: PropTypes.node,\n        labelClassName: PropTypes.string,\n        inputClassName: PropTypes.string,\n        helpText: PropTypes.node,\n        placeholder: PropTypes.string,\n        footer: PropTypes.node,\n        disabled: PropTypes.bool,\n        toggleFocus: PropTypes.func,\n    };\n\n    static defaultProps = {\n        value: '',\n        id: '',\n        labelClassName: '',\n        inputClassName: '',\n    };\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            input: '',\n        };\n    }\n\n    onChange = (e) => {\n        if (!e || !e.target) {\n            return;\n        }\n\n        this.setState({input: e.target.value});\n    }\n\n    handleSelected = (selected) => {\n        this.setState({input: ''});\n\n        if (this.props.onSelected) {\n            this.props.onSelected(selected);\n        }\n\n        requestAnimationFrame(() => {\n            if (this.suggestionRef) {\n                this.suggestionRef.blur();\n            }\n        });\n    }\n\n    setSuggestionRef = (ref) => {\n        this.suggestionRef = ref;\n    }\n\n    onFocus = () => {\n        this.setState({focused: true});\n\n        if (this.props.toggleFocus) {\n            this.props.toggleFocus(true);\n        }\n    }\n\n    onBlur = () => {\n        this.setState({focused: false});\n\n        if (this.props.toggleFocus) {\n            this.props.toggleFocus(false);\n        }\n    }\n\n    render() {\n        const {\n            providers,\n            placeholder,\n            footer,\n            label,\n            labelClassName,\n            helpText,\n            inputClassName,\n            value,\n            disabled,\n        } = this.props;\n\n        const {focused} = this.state;\n        let {input} = this.state;\n\n        if (!focused) {\n            input = value;\n        }\n\n        let labelContent;\n        if (label) {\n            labelContent = (\n                <label\n                    className={'control-label ' + labelClassName}\n                >\n                    {label}\n                </label>\n            );\n        }\n\n        let helpTextContent;\n        if (helpText) {\n            helpTextContent = (\n                <div className='help-text'>\n                    {helpText}\n                </div>\n            );\n        }\n\n        return (\n            <div\n                data-testid='autoCompleteSelector'\n                className='form-group'\n            >\n                {labelContent}\n                <div className={inputClassName}>\n                    <SuggestionBox\n                        placeholder={placeholder}\n                        ref={this.setSuggestionRef}\n                        listComponent={SuggestionList}\n                        className='form-control'\n                        containerClass='select-suggestion-container'\n                        value={input}\n                        onChange={this.onChange}\n                        onItemSelected={this.handleSelected}\n                        onFocus={this.onFocus}\n                        onBlur={this.onBlur}\n                        providers={providers}\n                        completeOnTab={true}\n                        renderDividers={false}\n                        renderNoResults={true}\n                        openOnFocus={true}\n                        openWhenEmpty={true}\n                        replaceAllInputOnSelect={true}\n                        disabled={disabled}\n                    />\n                    {helpTextContent}\n                    {footer}\n                </div>\n            </div>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React, {ChangeEvent, FormEvent, CSSProperties} from 'react';\n\ntype Props = {\n    id?: string;\n    disabled?: boolean;\n    value?: string;\n    defaultValue?: string;\n    onChange?: (e: ChangeEvent<HTMLTextAreaElement>) => void;\n    onHeightChange?: (height: number, maxHeight: number) => void;\n    onInput?: (e: FormEvent<HTMLTextAreaElement>) => void;\n    placeholder?: string;\n}\n\nexport default class AutosizeTextarea extends React.Component<Props> {\n    private height: number;\n    constructor(props: Props) {\n        super(props);\n\n        this.height = 0;\n    }\n\n    get value() {\n        return (this.refs.textarea as HTMLTextAreaElement).value;\n    }\n\n    set value(value) {\n        (this.refs.textarea as HTMLTextAreaElement).value = value;\n    }\n\n    get selectionStart() {\n        return (this.refs.textarea as HTMLTextAreaElement).selectionStart;\n    }\n\n    set selectionStart(selectionStart) {\n        (this.refs.textarea as HTMLTextAreaElement).selectionStart = selectionStart;\n    }\n\n    get selectionEnd() {\n        return (this.refs.textarea as HTMLTextAreaElement).selectionEnd;\n    }\n\n    set selectionEnd(selectionEnd) {\n        (this.refs.textarea as HTMLTextAreaElement).selectionEnd = selectionEnd;\n    }\n\n    focus() {\n        (this.refs.textarea as HTMLTextAreaElement).focus();\n    }\n\n    blur() {\n        (this.refs.textarea as HTMLTextAreaElement).blur();\n    }\n\n    componentDidMount() {\n        this.recalculateSize();\n    }\n\n    componentDidUpdate() {\n        this.recalculateSize();\n    }\n\n    recalculateSize = () => {\n        if (!this.refs.reference || !(this.refs.textarea as HTMLTextAreaElement)) {\n            return;\n        }\n\n        const height = (this.refs.reference as HTMLTextAreaElement).scrollHeight;\n        const textarea = (this.refs.textarea as HTMLTextAreaElement);\n\n        if (height > 0 && height !== this.height) {\n            const style = getComputedStyle(textarea);\n            const borderWidth = parseInt(style.borderTopWidth || '0', 10) + parseInt(style.borderBottomWidth || '0', 10);\n\n            // Directly change the height to avoid circular rerenders\n            textarea.style.height = String(height + borderWidth) + 'px';\n\n            this.height = height;\n\n            if (this.props.onHeightChange) {\n                this.props.onHeightChange(height, parseInt(style.maxHeight || '0', 10));\n            }\n        }\n    };\n\n    getDOMNode = () => {\n        return (this.refs.textarea as HTMLTextAreaElement);\n    };\n\n    handleChange = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\n        if (this.props.onChange) {\n            this.props.onChange(e);\n        }\n    };\n\n    render() {\n        const props = {...this.props};\n\n        Reflect.deleteProperty(props, 'onHeightChange');\n        Reflect.deleteProperty(props, 'providers');\n        Reflect.deleteProperty(props, 'channelId');\n\n        const {\n            value,\n            defaultValue,\n            placeholder,\n            disabled,\n            onInput,\n\n            // TODO: The provided `id` is sometimes hard-coded and used to interface with the\n            // component, e.g. `post_textbox`, so it can't be changed. This would ideally be\n            // abstracted to avoid passing in an `id` prop at all, but we intentionally maintain\n            // the old behaviour to address ABC-213.\n            id,\n            ...otherProps\n        } = props;\n\n        const heightProps = {\n            rows: 0,\n            height: 0\n        };\n\n        if (this.height <= 0) {\n            // Set an initial number of rows so that the textarea doesn't appear too large when its first rendered\n            heightProps.rows = 1;\n        } else {\n            heightProps.height = this.height;\n        }\n\n        let textareaPlaceholder = null;\n        const placeholderAriaLabel = placeholder ? placeholder.toLowerCase() : '';\n        if (!this.props.value && !this.props.defaultValue) {\n            textareaPlaceholder = (\n                <div\n                    {...otherProps as any}\n                    style={style.placeholder}\n                >\n                    {placeholder}\n                </div>\n            );\n        }\n\n        return (\n            <div>\n                {textareaPlaceholder}\n                <textarea\n                    ref='textarea'\n                    id={id}\n                    {...heightProps}\n                    {...otherProps}\n                    role='textbox'\n                    aria-label={placeholderAriaLabel}\n                    disabled={disabled}\n                    onChange={this.handleChange}\n                    onInput={onInput}\n                    value={value}\n                    defaultValue={defaultValue}\n                />\n                <div style={style.container}>\n                    <textarea\n                        ref='reference'\n                        id={id + '-reference'}\n                        style={style.reference}\n                        disabled={true}\n                        rows={1}\n                        {...otherProps}\n                        value={value || defaultValue}\n                        aria-hidden={true}\n                    />\n                </div>\n            </div>\n        );\n    }\n}\n\nconst style: { [Key: string]: CSSProperties} = {\n    container: {height: 0, overflow: 'hidden'},\n    reference: {height: 'auto', width: '100%'},\n    placeholder: {overflow: 'hidden', textOverflow: 'ellipsis', opacity: 0.5, pointerEvents: 'none', position: 'absolute', whiteSpace: 'nowrap', background: 'none'},\n};\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {Modal, OverlayTrigger, Tooltip} from 'react-bootstrap';\nimport {FormattedMessage} from 'react-intl';\n\nimport Constants from 'utils/constants';\nimport {getShortenedURL, cleanUpUrlable} from 'utils/url';\nimport {t} from 'utils/i18n';\n\nexport default class ChangeURLModal extends React.PureComponent {\n    static propTypes = {\n\n        /**\n        * Set whether to show the modal or not\n        */\n        show: PropTypes.bool.isRequired,\n\n        /**\n        * Set to change the title of the modal\n        */\n        title: PropTypes.node,\n\n        /**\n        * Set to change the submit button text\n        */\n        submitButtonText: PropTypes.node,\n\n        /**\n        * Set to change the current URL\n        */\n        currentURL: PropTypes.string,\n\n        /**\n        * Set to the current team URL\n        */\n        currentTeamURL: PropTypes.string.isRequired,\n\n        /**\n        * Server error from failed channel creation\n        */\n        serverError: PropTypes.node,\n\n        /**\n         * Function to call when modal is submitted\n         */\n        onModalSubmit: PropTypes.func.isRequired,\n\n        /**\n         * Function to call when modal is exited\n         */\n        onModalExited: PropTypes.func,\n\n        /**\n         * Function to call when modal is dimissed\n         */\n        onModalDismissed: PropTypes.func.isRequired,\n    }\n\n    static defaultProps = {\n        show: false,\n        title: 'Change URL',\n        submitButtonText: 'Save',\n        currentURL: '',\n        serverError: null,\n    }\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            currentURL: props.currentURL,\n            urlError: '',\n            userEdit: false,\n        };\n    }\n\n    static getDerivedStateFromProps(props, state) {\n        // This check prevents the url being deleted when we re-render\n        // because of user status check\n        if (!state.userEdit) {\n            return {currentURL: props.currentURL};\n        }\n\n        return null;\n    }\n\n    onURLChanged = (e) => {\n        const url = e.target.value.trim();\n        this.setState({currentURL: url.replace(/[^A-Za-z0-9-_]/g, '').toLowerCase(), userEdit: true});\n    }\n\n    formattedError = (key, id, message) => {\n        return (<span key={key}>\n            <FormattedMessage\n                id={id}\n                defaultMessage={message}\n            />\n            <br/>\n        </span>);\n    }\n\n    getURLError = (url) => {\n        let error = []; //eslint-disable-line prefer-const\n\n        if (url.length < 2) {\n            error.push(\n                this.formattedError('error1', t('change_url.longer'), 'URL must be two or more characters.')\n            );\n        }\n        if (url.charAt(0) === '-' || url.charAt(0) === '_') {\n            error.push(\n                this.formattedError('error2', t('change_url.startWithLetter'), 'URL must start with a letter or number.')\n            );\n        }\n        if (url.length > 1 && (url.charAt(url.length - 1) === '-' || url.charAt(url.length - 1) === '_')) {\n            error.push(\n                this.formattedError('error3', t('change_url.endWithLetter'), 'URL must end with a letter or number.')\n            );\n        }\n        if (url.indexOf('__') > -1) {\n            error.push(\n                this.formattedError('error4', t('change_url.noUnderscore'), 'URL can not contain two underscores in a row.')\n            );\n        }\n\n        // In case of error we don't detect\n        if (error.length === 0) {\n            error.push(\n                this.formattedError('errorlast', t('change_url.invalidUrl'), 'Invalid URL')\n            );\n        }\n        return error;\n    }\n\n    onSubmit = (e) => {\n        e.preventDefault();\n        const url = this.refs.urlinput.value;\n        const cleanedURL = cleanUpUrlable(url);\n        if (cleanedURL !== url || url.length < 2 || url.indexOf('__') > -1) {\n            this.setState({urlError: this.getURLError(url)});\n            return;\n        }\n        this.setState({urlError: '', userEdit: false});\n        this.props.onModalSubmit(url);\n    }\n\n    onCancel = () => {\n        this.setState({urlError: '', userEdit: false});\n        this.props.onModalDismissed();\n    }\n\n    render() {\n        let urlClass = 'input-group input-group--limit';\n        let error = null;\n\n        if (this.state.urlError) {\n            urlClass += ' has-error';\n        }\n\n        if (this.props.serverError || this.state.urlError) {\n            error = (\n                <div className='has-error'>\n                    <p className='input__help error'>\n                        {this.state.urlError || this.props.serverError}\n                    </p>\n                </div>\n            );\n        }\n\n        const fullURL = this.props.currentTeamURL + '/channels';\n        const shortURL = getShortenedURL(fullURL);\n        const urlTooltip = (\n            <Tooltip id='urlTooltip'>{fullURL}</Tooltip>\n        );\n\n        return (\n            <Modal\n                dialogClassName='a11y__modal'\n                show={this.props.show}\n                onHide={this.onCancel}\n                onExited={this.props.onModalExited}\n                role='dialog'\n                aria-labelledby='changeUrlModalLabel'\n            >\n                <Modal.Header closeButton={true}>\n                    <Modal.Title\n                        componentClass='h1'\n                        id='changeUrlModalLabel'\n                    >\n                        {this.props.title}\n                    </Modal.Title>\n                </Modal.Header>\n                <form\n                    role='form'\n                    className='form-horizontal'\n                >\n                    <Modal.Body>\n                        <div className='modal-intro'>\n                            <FormattedMessage\n                                id='channel_flow.changeUrlDescription'\n                                defaultMessage='Some characters are now allowed in URLs and may be removed.'\n                            />\n                        </div>\n                        <div className='form-group'>\n                            <label className='col-sm-3 form__label control-label'>\n                                <FormattedMessage\n                                    id='change_url.urlLabel'\n                                    defaultMessage='Channel URL'\n                                />\n                            </label>\n                            <div className='col-sm-9'>\n                                <div className={urlClass}>\n                                    <OverlayTrigger\n                                        delayShow={Constants.OVERLAY_TIME_DELAY}\n                                        placement='top'\n                                        overlay={urlTooltip}\n                                    >\n                                        <span className='input-group-addon'>{shortURL}</span>\n                                    </OverlayTrigger>\n                                    <input\n                                        type='text'\n                                        ref='urlinput'\n                                        className='form-control'\n                                        maxLength={Constants.MAX_CHANNELNAME_LENGTH}\n                                        onChange={this.onURLChanged}\n                                        value={this.state.currentURL}\n                                        autoFocus={true}\n                                    />\n                                </div>\n                                {error}\n                            </div>\n                        </div>\n                    </Modal.Body>\n                    <Modal.Footer>\n                        <button\n                            type='button'\n                            className='btn btn-link'\n                            onClick={this.onCancel}\n                        >\n                            <FormattedMessage\n                                id='change_url.close'\n                                defaultMessage='Close'\n                            />\n                        </button>\n                        <button\n                            onClick={this.onSubmit}\n                            type='submit'\n                            className='btn btn-primary'\n                        >\n                            {this.props.submitButtonText}\n                        </button>\n                    </Modal.Footer>\n                </form>\n            </Modal>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {getCurrentTeam} from 'mattermost-redux/selectors/entities/teams';\n\nimport {getSiteURL} from 'utils/url';\n\nimport ChangeURLModal from './change_url_modal';\n\nfunction mapStateToProps(state) {\n    const currentTeam = getCurrentTeam(state);\n    const currentTeamURL = `${getSiteURL()}/${currentTeam.name}`;\n    return {\n        currentTeamURL,\n    };\n}\n\nexport default connect(mapStateToProps)(ChangeURLModal);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage, intlShape} from 'react-intl';\n\nimport {Groups} from 'mattermost-redux/constants';\n\nimport AddGroupsToChannelModal from 'components/add_groups_to_channel_modal';\n\nimport {ModalIdentifiers} from 'utils/constants';\n\nimport ListModal, {DEFAULT_NUM_PER_PAGE} from 'components/list_modal.jsx';\n\nimport groupsAvatar from 'images/groups-avatar.png';\n\nexport default class ChannelGroupsManageModal extends React.PureComponent {\n    static propTypes = {\n        channel: PropTypes.object.isRequired,\n        actions: PropTypes.shape({\n            getGroupsAssociatedToChannel: PropTypes.func.isRequired,\n            unlinkGroupSyncable: PropTypes.func.isRequired,\n            closeModal: PropTypes.func.isRequired,\n            openModal: PropTypes.func.isRequired,\n        }).isRequired,\n    };\n\n    static contextTypes = {\n        intl: intlShape,\n    };\n\n    loadItems = async (pageNumber, searchTerm) => {\n        const {data} = await this.props.actions.getGroupsAssociatedToChannel(this.props.channel.id, searchTerm, pageNumber, DEFAULT_NUM_PER_PAGE);\n        return {\n            items: data.groups,\n            totalCount: data.totalGroupCount,\n        };\n    };\n\n    onClickRemoveGroup = (item, listModal) => this.props.actions.unlinkGroupSyncable(item.id, this.props.channel.id, Groups.SYNCABLE_TYPE_CHANNEL).then(async () => {\n        listModal.setState({loading: true});\n        const {items} = await listModal.props.loadItems(listModal.setState.page, listModal.state.searchTerm);\n        listModal.setState({loading: false, items});\n    });\n\n    onHide = () => {\n        this.props.actions.closeModal(ModalIdentifiers.MANAGE_CHANNEL_GROUPS);\n    };\n\n    titleButtonOnClick = () => {\n        this.onHide();\n        this.props.actions.openModal({modalId: ModalIdentifiers.ADD_GROUPS_TO_TEAM, dialogType: AddGroupsToChannelModal});\n    };\n\n    renderRow = (item, listModal) => {\n        return (\n            <div\n                key={item.id}\n                className='more-modal__row'\n            >\n                <img\n                    className='more-modal__image'\n                    src={groupsAvatar}\n                    alt='group picture'\n                    width='32'\n                    height='32'\n                />\n                <div className='more-modal__details'>\n                    <div className='more-modal__name'>{item.display_name} {'-'} <span>\n                        <FormattedMessage\n                            id='numMembers'\n                            defaultMessage='{num, number} {num, plural, one {member} other {members}}'\n                            values={{\n                                num: item.member_count,\n                            }}\n                        /></span>\n                    </div>\n                </div>\n                <div className='more-modal__actions'>\n                    <button\n                        id='removeMember'\n                        type='button'\n                        className='btn btn-danger btn-message'\n                        onClick={() => this.onClickRemoveGroup(item, listModal)}\n                    >\n                        <FormattedMessage\n                            id='group_list_modal.removeGroupButton'\n                            defaultMessage='Remove Group'\n                        />\n                    </button>\n                </div>\n            </div>\n        );\n    };\n\n    render() {\n        const {formatMessage} = this.context.intl;\n        return (\n            <ListModal\n                titleText={formatMessage({id: 'groups', defaultMessage: '{channel} Groups'}, {channel: this.props.channel.display_name})}\n                searchPlaceholderText={formatMessage({id: 'manage_channel_groups_modal.search_placeholder', defaultMessage: 'Search groups'})}\n                renderRow={this.renderRow}\n                loadItems={this.loadItems}\n                onHide={this.onHide}\n                titleBarButtonText={formatMessage({id: 'group_list_modal.addGroupButton', defaultMessage: 'Add Groups'})}\n                titleBarButtonOnClick={this.titleButtonOnClick}\n            />\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {bindActionCreators} from 'redux';\nimport {connect} from 'react-redux';\nimport {getGroupsAssociatedToChannel, unlinkGroupSyncable} from 'mattermost-redux/actions/groups';\n\nimport {closeModal, openModal} from 'actions/views/modals';\n\nimport ChannelGroupsManageModal from './channel_groups_manage_modal';\n\nconst mapStateToProps = (state, ownProps) => {\n    return {\n        channel: state.entities.channels.channels[ownProps.channelID],\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => ({\n    actions: bindActionCreators({\n        getGroupsAssociatedToChannel,\n        closeModal,\n        openModal,\n        unlinkGroupSyncable,\n    }, dispatch),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ChannelGroupsManageModal);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport {OverlayTrigger, Tooltip} from 'react-bootstrap';\nimport {FormattedMessage, intlShape} from 'react-intl';\nimport {Permissions} from 'mattermost-redux/constants';\nimport {memoizeResult} from 'mattermost-redux/utils/helpers';\n\nimport 'bootstrap';\n\nimport EditChannelHeaderModal from 'components/edit_channel_header_modal';\nimport Markdown from 'components/markdown';\nimport PopoverListMembers from 'components/popover_list_members';\nimport SearchBar from 'components/search_bar';\nimport StatusIcon from 'components/status_icon';\nimport FlagIcon from 'components/widgets/icons/flag_icon';\nimport MentionsIcon from 'components/widgets/icons/mentions_icon';\nimport PinIcon from 'components/widgets/icons/pin_icon';\nimport SearchIcon from 'components/widgets/icons/search_icon';\nimport ArchiveIcon from 'components/widgets/icons/archive_icon';\nimport ChannelPermissionGate from 'components/permissions_gates/channel_permission_gate';\nimport QuickSwitchModal from 'components/quick_switch_modal';\nimport {ChannelHeaderDropdown} from 'components/channel_header_dropdown';\nimport MenuWrapper from 'components/widgets/menu/menu_wrapper';\nimport GuestBadge from 'components/widgets/badges/guest_badge';\nimport BotBadge from 'components/widgets/badges/bot_badge';\nimport Popover from 'components/widgets/popover';\nimport {\n    Constants,\n    ModalIdentifiers,\n    NotificationLevels,\n    RHSStates,\n} from 'utils/constants';\nimport * as Utils from 'utils/utils';\n\nimport ChannelHeaderPlug from 'plugins/channel_header_plug';\n\nimport HeaderIconWrapper from './components/header_icon_wrapper';\n\nconst headerMarkdownOptions = {singleline: true, mentionHighlight: false, atMentions: true};\nconst popoverMarkdownOptions = {singleline: false, mentionHighlight: false, atMentions: true};\n\nconst SEARCH_BAR_MINIMUM_WINDOW_SIZE = 1140;\n\nexport default class ChannelHeader extends React.PureComponent {\n    static propTypes = {\n        teamId: PropTypes.string.isRequired,\n        currentUser: PropTypes.object.isRequired,\n        channel: PropTypes.object,\n        channelMember: PropTypes.object,\n        dmUser: PropTypes.object,\n        gmMembers: PropTypes.array,\n        isFavorite: PropTypes.bool,\n        isReadOnly: PropTypes.bool,\n        isMuted: PropTypes.bool,\n        hasGuests: PropTypes.bool,\n        rhsState: PropTypes.oneOf(\n            Object.values(RHSStates),\n        ),\n        rhsOpen: PropTypes.bool,\n        isQuickSwitcherOpen: PropTypes.bool,\n        actions: PropTypes.shape({\n            favoriteChannel: PropTypes.func.isRequired,\n            unfavoriteChannel: PropTypes.func.isRequired,\n            showFlaggedPosts: PropTypes.func.isRequired,\n            showPinnedPosts: PropTypes.func.isRequired,\n            showMentions: PropTypes.func.isRequired,\n            openRHSSearch: PropTypes.func.isRequired,\n            closeRightHandSide: PropTypes.func.isRequired,\n            getCustomEmojisInText: PropTypes.func.isRequired,\n            updateChannelNotifyProps: PropTypes.func.isRequired,\n            goToLastViewedChannel: PropTypes.func.isRequired,\n            openModal: PropTypes.func.isRequired,\n            closeModal: PropTypes.func.isRequired,\n        }).isRequired,\n    };\n\n    static contextTypes = {\n        intl: intlShape.isRequired,\n    };\n\n    constructor(props) {\n        super(props);\n        this.toggleFavoriteRef = React.createRef();\n\n        this.state = {showSearchBar: ChannelHeader.getShowSearchBar(props)};\n\n        this.getHeaderMarkdownOptions = memoizeResult((channelNamesMap) => (\n            {...headerMarkdownOptions, channelNamesMap}\n        ));\n        this.getPopoverMarkdownOptions = memoizeResult((channelNamesMap) => (\n            {...popoverMarkdownOptions, channelNamesMap}\n        ));\n    }\n\n    componentDidMount() {\n        this.props.actions.getCustomEmojisInText(this.props.channel ? this.props.channel.header : '');\n        document.addEventListener('keydown', this.handleShortcut);\n        document.addEventListener('keydown', this.handleQuickSwitchKeyPress);\n        window.addEventListener('resize', this.handleResize);\n    }\n\n    componentWillUnmount() {\n        document.removeEventListener('keydown', this.handleShortcut);\n        document.removeEventListener('keydown', this.handleQuickSwitchKeyPress);\n        window.removeEventListener('resize', this.handleResize);\n    }\n\n    componentDidUpdate(prevProps) {\n        const header = this.props.channel ? this.props.channel.header : '';\n        const prevHeader = prevProps.channel ? prevProps.channel.header : '';\n        if (header !== prevHeader) {\n            this.props.actions.getCustomEmojisInText(header);\n        }\n    }\n\n    static getDerivedStateFromProps(nextProps) {\n        return {showSearchBar: ChannelHeader.getShowSearchBar(nextProps)};\n    }\n\n    static getShowSearchBar(props) {\n        return (Utils.windowWidth() > SEARCH_BAR_MINIMUM_WINDOW_SIZE) || props.rhsOpen;\n    }\n\n    handleResize = () => {\n        this.setState({showSearchBar: ChannelHeader.getShowSearchBar(this.props)});\n    };\n\n    handleClose = () => {\n        this.props.actions.goToLastViewedChannel();\n    };\n\n    toggleFavorite = (e) => {\n        e.stopPropagation();\n        if (this.props.isFavorite) {\n            this.props.actions.unfavoriteChannel(this.props.channel.id);\n        } else {\n            this.props.actions.favoriteChannel(this.props.channel.id);\n        }\n    };\n\n    unmute = () => {\n        const {actions, channel, channelMember, currentUser} = this.props;\n\n        if (!channelMember || !currentUser || !channel) {\n            return;\n        }\n\n        const options = {mark_unread: NotificationLevels.ALL};\n        actions.updateChannelNotifyProps(currentUser.id, channel.id, options);\n    };\n\n    mute = () => {\n        const {actions, channel, channelMember, currentUser} = this.props;\n\n        if (!channelMember || !currentUser || !channel) {\n            return;\n        }\n\n        const options = {mark_unread: NotificationLevels.MENTION};\n        actions.updateChannelNotifyProps(currentUser.id, channel.id, options);\n    };\n\n    searchMentions = (e) => {\n        e.preventDefault();\n        if (this.props.rhsState === RHSStates.MENTION) {\n            this.props.actions.closeRightHandSide();\n        } else {\n            this.props.actions.showMentions();\n        }\n    };\n\n    showPinnedPosts = (e) => {\n        e.preventDefault();\n        if (this.props.rhsState === RHSStates.PIN) {\n            this.props.actions.closeRightHandSide();\n        } else {\n            this.props.actions.showPinnedPosts();\n        }\n    };\n\n    getFlagged = (e) => {\n        e.preventDefault();\n        if (this.props.rhsState === RHSStates.FLAG) {\n            this.props.actions.closeRightHandSide();\n        } else {\n            this.props.actions.showFlaggedPosts();\n        }\n    };\n\n    searchButtonClick = (e) => {\n        e.preventDefault();\n\n        this.props.actions.openRHSSearch();\n    };\n\n    handleShortcut = (e) => {\n        if (Utils.cmdOrCtrlPressed(e) && e.shiftKey) {\n            if (Utils.isKeyPressed(e, Constants.KeyCodes.M)) {\n                e.preventDefault();\n                this.searchMentions(e);\n            }\n        }\n    };\n\n    handleOnMouseOver = () => {\n        if (this.refs.headerOverlay) {\n            this.refs.headerOverlay.show();\n        }\n    };\n\n    handleOnMouseOut = () => {\n        if (this.refs.headerOverlay) {\n            this.refs.headerOverlay.hide();\n        }\n    };\n\n    handleQuickSwitchKeyPress = (e) => {\n        if (Utils.cmdOrCtrlPressed(e) && !e.shiftKey && Utils.isKeyPressed(e, Constants.KeyCodes.K)) {\n            if (!e.altKey) {\n                e.preventDefault();\n                this.toggleQuickSwitchModal();\n            }\n        }\n    }\n\n    toggleQuickSwitchModal = () => {\n        const {isQuickSwitcherOpen} = this.props;\n        if (isQuickSwitcherOpen) {\n            this.props.actions.closeModal(ModalIdentifiers.QUICK_SWITCH);\n        } else {\n            this.props.actions.openModal({\n                modalId: ModalIdentifiers.QUICK_SWITCH,\n                dialogType: QuickSwitchModal,\n            });\n        }\n    }\n\n    removeTooltipLink = () => {\n        // Bootstrap adds the attr dynamically, removing it to prevent a11y readout\n        this.toggleFavoriteRef.current.removeAttribute('aria-describedby');\n    }\n\n    showEditChannelHeaderModal = () => {\n        if (this.refs.headerOverlay) {\n            this.refs.headerOverlay.hide();\n        }\n\n        const {actions, channel} = this.props;\n        const modalData = {\n            modalId: ModalIdentifiers.EDIT_CHANNEL_HEADER,\n            dialogType: EditChannelHeaderModal,\n            dialogProps: {channel},\n        };\n\n        actions.openModal(modalData);\n    }\n\n    render() {\n        const {\n            teamId,\n            currentUser,\n            gmMembers,\n            channel,\n            channelMember,\n            isMuted: channelMuted,\n            isReadOnly,\n            isFavorite,\n            dmUser,\n            rhsState,\n            hasGuests,\n        } = this.props;\n        const {formatMessage} = this.context.intl;\n        const ariaLabelChannelHeader = Utils.localizeMessage('accessibility.sections.channelHeader', 'channel header region');\n\n        let hasGuestsText = '';\n        if (hasGuests) {\n            hasGuestsText = (\n                <span className='has-guest-header'>\n                    <FormattedMessage\n                        id='channel_header.channelHasGuests'\n                        defaultMessage='This channel has guests'\n                    />\n                </span>\n            );\n        }\n\n        const channelIsArchived = channel.delete_at !== 0;\n        if (Utils.isEmptyObject(channel) ||\n            Utils.isEmptyObject(channelMember) ||\n            Utils.isEmptyObject(currentUser) ||\n            (!dmUser && channel.type === Constants.DM_CHANNEL)\n        ) {\n            // Use an empty div to make sure the header's height stays constant\n            return (\n                <div className='channel-header'/>\n            );\n        }\n\n        const channelNamesMap = channel.props && channel.props.channel_mentions;\n\n        let channelTitle = channel.display_name;\n        let archivedIcon = null;\n        if (channelIsArchived) {\n            archivedIcon = (<ArchiveIcon className='icon icon__archive icon channel-header-archived-icon svg-text-color'/>);\n        }\n        const isDirect = (channel.type === Constants.DM_CHANNEL);\n        const isGroup = (channel.type === Constants.GM_CHANNEL);\n        const isPrivate = (channel.type === Constants.PRIVATE_CHANNEL);\n\n        if (isDirect) {\n            const teammateId = dmUser.id;\n            if (currentUser.id === teammateId) {\n                channelTitle = (\n                    <FormattedMessage\n                        id='channel_header.directchannel.you'\n                        defaultMessage='{displayname} (you) '\n                        values={{\n                            displayname: Utils.getDisplayNameByUserId(teammateId),\n                        }}\n                    />\n                );\n            } else {\n                channelTitle = Utils.getDisplayNameByUserId(teammateId) + ' ';\n            }\n            channelTitle = (\n                <React.Fragment>\n                    {channelTitle}\n                    <GuestBadge show={Utils.isGuest(dmUser)}/>\n                </React.Fragment>\n            );\n        }\n\n        if (isGroup) {\n            // map the displayname to the gm member users\n            const membersMap = {};\n            for (const user of gmMembers) {\n                if (user.id === currentUser.id) {\n                    continue;\n                }\n                const userDisplayName = Utils.getDisplayNameByUserId(user.id);\n\n                if (!membersMap[userDisplayName]) {\n                    membersMap[userDisplayName] = []; //Create an array for cases with same display name\n                }\n\n                membersMap[userDisplayName].push(user);\n            }\n\n            const displayNames = channel.display_name.split(', ');\n\n            channelTitle = displayNames.map((displayName, index) => {\n                if (!membersMap[displayName]) {\n                    return displayName;\n                }\n\n                const user = membersMap[displayName].shift();\n\n                return (\n                    <React.Fragment key={user.id}>\n                        {index > 0 && ', '}\n                        {displayName}\n                        <GuestBadge show={Utils.isGuest(user)}/>\n                    </React.Fragment>\n                );\n            });\n\n            if (hasGuests) {\n                hasGuestsText = (\n                    <span className='has-guest-header'>\n                        <FormattedMessage\n                            id='channel_header.groupMessageHasGuests'\n                            defaultMessage='This group message has guests'\n                        />\n                    </span>\n                );\n            }\n        }\n\n        let popoverListMembers;\n        if (!isDirect) {\n            popoverListMembers = (\n                <PopoverListMembers\n                    channel={channel}\n                />\n            );\n        }\n\n        let dmHeaderIconStatus;\n        let dmHeaderTextStatus;\n        if (isDirect && !dmUser.delete_at && !dmUser.is_bot) {\n            dmHeaderIconStatus = (\n                <StatusIcon\n                    type='avatar'\n                    status={channel.status}\n                />\n            );\n\n            dmHeaderTextStatus = (\n                <span className='header-status__text'>\n                    <FormattedMessage\n                        id={`status_dropdown.set_${channel.status}`}\n                        defaultMessage={Utils.toTitleCase(channel.status)}\n                    />\n                </span>\n            );\n        }\n\n        let headerTextContainer;\n        const headerText = (isDirect && dmUser.is_bot) ? dmUser.bot_description : channel.header;\n        if (headerText) {\n            const popoverContent = (\n                <Popover\n                    id='header-popover'\n                    popoverStyle='info'\n                    popoverSize='lg'\n                    placement='bottom'\n                    className='channel-header__popover'\n                    onMouseOver={this.handleOnMouseOver}\n                    onMouseOut={this.handleOnMouseOut}\n                >\n                    <Markdown\n                        message={headerText}\n                        options={this.getPopoverMarkdownOptions(channelNamesMap)}\n                    />\n                </Popover>\n            );\n            headerTextContainer = (\n                <OverlayTrigger\n                    trigger={'click'}\n                    placement='bottom'\n                    rootClose={true}\n                    overlay={popoverContent}\n                    ref='headerOverlay'\n                >\n                    <div\n                        id='channelHeaderDescription'\n                        className='channel-header__description'\n                    >\n                        {dmHeaderIconStatus}\n                        {dmHeaderTextStatus}\n                        {hasGuestsText}\n                        <span\n                            className='header-description__text'\n                            onClick={Utils.handleFormattedTextClick}\n                        >\n                            <Markdown\n                                message={headerText}\n                                options={this.getHeaderMarkdownOptions(channelNamesMap)}\n                            />\n                        </span>\n                    </div>\n                </OverlayTrigger>\n            );\n        } else {\n            let editMessage;\n            if (!isReadOnly && !channelIsArchived) {\n                if (isDirect || isGroup) {\n                    if (!isDirect || !dmUser.is_bot) {\n                        editMessage = (\n                            <button\n                                className='style--none'\n                                onClick={this.showEditChannelHeaderModal}\n                            >\n                                <FormattedMessage\n                                    id='channel_header.addChannelHeader'\n                                    defaultMessage='Add a channel description'\n                                />\n                            </button>\n                        );\n                    }\n                } else {\n                    editMessage = (\n                        <ChannelPermissionGate\n                            channelId={channel.id}\n                            teamId={teamId}\n                            permissions={[isPrivate ? Permissions.MANAGE_PRIVATE_CHANNEL_PROPERTIES : Permissions.MANAGE_PUBLIC_CHANNEL_PROPERTIES]}\n                        >\n                            <button\n                                className='style--none'\n                                onClick={this.showEditChannelHeaderModal}\n                            >\n                                <FormattedMessage\n                                    id='channel_header.addChannelHeader'\n                                    defaultMessage='Add a channel description'\n                                />\n                            </button>\n                        </ChannelPermissionGate>\n                    );\n                }\n            }\n            headerTextContainer = (\n                <div\n                    id='channelHeaderDescription'\n                    className='channel-header__description light'\n                >\n                    {dmHeaderIconStatus}\n                    {dmHeaderTextStatus}\n                    {hasGuestsText}\n                    {editMessage}\n                </div>\n            );\n        }\n\n        let toggleFavoriteTooltip;\n        let toggleFavorite = null;\n        let ariaLabel = '';\n\n        if (!channelIsArchived) {\n            if (isFavorite) {\n                toggleFavoriteTooltip = (\n                    <Tooltip id='favoriteTooltip'>\n                        <FormattedMessage\n                            id='channelHeader.removeFromFavorites'\n                            defaultMessage='Remove from Favorites'\n                        />\n                    </Tooltip>\n                );\n                ariaLabel = formatMessage({id: 'channelHeader.removeFromFavorites', defaultMessage: 'Remove from Favorites'}).toLowerCase();\n            } else {\n                toggleFavoriteTooltip = (\n                    <Tooltip id='favoriteTooltip'>\n                        <FormattedMessage\n                            id='channelHeader.addToFavorites'\n                            defaultMessage='Add to Favorites'\n                        />\n                    </Tooltip>\n                );\n                ariaLabel = formatMessage({id: 'channelHeader.addToFavorites', defaultMessage: 'Add to Favorites'}).toLowerCase();\n            }\n\n            toggleFavorite = (\n                <OverlayTrigger\n                    delayShow={Constants.OVERLAY_TIME_DELAY}\n                    placement='bottom'\n                    overlay={toggleFavoriteTooltip}\n                    onEntering={this.removeTooltipLink}\n                >\n                    <button\n                        id='toggleFavorite'\n                        ref={this.toggleFavoriteRef}\n                        onClick={this.toggleFavorite}\n                        className={'style--none color--link channel-header__favorites ' + (this.props.isFavorite ? 'active' : 'inactive')}\n                        aria-label={ariaLabel}\n                    >\n                        <i className={'icon fa ' + (this.props.isFavorite ? 'fa-star' : 'fa-star-o')}/>\n                    </button>\n                </OverlayTrigger>\n            );\n        }\n\n        const channelMutedTooltip = (\n            <Tooltip id='channelMutedTooltip'>\n                <FormattedMessage\n                    id='channelHeader.unmute'\n                    defaultMessage='Unmute'\n                />\n            </Tooltip>\n        );\n\n        let muteTrigger;\n        if (channelMuted) {\n            muteTrigger = (\n                <OverlayTrigger\n                    delayShow={Constants.OVERLAY_TIME_DELAY}\n                    placement='bottom'\n                    overlay={channelMutedTooltip}\n                >\n                    <button\n                        id='toggleMute'\n                        onClick={this.unmute}\n                        className={'style--none color--link channel-header__mute inactive'}\n                        aria-label={formatMessage({id: 'generic_icons.muted', defaultMessage: 'Muted Icon'})}\n                    >\n                        <i className={'icon fa fa-bell-slash-o'}/>\n                    </button>\n                </OverlayTrigger>\n            );\n        }\n\n        let pinnedIconClass = 'channel-header__icon';\n        if (rhsState === RHSStates.PIN) {\n            pinnedIconClass += ' active';\n        }\n\n        let title = (\n            <React.Fragment>\n                {toggleFavorite}\n                <MenuWrapper>\n                    <div\n                        id='channelHeaderDropdownButton'\n                        className='channel-header__top'\n                    >\n                        <button\n                            className='channel-header__trigger style--none'\n                            aria-label={formatMessage({id: 'channel_header.menuAriaLabel', defaultMessage: 'Channel Menu'}).toLowerCase()}\n                        >\n                            <strong\n                                role='heading'\n                                aria-level='2'\n                                id='channelHeaderTitle'\n                                className='heading'\n                            >\n                                <span>\n                                    {archivedIcon}\n                                    {channelTitle}\n                                </span>\n                            </strong>\n                            <span\n                                id='channelHeaderDropdownIcon'\n                                className='fa fa-angle-down header-dropdown__icon'\n                                aria-label={formatMessage({id: 'generic_icons.dropdown', defaultMessage: 'Dropdown Icon'}).toLowerCase()}\n                            />\n                        </button>\n                    </div>\n                    <ChannelHeaderDropdown/>\n                </MenuWrapper>\n            </React.Fragment>\n        );\n        if (isDirect && dmUser.is_bot) {\n            title = (\n                <div\n                    id='channelHeaderDropdownButton'\n                    className='channel-header__top'\n                >\n                    {toggleFavorite}\n                    <strong\n                        role='heading'\n                        aria-level='2'\n                        id='channelHeaderTitle'\n                        className='heading'\n                    >\n                        <span>\n                            {archivedIcon}\n                            {channelTitle}\n                        </span>\n                    </strong>\n                    <BotBadge className='badge-popoverlist'/>\n                </div>\n            );\n        }\n\n        return (\n            <div\n                id='channel-header'\n                aria-label={ariaLabelChannelHeader}\n                role='application'\n                tabIndex='-1'\n                data-channelid={`${channel.id}`}\n                className='channel-header alt a11y__region'\n                data-a11y-sort-order='7'\n            >\n                <div className='flex-parent'>\n                    <div className='flex-child'>\n                        <div\n                            id='channelHeaderInfo'\n                            className='channel-header__info'\n                        >\n                            <div\n                                className='channel-header__title dropdown'\n                            >\n                                <div>\n                                    {title}\n                                </div>\n                                {muteTrigger}\n                            </div>\n                            {headerTextContainer}\n                        </div>\n                    </div>\n                    <div className='flex-child'>\n                        {popoverListMembers}\n                    </div>\n                    <ChannelHeaderPlug\n                        channel={channel}\n                        channelMember={channelMember}\n                    />\n                    <HeaderIconWrapper\n                        iconComponent={\n                            <PinIcon\n                                className='icon icon__pin'\n                                aria-hidden='true'\n                            />\n                        }\n                        ariaLabel={true}\n                        buttonClass={'style--none ' + pinnedIconClass}\n                        buttonId={'channelHeaderPinButton'}\n                        onClick={this.showPinnedPosts}\n                        tooltipKey={'pinnedPosts'}\n                    />\n                    {this.state.showSearchBar ? (\n                        <div\n                            id='searchbarContainer'\n                            className='flex-child search-bar__container'\n                        >\n                            <SearchBar\n                                showMentionFlagBtns={false}\n                                isFocus={Utils.isMobile() || this.props.rhsOpen}\n                            />\n                        </div>\n                    ) : (\n                        <HeaderIconWrapper\n                            iconComponent={\n                                <SearchIcon\n                                    className='icon icon__search icon--stroke'\n                                    aria-hidden='true'\n                                />\n                            }\n                            ariaLabel={true}\n                            buttonId={'channelHeaderSearchButton'}\n                            onClick={this.searchButtonClick}\n                            tooltipKey={'search'}\n                        />\n                    )}\n                    <HeaderIconWrapper\n                        iconComponent={\n                            <MentionsIcon\n                                className='icon icon__mentions'\n                                aria-hidden='true'\n                            />\n                        }\n                        ariaLabel={true}\n                        buttonId={'channelHeaderMentionButton'}\n                        onClick={this.searchMentions}\n                        tooltipKey={'recentMentions'}\n                    />\n                    <HeaderIconWrapper\n                        iconComponent={\n                            <FlagIcon className='icon icon__flag'/>\n                        }\n                        ariaLabel={true}\n                        buttonId={'channelHeaderFlagButton'}\n                        onClick={this.getFlagged}\n                        tooltipKey={'flaggedPosts'}\n                    />\n                </div>\n            </div>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\nimport {OverlayTrigger, Tooltip} from 'react-bootstrap';\n\nimport {localizeMessage} from 'utils/utils.jsx';\nimport {Constants} from 'utils/constants';\nimport {t} from 'utils/i18n';\n\nexport default function HeaderIconWrapper({\n    iconComponent,\n    ariaLabel,\n    buttonClass,\n    buttonId,\n    onClick,\n    tooltipKey,\n    tooltipText,\n}) {\n    const toolTips = {\n        flaggedPosts: {\n            class: 'text-nowrap',\n            id: 'flaggedTooltip',\n            messageID: t('channel_header.flagged'),\n            message: 'Flagged Posts',\n        },\n        pinnedPosts: {\n            class: '',\n            id: 'pinnedPostTooltip',\n            messageID: t('channel_header.pinnedPosts'),\n            message: 'Pinned Posts',\n        },\n        recentMentions: {\n            class: '',\n            id: 'recentMentionsTooltip',\n            messageID: t('channel_header.recentMentions'),\n            message: 'Recent Mentions',\n        },\n        search: {\n            class: '',\n            id: 'searchTooltip',\n            messageID: t('channel_header.search'),\n            message: 'Search',\n        },\n    };\n\n    function getTooltip(key) {\n        if (toolTips[key] == null) {\n            return null;\n        }\n\n        return (\n            <Tooltip\n                id={toolTips[key].id}\n                className={toolTips[key].class}\n            >\n                <FormattedMessage\n                    id={toolTips[key].messageID}\n                    defaultMessage={toolTips[key].message}\n                />\n            </Tooltip>\n        );\n    }\n\n    let tooltip;\n    if (tooltipKey === 'plugin' && tooltipText) {\n        tooltip = (\n            <Tooltip\n                id='pluginTooltip'\n                className=''\n            >\n                <span>{tooltipText}</span>\n            </Tooltip>\n        );\n    } else {\n        tooltip = getTooltip(tooltipKey);\n    }\n\n    let ariaLabelText;\n    if (ariaLabel) {\n        ariaLabelText = `${localizeMessage(toolTips[tooltipKey].messageID, toolTips[tooltipKey].message)}`;\n    }\n\n    if (tooltip) {\n        return (\n            <div className='flex-child'>\n                <OverlayTrigger\n                    trigger={['hover']}\n                    delayShow={Constants.OVERLAY_TIME_DELAY}\n                    placement='bottom'\n                    overlay={tooltip}\n                >\n                    <button\n                        id={buttonId}\n                        aria-label={ariaLabelText}\n                        className={buttonClass || 'channel-header__icon style--none'}\n                        onClick={onClick}\n                    >\n                        {iconComponent}\n                    </button>\n                </OverlayTrigger>\n            </div>\n        );\n    }\n\n    return (\n        <div className='flex-child'>\n            <button\n                id={buttonId}\n                className={buttonClass || 'channel-header__icon style--none'}\n                onClick={onClick}\n            >\n                {iconComponent}\n            </button>\n        </div>\n    );\n}\n\nHeaderIconWrapper.propTypes = {\n    ariaLabel: PropTypes.bool,\n    buttonClass: PropTypes.string,\n    buttonId: PropTypes.string.isRequired,\n    iconComponent: PropTypes.element.isRequired,\n    onClick: PropTypes.func.isRequired,\n    tooltipKey: PropTypes.string,\n    tooltipText: PropTypes.string,\n};\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {bindActionCreators} from 'redux';\nimport {connect} from 'react-redux';\nimport {withRouter} from 'react-router-dom';\nimport {\n    favoriteChannel,\n    unfavoriteChannel,\n    updateChannelNotifyProps,\n} from 'mattermost-redux/actions/channels';\nimport {getCustomEmojisInText} from 'mattermost-redux/actions/emojis';\nimport {General} from 'mattermost-redux/constants';\nimport {\n    getCurrentChannel,\n    getMyCurrentChannelMembership,\n    isCurrentChannelFavorite,\n    isCurrentChannelMuted,\n    isCurrentChannelReadOnly,\n    getCurrentChannelStats,\n} from 'mattermost-redux/selectors/entities/channels';\nimport {getCurrentTeamId} from 'mattermost-redux/selectors/entities/teams';\nimport {\n    getCurrentUser,\n    getUser,\n    makeGetProfilesInChannel,\n} from 'mattermost-redux/selectors/entities/users';\nimport {getUserIdFromChannelName} from 'mattermost-redux/utils/channel_utils';\n\nimport {goToLastViewedChannel} from 'actions/views/channel';\nimport {openModal, closeModal} from 'actions/views/modals';\nimport {\n    showFlaggedPosts,\n    showPinnedPosts,\n    showMentions,\n    openRHSSearch,\n    closeRightHandSide,\n} from 'actions/views/rhs';\nimport {getIsRhsOpen, getRhsState} from 'selectors/rhs';\nimport {isModalOpen} from 'selectors/views/modals';\nimport {ModalIdentifiers} from 'utils/constants';\n\nimport ChannelHeader from './channel_header';\n\nfunction makeMapStateToProps() {\n    const doGetProfilesInChannel = makeGetProfilesInChannel();\n\n    return function mapStateToProps(state) {\n        const channel = getCurrentChannel(state) || {};\n        const user = getCurrentUser(state);\n\n        let dmUser;\n        let gmMembers;\n        if (channel && channel.type === General.DM_CHANNEL) {\n            const dmUserId = getUserIdFromChannelName(user.id, channel.name);\n            dmUser = getUser(state, dmUserId);\n        } else if (channel && channel.type === General.GM_CHANNEL) {\n            gmMembers = doGetProfilesInChannel(state, channel.id, false);\n        }\n        const stats = getCurrentChannelStats(state) || {member_count: 0, guest_count: 0};\n\n        return {\n            teamId: getCurrentTeamId(state),\n            channel,\n            channelMember: getMyCurrentChannelMembership(state),\n            currentUser: user,\n            dmUser,\n            gmMembers,\n            rhsState: getRhsState(state),\n            rhsOpen: getIsRhsOpen(state),\n            isFavorite: isCurrentChannelFavorite(state),\n            isReadOnly: isCurrentChannelReadOnly(state),\n            isMuted: isCurrentChannelMuted(state),\n            isQuickSwitcherOpen: isModalOpen(state, ModalIdentifiers.QUICK_SWITCH),\n            hasGuests: stats.guest_count > 0,\n        };\n    };\n}\n\nconst mapDispatchToProps = (dispatch) => ({\n    actions: bindActionCreators({\n        favoriteChannel,\n        unfavoriteChannel,\n        showFlaggedPosts,\n        showPinnedPosts,\n        showMentions,\n        openRHSSearch,\n        closeRightHandSide,\n        getCustomEmojisInText,\n        updateChannelNotifyProps,\n        goToLastViewedChannel,\n        openModal,\n        closeModal,\n    }, dispatch),\n});\n\nexport default withRouter(connect(makeMapStateToProps, mapDispatchToProps)(ChannelHeader));\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\n\nimport {localizeMessage} from 'utils/utils';\nimport {ChannelHeaderDropdownItems} from 'components/channel_header_dropdown';\nimport Menu from 'components/widgets/menu/menu';\n\nexport default class ChannelHeaderDropdown extends React.PureComponent {\n    render() {\n        return (\n            <Menu\n                id='channelHeaderDropdownMenu'\n                ariaLabel={localizeMessage('channel_header.menuAriaLabel', 'Channel Menu').toLowerCase()}\n            >\n                <ChannelHeaderDropdownItems isMobile={false}/>\n            </Menu>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport {Permissions} from 'mattermost-redux/constants';\n\nimport {Constants, ModalIdentifiers} from 'utils/constants';\nimport {localizeMessage, isGuest} from 'utils/utils';\n\nimport MobileChannelHeaderPlug from 'plugins/mobile_channel_header_plug';\n\nimport ChannelNotificationsModal from 'components/channel_notifications_modal';\nimport ChannelInviteModal from 'components/channel_invite_modal';\nimport ChannelMembersModal from 'components/channel_members_modal';\nimport ChannelInfoModal from 'components/channel_info_modal';\nimport EditChannelHeaderModal from 'components/edit_channel_header_modal';\nimport EditChannelPurposeModal from 'components/edit_channel_purpose_modal';\nimport RenameChannelModal from 'components/rename_channel_modal';\nimport ConvertChannelModal from 'components/convert_channel_modal';\nimport DeleteChannelModal from 'components/delete_channel_modal';\nimport MoreDirectChannels from 'components/more_direct_channels';\nimport AddGroupsToChannelModal from 'components/add_groups_to_channel_modal';\nimport ChannelGroupsManageModal from 'components/channel_groups_manage_modal';\n\nimport ChannelPermissionGate from 'components/permissions_gates/channel_permission_gate';\nimport TeamPermissionGate from 'components/permissions_gates/team_permission_gate';\n\nimport Menu from 'components/widgets/menu/menu';\n\nimport MenuItemLeaveChannel from './menu_items/leave_channel';\nimport MenuItemCloseChannel from './menu_items/close_channel';\nimport MenuItemToggleMuteChannel from './menu_items/toggle_mute_channel';\nimport MenuItemToggleFavoriteChannel from './menu_items/toggle_favorite_channel';\nimport MenuItemViewPinnedPosts from './menu_items/view_pinned_posts';\n\nexport default class ChannelHeaderDropdown extends React.PureComponent {\n    static propTypes = {\n        user: PropTypes.object.isRequired,\n        channel: PropTypes.object.isRequired,\n        isDefault: PropTypes.bool.isRequired,\n        isFavorite: PropTypes.bool.isRequired,\n        isReadonly: PropTypes.bool.isRequired,\n        isMuted: PropTypes.bool.isRequired,\n        isArchived: PropTypes.bool.isRequired,\n        isMobile: PropTypes.bool.isRequired,\n        penultimateViewedChannelName: PropTypes.string.isRequired,\n    }\n\n    render() {\n        const {\n            user,\n            channel,\n            isDefault,\n            isFavorite,\n            isMuted,\n            isReadonly,\n            isArchived,\n            isMobile,\n            penultimateViewedChannelName,\n        } = this.props;\n\n        const isPrivate = channel.type === Constants.PRIVATE_CHANNEL;\n        const isGroupConstrained = channel.group_constrained === true;\n        const channelMembersPermission = isPrivate ? Permissions.MANAGE_PRIVATE_CHANNEL_MEMBERS : Permissions.MANAGE_PUBLIC_CHANNEL_MEMBERS;\n        const channelPropertiesPermission = isPrivate ? Permissions.MANAGE_PRIVATE_CHANNEL_PROPERTIES : Permissions.MANAGE_PUBLIC_CHANNEL_PROPERTIES;\n        const channelDeletePermission = isPrivate ? Permissions.DELETE_PRIVATE_CHANNEL : Permissions.DELETE_PUBLIC_CHANNEL;\n\n        let divider;\n        if (isMobile) {\n            divider = (\n                <li className='MenuGroup mobile-menu-divider'>\n                    <hr/>\n                </li>\n            );\n        }\n\n        return (\n            <React.Fragment>\n                <Menu.Group divider={divider}>\n                    <Menu.ItemToggleModalRedux\n                        id='channelViewInfo'\n                        show={channel.type !== Constants.DM_CHANNEL && channel.type !== Constants.GM_CHANNEL}\n                        modalId={ModalIdentifiers.CHANNEL_INFO}\n                        dialogType={ChannelInfoModal}\n                        dialogProps={{channel}}\n                        text={localizeMessage('navbar.viewInfo', 'View Info')}\n                    />\n                    <MenuItemToggleFavoriteChannel\n                        id='channelToggleFavorite'\n                        show={isMobile}\n                        channel={channel}\n                        isFavorite={isFavorite}\n                    />\n                    <MenuItemViewPinnedPosts\n                        id='channelViewPinnedPosts'\n                        show={isMobile}\n                        channel={channel}\n                    />\n                    <Menu.ItemToggleModalRedux\n                        id='channelNotificationPreferences'\n                        show={channel.type !== Constants.DM_CHANNEL && !isArchived}\n                        modalId={ModalIdentifiers.CHANNEL_NOTIFICATIONS}\n                        dialogType={ChannelNotificationsModal}\n                        dialogProps={{\n                            channel,\n                            currentUser: user,\n                        }}\n                        text={localizeMessage('navbar.preferences', 'Notification Preferences')}\n                    />\n                    <MenuItemToggleMuteChannel\n                        id='channelToggleMuteChannel'\n                        user={user}\n                        channel={channel}\n                        isMuted={isMuted}\n                        isArchived={isArchived}\n                    />\n                </Menu.Group>\n\n                <Menu.Group divider={divider}>\n                    <ChannelPermissionGate\n                        channelId={channel.id}\n                        teamId={channel.team_id}\n                        permissions={[channelMembersPermission]}\n                    >\n                        <Menu.ItemToggleModalRedux\n                            id='channelAddMembers'\n                            show={channel.type !== Constants.DM_CHANNEL && channel.type !== Constants.GM_CHANNEL && !isArchived && !isDefault && !isGroupConstrained}\n                            modalId={ModalIdentifiers.CHANNEL_INVITE}\n                            dialogType={ChannelInviteModal}\n                            dialogProps={{channel}}\n                            text={localizeMessage('navbar.addMembers', 'Add Members')}\n                        />\n                        <Menu.ItemToggleModalRedux\n                            id='channelAddMembers'\n                            show={channel.type === Constants.GM_CHANNEL && !isArchived && !isGroupConstrained}\n                            modalId={ModalIdentifiers.CREATE_DM_CHANNEL}\n                            dialogType={MoreDirectChannels}\n                            dialogProps={{isExistingChannel: true}}\n                            text={localizeMessage('navbar.addMembers', 'Add Members')}\n                        />\n                    </ChannelPermissionGate>\n                    <Menu.ItemToggleModalRedux\n                        id='channelViewMembers'\n                        show={channel.type !== Constants.DM_CHANNEL && channel.type !== Constants.GM_CHANNEL && (isArchived || isDefault)}\n                        modalId={ModalIdentifiers.CHANNEL_MEMBERS}\n                        dialogType={ChannelMembersModal}\n                        dialogProps={{channel}}\n                        text={localizeMessage('channel_header.viewMembers', 'View Members')}\n                    />\n                    <ChannelPermissionGate\n                        channelId={channel.id}\n                        teamId={channel.team_id}\n                        permissions={[channelMembersPermission]}\n                    >\n                        <Menu.ItemToggleModalRedux\n                            id='channelAddGroups'\n                            show={channel.type !== Constants.DM_CHANNEL && channel.type !== Constants.GM_CHANNEL && !isArchived && !isDefault && isGroupConstrained}\n                            modalId={ModalIdentifiers.ADD_GROUPS_TO_CHANNEL}\n                            dialogType={AddGroupsToChannelModal}\n                            text={localizeMessage('navbar.addGroups', 'Add Groups')}\n                        />\n                        <Menu.ItemToggleModalRedux\n                            id='channelManageGroups'\n                            show={channel.type !== Constants.DM_CHANNEL && channel.type !== Constants.GM_CHANNEL && !isArchived && !isDefault && isGroupConstrained}\n                            modalId={ModalIdentifiers.MANAGE_CHANNEL_GROUPS}\n                            dialogType={ChannelGroupsManageModal}\n                            dialogProps={{channelID: channel.id}}\n                            text={localizeMessage('navbar_dropdown.manageGroups', 'Manage Groups')}\n                        />\n                        <Menu.ItemToggleModalRedux\n                            id='channelManageMembers'\n                            show={channel.type !== Constants.DM_CHANNEL && channel.type !== Constants.GM_CHANNEL && !isArchived && !isDefault}\n                            modalId={ModalIdentifiers.CHANNEL_MEMBERS}\n                            dialogType={ChannelMembersModal}\n                            dialogProps={{channel}}\n                            text={localizeMessage('channel_header.manageMembers', 'Manage Members')}\n                        />\n                    </ChannelPermissionGate>\n                    <ChannelPermissionGate\n                        channelId={channel.id}\n                        teamId={channel.team_id}\n                        permissions={[channelMembersPermission]}\n                        invert={true}\n                    >\n                        <Menu.ItemToggleModalRedux\n                            id='channelViewMembers'\n                            show={channel.type !== Constants.DM_CHANNEL && channel.type !== Constants.GM_CHANNEL && !isArchived && !isDefault}\n                            modalId={ModalIdentifiers.CHANNEL_MEMBERS}\n                            dialogType={ChannelMembersModal}\n                            dialogProps={{channel}}\n                            text={localizeMessage('channel_header.viewMembers', 'View Members')}\n                        />\n                    </ChannelPermissionGate>\n                </Menu.Group>\n\n                <Menu.Group divider={divider}>\n                    <Menu.ItemToggleModalRedux\n                        id='channelEditHeader'\n                        show={(channel.type === Constants.DM_CHANNEL || channel.type === Constants.GM_CHANNEL) && !isArchived && !isReadonly}\n                        modalId={ModalIdentifiers.EDIT_CHANNEL_HEADER}\n                        dialogType={EditChannelHeaderModal}\n                        dialogProps={{channel}}\n                        text={localizeMessage('channel_header.setHeader', 'Edit Channel Header')}\n                    />\n                    <ChannelPermissionGate\n                        channelId={channel.id}\n                        teamId={channel.team_id}\n                        permissions={[channelPropertiesPermission]}\n                    >\n                        <Menu.ItemToggleModalRedux\n                            id='channelEditHeader'\n                            show={channel.type !== Constants.DM_CHANNEL && channel.type !== Constants.GM_CHANNEL && !isArchived && !isReadonly}\n                            modalId={ModalIdentifiers.EDIT_CHANNEL_HEADER}\n                            dialogType={EditChannelHeaderModal}\n                            dialogProps={{channel}}\n                            text={localizeMessage('channel_header.setHeader', 'Edit Channel Header')}\n                        />\n                        <Menu.ItemToggleModalRedux\n                            id='channelEditPurpose'\n                            show={!isArchived && !isReadonly && channel.type !== Constants.DM_CHANNEL && channel.type !== Constants.GM_CHANNEL}\n                            modalId={ModalIdentifiers.EDIT_CHANNEL_PURPOSE}\n                            dialogType={EditChannelPurposeModal}\n                            dialogProps={{channel}}\n                            text={localizeMessage('channel_header.setPurpose', 'Edit Channel Purpose')}\n                        />\n                        <Menu.ItemToggleModalRedux\n                            id='channelRename'\n                            show={!isArchived && channel.type !== Constants.DM_CHANNEL && channel.type !== Constants.GM_CHANNEL}\n                            modalId={ModalIdentifiers.RENAME_CHANNEL}\n                            dialogType={RenameChannelModal}\n                            dialogProps={{channel}}\n                            text={localizeMessage('channel_header.rename', 'Rename Channel')}\n                        />\n                    </ChannelPermissionGate>\n                    <TeamPermissionGate\n                        teamId={channel.team_id}\n                        permissions={[Permissions.MANAGE_TEAM]}\n                    >\n                        <Menu.ItemToggleModalRedux\n                            id='channelCovertToPrivate'\n                            show={!isArchived && !isDefault && channel.type === Constants.OPEN_CHANNEL}\n                            modalId={ModalIdentifiers.CONVERT_CHANNEL}\n                            dialogType={ConvertChannelModal}\n                            dialogProps={{\n                                channelId: channel.id,\n                                channelDisplayName: channel.display_name,\n                            }}\n                            text={localizeMessage('channel_header.convert', 'Convert to Private Channel')}\n                        />\n                    </TeamPermissionGate>\n                    <ChannelPermissionGate\n                        channelId={channel.id}\n                        teamId={channel.team_id}\n                        permissions={[channelDeletePermission]}\n                    >\n                        <Menu.ItemToggleModalRedux\n                            id='channelArchiveChannel'\n                            show={!isArchived && !isDefault && channel.type !== Constants.DM_CHANNEL && channel.type !== Constants.GM_CHANNEL}\n                            modalId={ModalIdentifiers.DELETE_CHANNEL}\n                            dialogType={DeleteChannelModal}\n                            dialogProps={{\n                                channel,\n                                penultimateViewedChannelName,\n                            }}\n                            text={localizeMessage('channel_header.delete', 'Archive Channel')}\n                        />\n                    </ChannelPermissionGate>\n                </Menu.Group>\n\n                <Menu.Group divider={divider}>\n                    {isMobile &&\n                        <MobileChannelHeaderPlug\n                            channel={channel}\n                            isDropdown={true}\n                        />}\n                    <MenuItemLeaveChannel\n                        id='channelLeaveChannel'\n                        channel={channel}\n                        isDefault={isDefault}\n                        isGuestUser={isGuest(user)}\n                    />\n                    <MenuItemCloseChannel\n                        id='channelCloseChannel'\n                        isArchived={isArchived}\n                    />\n                </Menu.Group>\n            </React.Fragment>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {createSelector} from 'reselect';\nimport {\n    getUser,\n    getCurrentUser,\n    getUserStatuses,\n} from 'mattermost-redux/selectors/entities/users';\nimport {getCurrentTeamId} from 'mattermost-redux/selectors/entities/teams';\nimport {\n    getCurrentChannel,\n    isCurrentChannelDefault,\n    isCurrentChannelFavorite,\n    isCurrentChannelMuted,\n    isCurrentChannelArchived,\n    isCurrentChannelReadOnly,\n    getRedirectChannelNameForTeam,\n} from 'mattermost-redux/selectors/entities/channels';\n\nimport {getPenultimateViewedChannelName} from 'selectors/local_storage';\n\nimport {Constants} from 'utils/constants';\nimport * as Utils from 'utils/utils';\n\nimport Desktop from './channel_header_dropdown';\nimport Items from './channel_header_dropdown_items';\nimport Mobile from './mobile_channel_header_dropdown';\n\nconst getTeammateId = createSelector(\n    getCurrentChannel,\n    (channel) => {\n        if (channel.type !== Constants.DM_CHANNEL) {\n            return null;\n        }\n\n        return Utils.getUserIdFromChannelName(channel);\n    },\n);\n\nconst getTeammateStatus = createSelector(\n    getUserStatuses,\n    getTeammateId,\n    (userStatuses, teammateId) => {\n        if (!teammateId) {\n            return null;\n        }\n\n        return userStatuses[teammateId];\n    }\n);\n\nconst mapStateToProps = (state) => ({\n    user: getCurrentUser(state),\n    channel: getCurrentChannel(state),\n    isDefault: isCurrentChannelDefault(state),\n    isFavorite: isCurrentChannelFavorite(state),\n    isMuted: isCurrentChannelMuted(state),\n    isReadonly: isCurrentChannelReadOnly(state),\n    isArchived: isCurrentChannelArchived(state),\n    penultimateViewedChannelName: getPenultimateViewedChannelName(state) || getRedirectChannelNameForTeam(state, getCurrentTeamId(state)),\n});\n\nconst mobileMapStateToProps = (state) => {\n    const user = getCurrentUser(state);\n    const channel = getCurrentChannel(state);\n    const teammateId = getTeammateId(state);\n\n    let teammateIsBot = false;\n    if (teammateId) {\n        const teammate = getUser(state, teammateId);\n        teammateIsBot = teammate && teammate.is_bot;\n    }\n\n    return {\n        user,\n        channel,\n        teammateId,\n        teammateIsBot,\n        teammateStatus: getTeammateStatus(state),\n    };\n};\n\nexport const ChannelHeaderDropdown = Desktop;\nexport const ChannelHeaderDropdownItems = connect(mapStateToProps)(Items);\nexport const MobileChannelHeaderDropdown = connect(mobileMapStateToProps)(Mobile);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport {localizeMessage} from 'utils/utils';\n\nimport Menu from 'components/widgets/menu/menu';\n\nexport default class CloseChannel extends React.PureComponent {\n    static propTypes = {\n        isArchived: PropTypes.bool.isRequired,\n        actions: PropTypes.shape({\n            goToLastViewedChannel: PropTypes.func.isRequired,\n        }).isRequired,\n    }\n\n    handleClose = () => {\n        this.props.actions.goToLastViewedChannel();\n    }\n\n    render() {\n        return (\n            <Menu.ItemAction\n                show={this.props.isArchived}\n                onClick={this.handleClose}\n                text={localizeMessage('center_panel.archived.closeChannel', 'Close Channel')}\n            />\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {bindActionCreators} from 'redux';\nimport {connect} from 'react-redux';\n\nimport {goToLastViewedChannel} from 'actions/views/channel';\n\nimport CloseChannel from './close_channel';\n\nconst mapDispatchToProps = (dispatch) => ({\n    actions: bindActionCreators({\n        goToLastViewedChannel,\n    }, dispatch),\n});\n\nexport default connect(null, mapDispatchToProps)(CloseChannel);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {bindActionCreators} from 'redux';\nimport {connect} from 'react-redux';\n\nimport {leaveChannel} from 'actions/views/channel';\n\nimport LeaveChannel from './leave_channel';\n\nconst mapDispatchToProps = (dispatch) => ({\n    actions: bindActionCreators({leaveChannel}, dispatch),\n});\n\nexport default connect(null, mapDispatchToProps)(LeaveChannel);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport {showLeavePrivateChannelModal} from 'actions/global_actions';\nimport {Constants} from 'utils/constants';\nimport {localizeMessage} from 'utils/utils';\n\nimport Menu from 'components/widgets/menu/menu';\n\nexport default class LeaveChannel extends React.PureComponent {\n    static propTypes = {\n\n        /**\n         * Object with info about user\n         */\n        channel: PropTypes.object.isRequired,\n\n        /**\n         * Boolean whether the channel is default\n         */\n        isDefault: PropTypes.bool.isRequired,\n\n        /**\n         * Boolean whether the user is a guest or no\n         */\n        isGuestUser: PropTypes.bool.isRequired,\n\n        /**\n         * Use for test selector\n         */\n        id: PropTypes.string,\n\n        /**\n         * Object with action creators\n         */\n        actions: PropTypes.shape({\n\n            /**\n             * Action creator to leave channel\n             */\n            leaveChannel: PropTypes.func.isRequired,\n        }).isRequired,\n    };\n\n    static defaultProps = {\n        isGuestUser: false,\n    }\n\n    handleLeave = (e) => {\n        e.preventDefault();\n\n        const {\n            channel,\n            actions: {\n                leaveChannel,\n            },\n        } = this.props;\n\n        if (channel.type === Constants.PRIVATE_CHANNEL) {\n            showLeavePrivateChannelModal(channel);\n        } else {\n            leaveChannel(channel.id);\n        }\n    }\n\n    render() {\n        const {channel, isDefault, isGuestUser, id} = this.props;\n\n        return (\n            <Menu.ItemAction\n                id={id}\n                show={(!isDefault || isGuestUser) && channel.type !== Constants.DM_CHANNEL && channel.type !== Constants.GM_CHANNEL}\n                onClick={this.handleLeave}\n                text={localizeMessage('channel_header.leave', 'Leave Channel')}\n            />\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {bindActionCreators} from 'redux';\nimport {connect} from 'react-redux';\nimport {favoriteChannel, unfavoriteChannel} from 'mattermost-redux/actions/channels';\n\nimport ToggleFavoriteChannel from './toggle_favorite_channel';\n\nconst mapDispatchToProps = (dispatch) => ({\n    actions: bindActionCreators({\n        favoriteChannel,\n        unfavoriteChannel,\n    }, dispatch),\n});\n\nexport default connect(null, mapDispatchToProps)(ToggleFavoriteChannel);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport {localizeMessage} from 'utils/utils';\n\nimport Menu from 'components/widgets/menu/menu';\n\nexport default class ToggleFavoriteChannel extends React.PureComponent {\n    static propTypes = {\n        show: PropTypes.bool.isRequired,\n        channel: PropTypes.object.isRequired,\n        isFavorite: PropTypes.bool.isRequired,\n        actions: PropTypes.shape({\n            favoriteChannel: PropTypes.func.isRequired,\n            unfavoriteChannel: PropTypes.func.isRequired,\n        }).isRequired,\n    };\n\n    static defaultProps = {\n        show: true,\n    }\n\n    toggleFavoriteChannel = (channelId) => {\n        const {\n            isFavorite,\n            actions: {\n                favoriteChannel,\n                unfavoriteChannel,\n            },\n        } = this.props;\n\n        return isFavorite ? unfavoriteChannel(channelId) : favoriteChannel(channelId);\n    }\n\n    handleClick = (e) => {\n        e.preventDefault();\n        this.toggleFavoriteChannel(this.props.channel.id);\n    }\n\n    render() {\n        let text;\n        if (this.props.isFavorite) {\n            text = localizeMessage('channelHeader.removeFromFavorites', 'Remove from Favorites');\n        } else {\n            text = localizeMessage('channelHeader.addToFavorites', 'Add to Favorites');\n        }\n        return (\n            <Menu.ItemAction\n                show={this.props.show}\n                onClick={this.handleClick}\n                text={text}\n            />\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {bindActionCreators} from 'redux';\nimport {connect} from 'react-redux';\nimport {updateChannelNotifyProps} from 'mattermost-redux/actions/channels';\n\nimport MenuItemToggleMuteChannel from './toggle_mute_channel';\n\nconst mapDispatchToProps = (dispatch) => ({\n    actions: bindActionCreators({\n        updateChannelNotifyProps,\n    }, dispatch),\n});\n\nexport default connect(null, mapDispatchToProps)(MenuItemToggleMuteChannel);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport {Constants, NotificationLevels} from 'utils/constants';\n\nimport {localizeMessage} from 'utils/utils';\n\nimport Menu from 'components/widgets/menu/menu';\n\nexport default class MenuItemToggleMuteChannel extends React.PureComponent {\n    static propTypes = {\n\n        /**\n         * Object with info about the current user\n         */\n        user: PropTypes.object.isRequired,\n\n        /**\n         * Object with info about the current channel\n         */\n        channel: PropTypes.object.isRequired,\n\n        /**\n         * Boolean whether the current channel is muted\n         */\n        isMuted: PropTypes.bool.isRequired,\n\n        /**\n         * Use for test selector\n         */\n        id: PropTypes.string,\n\n        /**\n         * Object with action creators\n         */\n        actions: PropTypes.shape({\n            updateChannelNotifyProps: PropTypes.func.isRequired,\n        }).isRequired,\n    };\n\n    handleClick = () => {\n        const {\n            user,\n            channel,\n            isMuted,\n            actions: {\n                updateChannelNotifyProps,\n            },\n        } = this.props;\n\n        updateChannelNotifyProps(user.id, channel.id, {\n            mark_unread: isMuted ? NotificationLevels.ALL : NotificationLevels.MENTION,\n        });\n    }\n\n    render() {\n        const {\n            channel,\n            id,\n            isMuted,\n        } = this.props;\n\n        let text;\n        if (isMuted) {\n            text = localizeMessage('channel_header.unmute', 'Unmute Channel');\n        } else {\n            text = localizeMessage('channel_header.mute', 'Mute Channel');\n        }\n\n        return (\n            <Menu.ItemAction\n                id={id}\n                show={channel.type !== Constants.DM_CHANNEL}\n                onClick={this.handleClick}\n                text={text}\n            />\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {bindActionCreators} from 'redux';\nimport {connect} from 'react-redux';\n\nimport {closeRightHandSide, showPinnedPosts} from 'actions/views/rhs';\nimport {getRhsState} from 'selectors/rhs';\nimport {RHSStates} from 'utils/constants';\n\nimport ViewPinnedPosts from './view_pinned_posts';\n\nconst mapStateToProps = (state) => ({\n    hasPinnedPosts: getRhsState(state) === RHSStates.PIN,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n    actions: bindActionCreators({\n        closeRightHandSide,\n        showPinnedPosts,\n    }, dispatch),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ViewPinnedPosts);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport {localizeMessage} from 'utils/utils';\n\nimport Menu from 'components/widgets/menu/menu';\n\nexport default class ViewPinnedPosts extends React.PureComponent {\n    static propTypes = {\n        show: PropTypes.bool,\n        channel: PropTypes.object.isRequired,\n        hasPinnedPosts: PropTypes.bool.isRequired,\n        actions: PropTypes.shape({\n            closeRightHandSide: PropTypes.func.isRequired,\n            showPinnedPosts: PropTypes.func.isRequired,\n        }).isRequired,\n    }\n\n    handleClick = (e) => {\n        e.preventDefault();\n\n        const {\n            channel,\n            hasPinnedPosts,\n            actions: {\n                closeRightHandSide,\n                showPinnedPosts,\n            },\n        } = this.props;\n\n        if (hasPinnedPosts) {\n            closeRightHandSide();\n        } else {\n            showPinnedPosts(channel.id);\n        }\n    }\n\n    render() {\n        return (\n            <Menu.ItemAction\n                show={this.props.show}\n                onClick={this.handleClick}\n                text={localizeMessage('navbar.viewPinnedPosts', 'View Pinned Posts')}\n            />\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport {FormattedMessage} from 'react-intl';\n\nimport StatusIcon from 'components/status_icon';\n\nimport {Constants} from 'utils/constants';\nimport {getDisplayNameByUserId} from 'utils/utils';\n\nimport {ChannelHeaderDropdownItems} from 'components/channel_header_dropdown';\n\nimport Menu from 'components/widgets/menu/menu';\nimport MenuWrapper from 'components/widgets/menu/menu_wrapper';\n\nimport MobileChannelHeaderDropdownAnimation from './mobile_channel_header_dropdown_animation.jsx';\n\nexport default class MobileChannelHeaderDropdown extends React.PureComponent {\n    static propTypes = {\n        user: PropTypes.object.isRequired,\n        channel: PropTypes.object.isRequired,\n        teammateId: PropTypes.string,\n        teammateIsBot: PropTypes.bool,\n        teammateStatus: PropTypes.string,\n    }\n\n    getChannelTitle = () => {\n        const {user, channel, teammateId} = this.props;\n\n        if (channel.type === Constants.DM_CHANNEL) {\n            const displayname = getDisplayNameByUserId(teammateId);\n            if (user.id === teammateId) {\n                return (\n                    <FormattedMessage\n                        id='channel_header.directchannel.you'\n                        defaultMessage='{displayname} (you)'\n                        values={{displayname}}\n                    />\n                );\n            }\n            return displayname;\n        }\n        return channel.display_name;\n    }\n\n    render() {\n        const {teammateIsBot, teammateStatus} = this.props;\n        let dmHeaderIconStatus;\n\n        if (!teammateIsBot) {\n            dmHeaderIconStatus = (\n                <StatusIcon status={teammateStatus}/>\n            );\n        }\n\n        return (\n            <MenuWrapper animationComponent={MobileChannelHeaderDropdownAnimation}>\n                <a>\n                    <span className='heading'>\n                        {dmHeaderIconStatus}\n                        {this.getChannelTitle()}\n                    </span>\n                    <FormattedMessage\n                        id='generic_icons.dropdown'\n                        defaultMessage='Dropdown Icon'\n                    >\n                        {(title) => (\n                            <span\n                                className='fa fa-angle-down header-dropdown__icon'\n                                title={title}\n                            />\n                        )}\n                    </FormattedMessage>\n                </a>\n\n                <FormattedMessage\n                    id='channel_header.menuAriaLabel'\n                    defaultMessage='Channel Menu'\n                >\n                    {(ariaLabel) => (\n                        <Menu ariaLabel={ariaLabel}>\n                            <ChannelHeaderDropdownItems isMobile={true}/>\n                            <div className='Menu__close visible-xs-block'>\n                                {''}\n                            </div>\n                        </Menu>\n                    )}\n                </FormattedMessage>\n            </MenuWrapper>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {CSSTransition} from 'react-transition-group';\n\nconst ANIMATION_DURATION = 350;\n\nexport default class MobileChannelHeaderDropdownAnimation extends React.PureComponent {\n    static propTypes = {\n        children: PropTypes.node,\n        show: PropTypes.bool.isRequired,\n    };\n\n    render() {\n        return (\n            <CSSTransition\n                in={this.props.show}\n                classNames='mobile-channel-header-dropdown'\n                enter={true}\n                exit={true}\n                mountOnEnter={true}\n                unmountOnExit={true}\n                timeout={{\n                    enter: ANIMATION_DURATION,\n                    exit: ANIMATION_DURATION,\n                }}\n            >\n                {this.props.children}\n            </CSSTransition>\n        );\n    }\n}\n\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport {MobileChannelHeaderDropdown} from 'components/channel_header_dropdown';\nimport MobileChannelHeaderPlug from 'plugins/mobile_channel_header_plug';\n\nimport * as Utils from 'utils/utils';\n\nimport CollapseLhsButton from './collapse_lhs_button';\nimport CollapseRhsButton from './collapse_rhs_button';\nimport ChannelInfoButton from './channel_info_button';\nimport ShowSearchButton from './show_search_button';\nimport UnmuteChannelButton from './unmute_channel_button';\n\nexport default class ChannelHeaderMobile extends React.PureComponent {\n    static propTypes = {\n\n        /**\n         *\n         */\n        user: PropTypes.object.isRequired,\n\n        /**\n         * Object with info about current channel\n         */\n        channel: PropTypes.object,\n\n        /**\n         * Bool whether the current channel is read only\n         */\n        isReadOnly: PropTypes.bool,\n\n        /**\n         * Bool whether the current channel is muted\n         */\n        isMuted: PropTypes.bool,\n\n        /**\n         * Object with action creators\n         */\n        actions: PropTypes.shape({\n            closeLhs: PropTypes.func.isRequired,\n            closeRhs: PropTypes.func.isRequired,\n            closeRhsMenu: PropTypes.func.isRequired,\n        }).isRequired,\n    };\n\n    componentDidMount() {\n        document.querySelector('.inner-wrap').addEventListener('click', this.hideSidebars);\n    }\n\n    componentWillUnmount() {\n        document.querySelector('.inner-wrap').removeEventListener('click', this.hideSidebars);\n    }\n\n    hideSidebars = (e) => {\n        if (Utils.isMobile()) {\n            this.props.actions.closeRhs();\n\n            if (e.target.className !== 'navbar-toggle' && e.target.className !== 'icon-bar') {\n                this.props.actions.closeLhs();\n                this.props.actions.closeRhsMenu();\n            }\n        }\n    }\n\n    render() {\n        const {user, channel, isMuted} = this.props;\n\n        return (\n            <nav\n                id='navbar'\n                className='navbar navbar-default navbar-fixed-top'\n                role='navigation'\n            >\n                <div className='container-fluid theme'>\n                    <div className='navbar-header'>\n                        <CollapseLhsButton/>\n                        {channel && (\n                            <React.Fragment>\n                                <div className='navbar-brand'>\n                                    <MobileChannelHeaderDropdown/>\n                                    {isMuted && (\n                                        <UnmuteChannelButton\n                                            user={user}\n                                            channel={channel}\n                                        />\n                                    )}\n                                </div>\n                                <ChannelInfoButton\n                                    ref='headerOverlay'\n                                    channel={channel}\n                                    isReadOnly={this.props.isReadOnly}\n                                />\n                                <ShowSearchButton/>\n                                <MobileChannelHeaderPlug\n                                    channel={channel}\n                                    isDropdown={false}\n                                />\n                            </React.Fragment>\n                        )}\n                        <CollapseRhsButton/>\n                    </div>\n                </div>\n            </nav>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {OverlayTrigger} from 'react-bootstrap';\nimport {FormattedMessage} from 'react-intl';\n\nimport {ModalIdentifiers} from 'utils/constants';\nimport {localizeMessage} from 'utils/utils.jsx';\n\nimport EditChannelHeaderModal from 'components/edit_channel_header_modal';\nimport Markdown from 'components/markdown';\nimport InfoIcon from 'components/widgets/icons/info_icon';\nimport Popover from 'components/widgets/popover';\nconst headerMarkdownOptions = {mentionHighlight: false};\n\nexport default class NavbarInfoButton extends React.PureComponent {\n    static propTypes = {\n        channel: PropTypes.object.isRequired,\n        isReadOnly: PropTypes.bool.isRequired,\n        actions: PropTypes.shape({\n            openModal: PropTypes.func.isRequired,\n        }).isRequired,\n    };\n\n    showEditChannelHeaderModal = () => {\n        if (this.refs.headerOverlay) {\n            this.refs.headerOverlay.hide();\n        }\n\n        const {actions, channel} = this.props;\n        const modalData = {\n            modalId: ModalIdentifiers.EDIT_CHANNEL_HEADER,\n            dialogType: EditChannelHeaderModal,\n            dialogProps: {channel},\n        };\n\n        actions.openModal(modalData);\n    }\n\n    hide = () => {\n        if (this.refs.headerOverlay) {\n            this.refs.headerOverlay.hide();\n        }\n    }\n\n    render() {\n        const {channel, isReadOnly} = this.props;\n\n        let popoverContent = null;\n        if (channel.header) {\n            popoverContent = (\n                <Markdown\n                    message={channel.header}\n                    options={headerMarkdownOptions}\n                />\n            );\n        } else {\n            let addOne;\n            if (!isReadOnly) {\n                const link = (\n                    <a\n                        href='#'\n                        onClick={this.showEditChannelHeaderModal}\n                    >\n                        <FormattedMessage\n                            id='navbar.click'\n                            defaultMessage='Click here'\n                        />\n                    </a>\n                );\n                addOne = (\n                    <React.Fragment>\n                        <br/>\n                        <FormattedMessage\n                            id='navbar.clickToAddHeader'\n                            defaultMessage='{clickHere} to add one.'\n                            values={{clickHere: link}}\n                        />\n                    </React.Fragment>\n                );\n            }\n\n            popoverContent = (\n                <div>\n                    <FormattedMessage\n                        id='navbar.noHeader'\n                        defaultMessage='No channel header yet.'\n                    />\n                    {addOne}\n                </div>\n            );\n        }\n\n        const popover = (\n            <Popover\n                popoverStyle='info'\n                placement='bottom'\n                className='navbar__popover'\n                id='header-popover'\n            >\n                {popoverContent}\n                <div\n                    className='close visible-xs-block'\n                    onClick={this.hide}\n                >\n                    {''}\n                </div>\n            </Popover>\n        );\n\n        return (\n            <OverlayTrigger\n                ref='headerOverlay'\n                trigger='click'\n                placement='bottom'\n                overlay={popover}\n                className='description'\n                rootClose={true}\n            >\n                <button\n                    className='navbar-toggle navbar-right__icon navbar-info-button pull-right'\n                    aria-label={localizeMessage('accessibility.button.Info', 'Info')}\n                >\n                    <InfoIcon\n                        className='icon icon__info'\n                        aria-hidden='true'\n                    />\n                </button>\n            </OverlayTrigger>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\n\nimport {openModal} from 'actions/views/modals';\n\nimport ChannelInfoButton from './channel_info_button';\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            openModal,\n        }, dispatch),\n    };\n}\n\nexport default connect(null, mapDispatchToProps)(ChannelInfoButton);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport {FormattedMessage} from 'react-intl';\n\nimport NotifyCounts from 'components/notify_counts';\nimport MenuIcon from 'components/widgets/icons/menu_icon';\n\nconst CollapseLhsButton = ({\n    actions: {\n        toggleLhs,\n    },\n}) => (\n    <button\n        key='navbar-toggle-sidebar'\n        type='button'\n        className='navbar-toggle'\n        data-toggle='collapse'\n        data-target='#sidebar-nav'\n        onClick={toggleLhs}\n    >\n        <span className='sr-only'>\n            <FormattedMessage\n                id='navbar.toggle2'\n                defaultMessage='Toggle sidebar'\n            />\n        </span>\n        <MenuIcon className='style--none icon icon__menu icon--sidebarHeaderTextColor'/>\n        <NotifyCounts/>\n    </button>\n);\n\nCollapseLhsButton.propTypes = {\n    actions: PropTypes.shape({\n        toggleLhs: PropTypes.func.isRequired,\n    }).isRequired,\n};\n\nexport default CollapseLhsButton;\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {bindActionCreators} from 'redux';\nimport {connect} from 'react-redux';\n\nimport {toggle as toggleLhs} from 'actions/views/lhs';\n\nimport CollapseLhsButton from './collapse_lhs_button';\n\nconst mapDispatchToProps = (dispatch) => ({\n    actions: bindActionCreators({\n        toggleLhs,\n    }, dispatch),\n});\n\nexport default connect(null, mapDispatchToProps)(CollapseLhsButton);\n\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport MenuIcon from 'components/widgets/icons/menu_icon';\n\nconst CollapseRhsButton = ({\n    actions: {\n        toggleRhsMenu,\n    },\n}) => (\n    <button\n        key='navbar-toggle-menu'\n        type='button'\n        className='navbar-toggle navbar-right__icon menu-toggle pull-right'\n        data-toggle='collapse'\n        data-target='#sidebar-nav'\n        onClick={toggleRhsMenu}\n    >\n        <MenuIcon/>\n    </button>\n);\n\nCollapseRhsButton.propTypes = {\n    actions: PropTypes.shape({\n        toggleRhsMenu: PropTypes.func.isRequired,\n    }).isRequired,\n};\n\nexport default CollapseRhsButton;\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {bindActionCreators} from 'redux';\nimport {connect} from 'react-redux';\n\nimport {toggleMenu as toggleRhsMenu} from 'actions/views/rhs';\n\nimport CollapseRhsButton from './collapse_rhs_button';\n\nconst mapDispatchToProps = (dispatch) => ({\n    actions: bindActionCreators({\n        toggleRhsMenu,\n    }, dispatch),\n});\n\nexport default connect(null, mapDispatchToProps)(CollapseRhsButton);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\nimport {createSelector} from 'reselect';\nimport {getCurrentUser} from 'mattermost-redux/selectors/entities/users';\nimport {\n    getCurrentChannel,\n    getMyCurrentChannelMembership,\n    isCurrentChannelReadOnly,\n} from 'mattermost-redux/selectors/entities/channels';\nimport {isChannelMuted} from 'mattermost-redux/utils/channel_utils';\n\nimport {\n    closeRightHandSide as closeRhs,\n    closeMenu as closeRhsMenu,\n} from 'actions/views/rhs';\nimport {close as closeLhs} from 'actions/views/lhs';\n\nimport ChannelHeaderMobile from './channel_header_mobile';\n\nconst isCurrentChannelMuted = createSelector(\n    getMyCurrentChannelMembership,\n    (membership) => isChannelMuted(membership),\n);\n\nconst mapStateToProps = (state) => ({\n    user: getCurrentUser(state),\n    channel: getCurrentChannel(state),\n    isMuted: isCurrentChannelMuted(state),\n    isReadOnly: isCurrentChannelReadOnly(state),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n    actions: bindActionCreators({\n        closeLhs,\n        closeRhs,\n        closeRhsMenu,\n    }, dispatch),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ChannelHeaderMobile);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {bindActionCreators} from 'redux';\nimport {connect} from 'react-redux';\n\nimport {openRHSSearch} from 'actions/views/rhs';\n\nimport ShowSearchButton from './show_search_button';\n\nconst mapDispatchToProps = (dispatch) => ({\n    actions: bindActionCreators({\n        openRHSSearch,\n    }, dispatch),\n});\n\nexport default connect(null, mapDispatchToProps)(ShowSearchButton);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport {localizeMessage} from 'utils/utils.jsx';\n\nimport SearchIcon from 'components/widgets/icons/search_icon';\n\nexport default class ShowSearchButton extends React.PureComponent {\n    static propTypes = {\n        actions: PropTypes.shape({\n            openRHSSearch: PropTypes.func.isRequired,\n        }).isRequired,\n    }\n\n    handleClick = () => {\n        this.props.actions.openRHSSearch();\n    }\n\n    render() {\n        return (\n            <button\n                type='button'\n                className='navbar-toggle navbar-right__icon navbar-search pull-right'\n                onClick={this.handleClick}\n                aria-label={localizeMessage('accessibility.button.Search', 'Search')}\n            >\n                <SearchIcon\n                    className='icon icon__search'\n                    aria-hidden='true'\n                />\n            </button>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {bindActionCreators} from 'redux';\nimport {connect} from 'react-redux';\nimport {updateChannelNotifyProps} from 'mattermost-redux/actions/channels';\n\nimport UnmuteChannelButton from './unmute_channel_button';\n\nconst mapDispatchToProps = (dispatch) => ({\n    actions: bindActionCreators({\n        updateChannelNotifyProps,\n    }, dispatch),\n});\n\nexport default connect(null, mapDispatchToProps)(UnmuteChannelButton);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport {NotificationLevels} from 'utils/constants';\n\nexport default class UnmuteChannelButton extends React.PureComponent {\n    static propTypes = {\n        user: PropTypes.shape({\n            id: PropTypes.string.isRequired,\n        }).isRequired,\n\n        channel: PropTypes.shape({\n            id: PropTypes.string.isRequired,\n        }).isRequired,\n\n        actions: PropTypes.shape({\n            updateChannelNotifyProps: PropTypes.func.isRequired,\n        }).isRequired,\n    };\n\n    handleClick = () => {\n        const {\n            user,\n            channel,\n            actions: {\n                updateChannelNotifyProps,\n            },\n        } = this.props;\n\n        updateChannelNotifyProps(user.id, channel.id, {mark_unread: NotificationLevels.ALL});\n    }\n\n    render() {\n        return (\n            <button\n                type='button'\n                className='navbar-toggle icon icon__mute'\n                onClick={this.handleClick}\n            >\n                <span className='fa fa-bell-slash-o icon'/>\n            </button>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {Modal} from 'react-bootstrap';\nimport {FormattedMessage} from 'react-intl';\nimport {memoizeResult} from 'mattermost-redux/utils/helpers';\n\nimport Markdown from 'components/markdown';\nimport GlobeIcon from 'components/widgets/icons/globe_icon';\nimport LockIcon from 'components/widgets/icons/lock_icon';\nimport ArchiveIcon from 'components/widgets/icons/archive_icon';\n\nimport Constants from 'utils/constants.jsx';\nimport {getSiteURL} from 'utils/url';\nimport * as Utils from 'utils/utils.jsx';\n\nconst headerMarkdownOptions = {singleline: false, mentionHighlight: false};\n\nexport default class ChannelInfoModal extends React.PureComponent {\n    static propTypes = {\n\n        /**\n         * Function that is called when modal is hidden\n         */\n        onHide: PropTypes.func.isRequired,\n\n        /**\n         * Channel object\n         */\n        channel: PropTypes.object.isRequired,\n\n        /**\n         * Current team object\n         */\n        currentTeam: PropTypes.object.isRequired,\n    };\n\n    constructor(props) {\n        super(props);\n\n        this.state = {show: true};\n\n        this.getHeaderMarkdownOptions = memoizeResult((channelNamesMap) => (\n            {...headerMarkdownOptions, channelNamesMap}\n        ));\n    }\n\n    onHide = () => {\n        this.setState({show: false});\n    }\n\n    render() {\n        let channel = this.props.channel;\n        const channelIsArchived = channel.delete_at !== 0;\n        let channelIcon;\n\n        if (!channel) {\n            const notFound = Utils.localizeMessage('channel_info.notFound', 'No Channel Found');\n\n            channel = {\n                display_name: notFound,\n                name: notFound,\n                purpose: notFound,\n                header: notFound,\n                id: notFound,\n            };\n        }\n\n        const channelNamesMap = this.props.channel.props && this.props.channel.props.channel_mentions;\n\n        if (channelIsArchived) {\n            channelIcon = (\n                <ArchiveIcon className='icon icon__archive'/>\n            );\n        } else if (channel.type === 'O') {\n            channelIcon = (\n                <GlobeIcon className='icon icon__globe icon--body'/>\n            );\n        } else if (channel.type === 'P') {\n            channelIcon = (\n                <LockIcon className='icon icon__globe icon--body'/>\n            );\n        }\n\n        const channelURL = getSiteURL() + '/' + this.props.currentTeam.name + '/channels/' + channel.name;\n\n        let channelPurpose;\n        if (channel.purpose) {\n            channelPurpose = channel.purpose;\n        } else if (channel.name === Constants.DEFAULT_CHANNEL) {\n            channelPurpose = (\n                <FormattedMessage\n                    id='default_channel.purpose'\n                    defaultMessage='Post messages here that you want everyone to see. Everyone automatically becomes a permanent member of this channel when they join the team.'\n                />\n            );\n        }\n\n        let channelPurposeElement;\n        if (channelPurpose) {\n            channelPurposeElement = (\n                <div className='form-group'>\n                    <div className='info__label'>\n                        <FormattedMessage\n                            id='channel_info.purpose'\n                            defaultMessage='Purpose:'\n                        />\n                    </div>\n                    <div className='info__value'>{channelPurpose}</div>\n                </div>\n            );\n        }\n\n        let channelHeader = null;\n        if (channel.header) {\n            channelHeader = (\n                <div className='form-group'>\n                    <div className='info__label'>\n                        <FormattedMessage\n                            id='channel_info.header'\n                            defaultMessage='Header:'\n                        />\n                    </div>\n                    <div className='info__value'>\n                        <Markdown\n                            message={channel.header}\n                            options={this.getHeaderMarkdownOptions(channelNamesMap)}\n                        />\n                    </div>\n                </div>\n            );\n        }\n\n        return (\n            <Modal\n                dialogClassName='a11y__modal about-modal'\n                show={this.state.show}\n                onHide={this.onHide}\n                onExited={this.props.onHide}\n                role='dialog'\n                aria-labelledby='channelInfoModalLabel'\n            >\n                <Modal.Header closeButton={true}>\n                    <Modal.Title\n                        componentClass='h1'\n                        id='channelInfoModalLabel'\n                    >\n                        <FormattedMessage\n                            id='channel_info.about'\n                            defaultMessage='About'\n                        />\n                        <strong>{channelIcon}{channel.display_name}</strong>\n                    </Modal.Title>\n                </Modal.Header>\n                <Modal.Body ref='modalBody'>\n                    {channelPurposeElement}\n                    {channelHeader}\n                    <div className='form-group'>\n                        <div className='info__label'>\n                            <FormattedMessage\n                                id='channel_info.url'\n                                defaultMessage='URL:'\n                            />\n                        </div>\n                        <div className='info__value'>{channelURL}</div>\n                    </div>\n                    <div className='about-modal__hash form-group padding-top x2'>\n                        <p>\n                            <FormattedMessage\n                                id='channel_info.id'\n                                defaultMessage='ID: '\n                            />\n                            {channel.id}\n                        </p>\n                    </div>\n                </Modal.Body>\n            </Modal>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {getCurrentTeam} from 'mattermost-redux/selectors/entities/teams';\n\nimport ChannelInfoModal from './channel_info_modal.jsx';\n\nfunction mapStateToProps(state) {\n    return {\n        currentTeam: getCurrentTeam(state),\n    };\n}\n\nexport default connect(mapStateToProps)(ChannelInfoModal);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {Modal} from 'react-bootstrap';\nimport {FormattedMessage} from 'react-intl';\nimport {Client4} from 'mattermost-redux/client';\n\nimport {filterProfilesMatchingTerm} from 'mattermost-redux/utils/user_utils';\n\nimport {displayEntireNameForUser, localizeMessage, isGuest} from 'utils/utils.jsx';\nimport ProfilePicture from 'components/profile_picture';\nimport MultiSelect from 'components/multiselect/multiselect';\nimport AddIcon from 'components/widgets/icons/fa_add_icon';\nimport GuestBadge from 'components/widgets/badges/guest_badge';\nimport BotBadge from 'components/widgets/badges/bot_badge';\n\nimport Constants from 'utils/constants';\n\nconst USERS_PER_PAGE = 50;\nconst MAX_SELECTABLE_VALUES = 20;\n\nexport default class ChannelInviteModal extends React.Component {\n    static propTypes = {\n        profilesNotInCurrentChannel: PropTypes.array.isRequired,\n        profilesNotInCurrentTeam: PropTypes.array.isRequired,\n        onHide: PropTypes.func.isRequired,\n        channel: PropTypes.object.isRequired,\n        actions: PropTypes.shape({\n            addUsersToChannel: PropTypes.func.isRequired,\n            getProfilesNotInChannel: PropTypes.func.isRequired,\n            getTeamStats: PropTypes.func.isRequired,\n            searchProfiles: PropTypes.func.isRequired,\n        }).isRequired,\n    };\n\n    constructor(props) {\n        super(props);\n\n        this.searchTimeoutId = 0;\n\n        this.state = {\n            values: [],\n            term: '',\n            show: true,\n            saving: false,\n            loadingUsers: true,\n        };\n    }\n\n    addValue = (value) => {\n        const values = Object.assign([], this.state.values);\n        if (values.indexOf(value) === -1) {\n            values.push(value);\n        }\n\n        this.setState({values});\n    };\n\n    componentDidMount() {\n        this.props.actions.getProfilesNotInChannel(this.props.channel.team_id, this.props.channel.id, this.props.channel.group_constrained, 0).then(() => {\n            this.setUsersLoadingState(false);\n        });\n        this.props.actions.getTeamStats(this.props.channel.team_id);\n    }\n\n    onHide = () => {\n        this.setState({show: false});\n    };\n\n    handleInviteError = (err) => {\n        if (err) {\n            this.setState({\n                saving: false,\n                inviteError: err.message,\n            });\n        }\n    };\n\n    handleDelete = (values) => {\n        this.setState({values});\n    };\n\n    setUsersLoadingState = (loadingState) => {\n        this.setState({\n            loadingUsers: loadingState,\n        });\n    };\n\n    handlePageChange = (page, prevPage) => {\n        if (page > prevPage) {\n            this.setUsersLoadingState(true);\n            this.props.actions.getProfilesNotInChannel(this.props.channel.team_id, this.props.channel.id, this.props.channel.group_constrained, page + 1, USERS_PER_PAGE).then(() => {\n                this.setUsersLoadingState(false);\n            });\n        }\n    };\n\n    handleSubmit = (e) => {\n        const {actions, channel} = this.props;\n        if (e) {\n            e.preventDefault();\n        }\n\n        const userIds = this.state.values.map((v) => v.id);\n        if (userIds.length === 0) {\n            return;\n        }\n\n        this.setState({saving: true});\n\n        actions.addUsersToChannel(channel.id, userIds).then((result) => {\n            if (result.error) {\n                this.handleInviteError(result.error);\n            } else {\n                this.setState({\n                    saving: false,\n                    inviteError: null,\n                });\n                this.onHide();\n            }\n        });\n    };\n\n    search = (searchTerm) => {\n        const term = searchTerm.trim();\n        clearTimeout(this.searchTimeoutId);\n        this.setState({\n            term,\n        });\n\n        this.searchTimeoutId = setTimeout(\n            async () => {\n                this.setUsersLoadingState(true);\n                const options = {\n                    team_id: this.props.channel.team_id,\n                    not_in_channel_id: this.props.channel.id,\n                    group_constrained: this.props.channel.group_constrained,\n                };\n                await this.props.actions.searchProfiles(term, options);\n                this.setUsersLoadingState(false);\n            },\n            Constants.SEARCH_TIMEOUT_MILLISECONDS\n        );\n    };\n\n    renderAriaLabel = (option) => {\n        if (!option) {\n            return null;\n        }\n        return option.username;\n    }\n\n    renderOption = (option, isSelected, onAdd) => {\n        var rowSelected = '';\n        if (isSelected) {\n            rowSelected = 'more-modal__row--selected';\n        }\n\n        return (\n            <div\n                key={option.id}\n                ref={isSelected ? 'selected' : option.id}\n                className={'more-modal__row clickable ' + rowSelected}\n                onClick={() => onAdd(option)}\n            >\n                <ProfilePicture\n                    src={Client4.getProfilePictureUrl(option.id, option.last_picture_update)}\n                    size='md'\n                />\n                <div className='more-modal__details'>\n                    <div className='more-modal__name'>\n                        {displayEntireNameForUser(option)}\n                        <BotBadge\n                            show={Boolean(option.is_bot)}\n                            className='badge-popoverlist'\n                        />\n                        <GuestBadge\n                            show={isGuest(option)}\n                            className='popoverlist'\n                        />\n                    </div>\n                </div>\n                <div className='more-modal__actions'>\n                    <div className='more-modal__actions--round'>\n                        <AddIcon/>\n                    </div>\n                </div>\n            </div>\n        );\n    };\n\n    renderValue(props) {\n        return props.data.username;\n    }\n\n    render() {\n        let inviteError = null;\n        if (this.state.inviteError) {\n            inviteError = (<label className='has-error control-label'>{this.state.inviteError}</label>);\n        }\n\n        const numRemainingText = (\n            <FormattedMessage\n                id='multiselect.numPeopleRemaining'\n                defaultMessage='Use  to browse,  to select. You can add {num, number} more {num, plural, one {person} other {people}}. '\n                values={{\n                    num: MAX_SELECTABLE_VALUES - this.state.values.length,\n                }}\n            />\n        );\n\n        const buttonSubmitText = localizeMessage('multiselect.add', 'Add');\n        const buttonSubmitLoadingText = localizeMessage('multiselect.adding', 'Adding...');\n\n        const users = filterProfilesMatchingTerm(this.props.profilesNotInCurrentChannel, this.state.term).filter((user) => {\n            return user.delete_at === 0 && !this.props.profilesNotInCurrentTeam.includes(user);\n        });\n\n        const content = (\n            <MultiSelect\n                key='addUsersToChannelKey'\n                options={users}\n                optionRenderer={this.renderOption}\n                values={this.state.values}\n                valueRenderer={this.renderValue}\n                ariaLabelRenderer={this.renderAriaLabel}\n                perPage={USERS_PER_PAGE}\n                handlePageChange={this.handlePageChange}\n                handleInput={this.search}\n                handleDelete={this.handleDelete}\n                handleAdd={this.addValue}\n                handleSubmit={this.handleSubmit}\n                maxValues={MAX_SELECTABLE_VALUES}\n                numRemainingText={numRemainingText}\n                buttonSubmitText={buttonSubmitText}\n                buttonSubmitLoadingText={buttonSubmitLoadingText}\n                saving={this.state.saving}\n                loading={this.state.loadingUsers}\n                placeholderText={localizeMessage('multiselect.placeholder', 'Search and add members')}\n            />\n        );\n\n        return (\n            <Modal\n                id='addUsersToChannelModal'\n                dialogClassName='a11y__modal more-modal'\n                show={this.state.show}\n                onHide={this.onHide}\n                onExited={this.props.onHide}\n                role='dialog'\n                aria-labelledby='channelInviteModalLabel'\n            >\n                <Modal.Header closeButton={true}>\n                    <Modal.Title\n                        componentClass='h1'\n                        id='channelInviteModalLabel'\n                    >\n                        <FormattedMessage\n                            id='channel_invite.addNewMembers'\n                            defaultMessage='Add New Members to '\n                        />\n                        <span className='name'>{this.props.channel.display_name}</span>\n                    </Modal.Title>\n                </Modal.Header>\n                <Modal.Body\n                    role='application'\n                >\n                    {inviteError}\n                    {content}\n                </Modal.Body>\n            </Modal>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\n\nimport {getTeamStats} from 'mattermost-redux/actions/teams';\nimport {getProfilesNotInChannel, searchProfiles} from 'mattermost-redux/actions/users';\nimport {getProfilesNotInCurrentChannel, getProfilesNotInCurrentTeam} from 'mattermost-redux/selectors/entities/users';\n\nimport {addUsersToChannel} from 'actions/channel_actions';\n\nimport ChannelInviteModal from './channel_invite_modal.jsx';\n\nfunction mapStateToProps(state) {\n    return {\n        profilesNotInCurrentChannel: getProfilesNotInCurrentChannel(state),\n        profilesNotInCurrentTeam: getProfilesNotInCurrentTeam(state),\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            addUsersToChannel,\n            getProfilesNotInChannel,\n            getTeamStats,\n            searchProfiles,\n        }, dispatch),\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ChannelInviteModal);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport {Route, Switch, Redirect} from 'react-router-dom';\nimport classNames from 'classnames';\n\nimport PermalinkView from 'components/permalink_view';\nimport ChannelHeaderMobile from 'components/channel_header_mobile';\nimport ChannelIdentifierRouter from 'components/channel_layout/channel_identifier_router';\n\nexport default class CenterChannel extends React.PureComponent {\n    static propTypes = {\n        match: PropTypes.object.isRequired,\n        location: PropTypes.object.isRequired,\n        lastChannelPath: PropTypes.string.isRequired,\n        lhsOpen: PropTypes.bool.isRequired,\n        rhsOpen: PropTypes.bool.isRequired,\n        rhsMenuOpen: PropTypes.bool.isRequired,\n    };\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            returnTo: '',\n        };\n    }\n\n    UNSAFE_componentWillReceiveProps(nextProps) { // eslint-disable-line camelcase\n        if (this.props.location.pathname !== nextProps.location.pathname && nextProps.location.pathname.includes('/pl/')) {\n            this.setState({returnTo: this.props.location.pathname});\n        }\n    }\n\n    render() {\n        const {lastChannelPath} = this.props;\n        const url = this.props.match.url;\n        return (\n            <div\n                key='inner-wrap'\n                className={classNames('inner-wrap', 'channel__wrap', {\n                    'move--right': this.props.lhsOpen,\n                    'move--left': this.props.rhsOpen,\n                    'move--left-small': this.props.rhsMenuOpen,\n                })}\n            >\n                <div className='row header'>\n                    <div id='navbar_wrapper'>\n                        <ChannelHeaderMobile/>\n                    </div>\n                </div>\n                <div className='row main'>\n                    <Switch>\n                        <Route\n                            path={`${url}/pl/:postid`}\n                            render={(props) => (\n                                <PermalinkView\n                                    {...props}\n                                    returnTo={this.state.returnTo}\n                                />\n                            )}\n                        />\n                        <Route\n                            path={'/:team/:path(channels|messages)/:identifier'}\n                            component={ChannelIdentifierRouter}\n                        />\n                        <Redirect to={lastChannelPath}/>\n                    </Switch>\n                </div>\n            </div>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\n\nimport {getTeamByName} from 'mattermost-redux/selectors/entities/teams';\nimport {getRedirectChannelNameForTeam} from 'mattermost-redux/selectors/entities/channels';\n\nimport {getIsRhsOpen, getIsRhsMenuOpen} from 'selectors/rhs';\nimport {getIsLhsOpen} from 'selectors/lhs';\nimport {getLastViewedChannelNameByTeamName} from 'selectors/local_storage';\n\nimport CenterChannel from './center_channel';\n\nconst mapStateToProps = (state, ownProps) => {\n    let channelName = getLastViewedChannelNameByTeamName(state, ownProps.match.params.team);\n    if (!channelName) {\n        const team = getTeamByName(state, ownProps.match.params.team);\n        channelName = getRedirectChannelNameForTeam(state, team.id);\n    }\n    const lastChannelPath = `${ownProps.match.url}/channels/${channelName}`;\n    return {\n        lastChannelPath,\n        lhsOpen: getIsLhsOpen(state),\n        rhsOpen: getIsRhsOpen(state),\n        rhsMenuOpen: getIsRhsMenuOpen(state),\n    };\n};\n\nexport default connect(mapStateToProps)(CenterChannel);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport {Route} from 'react-router-dom';\n\nimport AnnouncementBarController from 'components/announcement_bar';\n\nimport Pluggable from 'plugins/pluggable';\nimport SystemNotice from 'components/system_notice';\nimport EditPostModal from 'components/edit_post_modal';\nimport GetPostLinkModal from 'components/get_post_link_modal';\nimport GetPublicLinkModal from 'components/get_public_link_modal';\nimport LeavePrivateChannelModal from 'components/leave_private_channel_modal';\nimport ResetStatusModal from 'components/reset_status_modal';\nimport ShortcutsModal from 'components/shortcuts_modal.jsx';\nimport SidebarRight from 'components/sidebar_right';\nimport SidebarRightMenu from 'components/sidebar_right_menu';\nimport ImportThemeModal from 'components/user_settings/import_theme_modal.jsx';\nimport ModalController from 'components/modal_controller';\nimport TeamSidebar from 'components/team_sidebar';\nimport Sidebar from 'components/sidebar';\nimport * as Utils from 'utils/utils';\nimport * as UserAgent from 'utils/user_agent';\nimport CenterChannel from 'components/channel_layout/center_channel';\nimport LoadingScreen from 'components/loading_screen';\n\nexport default class ChannelController extends React.Component {\n    static propTypes = {\n        pathName: PropTypes.string.isRequired,\n        teamType: PropTypes.string.isRequired,\n        fetchingChannels: PropTypes.bool.isRequired,\n    };\n\n    shouldComponentUpdate(nextProps) {\n        return this.props.teamType !== nextProps.teamType || this.props.pathName !== nextProps.pathName || this.props.fetchingChannels !== nextProps.fetchingChannels;\n    }\n\n    componentDidMount() {\n        const platform = window.navigator.platform;\n\n        document.body.classList.add('app__body', 'channel-view');\n\n        // IE Detection\n        if (UserAgent.isInternetExplorer() || UserAgent.isEdge()) {\n            document.body.classList.add('browser--ie');\n        }\n\n        // OS Detection\n        if (platform === 'Win32' || platform === 'Win64') {\n            document.body.classList.add('os--windows');\n        } else if (platform === 'MacIntel' || platform === 'MacPPC') {\n            document.body.classList.add('os--mac');\n        }\n    }\n\n    componentWillUnmount() {\n        document.body.classList.remove('app__body', 'channel-view');\n    }\n\n    render() {\n        return (\n            <div\n                id='channel_view'\n                className='channel-view'\n            >\n                <AnnouncementBarController/>\n                <SystemNotice/>\n\n                <div className='container-fluid'>\n                    {/*<SidebarRight/>*/}\n                    {/*<SidebarRightMenu teamType={this.props.teamType}/>*/}\n                    <Route component={TeamSidebar}/>\n                    <Route component={Sidebar}/>\n                    {!this.props.fetchingChannels && <Route component={CenterChannel}/>}\n                    {this.props.fetchingChannels && <LoadingScreen/>}\n                    <Pluggable pluggableName='Root'/>\n                    <GetPostLinkModal/>\n                    <GetPublicLinkModal/>\n                    <ImportThemeModal/>\n                    <EditPostModal/>\n                    <ResetStatusModal/>\n                    <LeavePrivateChannelModal/>\n                    <ShortcutsModal isMac={Utils.isMac()}/>\n                    <ModalController/>\n                </div>\n            </div>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {joinChannel, getChannelByNameAndTeamName, markGroupChannelOpen, fetchMyChannelsAndMembers} from 'mattermost-redux/actions/channels';\nimport {getUser, getUserByUsername, getUserByEmail} from 'mattermost-redux/actions/users';\nimport {getTeamByName} from 'mattermost-redux/selectors/entities/teams';\nimport {getCurrentUserId, getUserByUsername as selectUserByUsername, getUser as selectUser, getUserByEmail as selectUserByEmail} from 'mattermost-redux/selectors/entities/users';\nimport {getChannelByName, getOtherChannels, getChannel, getChannelsNameMapInTeam, getRedirectChannelNameForTeam} from 'mattermost-redux/selectors/entities/channels';\n\nimport {Constants} from 'utils/constants';\nimport {openDirectChannelToUserId} from 'actions/channel_actions';\nimport * as GlobalActions from 'actions/global_actions.jsx';\nimport * as Utils from 'utils/utils.jsx';\n\nconst LENGTH_OF_ID = 26;\nconst LENGTH_OF_GROUP_ID = 40;\nconst LENGTH_OF_USER_ID_PAIR = 54;\n\nexport function onChannelByIdentifierEnter({match, history}) {\n    return async (dispatch, getState) => {\n        const state = getState();\n        const {path, identifier, team} = match.params;\n\n        if (!identifier) {\n            return;\n        }\n\n        const teamObj = getTeamByName(state, team);\n        if (!teamObj) {\n            return;\n        }\n\n        if (path === 'channels') {\n            if (identifier.length === LENGTH_OF_ID) {\n            // It's hard to tell an ID apart from a channel name of the same length, so check first if\n            // the identifier matches a channel that we have\n                const channelsByName = getChannelByName(state, identifier);\n                const moreChannelsByName = getOtherChannels(state).find((chan) => chan.name === identifier);\n                if (channelsByName || moreChannelsByName) {\n                    dispatch(goToChannelByChannelName(match, history));\n                } else {\n                    dispatch(goToChannelByChannelId(match, history));\n                }\n            } else if (identifier.length === LENGTH_OF_GROUP_ID) {\n                dispatch(goToGroupChannelByGroupId(match, history));\n            } else if (identifier.length === LENGTH_OF_USER_ID_PAIR) {\n                dispatch(goToDirectChannelByUserIds(match, history));\n            } else {\n                dispatch(goToChannelByChannelName(match, history));\n            }\n        } else if (path === 'messages') {\n            if (identifier.indexOf('@') === 0) {\n                dispatch(goToDirectChannelByUsername(match, history));\n            } else if (identifier.indexOf('@') > 0) {\n                dispatch(goToDirectChannelByEmail(match, history));\n            } else if (identifier.length === LENGTH_OF_ID) {\n                dispatch(goToDirectChannelByUserId(match, history, identifier));\n            } else if (identifier.length === LENGTH_OF_GROUP_ID) {\n                dispatch(goToGroupChannelByGroupId(match, history));\n            } else {\n                await dispatch(fetchMyChannelsAndMembers(teamObj.id));\n                handleError(match, history, getRedirectChannelNameForTeam(state, teamObj.id));\n            }\n        }\n    };\n}\n\nexport function goToChannelByChannelId(match, history) {\n    return async (dispatch, getState) => {\n        const state = getState();\n        const {team, identifier} = match.params;\n        const channelId = identifier.toLowerCase();\n\n        let channel = getChannel(state, channelId);\n        const member = state.entities.channels.myMembers[channelId];\n        const teamObj = getTeamByName(state, team);\n        if (!channel || !member) {\n            const {data, error} = await dispatch(joinChannel(getCurrentUserId(state), teamObj.id, channelId, null));\n            if (error) {\n                await dispatch(fetchMyChannelsAndMembers(teamObj.id));\n                handleChannelJoinError(match, history, getRedirectChannelNameForTeam(state, teamObj.id));\n                return;\n            }\n            channel = data.channel;\n        }\n\n        if (channel.type === Constants.DM_CHANNEL) {\n            dispatch(goToDirectChannelByUserId(match, history, Utils.getUserIdFromChannelId(channel.name)));\n        } else if (channel.type === Constants.GM_CHANNEL) {\n            history.replace(`/${team}/messages/${channel.name}`);\n        } else {\n            history.replace(`/${team}/channels/${channel.name}`);\n        }\n    };\n}\n\nexport function goToChannelByChannelName(match, history) {\n    return async (dispatch, getState) => {\n        const state = getState();\n        const {team, identifier} = match.params;\n        const channelName = identifier.toLowerCase();\n\n        const teamObj = getTeamByName(state, team);\n        if (!teamObj) {\n            return;\n        }\n\n        let channel = getChannelsNameMapInTeam(state, teamObj.id)[channelName];\n        let member;\n        if (channel) {\n            member = state.entities.channels.myMembers[channel.id];\n        }\n\n        if (!channel || !member) {\n            const {data, error: joinError} = await dispatch(joinChannel(getCurrentUserId(state), teamObj.id, null, channelName));\n            if (joinError) {\n                const {data: data2, error: getChannelError} = await dispatch(getChannelByNameAndTeamName(team, channelName, true));\n                if (getChannelError || data2.delete_at === 0) {\n                    await dispatch(fetchMyChannelsAndMembers(teamObj.id));\n                    handleChannelJoinError(match, history, getRedirectChannelNameForTeam(state, teamObj.id));\n                    return;\n                }\n                channel = data2;\n            } else {\n                channel = data.channel;\n            }\n        }\n\n        if (channel.type === Constants.DM_CHANNEL) {\n            dispatch(goToDirectChannelByUserIds(match, history));\n        } else if (channel.type === Constants.GM_CHANNEL) {\n            history.replace(`/${team}/messages/${channel.name}`);\n        } else {\n            doChannelChange(channel);\n        }\n    };\n}\n\nfunction goToDirectChannelByUsername(match, history) {\n    return async (dispatch, getState) => {\n        const state = getState();\n        const {team, identifier} = match.params;\n        const username = identifier.slice(1, identifier.length).toLowerCase();\n        const teamObj = getTeamByName(state, team);\n\n        let user = selectUserByUsername(state, username);\n        if (!user) {\n            const {data, error} = await dispatch(getUserByUsername(username));\n            if (error) {\n                await dispatch(fetchMyChannelsAndMembers(teamObj.id));\n                handleError(match, history, getRedirectChannelNameForTeam(state, teamObj.id));\n                return;\n            }\n            user = data;\n        }\n\n        const {error, data} = await dispatch(openDirectChannelToUserId(user.id));\n        if (error) {\n            await dispatch(fetchMyChannelsAndMembers(teamObj.id));\n            handleError(match, history, getRedirectChannelNameForTeam(state, teamObj.id));\n            return;\n        }\n\n        doChannelChange(data);\n    };\n}\n\nexport function goToDirectChannelByUserId(match, history, userId) {\n    return async (dispatch, getState) => {\n        const state = getState();\n        const {team} = match.params;\n        const teamObj = getTeamByName(state, team);\n\n        let user = selectUser(state, userId);\n        if (!user) {\n            const {data, error} = await dispatch(getUser(userId));\n            if (error) {\n                await dispatch(fetchMyChannelsAndMembers(teamObj.id));\n                handleError(match, history, getRedirectChannelNameForTeam(state, teamObj.id));\n                return;\n            }\n            user = data;\n        }\n\n        history.replace(`/${team}/messages/@${user.username}`);\n    };\n}\n\nexport function goToDirectChannelByUserIds(match, history) {\n    return async (dispatch, getState) => {\n        const state = getState();\n        const {team, identifier} = match.params;\n        const userId = Utils.getUserIdFromChannelId(identifier.toLowerCase(), getCurrentUserId(getState()));\n        const teamObj = getTeamByName(state, team);\n\n        let user = selectUser(state, userId);\n        if (!user) {\n            const {data, error} = await dispatch(getUser(userId));\n            if (error) {\n                await dispatch(fetchMyChannelsAndMembers(teamObj.id));\n                handleError(match, history, getRedirectChannelNameForTeam(state, teamObj.id));\n                return;\n            }\n            user = data;\n        }\n\n        history.replace(`/${team}/messages/@${user.username}`);\n    };\n}\n\nexport function goToDirectChannelByEmail(match, history) {\n    return async (dispatch, getState) => {\n        const state = getState();\n        const {team, identifier} = match.params;\n        const email = identifier.toLowerCase();\n        const teamObj = getTeamByName(state, team);\n\n        let user = selectUserByEmail(state, email);\n        if (!user) {\n            const {data, error} = await dispatch(getUserByEmail(email));\n            if (error) {\n                await dispatch(fetchMyChannelsAndMembers(teamObj.id));\n                handleError(match, history, getRedirectChannelNameForTeam(state, teamObj.id));\n                return;\n            }\n            user = data;\n        }\n\n        history.replace(`/${team}/messages/@${user.username}`);\n    };\n}\n\nfunction goToGroupChannelByGroupId(match, history) {\n    return async (dispatch, getState) => {\n        const state = getState();\n        const {identifier, team} = match.params;\n        const groupId = identifier.toLowerCase();\n\n        history.replace(match.url.replace('/channels/', '/messages/'));\n\n        let channel = getChannelByName(state, groupId);\n        const teamObj = getTeamByName(state, team);\n        if (!channel) {\n            const {data, error} = await dispatch(joinChannel(getCurrentUserId(state), teamObj.id, null, groupId));\n            if (error) {\n                await dispatch(fetchMyChannelsAndMembers(teamObj.id));\n                handleError(match, history, getRedirectChannelNameForTeam(state, teamObj.id));\n                return;\n            }\n            channel = data.channel;\n        }\n\n        dispatch(markGroupChannelOpen(channel.id));\n\n        doChannelChange(channel);\n    };\n}\n\nfunction doChannelChange(channel) {\n    GlobalActions.emitChannelClickEvent(channel);\n}\n\nfunction handleError(match, history, defaultChannel) {\n    const {team} = match.params;\n    history.push(team ? `/${team}/channels/${defaultChannel}` : '/');\n}\n\nasync function handleChannelJoinError(match, history, defaultChannel) {\n    const {team} = match.params;\n    history.push(team ? `/error?type=channel_not_found&returnTo=/${team}/channels/${defaultChannel}` : '/');\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport ChannelView from 'components/channel_view/index';\n\nexport default class ChannelIdentifierRouter extends React.PureComponent {\n    static propTypes = {\n\n        /*\n         * Object from react-router\n         */\n        match: PropTypes.shape({\n            params: PropTypes.shape({\n                identifier: PropTypes.string.isRequired,\n                team: PropTypes.string.isRequired,\n            }).isRequired,\n        }).isRequired,\n\n        actions: PropTypes.shape({\n            onChannelByIdentifierEnter: PropTypes.func.isRequired,\n        }).isRequired,\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.props.actions.onChannelByIdentifierEnter(props);\n    }\n\n    UNSAFE_componentWillReceiveProps(nextProps) { // eslint-disable-line camelcase\n        if (this.props.match.params.team !== nextProps.match.params.team ||\n            this.props.match.params.identifier !== nextProps.match.params.identifier) {\n            this.props.actions.onChannelByIdentifierEnter(nextProps);\n        }\n    }\n\n    render() {\n        return <ChannelView/>;\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\nimport {withRouter} from 'react-router-dom';\n\nimport {onChannelByIdentifierEnter} from './actions';\n\nimport ChannelIdentifierRouter from './channel_identifier_router.jsx';\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            onChannelByIdentifierEnter,\n        }, dispatch),\n    };\n}\n\nexport default withRouter(connect(null, mapDispatchToProps)(ChannelIdentifierRouter));\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nimport {Constants} from 'utils/constants';\nimport * as Utils from 'utils/utils.jsx';\n\nimport DropdownIcon from 'components/widgets/icons/fa_dropdown_icon';\nimport Menu from 'components/widgets/menu/menu';\nimport MenuWrapper from 'components/widgets/menu/menu_wrapper';\n\nconst ROWS_FROM_BOTTOM_TO_OPEN_UP = 3;\n\nexport default class ChannelMembersDropdown extends React.Component {\n    static propTypes = {\n        channel: PropTypes.object.isRequired,\n        user: PropTypes.object.isRequired,\n        currentUserId: PropTypes.string.isRequired,\n        channelMember: PropTypes.object.isRequired,\n        isLicensed: PropTypes.bool.isRequired,\n        canChangeMemberRoles: PropTypes.bool.isRequired,\n        canRemoveMember: PropTypes.bool.isRequired,\n        index: PropTypes.number.isRequired,\n        totalUsers: PropTypes.number.isRequired,\n        actions: PropTypes.shape({\n            getChannelStats: PropTypes.func.isRequired,\n            updateChannelMemberSchemeRoles: PropTypes.func.isRequired,\n            removeChannelMember: PropTypes.func.isRequired,\n            getChannelMember: PropTypes.func.isRequired,\n        }).isRequired,\n    };\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            serverError: null,\n            removing: false,\n        };\n    }\n\n    handleRemoveFromChannel = () => {\n        if (this.state.removing) {\n            return;\n        }\n\n        const {actions, channel, user} = this.props;\n        this.setState({removing: true});\n\n        actions.removeChannelMember(channel.id, user.id).then((result) => {\n            if (result.error) {\n                this.setState({\n                    serverError: result.error.message,\n                    removing: false,\n                });\n                return;\n            }\n\n            this.setState({removing: false});\n            actions.getChannelStats(channel.id);\n        });\n    };\n\n    handleMakeChannelMember = async () => {\n        const {error} = await this.props.actions.updateChannelMemberSchemeRoles(this.props.channel.id, this.props.user.id, true, false);\n        if (error) {\n            this.setState({serverError: error.message});\n        } else {\n            this.props.actions.getChannelStats(this.props.channel.id);\n            this.props.actions.getChannelMember(this.props.channel.id, this.props.user.id);\n        }\n    };\n\n    handleMakeChannelAdmin = async () => {\n        const {error} = await this.props.actions.updateChannelMemberSchemeRoles(this.props.channel.id, this.props.user.id, true, true);\n        if (error) {\n            this.setState({serverError: error.message});\n        } else {\n            this.props.actions.getChannelStats(this.props.channel.id);\n            this.props.actions.getChannelMember(this.props.channel.id, this.props.user.id);\n        }\n    };\n\n    renderRole(isChannelAdmin, isGuest) {\n        if (isChannelAdmin) {\n            return (\n                <FormattedMessage\n                    id='channel_members_dropdown.channel_admin'\n                    defaultMessage='Channel Admin'\n                />\n            );\n        } else if (isGuest) {\n            return (\n                <FormattedMessage\n                    id='channel_members_dropdown.channel_guest'\n                    defaultMessage='Channel Guest'\n                />\n            );\n        }\n        return (\n            <FormattedMessage\n                id='channel_members_dropdown.channel_member'\n                defaultMessage='Channel Member'\n            />\n        );\n    }\n\n    render() {\n        const {index, totalUsers, isLicensed, channelMember, user, channel, currentUserId, canChangeMemberRoles, canRemoveMember} = this.props;\n        const {serverError} = this.state;\n\n        const isChannelAdmin = Utils.isChannelAdmin(isLicensed, channelMember.roles, channelMember.scheme_admin);\n        const isGuest = Utils.isGuest(user);\n        const isMember = !isChannelAdmin && !isGuest;\n        const isDefaultChannel = channel.name === Constants.DEFAULT_CHANNEL;\n        const currentRole = this.renderRole(isChannelAdmin, isGuest);\n\n        if (user.id === currentUserId) {\n            return null;\n        }\n        const canMakeUserChannelMember = canChangeMemberRoles && isChannelAdmin;\n        const canMakeUserChannelAdmin = canChangeMemberRoles && isLicensed && isMember;\n        const canRemoveUserFromChannel = canRemoveMember && !channel.group_constrained && (!isDefaultChannel || isGuest);\n\n        if (canMakeUserChannelMember || canMakeUserChannelAdmin || canRemoveUserFromChannel) {\n            return (\n                <MenuWrapper>\n                    <button\n                        className='dropdown-toggle theme color--link style--none'\n                        type='button'\n                    >\n                        <span className='sr-only'>{user.username}</span>\n                        <span>{currentRole} </span>\n                        <DropdownIcon/>\n                    </button>\n                    <Menu\n                        openLeft={true}\n                        openUp={totalUsers > ROWS_FROM_BOTTOM_TO_OPEN_UP && totalUsers - index <= ROWS_FROM_BOTTOM_TO_OPEN_UP}\n                        ariaLabel={Utils.localizeMessage('channel_members_dropdown.menuAriaLabel', 'Channel member role change')}\n                    >\n                        <Menu.ItemAction\n                            show={canMakeUserChannelMember}\n                            onClick={this.handleMakeChannelMember}\n                            text={Utils.localizeMessage('channel_members_dropdown.make_channel_member', 'Make Channel Member')}\n                        />\n                        <Menu.ItemAction\n                            show={canMakeUserChannelAdmin}\n                            onClick={this.handleMakeChannelAdmin}\n                            text={Utils.localizeMessage('channel_members_dropdown.make_channel_admin', 'Make Channel Admin')}\n                        />\n                        <Menu.ItemAction\n                            show={canRemoveUserFromChannel}\n                            onClick={this.handleRemoveFromChannel}\n                            text={Utils.localizeMessage('channel_members_dropdown.remove_from_channel', 'Remove From Channel')}\n                        />\n                        {serverError && (\n                            <div className='has-error'>\n                                <label className='has-error control-label'>{serverError}</label>\n                            </div>\n                        )}\n                    </Menu>\n                </MenuWrapper>\n            );\n        }\n\n        if (isDefaultChannel) {\n            return (\n                <div/>\n            );\n        }\n\n        return (\n            <div>\n                {currentRole}\n            </div>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\nimport {getChannelStats, updateChannelMemberSchemeRoles, removeChannelMember, getChannelMember} from 'mattermost-redux/actions/channels';\nimport {haveIChannelPermission} from 'mattermost-redux/selectors/entities/roles';\nimport {getLicense} from 'mattermost-redux/selectors/entities/general';\nimport {Permissions} from 'mattermost-redux/constants';\nimport {getCurrentUserId} from 'mattermost-redux/selectors/entities/users';\n\nimport {canManageMembers} from 'utils/channel_utils.jsx';\n\nimport ChannelMembersDropdown from './channel_members_dropdown.jsx';\n\nfunction mapStateToProps(state, ownProps) {\n    const {channel} = ownProps;\n    const canChangeMemberRoles = haveIChannelPermission(\n        state,\n        {\n            channel: channel.id,\n            team: channel.team_id,\n            permission: Permissions.MANAGE_CHANNEL_ROLES,\n        }\n    );\n    const license = getLicense(state);\n    const isLicensed = license.IsLicensed === 'true';\n    const canRemoveMember = canManageMembers(channel);\n\n    return {\n        currentUserId: getCurrentUserId(state),\n        isLicensed,\n        canChangeMemberRoles,\n        canRemoveMember,\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            getChannelMember,\n            getChannelStats,\n            updateChannelMemberSchemeRoles,\n            removeChannelMember,\n        }, dispatch),\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ChannelMembersDropdown);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {Modal} from 'react-bootstrap';\nimport {FormattedMessage} from 'react-intl';\n\nimport MemberListChannel from 'components/member_list_channel';\nimport ChannelInviteModal from 'components/channel_invite_modal';\nimport {ModalIdentifiers} from 'utils/constants';\n\nexport default class ChannelMembersModal extends React.PureComponent {\n    static propTypes = {\n\n        /**\n         * Bool whether user has permission to manage current channel\n         */\n        canManageChannelMembers: PropTypes.bool.isRequired,\n\n        /**\n         * Object with info about current channel\n         */\n        channel: PropTypes.object.isRequired,\n\n        /**\n         * Function that is called when modal is hidden\n         */\n        onHide: PropTypes.func.isRequired,\n\n        actions: PropTypes.shape({\n            openModal: PropTypes.func.isRequired,\n        }).isRequired,\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            show: true,\n        };\n    }\n\n    handleHide = () => {\n        this.setState({\n            show: false,\n        });\n    }\n\n    handleExit = () => {\n        this.props.onHide();\n    }\n\n    onAddNewMembersButton = () => {\n        const {channel, actions} = this.props;\n\n        actions.openModal({\n            modalId: ModalIdentifiers.CHANNEL_INVITE,\n            dialogType: ChannelInviteModal,\n            dialogProps: {channel},\n        });\n\n        this.handleExit();\n    }\n\n    render() {\n        const channelIsArchived = this.props.channel.delete_at !== 0;\n        return (\n            <div>\n                <Modal\n                    dialogClassName='a11y__modal more-modal more-modal--action'\n                    show={this.state.show}\n                    onHide={this.handleHide}\n                    onExited={this.handleExit}\n                    role='dialog'\n                    aria-labelledby='channelMembersModalLabel'\n                    id='channelMembersModal'\n                >\n                    <Modal.Header closeButton={true}>\n                        <Modal.Title\n                            componentClass='h1'\n                            id='channelMembersModalLabel'\n                        >\n                            <span className='name'>{this.props.channel.display_name}</span>\n                            <FormattedMessage\n                                id='channel_members_modal.members'\n                                defaultMessage=' Members'\n                            />\n                        </Modal.Title>\n                        {this.props.canManageChannelMembers && !channelIsArchived &&\n                            <a\n                                id='showInviteModal'\n                                className='btn btn-md btn-primary'\n                                href='#'\n                                onClick={this.onAddNewMembersButton}\n                            >\n                                <FormattedMessage\n                                    id='channel_members_modal.addNew'\n                                    defaultMessage=' Add New Members'\n                                />\n                            </a>\n                        }\n                    </Modal.Header>\n                    <Modal.Body>\n                        <MemberListChannel\n                            channel={this.props.channel}\n                        />\n                    </Modal.Body>\n                </Modal>\n            </div>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {bindActionCreators} from 'redux';\nimport {connect} from 'react-redux';\nimport {canManageChannelMembers} from 'mattermost-redux/selectors/entities/channels';\n\nimport {openModal} from 'actions/views/modals';\n\nimport ChannelMembersModal from './channel_members_modal';\n\nconst mapStateToProps = (state) => ({\n    canManageChannelMembers: canManageChannelMembers(state),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n    actions: bindActionCreators({openModal}, dispatch),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ChannelMembersModal);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {Modal} from 'react-bootstrap';\nimport {FormattedMessage} from 'react-intl';\n\nimport {isChannelMuted} from 'mattermost-redux/utils/channel_utils';\n\nimport {IgnoreChannelMentions, NotificationLevels, NotificationSections} from 'utils/constants';\nimport * as Utils from 'utils/utils.jsx';\n\nimport NotificationSection from 'components/channel_notifications_modal/components/notification_section.jsx';\n\nexport default class ChannelNotificationsModal extends React.PureComponent {\n    static propTypes = {\n\n        /**\n         * Function that is called when modal is hidden\n         */\n        onHide: PropTypes.func.isRequired,\n\n        /**\n         * Object with info about current channel\n         */\n        channel: PropTypes.object.isRequired,\n\n        /**\n         * Object with info about current channel membership\n         */\n        channelMember: PropTypes.object.isRequired,\n\n        /**\n         * Object with info about current user\n         */\n        currentUser: PropTypes.object.isRequired,\n\n        /**\n         * Boolean whether server sends push notifications\n         */\n        sendPushNotifications: PropTypes.bool.isRequired,\n\n        /*\n         * Object with redux action creators\n         */\n        actions: PropTypes.shape({\n\n            /*\n             * Action creator to update channel notify props\n             */\n            updateChannelNotifyProps: PropTypes.func.isRequired,\n        }),\n    };\n\n    constructor(props) {\n        super(props);\n\n        const channelNotifyProps = props.channelMember && props.channelMember.notify_props;\n\n        this.state = {\n            show: true,\n            activeSection: NotificationSections.NONE,\n            serverError: null,\n            ...this.getStateFromNotifyProps(channelNotifyProps, props.currentUser.notify_props),\n        };\n    }\n\n    componentDidUpdate(prevProps) {\n        const prevChannelNotifyProps = prevProps.channelMember && prevProps.channelMember.notify_props;\n        const channelNotifyProps = this.props.channelMember && this.props.channelMember.notify_props;\n\n        if (!Utils.areObjectsEqual(channelNotifyProps, prevChannelNotifyProps)) {\n            this.resetStateFromNotifyProps(channelNotifyProps, this.props.currentUser.notify_props);\n        }\n    }\n\n    resetStateFromNotifyProps(channelMemberNotifyProps, currentUserNotifyProps) {\n        this.setState(this.getStateFromNotifyProps(channelMemberNotifyProps, currentUserNotifyProps));\n    }\n\n    getStateFromNotifyProps(channelMemberNotifyProps, currentUserNotifyProps) {\n        let ignoreChannelMentionsDefault = IgnoreChannelMentions.OFF;\n\n        if (currentUserNotifyProps.channel && currentUserNotifyProps.channel === 'false') {\n            ignoreChannelMentionsDefault = IgnoreChannelMentions.ON;\n        }\n\n        let ignoreChannelMentions = channelMemberNotifyProps.ignore_channel_mentions;\n        if (!ignoreChannelMentions || ignoreChannelMentions === IgnoreChannelMentions.DEFAULT) {\n            ignoreChannelMentions = ignoreChannelMentionsDefault;\n        }\n\n        return {\n            desktopNotifyLevel: channelMemberNotifyProps.desktop || NotificationLevels.DEFAULT,\n            markUnreadNotifyLevel: channelMemberNotifyProps.mark_unread || NotificationLevels.ALL,\n            pushNotifyLevel: channelMemberNotifyProps.push || NotificationLevels.DEFAULT,\n            ignoreChannelMentions,\n        };\n    }\n\n    handleHide = () => {\n        this.setState({\n            show: false,\n        });\n    }\n\n    handleExit = () => {\n        this.updateSection(NotificationSections.NONE);\n        this.props.onHide();\n    }\n\n    updateSection = (section = NotificationSections.NONE) => {\n        this.setState({activeSection: section});\n\n        if (section === NotificationSections.NONE) {\n            const channelNotifyProps = this.props.channelMember && this.props.channelMember.notify_props;\n            this.resetStateFromNotifyProps(channelNotifyProps, this.props.currentUser.notify_props);\n        }\n    }\n\n    handleUpdateChannelNotifyProps = async (props) => {\n        const {\n            actions,\n            channel,\n            currentUser,\n        } = this.props;\n\n        const {error} = await actions.updateChannelNotifyProps(currentUser.id, channel.id, props);\n        if (error) {\n            this.setState({serverError: error.message});\n        } else {\n            this.updateSection(NotificationSections.NONE);\n        }\n    }\n\n    handleSubmitDesktopNotifyLevel = () => {\n        const channelNotifyProps = this.props.channelMember && this.props.channelMember.notify_props;\n        const {desktopNotifyLevel} = this.state;\n\n        if (channelNotifyProps.desktop === desktopNotifyLevel) {\n            this.updateSection(NotificationSections.NONE);\n            return;\n        }\n\n        const props = {desktop: desktopNotifyLevel};\n        this.handleUpdateChannelNotifyProps(props);\n    }\n\n    handleUpdateDesktopNotifyLevel = (desktopNotifyLevel) => {\n        this.setState({desktopNotifyLevel});\n    }\n\n    handleSubmitMarkUnreadLevel = () => {\n        const channelNotifyProps = this.props.channelMember && this.props.channelMember.notify_props;\n        const {markUnreadNotifyLevel} = this.state;\n\n        if (channelNotifyProps.mark_unread === markUnreadNotifyLevel) {\n            this.updateSection(NotificationSections.NONE);\n            return;\n        }\n\n        const props = {mark_unread: markUnreadNotifyLevel};\n        this.handleUpdateChannelNotifyProps(props);\n    }\n\n    handleUpdateMarkUnreadLevel = (markUnreadNotifyLevel) => {\n        this.setState({markUnreadNotifyLevel});\n    }\n\n    handleSubmitPushNotificationLevel = () => {\n        const channelNotifyProps = this.props.channelMember && this.props.channelMember.notify_props;\n        const {pushNotifyLevel} = this.state;\n\n        if (channelNotifyProps.push === pushNotifyLevel) {\n            this.updateSection(NotificationSections.NONE);\n            return;\n        }\n\n        const props = {push: pushNotifyLevel};\n        this.handleUpdateChannelNotifyProps(props);\n    }\n\n    handleUpdatePushNotificationLevel = (pushNotifyLevel) => {\n        this.setState({pushNotifyLevel});\n    }\n\n    handleUpdateIgnoreChannelMentions = (ignoreChannelMentions) => {\n        this.setState({ignoreChannelMentions});\n    }\n\n    handleSubmitIgnoreChannelMentions = () => {\n        const channelNotifyProps = this.props.channelMember && this.props.channelMember.notify_props;\n        const {ignoreChannelMentions} = this.state;\n\n        if (channelNotifyProps.ignore_channel_mentions === ignoreChannelMentions) {\n            this.updateSection('');\n            return;\n        }\n\n        const props = {ignore_channel_mentions: ignoreChannelMentions};\n        this.handleUpdateChannelNotifyProps(props);\n    }\n\n    render() {\n        const {\n            activeSection,\n            desktopNotifyLevel,\n            markUnreadNotifyLevel,\n            pushNotifyLevel,\n            ignoreChannelMentions,\n            serverError,\n        } = this.state;\n\n        const {\n            channel,\n            channelMember,\n            currentUser,\n            sendPushNotifications,\n        } = this.props;\n\n        let serverErrorTag = null;\n        if (serverError) {\n            serverErrorTag = <div className='form-group has-error'><label className='control-label'>{serverError}</label></div>;\n        }\n\n        return (\n            <Modal\n                dialogClassName='a11y__modal settings-modal settings-modal--tabless'\n                show={this.state.show}\n                onHide={this.handleHide}\n                onExited={this.handleExit}\n                role='dialog'\n                aria-labelledby='channelNotificationModalLabel'\n            >\n                <Modal.Header closeButton={true}>\n                    <Modal.Title\n                        componentClass='h1'\n                        id='channelNotificationModalLabel'\n                    >\n                        <FormattedMessage\n                            id='channel_notifications.preferences'\n                            defaultMessage='Notification Preferences for '\n                        />\n                        <span className='name'>{channel.display_name}</span>\n                    </Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                    <div className='settings-table'>\n                        <div className='settings-content'>\n                            <div\n                                ref='wrapper'\n                                className='user-settings'\n                            >\n                                <br/>\n                                <div className='divider-dark first'/>\n                                <NotificationSection\n                                    section={NotificationSections.MARK_UNREAD}\n                                    expand={activeSection === NotificationSections.MARK_UNREAD}\n                                    memberNotificationLevel={markUnreadNotifyLevel}\n                                    onChange={this.handleUpdateMarkUnreadLevel}\n                                    onSubmit={this.handleSubmitMarkUnreadLevel}\n                                    onUpdateSection={this.updateSection}\n                                    serverError={serverError}\n                                />\n                                <div className='divider-light'/>\n                                <NotificationSection\n                                    section={NotificationSections.IGNORE_CHANNEL_MENTIONS}\n                                    expand={activeSection === NotificationSections.IGNORE_CHANNEL_MENTIONS}\n                                    memberNotificationLevel={markUnreadNotifyLevel}\n                                    ignoreChannelMentions={ignoreChannelMentions}\n                                    onChange={this.handleUpdateIgnoreChannelMentions}\n                                    onSubmit={this.handleSubmitIgnoreChannelMentions}\n                                    onUpdateSection={this.updateSection}\n                                    serverError={serverError}\n                                />\n                                {!isChannelMuted(channelMember) &&\n                                <div>\n                                    <div className='divider-light'/>\n                                    <NotificationSection\n                                        section={NotificationSections.DESKTOP}\n                                        expand={activeSection === NotificationSections.DESKTOP}\n                                        memberNotificationLevel={desktopNotifyLevel}\n                                        globalNotificationLevel={currentUser.notify_props ? currentUser.notify_props.desktop : NotificationLevels.ALL}\n                                        onChange={this.handleUpdateDesktopNotifyLevel}\n                                        onSubmit={this.handleSubmitDesktopNotifyLevel}\n                                        onUpdateSection={this.updateSection}\n                                        serverError={serverError}\n                                    />\n                                    <div className='divider-light'/>\n                                    {sendPushNotifications &&\n                                    <NotificationSection\n                                        section={NotificationSections.PUSH}\n                                        expand={activeSection === NotificationSections.PUSH}\n                                        memberNotificationLevel={pushNotifyLevel}\n                                        globalNotificationLevel={currentUser.notify_props ? currentUser.notify_props.push : NotificationLevels.ALL}\n                                        onChange={this.handleUpdatePushNotificationLevel}\n                                        onSubmit={this.handleSubmitPushNotificationLevel}\n                                        onUpdateSection={this.updateSection}\n                                        serverError={serverError}\n                                    />\n                                    }\n                                </div>\n                                }\n                                <div className='divider-dark'/>\n                            </div>\n                        </div>\n                    </div>\n                    {serverErrorTag}\n                </Modal.Body>\n            </Modal>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport SettingItemMin from 'components/setting_item_min';\n\nimport Describe from './describe.jsx';\nimport SectionTitle from './section_title.jsx';\n\nexport default function CollapseView({onExpandSection, globalNotifyLevel, memberNotifyLevel, section, ignoreChannelMentions}) {\n    return (\n        <SettingItemMin\n            title={<SectionTitle section={section}/>}\n            describe={\n                <Describe\n                    section={section}\n                    ignoreChannelMentions={ignoreChannelMentions}\n                    memberNotifyLevel={memberNotifyLevel}\n                    globalNotifyLevel={globalNotifyLevel}\n                    isCollapsed={true}\n                />\n            }\n            updateSection={onExpandSection}\n            section={section}\n        />\n    );\n}\n\nCollapseView.propTypes = {\n    ignoreChannelMentions: PropTypes.string,\n    onExpandSection: PropTypes.func.isRequired,\n    globalNotifyLevel: PropTypes.string,\n    memberNotifyLevel: PropTypes.string.isRequired,\n    section: PropTypes.string.isRequired,\n};\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nimport {IgnoreChannelMentions, NotificationLevels, NotificationSections} from 'utils/constants';\nimport {t} from 'utils/i18n';\n\nexport default function Describe({section, isCollapsed, memberNotifyLevel, globalNotifyLevel, ignoreChannelMentions}) {\n    if (memberNotifyLevel === NotificationLevels.DEFAULT && globalNotifyLevel) {\n        t('channel_notifications.levels.default');\n        t('channel_notifications.levels.all');\n        t('channel_notifications.levels.mention');\n        t('channel_notifications.levels.none');\n        const levelsFormattedMessageId = 'channel_notifications.levels.' + globalNotifyLevel;\n        const notifyLevel = (\n            <FormattedMessage\n                id={levelsFormattedMessageId}\n                defaultMessage={globalNotifyLevel}\n            />\n        );\n        return (\n            <FormattedMessage\n                id='channel_notifications.globalDefault'\n                defaultMessage='Global default ({notifyLevel})'\n                values={{notifyLevel}}\n            />\n        );\n    } else if (memberNotifyLevel === NotificationLevels.MENTION && section === NotificationSections.MARK_UNREAD) {\n        if (isCollapsed) {\n            return (\n                <FormattedMessage\n                    id='channel_notifications.muteChannel.on.title.collapse'\n                    defaultMessage='Mute is enabled. Desktop, email and push notifications will not be sent for this channel.'\n                />\n            );\n        }\n        return (\n            <FormattedMessage\n                id='channel_notifications.muteChannel.on.title'\n                defaultMessage='On'\n            />\n        );\n    } else if (\n        section === NotificationSections.IGNORE_CHANNEL_MENTIONS &&\n        ignoreChannelMentions === IgnoreChannelMentions.ON\n    ) {\n        return (\n            <FormattedMessage\n                id='channel_notifications.ignoreChannelMentions.on.title'\n                defaultMessage='On'\n            />\n        );\n    } else if (\n        section === NotificationSections.IGNORE_CHANNEL_MENTIONS &&\n        ignoreChannelMentions === IgnoreChannelMentions.OFF\n    ) {\n        return (\n            <FormattedMessage\n                id='channel_notifications.ignoreChannelMentions.off.title'\n                defaultMessage='Off'\n            />\n        );\n    } else if (memberNotifyLevel === NotificationLevels.MENTION) {\n        return (\n            <FormattedMessage\n                id='channel_notifications.onlyMentions'\n                defaultMessage='Only for mentions'\n            />\n        );\n    } else if (\n        (section === NotificationSections.DESKTOP || section === NotificationSections.PUSH) &&\n        memberNotifyLevel === NotificationLevels.ALL\n    ) {\n        return (\n            <FormattedMessage\n                id='channel_notifications.allActivity'\n                defaultMessage='For all activity'\n            />\n        );\n    } else if (\n        section === NotificationSections.MARK_UNREAD &&\n        memberNotifyLevel === NotificationLevels.ALL\n    ) {\n        return (\n            <FormattedMessage\n                id='channel_notifications.muteChannel.off.title'\n                defaultMessage='Off'\n            />\n        );\n    }\n\n    return (\n        <FormattedMessage\n            id='channel_notifications.never'\n            defaultMessage='Never'\n        />\n    );\n}\n\nDescribe.propTypes = {\n    globalNotifyLevel: PropTypes.string,\n    ignoreChannelMentions: PropTypes.string,\n    memberNotifyLevel: PropTypes.string.isRequired,\n    section: PropTypes.string.isRequired,\n    isCollapsed: PropTypes.bool,\n};\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport {IgnoreChannelMentions, NotificationLevels, NotificationSections} from 'utils/constants';\n\nimport SettingItemMax from 'components/setting_item_max.jsx';\n\nimport Describe from './describe.jsx';\nimport ExtraInfo from './extra_info.jsx';\nimport SectionTitle from './section_title.jsx';\n\nexport default function ExpandView({\n    section,\n    memberNotifyLevel,\n    globalNotifyLevel,\n    onChange,\n    onSubmit,\n    serverError,\n    onCollapseSection,\n    ignoreChannelMentions,\n}) {\n    const inputs = [(\n        <div key='channel-notification-level-radio'>\n            {(section === NotificationSections.DESKTOP || section === NotificationSections.PUSH) &&\n            <fieldset>\n                <div className='radio'>\n                    <label className=''>\n                        <input\n                            id='channelNotificationGlobalDefault'\n                            name='channelDesktopNotifications'\n                            type='radio'\n                            value={NotificationLevels.DEFAULT}\n                            checked={memberNotifyLevel === NotificationLevels.DEFAULT}\n                            onChange={onChange}\n                        />\n                        <Describe\n                            section={section}\n                            memberNotifyLevel={NotificationLevels.DEFAULT}\n                            globalNotifyLevel={globalNotifyLevel}\n                        />\n                    </label>\n                </div>\n                <div className='radio'>\n                    <label className=''>\n                        <input\n                            id='channelNotificationAllActivity'\n                            name='channelDesktopNotifications'\n                            type='radio'\n                            value={NotificationLevels.ALL}\n                            checked={memberNotifyLevel === NotificationLevels.ALL}\n                            onChange={onChange}\n                        />\n                        <Describe\n                            section={section}\n                            memberNotifyLevel={NotificationLevels.ALL}\n                        />\n                    </label>\n                </div>\n                <div className='radio'>\n                    <label className=''>\n                        <input\n                            id='channelNotificationMentions'\n                            name='channelDesktopNotifications'\n                            type='radio'\n                            value={NotificationLevels.MENTION}\n                            checked={memberNotifyLevel === NotificationLevels.MENTION}\n                            onChange={onChange}\n                        />\n                        <Describe\n                            section={section}\n                            memberNotifyLevel={NotificationLevels.MENTION}\n                        />\n                    </label>\n                </div>\n                <div className='radio'>\n                    <label>\n                        <input\n                            id='channelNotificationNever'\n                            name='channelDesktopNotifications'\n                            type='radio'\n                            value={NotificationLevels.NONE}\n                            checked={memberNotifyLevel === NotificationLevels.NONE}\n                            onChange={onChange}\n                        />\n                        <Describe\n                            section={section}\n                            memberNotifyLevel={NotificationLevels.NONE}\n                        />\n                    </label>\n                </div>\n            </fieldset>\n            }\n            {section === NotificationSections.IGNORE_CHANNEL_MENTIONS &&\n                <fieldset>\n                    <div className='radio'>\n                        <label>\n                            <input\n                                id='ignoreChannelMentionsOn'\n                                name='ignoreChannelMentions'\n                                type='radio'\n                                value={IgnoreChannelMentions.ON}\n                                checked={ignoreChannelMentions === IgnoreChannelMentions.ON}\n                                onChange={onChange}\n                            />\n                            <Describe\n                                section={section}\n                                ignoreChannelMentions={IgnoreChannelMentions.ON}\n                                memberNotifyLevel={memberNotifyLevel}\n                                globalNotifyLevel={globalNotifyLevel}\n                            />\n                        </label>\n                    </div>\n                    <div className='radio'>\n                        <label>\n                            <input\n                                id='ignoreChannelMentionsOff'\n                                name='ignoreChannelMentions'\n                                type='radio'\n                                value={IgnoreChannelMentions.OFF}\n                                checked={ignoreChannelMentions === IgnoreChannelMentions.OFF}\n                                onChange={onChange}\n                            />\n                            <Describe\n                                section={section}\n                                ignoreChannelMentions={IgnoreChannelMentions.OFF}\n                                memberNotifyLevel={memberNotifyLevel}\n                                globalNotifyLevel={globalNotifyLevel}\n                            />\n                        </label>\n                    </div>\n                </fieldset>\n            }\n            {section === NotificationSections.MARK_UNREAD &&\n            <fieldset>\n                <div className='radio'>\n                    <label className=''>\n                        <input\n                            id='channelNotificationUnmute'\n                            name='channelNotificationMute'\n                            type='radio'\n                            value={NotificationLevels.MENTION}\n                            checked={memberNotifyLevel === NotificationLevels.MENTION}\n                            onChange={onChange}\n                        />\n                        <Describe\n                            section={section}\n                            memberNotifyLevel={NotificationLevels.MENTION}\n                        />\n                    </label>\n                </div>\n                <div className='radio'>\n                    <label className=''>\n                        <input\n                            id='channelNotificationMute'\n                            name='channelNotificationMute'\n                            type='radio'\n                            value={NotificationLevels.ALL}\n                            checked={memberNotifyLevel === NotificationLevels.ALL}\n                            onChange={onChange}\n                        />\n                        <Describe\n                            section={section}\n                            memberNotifyLevel={NotificationLevels.ALL}\n                        />\n                    </label>\n                </div>\n            </fieldset>\n            }\n        </div>\n    )];\n\n    return (\n        <SettingItemMax\n            title={<SectionTitle section={section}/>}\n            inputs={inputs}\n            submit={onSubmit}\n            server_error={serverError}\n            updateSection={onCollapseSection}\n            extraInfo={<ExtraInfo section={section}/>}\n        />\n    );\n}\n\nExpandView.propTypes = {\n    ignoreChannelMentions: PropTypes.string,\n    onChange: PropTypes.func.isRequired,\n    onCollapseSection: PropTypes.func.isRequired,\n    onSubmit: PropTypes.func.isRequired,\n    globalNotifyLevel: PropTypes.string,\n    memberNotifyLevel: PropTypes.string.isRequired,\n    section: PropTypes.string.isRequired,\n    serverError: PropTypes.string,\n};\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nimport {NotificationSections} from 'utils/constants';\n\nexport default function ExtraInfo({section}) {\n    switch (section) {\n    case NotificationSections.DESKTOP:\n        return (\n            <span>\n                <FormattedMessage\n                    id='channel_notifications.override'\n                    defaultMessage='Selecting an option other than \"Default\" will override the global notification settings. Desktop notifications are available on Firefox, Safari, and Chrome.'\n                />\n            </span>\n        );\n    case NotificationSections.PUSH:\n        return (\n            <span>\n                <FormattedMessage\n                    id='channel_notifications.overridePush'\n                    defaultMessage='Selecting an option other than \"Global default\" will override the global notification settings for mobile push notifications in account settings. Push notifications must be enabled by the System Admin.'\n                />\n            </span>\n        );\n    case NotificationSections.MARK_UNREAD:\n        return (\n            <span>\n                <FormattedMessage\n                    id='channel_notifications.muteChannel.help'\n                    defaultMessage='Muting turns off desktop, email and push notifications for this channel. The channel will not be marked as unread unless you are mentioned.'\n                />\n            </span>\n        );\n    case NotificationSections.IGNORE_CHANNEL_MENTIONS:\n        return (\n            <span>\n                <FormattedMessage\n                    id='channel_notifications.ignoreChannelMentions.help'\n                    defaultMessage='When enabled, @channel, @here and @all will not trigger mentions or mention notifications in this channel.'\n                />\n            </span>\n        );\n    default:\n        return null;\n    }\n}\n\nExtraInfo.propTypes = {\n    section: PropTypes.string.isRequired,\n};\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport {NotificationSections} from 'utils/constants';\n\nimport CollapseView from './collapse_view.jsx';\nimport ExpandView from './expand_view.jsx';\n\nexport default class NotificationSection extends React.PureComponent {\n    static propTypes = {\n\n        /**\n         * Notification section\n         */\n        section: PropTypes.string.isRequired,\n\n        /**\n         * Expand if true, else collapse the section\n         */\n        expand: PropTypes.bool.isRequired,\n\n        /**\n         * Member's desktop notification level\n         */\n        memberNotificationLevel: PropTypes.string.isRequired,\n\n        /**\n         * Ignore channel-wide mentions @channel, @here and @all\n         */\n        ignoreChannelMentions: PropTypes.string,\n\n        /**\n         * User's global notification level\n         */\n        globalNotificationLevel: PropTypes.string,\n\n        /**\n         * onChange handles update of desktop notification level\n         */\n        onChange: PropTypes.func.isRequired,\n\n        /**\n         * Submit function to save notification level\n         */\n        onSubmit: PropTypes.func.isRequired,\n\n        /**\n         * Update function to to expand or collapse a section\n         */\n        onUpdateSection: PropTypes.func.isRequired,\n\n        /**\n         * Error string from the server\n         */\n        serverError: PropTypes.string,\n    }\n\n    handleOnChange = (e) => {\n        this.props.onChange(e.target.value);\n    }\n\n    handleExpandSection = () => {\n        this.props.onUpdateSection(this.props.section);\n    }\n\n    handleCollapseSection = () => {\n        this.props.onUpdateSection(NotificationSections.NONE);\n    }\n\n    render() {\n        const {\n            expand,\n            globalNotificationLevel,\n            memberNotificationLevel,\n            ignoreChannelMentions,\n            onSubmit,\n            section,\n            serverError,\n        } = this.props;\n\n        if (expand) {\n            return (\n                <ExpandView\n                    section={section}\n                    memberNotifyLevel={memberNotificationLevel}\n                    globalNotifyLevel={globalNotificationLevel}\n                    ignoreChannelMentions={ignoreChannelMentions}\n                    onChange={this.handleOnChange}\n                    onSubmit={onSubmit}\n                    serverError={serverError}\n                    onCollapseSection={this.handleCollapseSection}\n                />\n            );\n        }\n\n        return (\n            <CollapseView\n                section={section}\n                onExpandSection={this.handleExpandSection}\n                memberNotifyLevel={memberNotificationLevel}\n                globalNotifyLevel={globalNotificationLevel}\n                ignoreChannelMentions={ignoreChannelMentions}\n            />\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nimport {NotificationSections} from 'utils/constants';\n\nexport default function SectionTitle({section}) {\n    if (section === NotificationSections.DESKTOP) {\n        return (\n            <FormattedMessage\n                id='channel_notifications.sendDesktop'\n                defaultMessage='Send desktop notifications'\n            />\n        );\n    } else if (section === NotificationSections.PUSH) {\n        return (\n            <FormattedMessage\n                id='channel_notifications.push'\n                defaultMessage='Send mobile push notifications'\n            />\n        );\n    } else if (section === NotificationSections.MARK_UNREAD) {\n        return (\n            <FormattedMessage\n                id='channel_notifications.muteChannel.settings'\n                defaultMessage='Mute Channel'\n            />\n        );\n    } else if (section === NotificationSections.IGNORE_CHANNEL_MENTIONS) {\n        return (\n            <FormattedMessage\n                id='channel_notifications.ignoreChannelMentions'\n                defaultMessage='Ignore mentions for @channel, @here and @all'\n            />\n        );\n    }\n\n    return null;\n}\n\nSectionTitle.propTypes = {\n    section: PropTypes.string.isRequired,\n};\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {bindActionCreators} from 'redux';\nimport {connect} from 'react-redux';\nimport {updateChannelNotifyProps} from 'mattermost-redux/actions/channels';\nimport {getConfig} from 'mattermost-redux/selectors/entities/general';\nimport {getMyCurrentChannelMembership} from 'mattermost-redux/selectors/entities/channels';\n\nimport ChannelNotificationsModal from './channel_notifications_modal.jsx';\n\nconst mapStateToProps = (state) => ({\n    channelMember: getMyCurrentChannelMembership(state),\n    sendPushNotifications: getConfig(state).SendPushNotifications === 'true',\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n    actions: bindActionCreators({\n        updateChannelNotifyProps,\n    }, dispatch),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ChannelNotificationsModal);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nimport deferComponentRender from 'components/deferComponentRender';\nimport ChannelHeader from 'components/channel_header';\nimport CreatePost from 'components/create_post';\nimport FileUploadOverlay from 'components/file_upload_overlay';\nimport PostView from 'components/post_view';\nimport TutorialView from 'components/tutorial';\nimport {clearMarks, mark, measure, trackEvent} from 'actions/diagnostics_actions.jsx';\nimport FormattedMarkdownMessage from 'components/formatted_markdown_message';\n\nexport default class ChannelView extends React.PureComponent {\n    static propTypes = {\n        channelId: PropTypes.string.isRequired,\n        deactivatedChannel: PropTypes.bool.isRequired,\n        match: PropTypes.shape({\n            url: PropTypes.string.isRequired,\n        }).isRequired,\n        showTutorial: PropTypes.bool.isRequired,\n        channelIsArchived: PropTypes.bool.isRequired,\n        viewArchivedChannels: PropTypes.bool.isRequired,\n        actions: PropTypes.shape({\n            goToLastViewedChannel: PropTypes.func.isRequired,\n        }),\n    };\n\n    static createDeferredPostView = () => {\n        return deferComponentRender(\n            PostView,\n            <div\n                id='post-list'\n                className='a11y__region'\n                data-a11y-sort-order='1'\n                data-a11y-focus-child={true}\n                data-a11y-order-reversed={true}\n            />\n        );\n    }\n\n    static getDerivedStateFromProps(props, state) {\n        let updatedState = {};\n        if (props.match.url !== state.url) {\n            updatedState = {deferredPostView: ChannelView.createDeferredPostView(), url: props.match.url};\n        }\n\n        if (props.channelId !== state.channelId) {\n            updatedState = {...updatedState, channelId: props.channelId, prevChannelId: state.channelId};\n        }\n\n        if (Object.keys(updatedState).length) {\n            return updatedState;\n        }\n\n        return null;\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            url: props.match.url,\n            channelId: props.channelId,\n            prevChannelId: '',\n            deferredPostView: ChannelView.createDeferredPostView(),\n        };\n    }\n\n    getChannelView = () => {\n        return this.refs.channelView;\n    }\n\n    onClickCloseChannel = () => {\n        this.props.actions.goToLastViewedChannel();\n    }\n\n    componentDidUpdate(prevProps) {\n        if (prevProps.channelId !== this.props.channelId || prevProps.channelIsArchived !== this.props.channelIsArchived) {\n            mark('ChannelView#componentDidUpdate');\n\n            const [dur1] = measure('SidebarChannelLink#click', 'ChannelView#componentDidUpdate');\n            const [dur2] = measure('TeamLink#click', 'ChannelView#componentDidUpdate');\n\n            clearMarks([\n                'SidebarChannelLink#click',\n                'ChannelView#componentDidUpdate',\n                'TeamLink#click',\n            ]);\n\n            if (dur1 !== -1) {\n                trackEvent('performance', 'channel_switch', {duration: Math.round(dur1)});\n            }\n            if (dur2 !== -1) {\n                trackEvent('performance', 'team_switch', {duration: Math.round(dur2)});\n            }\n            if (this.props.channelIsArchived && !this.props.viewArchivedChannels) {\n                this.props.actions.goToLastViewedChannel();\n            }\n        }\n    }\n\n    render() {\n        const {channelIsArchived} = this.props;\n        if (this.props.showTutorial) {\n            return (\n                <TutorialView\n                    isRoot={false}\n                />\n            );\n        }\n\n        let createPost;\n        if (this.props.deactivatedChannel) {\n            createPost = (\n                <div\n                    className='post-create-message'\n                >\n                    <FormattedMessage\n                        id='create_post.deactivated'\n                        defaultMessage='You are viewing an archived channel with a deactivated user.'\n                    />\n                </div>\n            );\n        } else {\n            createPost = (\n                <div\n                    className='post-create__container'\n                    id='post-create'\n                >\n                    {!channelIsArchived &&\n                        <CreatePost\n                            getChannelView={this.getChannelView}\n                        />\n                    }\n                    {channelIsArchived &&\n                        <div\n                            id='channelArchivedMessage'\n                            className='channel-archived__message'\n                        >\n                            <FormattedMarkdownMessage\n                                id='archivedChannelMessage'\n                                defaultMessage='You are viewing an **archived channel**. New messages cannot be posted.'\n                            />\n                            <button\n                                className='btn btn-primary channel-archived__close-btn'\n                                onClick={this.onClickCloseChannel}\n                            >\n                                <FormattedMessage\n                                    id='center_panel.archived.closeChannel'\n                                    defaultMessage='Close Channel'\n                                />\n                            </button>\n                        </div>\n                    }\n                </div>\n            );\n        }\n\n        const DeferredPostView = this.state.deferredPostView;\n\n        return (\n            <div\n                ref='channelView'\n                id='app-content'\n                className='app__content'\n            >\n                <FileUploadOverlay overlayType='center'/>\n                <ChannelHeader\n                    channelId={this.props.channelId}\n                />\n                <DeferredPostView\n                    channelId={this.props.channelId}\n                    prevChannelId={this.state.prevChannelId}\n                />\n                {createPost}\n            </div>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {bindActionCreators} from 'redux';\nimport {connect} from 'react-redux';\nimport {createSelector} from 'reselect';\nimport {getInt} from 'mattermost-redux/selectors/entities/preferences';\nimport {getCurrentChannel} from 'mattermost-redux/selectors/entities/channels';\nimport {getCurrentUserId} from 'mattermost-redux/selectors/entities/users';\nimport {getConfig} from 'mattermost-redux/selectors/entities/general';\nimport {withRouter} from 'react-router-dom';\n\nimport {getDirectTeammate} from 'utils/utils.jsx';\nimport {TutorialSteps, Preferences} from 'utils/constants';\n\nimport {goToLastViewedChannel} from 'actions/views/channel';\n\nimport ChannelView from './channel_view.jsx';\n\n// Temporary selector until getDirectTeammate is converted to be redux-friendly\nconst getDeactivatedChannel = createSelector(\n    (state) => state.entities.users.profiles,\n    (state, channelId) => channelId,\n    (users, channelId) => {\n        const teammate = getDirectTeammate(channelId);\n        return Boolean(teammate && teammate.delete_at);\n    }\n);\n\nfunction mapStateToProps(state) {\n    const channel = getCurrentChannel(state);\n\n    const config = getConfig(state);\n    const enableTutorial = config.EnableTutorial === 'true';\n    const tutorialStep = getInt(state, Preferences.TUTORIAL_STEP, getCurrentUserId(state), TutorialSteps.FINISHED);\n    const viewArchivedChannels = config.ExperimentalViewArchivedChannels === 'true';\n\n    return {\n        channelId: channel ? channel.id : '',\n        deactivatedChannel: channel ? getDeactivatedChannel(state, channel.id) : false,\n        showTutorial: enableTutorial && tutorialStep <= TutorialSteps.INTRO_SCREENS,\n        channelIsArchived: channel ? channel.delete_at !== 0 : false,\n        viewArchivedChannels,\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            goToLastViewedChannel,\n        }, dispatch),\n    };\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(ChannelView));\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport $ from 'jquery';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport Constants from 'utils/constants.jsx';\nimport * as SyntaxHighlighting from 'utils/syntax_highlighting';\n\nimport LoadingSpinner from 'components/widgets/loading/loading_spinner';\nimport FileInfoPreview from 'components/file_info_preview';\n\nexport default class CodePreview extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            code: '',\n            lang: '',\n            loading: true,\n            success: true,\n        };\n    }\n\n    componentDidMount() {\n        this.updateStateFromProps(this.props);\n    }\n\n    UNSAFE_componentWillReceiveProps(nextProps) { // eslint-disable-line camelcase\n        if (this.props.fileUrl !== nextProps.fileUrl) {\n            this.updateStateFromProps(nextProps);\n        }\n    }\n\n    updateStateFromProps = (props) => {\n        const usedLanguage = SyntaxHighlighting.getLanguageFromFileExtension(props.fileInfo.extension);\n\n        if (!usedLanguage || props.fileInfo.size > Constants.CODE_PREVIEW_MAX_FILE_SIZE) {\n            this.setState({code: '', lang: '', loading: false, success: false});\n            return;\n        }\n\n        this.setState({code: '', lang: usedLanguage, loading: true});\n\n        $.ajax({\n            async: true,\n            url: props.fileUrl,\n            type: 'GET',\n            dataType: 'text',\n            error: this.handleReceivedError,\n            success: this.handleReceivedCode,\n        });\n    }\n\n    handleReceivedCode = (data) => {\n        let code = data;\n        if (data.nodeName === '#document') {\n            code = new XMLSerializer().serializeToString(data);\n        }\n        this.setState({\n            code,\n            loading: false,\n            success: true,\n        });\n    }\n\n    handleReceivedError = () => {\n        this.setState({loading: false, success: false});\n    }\n\n    static supports(fileInfo) {\n        return Boolean(SyntaxHighlighting.getLanguageFromFileExtension(fileInfo.extension));\n    }\n\n    render() {\n        if (this.state.loading) {\n            return (\n                <div className='view-image__loading'>\n                    <LoadingSpinner/>\n                </div>\n            );\n        }\n\n        if (!this.state.success) {\n            return (\n                <FileInfoPreview\n                    fileInfo={this.props.fileInfo}\n                    fileUrl={this.props.fileUrl}\n                />\n            );\n        }\n\n        // add line numbers when viewing a code file preview\n        const lines = this.state.code.match(/\\r\\n|\\r|\\n|$/g).length;\n        let strlines = '';\n        for (let i = 1; i <= lines; i++) {\n            if (strlines) {\n                strlines += '\\n' + i;\n            } else {\n                strlines += i;\n            }\n        }\n\n        const language = SyntaxHighlighting.getLanguageName(this.state.lang);\n\n        const highlighted = SyntaxHighlighting.highlight(this.state.lang, this.state.code);\n\n        return (\n            <div className='post-code'>\n                <span className='post-code__language'>\n                    {`${this.props.fileInfo.name} - ${language}`}\n                </span>\n                <div className='post-code__container'>\n                    <code className='hljs'>\n                        <table>\n                            <tbody>\n                                <tr>\n                                    <td className='post-code__lineno'>{strlines}</td>\n                                    <td dangerouslySetInnerHTML={{__html: highlighted}}/>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </code>\n                </div>\n            </div>\n        );\n    }\n}\n\nCodePreview.propTypes = {\n    fileInfo: PropTypes.object.isRequired,\n    fileUrl: PropTypes.string.isRequired,\n};\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {OverlayTrigger, Tooltip} from 'react-bootstrap';\nimport {FormattedMessage} from 'react-intl';\n\nimport {Locations} from 'utils/constants';\nimport {localizeMessage} from 'utils/utils.jsx';\n\nimport ReplyIcon from 'components/widgets/icons/reply_icon';\n\nexport default class CommentIcon extends React.PureComponent {\n    static propTypes = {\n        location: PropTypes.oneOf([Locations.CENTER, Locations.SEARCH]).isRequired,\n        handleCommentClick: PropTypes.func.isRequired,\n        searchStyle: PropTypes.string,\n        commentCount: PropTypes.number,\n        postId: PropTypes.string,\n        extraClass: PropTypes.string,\n    };\n\n    static defaultProps = {\n        searchStyle: '',\n        commentCount: 0,\n        extraClass: '',\n        location: Locations.CENTER,\n    };\n\n    render() {\n        let commentCountSpan = '';\n        let iconStyle = 'comment-icon__container';\n        if (this.props.commentCount > 0) {\n            iconStyle += ' icon--show';\n            commentCountSpan = (\n                <span className='comment-count'>\n                    {this.props.commentCount}\n                </span>\n            );\n        } else if (this.props.searchStyle !== '') {\n            iconStyle = iconStyle + ' ' + this.props.searchStyle;\n        }\n\n        const tooltip = (\n            <Tooltip\n                id='comment-icon-tooltip'\n                className='hidden-xs'\n            >\n                <FormattedMessage\n                    id='post_info.comment_icon.tooltip.reply'\n                    defaultMessage='Reply'\n                />\n            </Tooltip>\n        );\n\n        return (\n            <OverlayTrigger\n                className='hidden-xs'\n                delayShow={500}\n                placement='top'\n                overlay={tooltip}\n            >\n                <button\n                    id={`${this.props.location}_commentIcon_${this.props.postId}`}\n                    aria-label={localizeMessage('post_info.comment_icon.tooltip.reply', 'Reply').toLowerCase()}\n                    className={iconStyle + ' color--link style--none ' + this.props.extraClass}\n                    onClick={this.props.handleCommentClick}\n                >\n                    <span className='d-flex'>\n                        <ReplyIcon className='comment-icon'/>\n                        {commentCountSpan}\n                    </span>\n                </button>\n            </OverlayTrigger>\n        );\n    }\n}\n\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {Modal} from 'react-bootstrap';\nimport {FormattedMessage} from 'react-intl';\n\nexport default class ConfirmModal extends React.Component {\n    static propTypes = {\n\n        /*\n         * Set to show modal\n         */\n        show: PropTypes.bool.isRequired,\n\n        /*\n         * Title to use for the modal\n         */\n        title: PropTypes.node,\n\n        /*\n         * Message to display in the body of the modal\n         */\n        message: PropTypes.node,\n\n        /*\n         * The CSS class to apply to the confirm button\n         */\n        confirmButtonClass: PropTypes.string,\n\n        /*\n         * The CSS class to apply to the modal\n         */\n        modalClass: PropTypes.string,\n\n        /*\n         * Text/jsx element on the confirm button\n         */\n        confirmButtonText: PropTypes.node,\n\n        /*\n         * Text/jsx element on the cancel button\n         */\n        cancelButtonText: PropTypes.node,\n\n        /*\n         * Set to show checkbox\n         */\n        showCheckbox: PropTypes.bool,\n\n        /*\n         * Text/jsx element to display with the checkbox\n         */\n        checkboxText: PropTypes.node,\n\n        /*\n         * Function called when the confirm button or ENTER is pressed. Passes `true` if the checkbox is checked\n         */\n        onConfirm: PropTypes.func.isRequired,\n\n        /*\n         * Function called when the cancel button is pressed or the modal is hidden. Passes `true` if the checkbox is checked\n         */\n        onCancel: PropTypes.func.isRequired,\n\n        /**\n         * Function called when modal is dismissed\n         */\n        onExited: PropTypes.func,\n\n        /*\n         * Set to hide the cancel button\n         */\n        hideCancel: PropTypes.bool,\n    }\n\n    static defaultProps = {\n        title: '',\n        message: '',\n        confirmButtonClass: 'btn btn-primary',\n        confirmButtonText: '',\n        modalClass: '',\n    }\n\n    componentDidMount() {\n        if (this.props.show) {\n            document.addEventListener('keydown', this.handleKeypress);\n        }\n    }\n\n    componentWillUnmount() {\n        document.removeEventListener('keydown', this.handleKeypress);\n    }\n\n    shouldComponentUpdate(nextProps) {\n        return nextProps.show !== this.props.show;\n    }\n\n    componentDidUpdate(prevProps) {\n        if (prevProps.show && !this.props.show) {\n            document.removeEventListener('keydown', this.handleKeypress);\n        } else if (!prevProps.show && this.props.show) {\n            document.addEventListener('keydown', this.handleKeypress);\n        }\n    }\n\n    handleKeypress = (e) => {\n        if (e.key === 'Enter' && this.props.show) {\n            const cancelButton = document.getElementById('cancelModalButton');\n            if (cancelButton && cancelButton === document.activeElement) {\n                this.handleCancel();\n            } else {\n                this.handleConfirm();\n            }\n        }\n    }\n\n    handleConfirm = () => {\n        const checked = this.refs.checkbox ? this.refs.checkbox.checked : false;\n        this.props.onConfirm(checked);\n    }\n\n    handleCancel = () => {\n        const checked = this.refs.checkbox ? this.refs.checkbox.checked : false;\n        this.props.onCancel(checked);\n    }\n\n    render() {\n        let checkbox;\n        if (this.props.showCheckbox) {\n            checkbox = (\n                <div className='checkbox text-right margin-bottom--none'>\n                    <label>\n                        <input\n                            ref='checkbox'\n                            type='checkbox'\n                        />\n                        {this.props.checkboxText}\n                    </label>\n                </div>\n            );\n        }\n\n        let cancelText;\n        if (this.props.cancelButtonText) {\n            cancelText = this.props.cancelButtonText;\n        } else {\n            cancelText = (\n                <FormattedMessage\n                    id='confirm_modal.cancel'\n                    defaultMessage='Cancel'\n                />\n            );\n        }\n\n        let cancelButton;\n        if (!this.props.hideCancel) {\n            cancelButton = (\n                <button\n                    type='button'\n                    className='btn btn-link btn-cancel'\n                    onClick={this.handleCancel}\n                    id='cancelModalButton'\n                >\n                    {cancelText}\n                </button>\n            );\n        }\n\n        return (\n            <Modal\n                className={'modal-confirm ' + this.props.modalClass}\n                dialogClassName='a11y__modal'\n                show={this.props.show}\n                onHide={this.props.onCancel}\n                onExited={this.props.onExited}\n                id='confirmModal'\n                role='dialog'\n                aria-labelledby='confirmModalLabel'\n            >\n                <Modal.Header closeButton={false}>\n                    <Modal.Title\n                        componentClass='h1'\n                        id='confirmModalLabel'\n                    >\n                        {this.props.title}\n                    </Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                    {this.props.message}\n                    {checkbox}\n                </Modal.Body>\n                <Modal.Footer>\n                    {cancelButton}\n                    <button\n                        autoFocus={true}\n                        type='button'\n                        className={this.props.confirmButtonClass}\n                        onClick={this.handleConfirm}\n                        id='confirmModalButton'\n                    >\n                        {this.props.confirmButtonText}\n                    </button>\n                </Modal.Footer>\n            </Modal>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {Modal} from 'react-bootstrap';\nimport {FormattedHTMLMessage, FormattedMessage} from 'react-intl';\n\nimport {trackEvent} from 'actions/diagnostics_actions.jsx';\nimport Constants from 'utils/constants';\n\nimport FormattedMarkdownMessage from 'components/formatted_markdown_message.jsx';\n\nexport default class ConvertChannelModal extends React.PureComponent {\n    static propTypes = {\n\n        /**\n        * Function called when modal is dismissed\n        */\n        onHide: PropTypes.func.isRequired,\n        channelId: PropTypes.string.isRequired,\n        channelDisplayName: PropTypes.string.isRequired,\n\n        actions: PropTypes.shape({\n\n            /**\n            * Function called for converting channel to private,\n            */\n            convertChannelToPrivate: PropTypes.func.isRequired,\n        }),\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.state = {show: true};\n    }\n\n    handleConvert = () => {\n        const {actions, channelId} = this.props;\n        if (channelId.length !== Constants.CHANNEL_ID_LENGTH) {\n            return;\n        }\n\n        actions.convertChannelToPrivate(channelId);\n        trackEvent('actions', 'convert_to_private_channel', {channel_id: channelId});\n        this.onHide();\n    }\n\n    onHide = () => {\n        this.setState({show: false});\n    }\n\n    render() {\n        const {\n            channelDisplayName,\n            onHide,\n        } = this.props;\n\n        return (\n            <Modal\n                dialogClassName='a11y__modal'\n                show={this.state.show}\n                onHide={this.onHide}\n                onExited={onHide}\n                role='dialog'\n                aria-labelledby='convertChannelModalLabel'\n            >\n                <Modal.Header closeButton={true}>\n                    <Modal.Title\n                        componentClass='h1'\n                        id='convertChannelModalLabel'\n                    >\n                        <FormattedMessage\n                            id='convert_channel.title'\n                            defaultMessage='Convert {display_name} to a private channel?'\n                            values={{\n                                display_name: channelDisplayName,\n                            }}\n                        />\n                    </Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                    <p>\n                        <FormattedMarkdownMessage\n                            id='convert_channel.question1'\n                            defaultMessage='When you convert **{display_name}** to a private channel, history and membership are preserved. Publicly shared files remain accessible to anyone with the link. Membership in a private channel is by invitation only.'\n                            values={{\n                                display_name: channelDisplayName,\n                            }}\n                        />\n                    </p>\n                    <p>\n                        <FormattedHTMLMessage\n                            id='convert_channel.question2'\n                            defaultMessage='The change is permanent and cannot be undone.'\n                        />\n                    </p>\n                    <p>\n                        <FormattedMarkdownMessage\n                            id='convert_channel.question3'\n                            defaultMessage='Are you sure you want to convert **{display_name}** to a private channel?'\n                            values={{\n                                display_name: channelDisplayName,\n                            }}\n                        />\n                    </p>\n                </Modal.Body>\n                <Modal.Footer>\n                    <button\n                        type='button'\n                        className='btn btn-link'\n                        onClick={this.onHide}\n                    >\n                        <FormattedMessage\n                            id='convert_channel.cancel'\n                            defaultMessage='No, cancel'\n                        />\n                    </button>\n                    <button\n                        type='button'\n                        className='btn btn-primary'\n                        data-dismiss='modal'\n                        onClick={this.handleConvert}\n                        autoFocus={true}\n                    >\n                        <FormattedMessage\n                            id='convert_channel.confirm'\n                            defaultMessage='Yes, convert to private channel'\n                        />\n                    </button>\n                </Modal.Footer>\n            </Modal>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {bindActionCreators} from 'redux';\nimport {connect} from 'react-redux';\n\nimport {convertChannelToPrivate} from 'mattermost-redux/actions/channels';\n\nimport {getCurrentTeam} from 'mattermost-redux/selectors/entities/teams';\n\nimport ConvertChannelModal from './convert_channel_modal.jsx';\n\nfunction mapStateToProps(state) {\n    return {\n        currentTeamDetails: getCurrentTeam(state),\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            convertChannelToPrivate,\n        }, dispatch),\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ConvertChannelModal);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {ContextMenu, ContextMenuTrigger, MenuItem} from 'react-contextmenu';\nimport {FormattedMessage} from 'react-intl';\n\nexport default class CopyUrlContextMenu extends React.Component {\n    static propTypes = {\n\n        // The child component that will be right-clicked on to show the context menu\n        children: PropTypes.element,\n\n        // The link to copy to the user's clipboard when the 'Copy' option is selected from the context menu\n        link: PropTypes.string.isRequired,\n\n        // A unique id differentiating this instance of context menu from others on the page.\n        menuId: PropTypes.string.isRequired,\n\n        siteURL: PropTypes.string.isRequired,\n\n        actions: PropTypes.shape({\n            copyToClipboard: PropTypes.func.isRequired,\n        }),\n    };\n\n    copy = () => {\n        let link = this.props.link;\n\n        // Transform relative links to absolute ones for copy and paste.\n        if (link.indexOf('http://') === -1 && link.indexOf('https://') === -1) {\n            link = this.props.siteURL + link;\n        }\n\n        this.props.actions.copyToClipboard(link);\n    }\n\n    render() {\n        const contextMenu = (\n            <ContextMenu id={'copy-url-context-menu' + this.props.menuId}>\n                <MenuItem\n                    onClick={this.copy}\n                >\n                    <FormattedMessage\n                        id='copy_url_context_menu.getChannelLink'\n                        defaultMessage='Copy Link'\n                    />\n                </MenuItem>\n            </ContextMenu>\n        );\n\n        const contextMenuTrigger = (\n            <ContextMenuTrigger\n                id={'copy-url-context-menu' + this.props.menuId}\n                holdToDisplay={-1}\n            >\n                {this.props.children}\n            </ContextMenuTrigger>\n        );\n\n        return (\n            <span>\n                {contextMenu}\n                {contextMenuTrigger}\n            </span>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {getConfig} from 'mattermost-redux/selectors/entities/general';\n\nimport {copyToClipboard} from 'utils/utils';\n\nimport CopyUrlContextMenu from './copy_url_context_menu.jsx';\n\nfunction mapStateToProps(state) {\n    const config = getConfig(state);\n\n    return {\n        siteURL: config.SiteURL,\n    };\n}\n\nfunction mapDispatchToProps() {\n    return {\n        actions: {\n            copyToClipboard,\n        },\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CopyUrlContextMenu);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage, intlShape} from 'react-intl';\n\nimport {Posts} from 'mattermost-redux/constants';\nimport {sortFileInfos} from 'mattermost-redux/utils/file_utils';\n\nimport * as GlobalActions from 'actions/global_actions.jsx';\nimport Constants, {StoragePrefixes, ModalIdentifiers} from 'utils/constants';\nimport {\n    containsAtChannel,\n    postMessageOnKeyPress,\n    shouldFocusMainTextbox,\n    isErrorInvalidSlashCommand,\n    splitMessageBasedOnCaretPosition,\n} from 'utils/post_utils.jsx';\nimport {getTable, formatMarkdownTableMessage} from 'utils/paste';\nimport * as UserAgent from 'utils/user_agent';\nimport * as Utils from 'utils/utils.jsx';\n\nimport ConfirmModal from 'components/confirm_modal.jsx';\nimport EditChannelHeaderModal from 'components/edit_channel_header_modal';\nimport EditChannelPurposeModal from 'components/edit_channel_purpose_modal';\nimport EmojiPickerOverlay from 'components/emoji_picker/emoji_picker_overlay.jsx';\nimport FilePreview from 'components/file_preview';\nimport FileUpload from 'components/file_upload';\nimport MsgTyping from 'components/msg_typing';\nimport PostDeletedModal from 'components/post_deleted_modal';\nimport ResetStatusModal from 'components/reset_status_modal';\nimport EmojiIcon from 'components/widgets/icons/emoji_icon';\nimport Textbox from 'components/textbox';\nimport TextboxLinks from 'components/textbox/textbox_links.jsx';\nimport TutorialTip from 'components/tutorial/tutorial_tip';\n\nimport FormattedMarkdownMessage from 'components/formatted_markdown_message.jsx';\nimport MessageSubmitError from 'components/message_submit_error';\n\nconst KeyCodes = Constants.KeyCodes;\n\n// Temporary fix for IE-11, see MM-13423\nfunction trimRight(str) {\n    if (String.prototype.trimRight) {\n        return str.trimRight();\n    }\n\n    return str.replace(/\\s*$/, '');\n}\n\nexport default class CreatePost extends React.Component {\n    static propTypes = {\n\n        /**\n         *  ref passed from channelView for EmojiPickerOverlay\n         */\n        getChannelView: PropTypes.func,\n\n        /**\n         *  Data used in notifying user for @all and @channel\n         */\n        currentChannelMembersCount: PropTypes.number,\n\n        /**\n         *  Data used in multiple places of the component\n         */\n        currentChannel: PropTypes.object,\n\n        /**\n         *  Data used in executing commands for channel actions passed down to client4 function\n         */\n        currentTeamId: PropTypes.string,\n\n        /**\n         *  Data used for posting message\n         */\n        currentUserId: PropTypes.string,\n\n        /**\n         * Force message submission on CTRL/CMD + ENTER\n         */\n        codeBlockOnCtrlEnter: PropTypes.bool,\n\n        /**\n         *  Flag used for handling submit\n         */\n        ctrlSend: PropTypes.bool,\n\n        /**\n         *  Flag used for adding a class center to Postbox based on user pref\n         */\n        fullWidthTextBox: PropTypes.bool,\n\n        /**\n         *  Data used for deciding if tutorial tip is to be shown\n         */\n        showTutorialTip: PropTypes.bool.isRequired,\n\n        /**\n         *  Data used populating message state when triggered by shortcuts\n         */\n        messageInHistoryItem: PropTypes.string,\n\n        /**\n         *  Data used for populating message state from previous draft\n         */\n        draft: PropTypes.shape({\n            message: PropTypes.string.isRequired,\n            uploadsInProgress: PropTypes.array.isRequired,\n            fileInfos: PropTypes.array.isRequired,\n        }).isRequired,\n\n        /**\n         *  Data used dispatching handleViewAction\n         */\n        commentCountForPost: PropTypes.number,\n\n        /**\n         *  Data used dispatching handleViewAction ex: edit post\n         */\n        latestReplyablePostId: PropTypes.string,\n        locale: PropTypes.string.isRequired,\n\n        /**\n         *  Data used for calling edit of post\n         */\n        currentUsersLatestPost: PropTypes.object,\n\n        /**\n         *  Set if the channel is read only.\n         */\n        readOnlyChannel: PropTypes.bool,\n\n        /**\n         * Whether or not file upload is allowed.\n         */\n        canUploadFiles: PropTypes.bool.isRequired,\n\n        /**\n         * Whether to show the emoji picker.\n         */\n        enableEmojiPicker: PropTypes.bool.isRequired,\n\n        /**\n         * Whether to show the gif picker.\n         */\n        enableGifPicker: PropTypes.bool.isRequired,\n\n        /**\n         * Whether to check with the user before notifying the whole channel.\n         */\n        enableConfirmNotificationsToChannel: PropTypes.bool.isRequired,\n\n        /**\n         * The maximum length of a post\n         */\n        maxPostSize: PropTypes.number.isRequired,\n        emojiMap: PropTypes.object.isRequired,\n\n        /**\n         * If our connection is bad\n         */\n        badConnection: PropTypes.bool.isRequired,\n\n        /**\n         * Whether to display a confirmation modal to reset status.\n         */\n        userIsOutOfOffice: PropTypes.bool.isRequired,\n        rhsExpanded: PropTypes.bool.isRequired,\n\n        /**\n         * To check if the timezones are enable on the server.\n         */\n        isTimezoneEnabled: PropTypes.bool.isRequired,\n        actions: PropTypes.shape({\n\n            /**\n             *  func called after message submit.\n             */\n            addMessageIntoHistory: PropTypes.func.isRequired,\n\n            /**\n             *  func called for navigation through messages by Up arrow\n             */\n            moveHistoryIndexBack: PropTypes.func.isRequired,\n\n            /**\n             *  func called for navigation through messages by Down arrow\n             */\n            moveHistoryIndexForward: PropTypes.func.isRequired,\n\n            /**\n             *  func called for adding a reaction\n             */\n            addReaction: PropTypes.func.isRequired,\n\n            /**\n             *  func called for posting message\n             */\n            onSubmitPost: PropTypes.func.isRequired,\n\n            /**\n             *  func called for removing a reaction\n             */\n            removeReaction: PropTypes.func.isRequired,\n\n            /**\n             *  func called on load of component to clear drafts\n             */\n            clearDraftUploads: PropTypes.func.isRequired,\n\n            /**\n             * hooks called before a message is sent to the server\n             */\n            runMessageWillBePostedHooks: PropTypes.func.isRequired,\n\n            /**\n             * hooks called before a slash command is sent to the server\n             */\n            runSlashCommandWillBePostedHooks: PropTypes.func.isRequired,\n\n            /**\n             *  func called for setting drafts\n             */\n            setDraft: PropTypes.func.isRequired,\n\n            /**\n             *  func called for editing posts\n             */\n            setEditingPost: PropTypes.func.isRequired,\n\n            /**\n             *  func called for opening the last replayable post in the RHS\n             */\n            selectPostFromRightHandSideSearchByPostId: PropTypes.func.isRequired,\n\n            /**\n             * Function to open a modal\n             */\n            openModal: PropTypes.func.isRequired,\n\n            executeCommand: PropTypes.func.isRequired,\n\n            /**\n             * Function to get the users timezones in the channel\n             */\n            getChannelTimezones: PropTypes.func.isRequired,\n\n            scrollPostListToBottom: PropTypes.func.isRequired,\n        }).isRequired,\n    }\n\n    static contextTypes = {\n        intl: intlShape.isRequired,\n    };\n\n    static defaultProps = {\n        latestReplyablePostId: '',\n    }\n\n    static getDerivedStateFromProps(props, state) {\n        let updatedState = {currentChannel: props.currentChannel};\n        if (props.currentChannel.id !== state.currentChannel.id) {\n            updatedState = {\n                ...updatedState,\n                message: props.draft.message,\n                submitting: false,\n                serverError: null,\n                showPreview: false,\n            };\n        }\n        return updatedState;\n    }\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            message: this.props.draft.message,\n            caretPosition: this.props.draft.message.length,\n            submitting: false,\n            showPostDeletedModal: false,\n            showEmojiPicker: false,\n            showConfirmModal: false,\n            channelTimezoneCount: 0,\n            showPreview: false,\n            uploadsProgressPercent: {},\n            renderScrollbar: false,\n            currentChannel: props.currentChannel,\n        };\n\n        this.lastBlurAt = 0;\n        this.lastChannelSwitchAt = 0;\n        this.draftsForChannel = {};\n        this.lastOrientation = null;\n    }\n\n    componentDidMount() {\n        this.onOrientationChange();\n        this.props.actions.clearDraftUploads(StoragePrefixes.DRAFT, (key, value) => {\n            if (value) {\n                return {...value, uploadsInProgress: []};\n            }\n            return value;\n        });\n\n        this.focusTextbox();\n        document.addEventListener('paste', this.pasteHandler);\n        document.addEventListener('keydown', this.documentKeyHandler);\n        this.setOrientationListeners();\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        if (prevProps.currentChannel.id !== this.props.currentChannel.id) {\n            this.lastChannelSwitchAt = Date.now();\n            this.focusTextbox();\n        }\n\n        // Focus on textbox when emoji picker is closed\n        if (prevState.showEmojiPicker && !this.state.showEmojiPicker) {\n            this.focusTextbox();\n        }\n    }\n\n    componentWillUnmount() {\n        document.removeEventListener('paste', this.pasteHandler);\n        document.removeEventListener('keydown', this.documentKeyHandler);\n        this.removeOrientationListeners();\n    }\n\n    updatePreview = (newState) => {\n        this.setState({showPreview: newState});\n    }\n\n    setOrientationListeners = () => {\n        if ((window.screen.orientation) && ('onchange' in window.screen.orientation)) {\n            window.screen.orientation.addEventListener('change', this.onOrientationChange);\n        } else if ('onorientationchange' in window) {\n            window.addEventListener('orientationchange', this.onOrientationChange);\n        }\n    };\n\n    removeOrientationListeners = () => {\n        if ((window.screen.orientation) && ('onchange' in window.screen.orientation)) {\n            window.screen.orientation.removeEventListener('change', this.onOrientationChange);\n        } else if ('onorientationchange' in window) {\n            window.removeEventListener('orientationchange', this.onOrientationChange);\n        }\n    };\n\n    onOrientationChange = () => {\n        if (!UserAgent.isIosWeb()) {\n            return;\n        }\n\n        const LANDSCAPE_ANGLE = 90;\n        let orientation = 'portrait';\n        if (window.orientation) {\n            orientation = Math.abs(window.orientation) === LANDSCAPE_ANGLE ? 'landscape' : 'portrait';\n        }\n\n        if (window.screen.orientation) {\n            orientation = window.screen.orientation.type.split('-')[0];\n        }\n\n        if (this.lastOrientation && orientation !== this.lastOrientation && (document.activeElement || {}).id === 'post_textbox') {\n            this.refs.textbox.getWrappedInstance().blur();\n        }\n\n        this.lastOrientation = orientation;\n    }\n\n    handlePostError = (postError) => {\n        this.setState({postError});\n    }\n\n    toggleEmojiPicker = () => {\n        this.setState({showEmojiPicker: !this.state.showEmojiPicker});\n    }\n\n    hideEmojiPicker = () => {\n        this.handleEmojiClose();\n    }\n\n    doSubmit = async (e) => {\n        const channelId = this.props.currentChannel.id;\n        if (e) {\n            e.preventDefault();\n        }\n\n        if (this.props.draft.uploadsInProgress.length > 0 || this.state.submitting) {\n            return;\n        }\n\n        let message = this.state.message;\n        let ignoreSlash = false;\n        const serverError = this.state.serverError;\n\n        if (serverError && isErrorInvalidSlashCommand(serverError) && serverError.submittedMessage === message) {\n            message = serverError.submittedMessage;\n            ignoreSlash = true;\n        }\n\n        const post = {};\n        post.file_ids = [];\n        post.message = message;\n\n        if (post.message.trim().length === 0 && this.props.draft.fileInfos.length === 0) {\n            return;\n        }\n\n        if (this.state.postError) {\n            this.setState({errorClass: 'animation--highlight'});\n            setTimeout(() => {\n                this.setState({errorClass: null});\n            }, Constants.ANIMATION_TIMEOUT);\n            return;\n        }\n\n        this.props.actions.addMessageIntoHistory(this.state.message);\n\n        this.setState({submitting: true, serverError: null});\n\n        const isReaction = Utils.REACTION_PATTERN.exec(post.message);\n        if (post.message.indexOf('/') === 0 && !ignoreSlash) {\n            this.setState({message: '', postError: null});\n            let args = {};\n            args.channel_id = channelId;\n            args.team_id = this.props.currentTeamId;\n\n            const hookResult = await this.props.actions.runSlashCommandWillBePostedHooks(post.message, args);\n\n            if (hookResult.error) {\n                this.setState({\n                    serverError: {\n                        ...hookResult.error,\n                        submittedMessage: post.message,\n                    },\n                    message: post.message,\n                });\n            } else if (!hookResult.data.message && !hookResult.data.args) {\n                // do nothing with an empty return from a hook\n            } else {\n                post.message = hookResult.data.message;\n                args = hookResult.data.args;\n\n                const {error} = await this.props.actions.executeCommand(post.message, args);\n\n                if (error) {\n                    if (error.sendMessage) {\n                        await this.sendMessage(post);\n                    } else {\n                        this.setState({\n                            serverError: {\n                                ...error,\n                                submittedMessage: post.message,\n                            },\n                            message: post.message,\n                        });\n                    }\n                }\n            }\n        } else if (isReaction && this.props.emojiMap.has(isReaction[2])) {\n            this.sendReaction(isReaction);\n\n            this.setState({message: ''});\n        } else {\n            const {error} = await this.sendMessage(post);\n\n            if (!error) {\n                this.setState({message: ''});\n            }\n        }\n\n        this.setState({\n            submitting: false,\n            postError: null,\n        });\n\n        this.props.actions.setDraft(StoragePrefixes.DRAFT + channelId, null);\n        this.draftsForChannel[channelId] = null;\n\n        const fasterThanHumanWillClick = 150;\n        const forceFocus = (Date.now() - this.lastBlurAt < fasterThanHumanWillClick);\n\n        this.focusTextbox(forceFocus);\n    }\n\n    handleNotifyAllConfirmation = (e) => {\n        this.hideNotifyAllModal();\n        this.doSubmit(e);\n    }\n\n    hideNotifyAllModal = () => {\n        this.setState({showConfirmModal: false});\n    }\n\n    showNotifyAllModal = () => {\n        this.setState({showConfirmModal: true});\n    }\n\n    getStatusFromSlashCommand = () => {\n        const {message} = this.state;\n        const tokens = message.split(' ');\n\n        if (tokens.length > 0) {\n            return tokens[0].substring(1);\n        }\n        return '';\n    };\n\n    isStatusSlashCommand = (command) => {\n        return command === 'online' || command === 'away' ||\n            command === 'dnd' || command === 'offline';\n    };\n\n    handleSubmit = async (e) => {\n        const {\n            currentChannel: updateChannel,\n            userIsOutOfOffice,\n        } = this.props;\n\n        const currentMembersCount = this.props.currentChannelMembersCount;\n        const notificationsToChannel = this.props.enableConfirmNotificationsToChannel;\n        if (notificationsToChannel &&\n            currentMembersCount > Constants.NOTIFY_ALL_MEMBERS &&\n            containsAtChannel(this.state.message)) {\n            if (this.props.isTimezoneEnabled) {\n                const {data} = await this.props.actions.getChannelTimezones(this.props.currentChannel.id);\n                if (data) {\n                    this.setState({channelTimezoneCount: data.length});\n                } else {\n                    this.setState({channelTimezoneCount: 0});\n                }\n            }\n            this.showNotifyAllModal();\n            return;\n        }\n\n        const status = this.getStatusFromSlashCommand();\n        if (userIsOutOfOffice && this.isStatusSlashCommand(status)) {\n            const resetStatusModalData = {\n                ModalId: ModalIdentifiers.RESET_STATUS,\n                dialogType: ResetStatusModal,\n                dialogProps: {newStatus: status},\n            };\n\n            this.props.actions.openModal(resetStatusModalData);\n\n            this.setState({message: ''});\n            return;\n        }\n\n        if (trimRight(this.state.message) === '/header') {\n            const editChannelHeaderModalData = {\n                modalId: ModalIdentifiers.EDIT_CHANNEL_HEADER,\n                dialogType: EditChannelHeaderModal,\n                dialogProps: {channel: updateChannel},\n            };\n\n            this.props.actions.openModal(editChannelHeaderModalData);\n\n            this.setState({message: ''});\n            return;\n        }\n\n        const isDirectOrGroup = ((updateChannel.type === Constants.DM_CHANNEL) || (updateChannel.type === Constants.GM_CHANNEL));\n        if (!isDirectOrGroup && trimRight(this.state.message) === '/purpose') {\n            const editChannelPurposeModalData = {\n                modalId: ModalIdentifiers.EDIT_CHANNEL_PURPOSE,\n                dialogType: EditChannelPurposeModal,\n                dialogProps: {channel: updateChannel},\n            };\n\n            this.props.actions.openModal(editChannelPurposeModalData);\n\n            this.setState({message: ''});\n            return;\n        }\n\n        if (!isDirectOrGroup && trimRight(this.state.message) === '/rename') {\n            GlobalActions.showChannelNameUpdateModal(updateChannel);\n            this.setState({message: ''});\n            return;\n        }\n\n        await this.doSubmit(e);\n    }\n\n    sendMessage = async (originalPost) => {\n        const {\n            actions,\n            currentChannel,\n            currentUserId,\n            draft,\n        } = this.props;\n\n        let post = originalPost;\n\n        post.channel_id = currentChannel.id;\n\n        const time = Utils.getTimestamp();\n        const userId = currentUserId;\n        post.pending_post_id = `${userId}:${time}`;\n        post.user_id = userId;\n        post.create_at = time;\n        post.parent_id = this.state.parentId;\n        post.metadata = {};\n        post.props = {};\n        const hookResult = await actions.runMessageWillBePostedHooks(post);\n\n        if (hookResult.error) {\n            this.setState({\n                serverError: hookResult.error,\n                submitting: false,\n            });\n\n            return hookResult;\n        }\n\n        post = hookResult.data;\n\n        actions.onSubmitPost(post, draft.fileInfos);\n        actions.scrollPostListToBottom();\n\n        this.setState({\n            submitting: false,\n        });\n\n        return {data: true};\n    }\n\n    sendReaction(isReaction) {\n        const channelId = this.props.currentChannel.id;\n        const action = isReaction[1];\n        const emojiName = isReaction[2];\n        const postId = this.props.latestReplyablePostId;\n\n        if (postId && action === '+') {\n            this.props.actions.addReaction(postId, emojiName);\n        } else if (postId && action === '-') {\n            this.props.actions.removeReaction(postId, emojiName);\n        }\n\n        this.props.actions.setDraft(StoragePrefixes.DRAFT + channelId, null);\n        this.draftsForChannel[channelId] = null;\n    }\n\n    focusTextbox = (keepFocus = false) => {\n        if (this.refs.textbox && (keepFocus || !UserAgent.isMobile())) {\n            this.refs.textbox.getWrappedInstance().focus();\n        }\n    }\n\n    postMsgKeyPress = (e) => {\n        const {ctrlSend, codeBlockOnCtrlEnter} = this.props;\n\n        const {allowSending, withClosedCodeBlock, ignoreKeyPress, message} = postMessageOnKeyPress(e, this.state.message, ctrlSend, codeBlockOnCtrlEnter, Date.now(), this.lastChannelSwitchAt, this.state.caretPosition);\n\n        if (ignoreKeyPress) {\n            e.preventDefault();\n            e.stopPropagation();\n            return;\n        }\n\n        if (allowSending) {\n            e.persist();\n            if (this.refs.textbox) {\n                this.refs.textbox.getWrappedInstance().blur();\n            }\n\n            if (withClosedCodeBlock && message) {\n                this.setState({message}, () => this.handleSubmit(e));\n            } else {\n                this.handleSubmit(e);\n            }\n\n            this.updatePreview(false);\n        }\n\n        this.emitTypingEvent();\n    }\n\n    emitTypingEvent = () => {\n        const channelId = this.props.currentChannel.id;\n        GlobalActions.emitLocalUserTypingEvent(channelId, '');\n    }\n\n    handleChange = (e) => {\n        const message = e.target.value;\n        const channelId = this.props.currentChannel.id;\n\n        let serverError = this.state.serverError;\n        if (isErrorInvalidSlashCommand(serverError)) {\n            serverError = null;\n        }\n\n        this.setState({\n            message,\n            serverError,\n        });\n\n        const draft = {\n            ...this.props.draft,\n            message,\n        };\n\n        this.props.actions.setDraft(StoragePrefixes.DRAFT + channelId, draft);\n        this.draftsForChannel[channelId] = draft;\n    }\n\n    pasteHandler = (e) => {\n        if (!e.clipboardData || !e.clipboardData.items || e.target.id !== 'post_textbox') {\n            return;\n        }\n\n        const table = getTable(e.clipboardData);\n        if (!table) {\n            return;\n        }\n\n        e.preventDefault();\n\n        const message = formatMarkdownTableMessage(table, this.state.message.trim());\n\n        this.setState({message});\n    }\n\n    handleFileUploadChange = () => {\n        this.focusTextbox();\n    }\n\n    handleUploadStart = (clientIds, channelId) => {\n        const uploadsInProgress = [\n            ...this.props.draft.uploadsInProgress,\n            ...clientIds,\n        ];\n\n        const draft = {\n            ...this.props.draft,\n            uploadsInProgress,\n        };\n\n        this.props.actions.setDraft(StoragePrefixes.DRAFT + channelId, draft);\n        this.draftsForChannel[channelId] = draft;\n\n        // this is a bit redundant with the code that sets focus when the file input is clicked,\n        // but this also resets the focus after a drag and drop\n        this.focusTextbox();\n    }\n\n    handleUploadProgress = ({clientId, name, percent, type}) => {\n        const uploadsProgressPercent = {...this.state.uploadsProgressPercent, [clientId]: {percent, name, type}};\n        this.setState({uploadsProgressPercent});\n    }\n\n    handleFileUploadComplete = (fileInfos, clientIds, channelId) => {\n        const draft = {...this.draftsForChannel[channelId]};\n\n        // remove each finished file from uploads\n        for (let i = 0; i < clientIds.length; i++) {\n            if (draft.uploadsInProgress) {\n                const index = draft.uploadsInProgress.indexOf(clientIds[i]);\n\n                if (index !== -1) {\n                    draft.uploadsInProgress = draft.uploadsInProgress.filter((item, itemIndex) => index !== itemIndex);\n                }\n            }\n        }\n\n        if (draft.fileInfos) {\n            draft.fileInfos = sortFileInfos(draft.fileInfos.concat(fileInfos), this.props.locale);\n        }\n\n        this.draftsForChannel[channelId] = draft;\n        this.props.actions.setDraft(StoragePrefixes.DRAFT + channelId, draft);\n    }\n\n    handleUploadError = (err, clientId, channelId) => {\n        const draft = {...this.draftsForChannel[channelId]};\n\n        let serverError = err;\n        if (typeof err === 'string') {\n            serverError = new Error(err);\n        }\n\n        if (clientId !== -1 && draft.uploadsInProgress) {\n            const index = draft.uploadsInProgress.indexOf(clientId);\n\n            if (index !== -1) {\n                const uploadsInProgress = draft.uploadsInProgress.filter((item, itemIndex) => index !== itemIndex);\n                const modifiedDraft = {\n                    ...draft,\n                    uploadsInProgress,\n                };\n                this.props.actions.setDraft(StoragePrefixes.DRAFT + channelId, modifiedDraft);\n                this.draftsForChannel[channelId] = modifiedDraft;\n            }\n        }\n\n        this.setState({serverError});\n    }\n\n    removePreview = (id) => {\n        let modifiedDraft = {};\n        const draft = {...this.props.draft};\n        const channelId = this.props.currentChannel.id;\n\n        // Clear previous errors\n        this.setState({serverError: null});\n\n        // id can either be the id of an uploaded file or the client id of an in progress upload\n        let index = draft.fileInfos.findIndex((info) => info.id === id);\n        if (index === -1) {\n            index = draft.uploadsInProgress.indexOf(id);\n\n            if (index !== -1) {\n                const uploadsInProgress = draft.uploadsInProgress.filter((item, itemIndex) => index !== itemIndex);\n\n                modifiedDraft = {\n                    ...draft,\n                    uploadsInProgress,\n                };\n\n                if (this.refs.fileUpload && this.refs.fileUpload.getWrappedInstance()) {\n                    this.refs.fileUpload.getWrappedInstance().cancelUpload(id);\n                }\n            }\n        } else {\n            const fileInfos = draft.fileInfos.filter((item, itemIndex) => index !== itemIndex);\n\n            modifiedDraft = {\n                ...draft,\n                fileInfos,\n            };\n        }\n\n        this.props.actions.setDraft(StoragePrefixes.DRAFT + channelId, modifiedDraft);\n        this.draftsForChannel[channelId] = modifiedDraft;\n\n        this.handleFileUploadChange();\n    }\n\n    focusTextboxIfNecessary = (e) => {\n        // Focus should go to the RHS when it is expanded\n        if (this.props.rhsExpanded) {\n            return;\n        }\n\n        // Bit of a hack to not steal focus from the channel switch modal if it's open\n        // This is a special case as the channel switch modal does not enforce focus like\n        // most modals do\n        if (document.getElementsByClassName('channel-switch-modal').length) {\n            return;\n        }\n\n        if (shouldFocusMainTextbox(e, document.activeElement)) {\n            this.focusTextbox();\n        }\n    }\n\n    documentKeyHandler = (e) => {\n        if ((e.ctrlKey || e.metaKey) && Utils.isKeyPressed(e, KeyCodes.FORWARD_SLASH)) {\n            e.preventDefault();\n\n            GlobalActions.toggleShortcutsModal();\n            return;\n        }\n\n        this.focusTextboxIfNecessary(e);\n    }\n\n    getFileCount = () => {\n        const draft = this.props.draft;\n        return draft.fileInfos.length + draft.uploadsInProgress.length;\n    }\n\n    getFileUploadTarget = () => {\n        if (this.refs.textbox) {\n            return this.refs.textbox.getWrappedInstance();\n        }\n\n        return null;\n    }\n\n    getCreatePostControls = () => {\n        return this.refs.createPostControls;\n    }\n\n    fillMessageFromHistory() {\n        const lastMessage = this.props.messageInHistoryItem;\n        if (lastMessage) {\n            this.setState({\n                message: lastMessage,\n            });\n        }\n    }\n\n    handleMouseUpKeyUp = (e) => {\n        const caretPosition = Utils.getCaretPosition(e.target);\n        this.setState({\n            caretPosition,\n        });\n    }\n\n    handleKeyDown = (e) => {\n        const ctrlOrMetaKeyPressed = e.ctrlKey || e.metaKey;\n        const messageIsEmpty = this.state.message.length === 0;\n        const draftMessageIsEmpty = this.props.draft.message.length === 0;\n        const ctrlEnterKeyCombo = (this.props.ctrlSend || this.props.codeBlockOnCtrlEnter) && Utils.isKeyPressed(e, KeyCodes.ENTER) && ctrlOrMetaKeyPressed;\n        const upKeyOnly = !ctrlOrMetaKeyPressed && !e.altKey && !e.shiftKey && Utils.isKeyPressed(e, KeyCodes.UP);\n        const shiftUpKeyCombo = !ctrlOrMetaKeyPressed && !e.altKey && e.shiftKey && Utils.isKeyPressed(e, KeyCodes.UP);\n        const ctrlKeyCombo = ctrlOrMetaKeyPressed && !e.altKey && !e.shiftKey;\n\n        if (ctrlEnterKeyCombo) {\n            this.postMsgKeyPress(e);\n        } else if (upKeyOnly && messageIsEmpty) {\n            this.editLastPost(e);\n        } else if (shiftUpKeyCombo && messageIsEmpty) {\n            this.replyToLastPost(e);\n        } else if (ctrlKeyCombo && draftMessageIsEmpty && Utils.isKeyPressed(e, KeyCodes.UP)) {\n            this.loadPrevMessage(e);\n        } else if (ctrlKeyCombo && draftMessageIsEmpty && Utils.isKeyPressed(e, KeyCodes.DOWN)) {\n            this.loadNextMessage(e);\n        }\n    }\n\n    editLastPost = (e) => {\n        e.preventDefault();\n\n        const lastPost = this.props.currentUsersLatestPost;\n        if (!lastPost) {\n            return;\n        }\n\n        let type;\n        if (lastPost.root_id && lastPost.root_id.length > 0) {\n            type = Utils.localizeMessage('create_post.comment', Posts.MESSAGE_TYPES.COMMENT);\n        } else {\n            type = Utils.localizeMessage('create_post.post', Posts.MESSAGE_TYPES.POST);\n        }\n        if (this.refs.textbox) {\n            this.refs.textbox.getWrappedInstance().blur();\n        }\n        this.props.actions.setEditingPost(lastPost.id, this.props.commentCountForPost, 'post_textbox', type);\n    }\n\n    replyToLastPost = (e) => {\n        e.preventDefault();\n        const latestReplyablePostId = this.props.latestReplyablePostId;\n        const replyBox = document.getElementById('reply_textbox');\n        if (replyBox) {\n            replyBox.focus();\n        }\n        if (latestReplyablePostId) {\n            this.props.actions.selectPostFromRightHandSideSearchByPostId(latestReplyablePostId);\n        }\n    }\n\n    loadPrevMessage = (e) => {\n        e.preventDefault();\n        this.props.actions.moveHistoryIndexBack(Posts.MESSAGE_TYPES.POST).then(() => this.fillMessageFromHistory());\n    }\n\n    loadNextMessage = (e) => {\n        e.preventDefault();\n        this.props.actions.moveHistoryIndexForward(Posts.MESSAGE_TYPES.POST).then(() => this.fillMessageFromHistory());\n    }\n\n    handleBlur = () => {\n        this.lastBlurAt = Date.now();\n    }\n\n    showPostDeletedModal = () => {\n        this.setState({\n            showPostDeletedModal: true,\n        });\n    }\n\n    hidePostDeletedModal = () => {\n        this.setState({\n            showPostDeletedModal: false,\n        });\n    }\n\n    handleEmojiClose = () => {\n        this.setState({showEmojiPicker: false});\n    }\n\n    handleEmojiClick = (emoji) => {\n        const emojiAlias = emoji.name || emoji.aliases[0];\n\n        if (!emojiAlias) {\n            //Oops.. There went something wrong\n            return;\n        }\n\n        if (this.state.message === '') {\n            this.setState({message: ':' + emojiAlias + ': '});\n        } else {\n            const {message} = this.state;\n            const {firstPiece, lastPiece} = splitMessageBasedOnCaretPosition(this.state.caretPosition, message);\n\n            // check whether the first piece of the message is empty when cursor is placed at beginning of message and avoid adding an empty string at the beginning of the message\n            const newMessage = firstPiece === '' ? `:${emojiAlias}: ${lastPiece}` : `${firstPiece} :${emojiAlias}: ${lastPiece}`;\n\n            const newCaretPosition = firstPiece === '' ? `:${emojiAlias}: `.length : `${firstPiece} :${emojiAlias}: `.length;\n\n            const textbox = this.refs.textbox.getWrappedInstance().getInputBox();\n\n            this.setState({\n                message: newMessage,\n                caretPosition: newCaretPosition,\n            }, () => {\n                Utils.setCaretPosition(textbox, newCaretPosition);\n            });\n        }\n\n        this.handleEmojiClose();\n    }\n\n    handleGifClick = (gif) => {\n        if (this.state.message === '') {\n            this.setState({message: gif});\n        } else {\n            const newMessage = ((/\\s+$/).test(this.state.message)) ? this.state.message + gif : this.state.message + ' ' + gif;\n            this.setState({message: newMessage});\n        }\n        this.handleEmojiClose();\n    }\n\n    createTutorialTip() {\n        const screens = [];\n\n        screens.push(\n            <div>\n                <h4>\n                    <FormattedMessage\n                        id='create_post.tutorialTip.title'\n                        defaultMessage='Sending Messages'\n                    />\n                </h4>\n                <p>\n                    <FormattedMarkdownMessage\n                        id='create_post.tutorialTip1'\n                        defaultMessage='Type here to write a message and press **Enter** to post it.'\n                    />\n                </p>\n                <p>\n                    <FormattedMarkdownMessage\n                        id='create_post.tutorialTip2'\n                        defaultMessage='Click the **Attachment** button to upload an image or a file.'\n                    />\n                </p>\n            </div>,\n        );\n\n        return (\n            <TutorialTip\n                id='postTextboxTipMessage'\n                placement='top'\n                screens={screens}\n                overlayClass='tip-overlay--chat'\n                diagnosticsTag='tutorial_tip_1_sending_messages'\n            />\n        );\n    }\n\n    shouldEnableSendButton() {\n        return this.state.message.trim().length !== 0 || this.props.draft.fileInfos.length !== 0;\n    }\n\n    handleHeightChange = (height, maxHeight) => {\n        this.setState({renderScrollbar: height > maxHeight});\n    }\n\n    render() {\n        const {\n            currentChannel,\n            currentChannelMembersCount,\n            draft,\n            fullWidthTextBox,\n            showTutorialTip,\n            readOnlyChannel,\n        } = this.props;\n        const {formatMessage} = this.context.intl;\n        const members = currentChannelMembersCount - 1;\n        const {renderScrollbar} = this.state;\n        const ariaLabelMessageInput = Utils.localizeMessage('accessibility.sections.centerFooter', 'message input complimentary region');\n\n        const notifyAllTitle = (\n            <FormattedMessage\n                id='notify_all.title.confirm'\n                defaultMessage='Confirm sending notifications to entire channel'\n            />\n        );\n\n        const notifyAllConfirm = (\n            <FormattedMessage\n                id='notify_all.confirm'\n                defaultMessage='Confirm'\n            />\n        );\n\n        let notifyAllMessage = '';\n        if (this.state.channelTimezoneCount && this.props.isTimezoneEnabled) {\n            notifyAllMessage = (\n                <FormattedMarkdownMessage\n                    id='notify_all.question_timezone'\n                    defaultMessage='By using @all or @channel you are about to send notifications to **{totalMembers} people** in **{timezones, number} {timezones, plural, one {timezone} other {timezones}}**. Are you sure you want to do this?'\n                    values={{\n                        totalMembers: members,\n                        timezones: this.state.channelTimezoneCount,\n                    }}\n                />\n            );\n        } else {\n            notifyAllMessage = (\n                <FormattedMessage\n                    id='notify_all.question'\n                    defaultMessage='By using @all or @channel you are about to send notifications to {totalMembers} people. Are you sure you want to do this?'\n                    values={{\n                        totalMembers: members,\n                    }}\n                />\n            );\n        }\n\n        let serverError = null;\n        if (this.state.serverError) {\n            serverError = (\n                <MessageSubmitError\n                    id='postServerError'\n                    error={this.state.serverError}\n                    submittedMessage={this.state.serverError.submittedMessage}\n                    handleSubmit={this.handleSubmit}\n                />\n            );\n        }\n\n        let postError = null;\n        if (this.state.postError) {\n            const postErrorClass = 'post-error' + (this.state.errorClass ? (' ' + this.state.errorClass) : '');\n            postError = <label className={postErrorClass}>{this.state.postError}</label>;\n        }\n\n        let preview = null;\n        if (!readOnlyChannel && (draft.fileInfos.length > 0 || draft.uploadsInProgress.length > 0)) {\n            preview = (\n                <FilePreview\n                    fileInfos={draft.fileInfos}\n                    onRemove={this.removePreview}\n                    uploadsInProgress={draft.uploadsInProgress}\n                    uploadsProgressPercent={this.state.uploadsProgressPercent}\n                />\n            );\n        }\n\n        let postFooterClassName = 'post-create-footer';\n        if (postError) {\n            postFooterClassName += ' has-error';\n        }\n\n        let tutorialTip = null;\n        if (showTutorialTip) {\n            tutorialTip = this.createTutorialTip();\n        }\n\n        let centerClass = '';\n        if (!fullWidthTextBox) {\n            centerClass = 'center';\n        }\n\n        let sendButtonClass = 'send-button theme';\n        if (!this.shouldEnableSendButton()) {\n            sendButtonClass += ' disabled';\n        }\n\n        let attachmentsDisabled = '';\n        if (!this.props.canUploadFiles) {\n            attachmentsDisabled = ' post-create--attachment-disabled';\n        }\n\n        let fileUpload;\n        if (!readOnlyChannel && !this.state.showPreview) {\n            fileUpload = (\n                <FileUpload\n                    ref='fileUpload'\n                    fileCount={this.getFileCount()}\n                    getTarget={this.getFileUploadTarget}\n                    onFileUploadChange={this.handleFileUploadChange}\n                    onUploadStart={this.handleUploadStart}\n                    onFileUpload={this.handleFileUploadComplete}\n                    onUploadError={this.handleUploadError}\n                    onUploadProgress={this.handleUploadProgress}\n                    postType='post'\n                />\n            );\n        }\n\n        let emojiPicker = null;\n        const emojiButtonAriaLabel = formatMessage({id: 'emoji_picker.emojiPicker', defaultMessage: 'Emoji Picker'}).toLowerCase();\n\n        if (this.props.enableEmojiPicker && !readOnlyChannel && !this.state.showPreview) {\n            emojiPicker = (\n                <div>\n                    <EmojiPickerOverlay\n                        show={this.state.showEmojiPicker}\n                        target={this.getCreatePostControls}\n                        onHide={this.hideEmojiPicker}\n                        onEmojiClose={this.handleEmojiClose}\n                        onEmojiClick={this.handleEmojiClick}\n                        onGifClick={this.handleGifClick}\n                        enableGifPicker={this.props.enableGifPicker}\n                        topOffset={-7}\n                    />\n                    <button\n                        type='button'\n                        aria-label={emojiButtonAriaLabel}\n                        onClick={this.toggleEmojiPicker}\n                        className='style--none emoji-picker__container post-action'\n                    >\n                        <EmojiIcon\n                            id='emojiPickerButton'\n                            className={'icon icon--emoji ' + (this.state.showEmojiPicker ? 'active' : '')}\n                        />\n                    </button>\n                </div>\n            );\n        }\n\n        let createMessage;\n        if (readOnlyChannel) {\n            createMessage = Utils.localizeMessage('create_post.read_only', 'This channel is read-only. Only members with permission can post here.');\n        } else {\n            createMessage = formatMessage(\n                {id: 'create_post.write', defaultMessage: 'Write to {channelDisplayName}'},\n                {channelDisplayName: currentChannel.display_name},\n            );\n        }\n\n        let scrollbarClass = '';\n        if (renderScrollbar) {\n            scrollbarClass = ' scroll';\n        }\n\n        return (\n            <form\n                id='create_post'\n                ref='topDiv'\n                className={centerClass}\n                onSubmit={this.handleSubmit}\n            >\n                <div className={'post-create' + attachmentsDisabled + scrollbarClass}>\n                    <div className='post-create-body'>\n                        <div\n                            role='application'\n                            id='centerChannelFooter'\n                            aria-label={ariaLabelMessageInput}\n                            tabIndex='-1'\n                            className='post-body__cell a11y__region'\n                            data-a11y-sort-order='2'\n                        >\n                            <Textbox\n                                onChange={this.handleChange}\n                                onKeyPress={this.postMsgKeyPress}\n                                onKeyDown={this.handleKeyDown}\n                                onMouseUp={this.handleMouseUpKeyUp}\n                                onKeyUp={this.handleMouseUpKeyUp}\n                                onComposition={this.emitTypingEvent}\n                                onHeightChange={this.handleHeightChange}\n                                handlePostError={this.handlePostError}\n                                value={readOnlyChannel ? '' : this.state.message}\n                                onBlur={this.handleBlur}\n                                emojiEnabled={this.props.enableEmojiPicker}\n                                createMessage={createMessage}\n                                channelId={currentChannel.id}\n                                id='post_textbox'\n                                ref='textbox'\n                                disabled={readOnlyChannel}\n                                characterLimit={this.props.maxPostSize}\n                                preview={this.state.showPreview}\n                                badConnection={this.props.badConnection}\n                                listenForMentionKeyClick={true}\n                            />\n                            <span\n                                ref='createPostControls'\n                                className='post-body__actions'\n                            >\n                                {fileUpload}\n                                {emojiPicker}\n                                <a\n                                    role='button'\n                                    tabIndex='0'\n                                    aria-label={formatMessage({\n                                        id: 'create_post.send_message',\n                                        defaultMessage: 'Send a message',\n                                    })}\n                                    className={sendButtonClass}\n                                    onClick={this.handleSubmit}\n                                >\n                                    <i\n                                        className='fa fa-paper-plane'\n                                        title={formatMessage({\n                                            id: 'create_post.icon',\n                                            defaultMessage: 'Send Post Icon',\n                                        })}\n                                    />\n                                </a>\n                            </span>\n                        </div>\n                        {tutorialTip}\n                    </div>\n                    <div\n                        id='postCreateFooter'\n                        className={postFooterClassName}\n                    >\n                        <div className='d-flex justify-content-between'>\n                            <MsgTyping\n                                channelId={currentChannel.id}\n                                postId=''\n                            />\n                            <TextboxLinks\n                                characterLimit={this.props.maxPostSize}\n                                showPreview={this.state.showPreview}\n                                updatePreview={this.updatePreview}\n                                message={readOnlyChannel ? '' : this.state.message}\n                            />\n                        </div>\n                        <div>\n                            {postError}\n                            {preview}\n                            {serverError}\n                        </div>\n                    </div>\n                </div>\n                <PostDeletedModal\n                    show={this.state.showPostDeletedModal}\n                    onHide={this.hidePostDeletedModal}\n                />\n                <ConfirmModal\n                    title={notifyAllTitle}\n                    message={notifyAllMessage}\n                    confirmButtonText={notifyAllConfirm}\n                    show={this.state.showConfirmModal}\n                    onConfirm={this.handleNotifyAllConfirmation}\n                    onCancel={this.hideNotifyAllModal}\n                />\n            </form>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\nimport {getConfig} from 'mattermost-redux/selectors/entities/general';\nimport {getCurrentTeamId} from 'mattermost-redux/selectors/entities/teams';\n\nimport {getCurrentChannel, getCurrentChannelStats} from 'mattermost-redux/selectors/entities/channels';\nimport {getCurrentUserId, isCurrentUserSystemAdmin, getStatusForUserId} from 'mattermost-redux/selectors/entities/users';\nimport {getChannelTimezones} from 'mattermost-redux/actions/channels';\nimport {get, getInt, getBool} from 'mattermost-redux/selectors/entities/preferences';\nimport {\n    getCurrentUsersLatestPost,\n    getLatestReplyablePostId,\n    getMostRecentPostIdInChannel,\n    getPost,\n    makeGetCommentCountForPost,\n    makeGetMessageInHistoryItem,\n} from 'mattermost-redux/selectors/entities/posts';\nimport {\n    addMessageIntoHistory,\n    moveHistoryIndexBack,\n    moveHistoryIndexForward,\n    removeReaction,\n} from 'mattermost-redux/actions/posts';\nimport {Posts, Preferences as PreferencesRedux} from 'mattermost-redux/constants';\n\nimport {connectionErrorCount} from 'selectors/views/system';\n\nimport {addReaction, createPost, setEditingPost} from 'actions/post_actions.jsx';\nimport {scrollPostListToBottom} from 'actions/views/channel';\nimport {selectPostFromRightHandSideSearchByPostId} from 'actions/views/rhs';\nimport {executeCommand} from 'actions/command';\nimport {runMessageWillBePostedHooks, runSlashCommandWillBePostedHooks} from 'actions/hooks';\nimport {getPostDraft, getIsRhsExpanded} from 'selectors/rhs';\nimport {getCurrentLocale} from 'selectors/i18n';\nimport {getEmojiMap} from 'selectors/emojis';\nimport {setGlobalItem, actionOnGlobalItemsWithPrefix} from 'actions/storage';\nimport {openModal} from 'actions/views/modals';\nimport {Constants, Preferences, StoragePrefixes, TutorialSteps, UserStatuses} from 'utils/constants';\nimport {canUploadFiles} from 'utils/file_utils';\n\nimport CreatePost from './create_post.jsx';\n\nfunction makeMapStateToProps() {\n    const getCommentCountForPost = makeGetCommentCountForPost();\n    const getMessageInHistoryItem = makeGetMessageInHistoryItem(Posts.MESSAGE_TYPES.POST);\n\n    return (state, ownProps) => {\n        const config = getConfig(state);\n        const currentChannel = getCurrentChannel(state) || {};\n        const draft = getPostDraft(state, StoragePrefixes.DRAFT, currentChannel.id);\n        const recentPostIdInChannel = getMostRecentPostIdInChannel(state, currentChannel.id);\n        const post = getPost(state, recentPostIdInChannel);\n        const latestReplyablePostId = getLatestReplyablePostId(state);\n        const currentChannelMembersCount = getCurrentChannelStats(state) ? getCurrentChannelStats(state).member_count : 1;\n        const enableTutorial = config.EnableTutorial === 'true';\n        const tutorialStep = getInt(state, Preferences.TUTORIAL_STEP, getCurrentUserId(state), TutorialSteps.FINISHED);\n        const enableEmojiPicker = config.EnableEmojiPicker === 'true';\n        const enableGifPicker = config.EnableGifPicker === 'true';\n        const enableConfirmNotificationsToChannel = config.EnableConfirmNotificationsToChannel === 'true';\n        const currentUserId = getCurrentUserId(state);\n        const userIsOutOfOffice = getStatusForUserId(state, currentUserId) === UserStatuses.OUT_OF_OFFICE;\n        const badConnection = connectionErrorCount(state) > 1;\n        const isTimezoneEnabled = config.ExperimentalTimezone === 'true';\n\n        return {\n            currentTeamId: getCurrentTeamId(state),\n            currentChannel,\n            currentChannelMembersCount,\n            currentUserId,\n            codeBlockOnCtrlEnter: getBool(state, PreferencesRedux.CATEGORY_ADVANCED_SETTINGS, 'code_block_ctrl_enter', true),\n            ctrlSend: getBool(state, Preferences.CATEGORY_ADVANCED_SETTINGS, 'send_on_ctrl_enter'),\n            fullWidthTextBox: get(state, Preferences.CATEGORY_DISPLAY_SETTINGS, Preferences.CHANNEL_DISPLAY_MODE, Preferences.CHANNEL_DISPLAY_MODE_DEFAULT) === Preferences.CHANNEL_DISPLAY_MODE_FULL_SCREEN,\n            showTutorialTip: enableTutorial && tutorialStep === TutorialSteps.POST_POPOVER,\n            messageInHistoryItem: getMessageInHistoryItem(state),\n            draft,\n            commentCountForPost: getCommentCountForPost(state, {post}),\n            latestReplyablePostId,\n            locale: getCurrentLocale(state),\n            currentUsersLatestPost: getCurrentUsersLatestPost(state),\n            readOnlyChannel: ownProps.readOnlyChannel || (!isCurrentUserSystemAdmin(state) && config.ExperimentalTownSquareIsReadOnly === 'true' && currentChannel.name === Constants.DEFAULT_CHANNEL),\n            canUploadFiles: canUploadFiles(config),\n            enableEmojiPicker,\n            enableGifPicker,\n            enableConfirmNotificationsToChannel,\n            maxPostSize: parseInt(config.MaxPostSize, 10) || Constants.DEFAULT_CHARACTER_LIMIT,\n            userIsOutOfOffice,\n            rhsExpanded: getIsRhsExpanded(state),\n            emojiMap: getEmojiMap(state),\n            badConnection,\n            isTimezoneEnabled,\n        };\n    };\n}\n\nfunction onSubmitPost(post, fileInfos) {\n    return (dispatch) => {\n        dispatch(createPost(post, fileInfos));\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            addMessageIntoHistory,\n            onSubmitPost,\n            moveHistoryIndexBack,\n            moveHistoryIndexForward,\n            addReaction,\n            removeReaction,\n            setDraft: setGlobalItem,\n            clearDraftUploads: actionOnGlobalItemsWithPrefix,\n            selectPostFromRightHandSideSearchByPostId,\n            setEditingPost,\n            openModal,\n            executeCommand,\n            getChannelTimezones,\n            runMessageWillBePostedHooks,\n            runSlashCommandWillBePostedHooks,\n            scrollPostListToBottom,\n        }, dispatch),\n    };\n}\n\nexport default connect(makeMapStateToProps, mapDispatchToProps)(CreatePost);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport hoistStatics from 'hoist-non-react-statics';\nimport React from 'react';\n\n/**\n * Allows two animation frames to complete to allow other components to update\n * and re-render before mounting and rendering an expensive `WrappedComponent`.\n * If provided, `PreRenderComponent` will be rendered instead of null when not\n * rendering the `Wrapped Component`.\n *\n * Based on this Twitter built component\n * https://gist.github.com/paularmstrong/cc2ead7e2a0dec37d8b2096fc8d85759#file-defercomponentrender-js\n */\nexport default function deferComponentRender(WrappedComponent, PreRenderComponent = null) {\n    class DeferredRenderWrapper extends React.Component {\n        constructor(props, context) {\n            super(props, context);\n\n            this.state = {\n                shouldRender: false,\n            };\n        }\n\n        componentDidMount() {\n            window.requestAnimationFrame(() => {\n                window.requestAnimationFrame(() => this.setState({shouldRender: true}));\n            });\n        }\n\n        render() {\n            return this.state.shouldRender ? <WrappedComponent {...this.props}/> : PreRenderComponent;\n        }\n    }\n\n    return hoistStatics(DeferredRenderWrapper, WrappedComponent);\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {Modal} from 'react-bootstrap';\nimport {FormattedMessage} from 'react-intl';\n\nimport {browserHistory} from 'utils/browser_history';\nimport Constants from 'utils/constants';\nimport FormattedMarkdownMessage from 'components/formatted_markdown_message';\n\nexport default class DeleteChannelModal extends React.PureComponent {\n    static propTypes = {\n\n        /**\n        * Function called when modal is dismissed\n        */\n        onHide: PropTypes.func.isRequired,\n\n        /**\n         * channel data\n         */\n        channel: PropTypes.object.isRequired,\n\n        /**\n         * currentTeamDetails used for redirection after deleting channel\n         */\n        currentTeamDetails: PropTypes.object.isRequired,\n\n        canViewArchivedChannels: PropTypes.bool,\n        penultimateViewedChannelName: PropTypes.string.isRequired,\n\n        actions: PropTypes.shape({\n\n            /**\n            * Function called for deleting channel,\n            */\n\n            deleteChannel: PropTypes.func.isRequired,\n        }),\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.state = {show: true};\n    }\n\n    handleDelete = () => {\n        if (this.props.channel.id.length !== Constants.CHANNEL_ID_LENGTH) {\n            return;\n        }\n        if (!this.props.canViewArchivedChannels) {\n            const {penultimateViewedChannelName} = this.props;\n            browserHistory.push('/' + this.props.currentTeamDetails.name + '/channels/' + penultimateViewedChannelName);\n        }\n        this.props.actions.deleteChannel(this.props.channel.id);\n        this.onHide();\n    }\n\n    onHide = () => {\n        this.setState({show: false});\n    }\n\n    render() {\n        const {canViewArchivedChannels} = this.props;\n        return (\n            <Modal\n                dialogClassName='a11y__modal'\n                show={this.state.show}\n                onHide={this.onHide}\n                onExited={this.props.onHide}\n                role='dialog'\n                aria-labelledby='deleteChannelModalLabel'\n                id='deleteChannelModal'\n            >\n                <Modal.Header closeButton={true}>\n                    <Modal.Title\n                        componentClass='h1'\n                        id='deleteChannelModalLabel'\n                    >\n                        <FormattedMessage\n                            id='delete_channel.confirm'\n                            defaultMessage='Confirm ARCHIVE Channel'\n                        />\n                    </Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                    <div className='alert alert-danger'>\n                        {!canViewArchivedChannels &&\n                            <FormattedMarkdownMessage\n                                id='delete_channel.question'\n                                defaultMessage='This will archive the channel from the team and make its contents inaccessible for all users. \\n \\nAre you sure you wish to archive the **{display_name}** channel?'\n                                values={{\n                                    display_name: this.props.channel.display_name,\n                                }}\n                            />}\n                        {canViewArchivedChannels &&\n                            <FormattedMarkdownMessage\n                                id='delete_channel.viewArchived.question'\n                                defaultMessage={'This will archive the channel from the team. Channel contents will still be accessible by channel members.\\n \\nAre you sure you wish to archive the **{display_name}** channel?'}\n                                values={{\n                                    display_name: this.props.channel.display_name,\n                                }}\n                            />}\n                    </div>\n                </Modal.Body>\n                <Modal.Footer>\n                    <button\n                        type='button'\n                        className='btn btn-link'\n                        onClick={this.onHide}\n                    >\n                        <FormattedMessage\n                            id='delete_channel.cancel'\n                            defaultMessage='Cancel'\n                        />\n                    </button>\n                    <button\n                        type='button'\n                        className='btn btn-danger'\n                        data-dismiss='modal'\n                        onClick={this.handleDelete}\n                        autoFocus={true}\n                        id='deleteChannelModalDeleteButton'\n                    >\n                        <FormattedMessage\n                            id='delete_channel.del'\n                            defaultMessage='Archive'\n                        />\n                    </button>\n                </Modal.Footer>\n            </Modal>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {bindActionCreators} from 'redux';\nimport {connect} from 'react-redux';\nimport {deleteChannel} from 'mattermost-redux/actions/channels';\nimport {getCurrentTeam} from 'mattermost-redux/selectors/entities/teams';\nimport {getConfig} from 'mattermost-redux/selectors/entities/general';\n\nimport DeleteChannelModal from './delete_channel_modal.jsx';\n\nfunction mapStateToProps(state) {\n    const config = getConfig(state);\n\n    return {\n        canViewArchivedChannels: config.ExperimentalViewArchivedChannels === 'true',\n        currentTeamDetails: getCurrentTeam(state),\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            deleteChannel,\n        }, dispatch),\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DeleteChannelModal);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {Modal} from 'react-bootstrap';\nimport {FormattedMessage} from 'react-intl';\n\nimport {browserHistory} from 'utils/browser_history';\nimport * as UserAgent from 'utils/user_agent';\n\nexport default class DeletePostModal extends React.PureComponent {\n    static propTypes = {\n\n        channelName: PropTypes.string,\n        focusedPostId: PropTypes.string,\n        teamName: PropTypes.string,\n        post: PropTypes.object.isRequired,\n        commentCount: PropTypes.number.isRequired,\n        isRHS: PropTypes.bool.isRequired,\n        onHide: PropTypes.func.isRequired,\n        actions: PropTypes.shape({\n            deleteAndRemovePost: PropTypes.func.isRequired,\n        }),\n    }\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            show: true,\n        };\n    }\n\n    handleDelete = async () => {\n        const {\n            actions,\n            channelName,\n            focusedPostId,\n            post,\n            teamName,\n        } = this.props;\n\n        const result = await actions.deleteAndRemovePost(post);\n\n        if (post.id === focusedPostId && channelName) {\n            browserHistory.push('/' + teamName + '/channels/' + channelName);\n        }\n\n        if (result.data) {\n            this.onHide();\n        }\n    }\n\n    handleEntered = () => {\n        if (this.deletePostBtn) {\n            this.deletePostBtn.focus();\n        }\n    }\n\n    onHide = () => {\n        this.setState({show: false});\n\n        if (!UserAgent.isMobile()) {\n            var element;\n            if (this.props.isRHS) {\n                element = document.getElementById('reply_textbox');\n            } else {\n                element = document.getElementById('post_textbox');\n            }\n            if (element) {\n                element.focus();\n            }\n        }\n    }\n\n    render() {\n        var commentWarning = '';\n        if (this.props.commentCount > 0 && this.props.post.root_id === '') {\n            commentWarning = (\n                <FormattedMessage\n                    id='delete_post.warning'\n                    defaultMessage='This post has {count, number} {count, plural, one {comment} other {comments}} on it.'\n                    values={{\n                        count: this.props.commentCount,\n                    }}\n                />\n            );\n        }\n\n        const postTerm = this.props.post.root_id ? (\n            <FormattedMessage\n                id='delete_post.comment'\n                defaultMessage='Comment'\n            />\n        ) : (\n            <FormattedMessage\n                id='delete_post.post'\n                defaultMessage='Post'\n            />\n        );\n\n        return (\n            <Modal\n                dialogClassName='a11y__modal'\n                show={this.state.show}\n                onEntered={this.handleEntered}\n                onHide={this.onHide}\n                onExited={this.props.onHide}\n                enforceFocus={false}\n                id='deletePostModal'\n                role='dialog'\n                aria-labelledby='deletePostModalLabel'\n            >\n                <Modal.Header closeButton={true}>\n                    <Modal.Title\n                        componentClass='h1'\n                        id='deletePostModalLabel'\n                    >\n                        <FormattedMessage\n                            id='delete_post.confirm'\n                            defaultMessage='Confirm {term} Delete'\n                            values={{\n                                term: (postTerm),\n                            }}\n                        />\n                    </Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                    <FormattedMessage\n                        id='delete_post.question'\n                        defaultMessage='Are you sure you want to delete this {term}?'\n                        values={{\n                            term: (postTerm),\n                        }}\n                    />\n                    <br/>\n                    <br/>\n                    {commentWarning}\n                </Modal.Body>\n                <Modal.Footer>\n                    <button\n                        type='button'\n                        className='btn btn-link'\n                        onClick={this.onHide}\n                    >\n                        <FormattedMessage\n                            id='delete_post.cancel'\n                            defaultMessage='Cancel'\n                        />\n                    </button>\n                    <button\n                        ref={(deletePostBtn) => {\n                            this.deletePostBtn = deletePostBtn;\n                        }}\n                        type='button'\n                        autoFocus={true}\n                        className='btn btn-danger'\n                        onClick={this.handleDelete}\n                        id='deletePostModalButton'\n                    >\n                        <FormattedMessage\n                            id='delete_post.del'\n                            defaultMessage='Delete'\n                        />\n                    </button>\n                </Modal.Footer>\n            </Modal>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {bindActionCreators} from 'redux';\nimport {connect} from 'react-redux';\nimport {getChannel} from 'mattermost-redux/selectors/entities/channels';\nimport {getCurrentTeam} from 'mattermost-redux/selectors/entities/teams';\n\nimport {deleteAndRemovePost} from 'actions/post_actions.jsx';\n\nimport DeletePostModal from './delete_post_modal.jsx';\n\nfunction mapStateToProps(state, ownProps) {\n    const channel = getChannel(state, ownProps.post.channel_id);\n    let channelName = '';\n    if (channel) {\n        channelName = channel.name;\n    }\n\n    const {focusedPostId} = state.views.channel;\n\n    return {\n        channelName,\n        focusedPostId,\n        teamName: getCurrentTeam(state).name,\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            deleteAndRemovePost,\n        }, dispatch),\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DeletePostModal);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\nimport {OverlayTrigger, Tooltip} from 'react-bootstrap';\n\nimport Permissions from 'mattermost-redux/constants/permissions';\n\nimport {showGetPostLinkModal} from 'actions/global_actions.jsx';\nimport {Locations, ModalIdentifiers, Constants} from 'utils/constants';\nimport DeletePostModal from 'components/delete_post_modal';\nimport DelayedAction from 'utils/delayed_action';\nimport * as PostUtils from 'utils/post_utils.jsx';\nimport * as Utils from 'utils/utils.jsx';\nimport ChannelPermissionGate from 'components/permissions_gates/channel_permission_gate';\n\nimport Pluggable from 'plugins/pluggable';\n\nimport Menu from 'components/widgets/menu/menu';\nimport MenuWrapper from 'components/widgets/menu/menu_wrapper';\n\nconst MENU_BOTTOM_MARGIN = 80;\n\nexport const PLUGGABLE_COMPONENT = 'PostDropdownMenuItem';\n\nexport default class DotMenu extends React.PureComponent {\n    static propTypes = {\n        post: PropTypes.object.isRequired,\n        teamId: PropTypes.string,\n        location: PropTypes.oneOf([Locations.CENTER, Locations.RHS_ROOT, Locations.RHS_COMMENT, Locations.SEARCH]).isRequired,\n        commentCount: PropTypes.number,\n        isFlagged: PropTypes.bool,\n        handleCommentClick: PropTypes.func,\n        handleDropdownOpened: PropTypes.func,\n        handleAddReactionClick: PropTypes.func,\n        isReadOnly: PropTypes.bool,\n        pluginMenuItems: PropTypes.arrayOf(PropTypes.object),\n        isLicensed: PropTypes.bool.isRequired,\n        postEditTimeLimit: PropTypes.string.isRequired,\n        enableEmojiPicker: PropTypes.bool.isRequired,\n\n        /*\n         * Components for overriding provided by plugins\n         */\n        components: PropTypes.object.isRequired,\n\n        actions: PropTypes.shape({\n\n            /**\n             * Function flag the post\n             */\n            flagPost: PropTypes.func.isRequired,\n\n            /**\n             * Function to unflag the post\n             */\n            unflagPost: PropTypes.func.isRequired,\n\n            /**\n             * Function to set the editing post\n             */\n            setEditingPost: PropTypes.func.isRequired,\n\n            /**\n             * Function to pin the post\n             */\n            pinPost: PropTypes.func.isRequired,\n\n            /**\n             * Function to unpin the post\n             */\n            unpinPost: PropTypes.func.isRequired,\n\n            /**\n             * Function to open a modal\n             */\n            openModal: PropTypes.func.isRequired,\n\n            /*\n             * Function to set the unread mark at given post\n             */\n            markPostAsUnread: PropTypes.func.isRequired,\n        }).isRequired,\n    }\n\n    static defaultProps = {\n        post: {},\n        commentCount: 0,\n        isFlagged: false,\n        isReadOnly: false,\n        pluginMenuItems: [],\n        location: Locations.CENTER,\n        enableEmojiPicker: false,\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.editDisableAction = new DelayedAction(this.handleEditDisable);\n\n        this.state = {\n            openUp: false,\n            width: 0,\n        };\n\n        this.buttonRef = React.createRef();\n    }\n\n    disableCanEditPostByTime() {\n        const {post, isLicensed, postEditTimeLimit} = this.props;\n        const canEdit = PostUtils.canEditPost(post);\n\n        if (canEdit && isLicensed) {\n            if (String(postEditTimeLimit) !== String(Constants.UNSET_POST_EDIT_TIME_LIMIT)) {\n                const milliseconds = 1000;\n                const timeLeft = (post.create_at + (postEditTimeLimit * milliseconds)) - Utils.getTimestamp();\n                if (timeLeft > 0) {\n                    this.editDisableAction.fireAfter(timeLeft + milliseconds);\n                }\n            }\n        }\n    }\n\n    componentDidMount() {\n        this.disableCanEditPostByTime();\n    }\n\n    static getDerivedStateFromProps(props) {\n        return {\n            canDelete: PostUtils.canDeletePost(props.post) && !props.isReadOnly,\n            canEdit: PostUtils.canEditPost(props.post) && !props.isReadOnly,\n        };\n    }\n\n    componentWillUnmount() {\n        this.editDisableAction.cancel();\n    }\n\n    handleEditDisable = () => {\n        this.setState({canEdit: false});\n    }\n\n    handleFlagMenuItemActivated = () => {\n        if (this.props.isFlagged) {\n            this.props.actions.unflagPost(this.props.post.id);\n        } else {\n            this.props.actions.flagPost(this.props.post.id);\n        }\n    }\n\n    // listen to clicks/taps on add reaction menu item and pass to parent handler\n    handleAddReactionMenuItemActivated = (e) => {\n        e.preventDefault();\n\n        // to be safe, make sure the handler function has been defined\n        if (this.props.handleAddReactionClick) {\n            this.props.handleAddReactionClick();\n        }\n    }\n\n    handlePermalinkMenuItemActivated = (e) => {\n        e.preventDefault();\n        showGetPostLinkModal(this.props.post);\n    }\n\n    handlePinMenuItemActivated = () => {\n        if (this.props.post.is_pinned) {\n            this.props.actions.unpinPost(this.props.post.id);\n        } else {\n            this.props.actions.pinPost(this.props.post.id);\n        }\n    }\n\n    handleUnreadMenuItemActivated = (e) => {\n        e.preventDefault();\n        this.props.actions.markPostAsUnread(this.props.post);\n    }\n\n    handleDeleteMenuItemActivated = (e) => {\n        e.preventDefault();\n\n        const deletePostModalData = {\n            ModalId: ModalIdentifiers.DELETE_POST,\n            dialogType: DeletePostModal,\n            dialogProps: {\n                post: this.props.post,\n                commentCount: this.props.commentCount,\n                isRHS: this.props.location === Locations.RHS_ROOT || this.props.location === Locations.RHS_COMMENT,\n            },\n        };\n\n        this.props.actions.openModal(deletePostModalData);\n    }\n\n    handleEditMenuItemActivated = () => {\n        this.props.actions.setEditingPost(\n            this.props.post.id,\n            this.props.commentCount,\n            this.props.location === Locations.CENTER ? 'post_textbox' : 'reply_textbox',\n            this.props.post.root_id ? Utils.localizeMessage('rhs_comment.comment', 'Comment') : Utils.localizeMessage('create_post.post', 'Post'),\n            this.props.location === Locations.RHS_ROOT || this.props.location === Locations.RHS_COMMENT,\n        );\n    }\n\n    tooltip = (\n        <Tooltip\n            id='dotmenu-icon-tooltip'\n            className='hidden-xs'\n        >\n            <FormattedMessage\n                id='post_info.dot_menu.tooltip.more_actions'\n                defaultMessage='More Actions'\n            />\n        </Tooltip>\n    )\n\n    refCallback = (ref) => {\n        if (ref) {\n            const rect = ref.rect();\n            const y = rect.y || rect.top;\n            const height = rect.height;\n            const windowHeight = window.innerHeight;\n\n            if ((y + height) > (windowHeight - MENU_BOTTOM_MARGIN)) {\n                this.setState({openUp: true});\n            }\n\n            this.setState({width: rect.width});\n        }\n    }\n\n    renderDivider = (suffix) => {\n        return (\n            <li\n                id={`divider_post_${this.props.post.id}_${suffix}`}\n                className='MenuItem__divider'\n                role='menuitem'\n            />\n        );\n    }\n\n    render() {\n        const isSystemMessage = PostUtils.isSystemMessage(this.props.post);\n        const isMobile = Utils.isMobile();\n\n        const pluginItems = this.props.pluginMenuItems.\n            filter((item) => {\n                return item.filter ? item.filter(this.props.post.id) : item;\n            }).\n            map((item) => {\n                if (item.subMenu) {\n                    return (\n                        <Menu.ItemSubMenu\n                            key={item.id + '_pluginmenuitem'}\n                            id={item.text.id}\n                            postId={this.props.post.id}\n                            text={item.text}\n                            subMenu={item.subMenu}\n                            action={item.action}\n                            xOffset={this.state.width}\n                            root={true}\n                        />\n                    );\n                }\n                return (\n                    <Menu.ItemAction\n                        key={item.id + '_pluginmenuitem'}\n                        text={item.text}\n                        onClick={() => {\n                            if (item.action) {\n                                item.action(this.props.post.id);\n                            }\n                        }}\n                    />\n                );\n            });\n\n        if (!this.state.canDelete && !this.state.canEdit && pluginItems.length === 0 && isSystemMessage) {\n            return null;\n        }\n\n        return (\n            <MenuWrapper onToggle={this.props.handleDropdownOpened}>\n                <OverlayTrigger\n                    className='hidden-xs'\n                    delayShow={500}\n                    placement='top'\n                    overlay={this.tooltip}\n                    rootClose={true}\n                >\n                    <button\n                        id={`${this.props.location}_button_${this.props.post.id}`}\n                        aria-label={Utils.localizeMessage('post_info.dot_menu.tooltip.more_actions', 'More Actions').toLowerCase()}\n                        className='post__dropdown color--link style--none'\n                        type='button'\n                        aria-expanded='false'\n                    />\n                </OverlayTrigger>\n                <Menu\n                    id={`${this.props.location}_dropdown_${this.props.post.id}`}\n                    openLeft={true}\n                    openUp={this.state.openUp}\n                    ref={this.refCallback}\n                    ariaLabel={Utils.localizeMessage('post_info.menuAriaLabel', 'Post extra options')}\n                >\n                    <Menu.ItemAction\n                        show={!isSystemMessage && this.props.location === Locations.CENTER}\n                        text={Utils.localizeMessage('post_info.reply', 'Reply')}\n                        onClick={this.props.handleCommentClick}\n                    />\n                    <ChannelPermissionGate\n                        channelId={this.props.post.channel_id}\n                        teamId={this.props.teamId}\n                        permissions={[Permissions.ADD_REACTION]}\n                    >\n                        <Menu.ItemAction\n                            show={isMobile && !isSystemMessage && !this.props.isReadOnly && this.props.enableEmojiPicker}\n                            text={Utils.localizeMessage('rhs_root.mobile.add_reaction', 'Add Reaction')}\n                            onClick={this.handleAddReactionMenuItemActivated}\n                        />\n                    </ChannelPermissionGate>\n                    <Menu.ItemAction\n                        id={`unread_post_${this.props.post.id}`}\n                        show={!isSystemMessage}\n                        text={Utils.localizeMessage('post_info.unread', 'Mark as Unread')}\n                        onClick={this.handleUnreadMenuItemActivated}\n                    />\n                    <Menu.ItemAction\n                        id={`permalink_${this.props.post.id}`}\n                        show={!isSystemMessage}\n                        text={Utils.localizeMessage('post_info.permalink', 'Permalink')}\n                        onClick={this.handlePermalinkMenuItemActivated}\n                    />\n                    <Menu.ItemAction\n                        show={isMobile && !isSystemMessage && this.props.isFlagged}\n                        text={Utils.localizeMessage('rhs_root.mobile.unflag', 'Unflag')}\n                        onClick={this.handleFlagMenuItemActivated}\n                    />\n                    <Menu.ItemAction\n                        show={isMobile && !isSystemMessage && !this.props.isFlagged}\n                        text={Utils.localizeMessage('rhs_root.mobile.flag', 'Flag')}\n                        onClick={this.handleFlagMenuItemActivated}\n                    />\n                    <Menu.ItemAction\n                        id={`unpin_post_${this.props.post.id}`}\n                        show={!isSystemMessage && !this.props.isReadOnly && this.props.post.is_pinned}\n                        text={Utils.localizeMessage('post_info.unpin', 'Unpin')}\n                        onClick={this.handlePinMenuItemActivated}\n                    />\n                    <Menu.ItemAction\n                        id={`pin_post_${this.props.post.id}`}\n                        show={!isSystemMessage && !this.props.isReadOnly && !this.props.post.is_pinned}\n                        text={Utils.localizeMessage('post_info.pin', 'Pin')}\n                        onClick={this.handlePinMenuItemActivated}\n                    />\n                    {!isSystemMessage && (this.state.canEdit || this.state.canDelete) && this.renderDivider('edit')}\n                    <Menu.ItemAction\n                        id={`edit_post_${this.props.post.id}`}\n                        show={this.state.canEdit}\n                        text={Utils.localizeMessage('post_info.edit', 'Edit')}\n                        onClick={this.handleEditMenuItemActivated}\n                    />\n                    <Menu.ItemAction\n                        id={`delete_post_${this.props.post.id}`}\n                        show={this.state.canDelete}\n                        text={Utils.localizeMessage('post_info.del', 'Delete')}\n                        onClick={this.handleDeleteMenuItemActivated}\n                        isDangerous={true}\n                    />\n                    {(pluginItems.length > 0 || this.props.components[PLUGGABLE_COMPONENT]) && this.renderDivider('plugins')}\n                    {pluginItems}\n                    <Pluggable\n                        postId={this.props.post.id}\n                        pluggableName={PLUGGABLE_COMPONENT}\n                    />\n                </Menu>\n            </MenuWrapper>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\nimport {getCurrentTeamId} from 'mattermost-redux/selectors/entities/teams';\n\nimport {getLicense, getConfig} from 'mattermost-redux/selectors/entities/general';\n\nimport {openModal} from 'actions/views/modals';\nimport {\n    flagPost,\n    unflagPost,\n    pinPost,\n    unpinPost,\n    setEditingPost,\n    markPostAsUnread,\n} from 'actions/post_actions.jsx';\n\nimport DotMenu from './dot_menu.jsx';\n\nfunction mapStateToProps(state) {\n    return {\n        components: state.plugins.components,\n        postEditTimeLimit: getConfig(state).PostEditTimeLimit,\n        isLicensed: getLicense(state).IsLicensed === 'true',\n        teamId: getCurrentTeamId(state),\n        pluginMenuItems: state.plugins.components.PostDropdownMenu,\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            flagPost,\n            unflagPost,\n            setEditingPost,\n            pinPost,\n            unpinPost,\n            openModal,\n            markPostAsUnread,\n        }, dispatch),\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DotMenu);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport {Modal} from 'react-bootstrap';\nimport {defineMessages, FormattedMessage, injectIntl, intlShape} from 'react-intl';\n\nimport Textbox from 'components/textbox';\nimport TextboxLinks from 'components/textbox/textbox_links.jsx';\nimport Constants, {ModalIdentifiers} from 'utils/constants';\nimport {isMobile} from 'utils/user_agent';\nimport {isKeyPressed, localizeMessage} from 'utils/utils.jsx';\nimport {t} from 'utils/i18n';\n\nconst KeyCodes = Constants.KeyCodes;\n\nconst holders = defineMessages({\n    error: {\n        id: t('edit_channel_header_modal.error'),\n        defaultMessage: 'This channel header is too long, please enter a shorter one',\n    },\n});\n\nclass EditChannelHeaderModal extends React.PureComponent {\n    static propTypes = {\n\n        /*\n         * react-intl helper object\n         */\n        intl: intlShape.isRequired,\n\n        /*\n         * Object with info about current channel ,\n         */\n        channel: PropTypes.object.isRequired,\n\n        /*\n         * boolean should be `ctrl` button pressed to send\n         */\n        ctrlSend: PropTypes.bool.isRequired,\n\n        /*\n         * Collection of redux actions\n         */\n        actions: PropTypes.shape({\n\n            closeModal: PropTypes.func.isRequired,\n\n            /*\n             * patch channel redux-action\n             */\n            patchChannel: PropTypes.func.isRequired,\n        }).isRequired,\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            preview: false,\n            header: props.channel.header,\n            saving: false,\n        };\n    }\n\n    handleModalKeyDown = (e) => {\n        if (isKeyPressed(e, KeyCodes.ESCAPE)) {\n            this.hideModal();\n        }\n    }\n\n    updatePreview = (newState) => {\n        this.setState({preview: newState});\n    }\n\n    handleChange = (e) => {\n        this.setState({\n            header: e.target.value,\n        });\n    }\n\n    handleSave = async () => {\n        const {header} = this.state;\n        if (header === this.props.channel.header) {\n            this.hideModal();\n            return;\n        }\n\n        this.setState({saving: true});\n\n        const {channel, actions} = this.props;\n        const {error} = await actions.patchChannel(channel.id, {header});\n        if (error) {\n            this.setState({serverError: error, saving: false});\n        } else {\n            this.hideModal();\n        }\n    }\n\n    hideModal = () => {\n        this.props.actions.closeModal(ModalIdentifiers.EDIT_CHANNEL_HEADER);\n    }\n\n    focusTextbox = () => {\n        if (this.refs.editChannelHeaderTextbox) {\n            this.refs.editChannelHeaderTextbox.getWrappedInstance().focus();\n        }\n    }\n\n    blurTextbox = () => {\n        if (this.refs.editChannelHeaderTextbox) {\n            this.refs.editChannelHeaderTextbox.getWrappedInstance().blur();\n        }\n    }\n\n    handleEntering = () => {\n        this.focusTextbox();\n    }\n\n    handleKeyDown = (e) => {\n        const {ctrlSend} = this.props;\n        if (ctrlSend && isKeyPressed(e, KeyCodes.ENTER) && e.ctrlKey === true) {\n            this.handleKeyPress(e);\n        }\n    }\n\n    handleKeyPress = (e) => {\n        const {ctrlSend} = this.props;\n        if (!isMobile() && ((ctrlSend && e.ctrlKey) || !ctrlSend)) {\n            if (isKeyPressed(e, KeyCodes.ENTER) && !e.shiftKey && !e.altKey) {\n                e.preventDefault();\n                this.blurTextbox();\n                this.handleSave(e);\n            }\n        }\n    }\n\n    renderError = () => {\n        const {serverError} = this.state;\n        if (!serverError) {\n            return null;\n        }\n\n        let errorMsg;\n        if (serverError.server_error_id === 'model.channel.is_valid.header.app_error') {\n            errorMsg = this.props.intl.formatMessage(holders.error);\n        } else {\n            errorMsg = serverError.message;\n        }\n\n        return (\n            <div className='form-group has-error'>\n                <br/>\n                <label className='control-label'>\n                    {errorMsg}\n                </label>\n            </div>\n        );\n    }\n\n    render() {\n        let headerTitle = null;\n        if (this.props.channel.type === Constants.DM_CHANNEL) {\n            headerTitle = (\n                <FormattedMessage\n                    id='edit_channel_header_modal.title_dm'\n                    defaultMessage='Edit Header'\n                />\n            );\n        } else {\n            headerTitle = (\n                <FormattedMessage\n                    id='edit_channel_header_modal.title'\n                    defaultMessage='Edit Header for {channel}'\n                    values={{\n                        channel: this.props.channel.display_name,\n                    }}\n                />\n            );\n        }\n\n        return (\n            <Modal\n                dialogClassName='a11y__modal'\n                show={true}\n                keyboard={false}\n                onKeyDown={this.handleModalKeyDown}\n                onHide={this.hideModal}\n                onEntering={this.handleEntering}\n                onExited={this.hideModal}\n                role='dialog'\n                aria-labelledby='editChannelHeaderModalLabel'\n            >\n                <Modal.Header closeButton={true}>\n                    <Modal.Title\n                        componentClass='h1'\n                        id='editChannelHeaderModalLabel'\n                    >\n                        {headerTitle}\n                    </Modal.Title>\n                </Modal.Header>\n                <Modal.Body bsClass='modal-body edit-modal-body'>\n                    <div>\n                        <p>\n                            <FormattedMessage\n                                id='edit_channel_header_modal.description'\n                                defaultMessage='Edit the text appearing next to the channel name in the channel header.'\n                            />\n                        </p>\n                        <div className='textarea-wrapper'>\n                            <Textbox\n                                value={this.state.header}\n                                onChange={this.handleChange}\n                                onKeyPress={this.handleKeyPress}\n                                onKeyDown={this.handleKeyDown}\n                                supportsCommands={false}\n                                suggestionListStyle='bottom'\n                                createMessage={localizeMessage('edit_channel_header.editHeader', 'Edit the Channel Header...')}\n                                previewMessageLink={localizeMessage('edit_channel_header.previewHeader', 'Edit Header')}\n                                handlePostError={this.handlePostError}\n                                id='edit_textbox'\n                                ref='editChannelHeaderTextbox'\n                                characterLimit={1024}\n                                preview={this.state.preview}\n                            />\n                        </div>\n                        <div className='post-create-footer'>\n                            <TextboxLinks\n                                characterLimit={1024}\n                                showPreview={this.state.preview}\n                                ref={this.setTextboxLinksRef}\n                                updatePreview={this.updatePreview}\n                                message={this.state.header}\n                            />\n                        </div>\n                        <br/>\n                        {this.renderError()}\n                    </div>\n                </Modal.Body>\n                <Modal.Footer>\n                    <button\n                        type='button'\n                        className='btn btn-link cancel-button'\n                        onClick={this.hideModal}\n                    >\n                        <FormattedMessage\n                            id='edit_channel_header_modal.cancel'\n                            defaultMessage='Cancel'\n                        />\n                    </button>\n                    <button\n                        disabled={this.state.saving}\n                        type='button'\n                        className='btn btn-primary save-button'\n                        onClick={this.handleSave}\n                    >\n                        <FormattedMessage\n                            id='edit_channel_header_modal.save'\n                            defaultMessage='Save'\n                        />\n                    </button>\n                </Modal.Footer>\n            </Modal>\n        );\n    }\n}\n\nexport default injectIntl(EditChannelHeaderModal);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\nimport {bindActionCreators} from 'redux';\nimport {connect} from 'react-redux';\n\nimport {getBool} from 'mattermost-redux/selectors/entities/preferences';\nimport {patchChannel} from 'mattermost-redux/actions/channels';\nimport {Preferences} from 'mattermost-redux/constants';\n\nimport {closeModal} from 'actions/views/modals';\n\nimport EditChannelHeaderModal from './edit_channel_header_modal.jsx';\n\nfunction mapStateToProps(state) {\n    return {\n        ctrlSend: getBool(state, Preferences.CATEGORY_ADVANCED_SETTINGS, 'send_on_ctrl_enter'),\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            closeModal,\n            patchChannel,\n        }, dispatch),\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(EditChannelHeaderModal);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {Modal} from 'react-bootstrap';\nimport {FormattedMessage} from 'react-intl';\n\nimport Constants from 'utils/constants';\nimport * as Utils from 'utils/utils.jsx';\n\nexport default class EditChannelPurposeModal extends React.PureComponent {\n    static propTypes = {\n\n        /*\n         * callback to call when modal will hide\n         */\n        onHide: PropTypes.func.isRequired,\n\n        /*\n         * Channel info object\n         */\n        channel: PropTypes.object,\n\n        /*\n         * Check should we send purpose on CTRL + ENTER\n         */\n        ctrlSend: PropTypes.bool.isRequired,\n\n        /*\n         * Object with redux action creators\n         */\n        actions: PropTypes.shape({\n\n            /*\n             * Action creator to patch current channel\n             */\n            patchChannel: PropTypes.func.isRequired,\n        }).isRequired,\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            purpose: props.channel.purpose || '',\n            serverError: '',\n            show: true,\n            submitted: false,\n            requestStarted: false,\n        };\n    }\n\n    setError = (err) => {\n        if (err.id === 'api.context.invalid_param.app_error') {\n            this.setState({\n                serverError: Utils.localizeMessage(\n                    'edit_channel_purpose_modal.error',\n                    'This channel purpose is too long, please enter a shorter one'\n                ),\n            });\n        } else {\n            this.setState({serverError: err.message});\n        }\n    }\n\n    unsetError = () => {\n        this.setState({serverError: ''});\n    }\n\n    handleEntering = () => {\n        Utils.placeCaretAtEnd(this.purpose);\n    }\n\n    onHide = () => {\n        this.setState({show: false});\n    }\n\n    handleKeyDown = (e) => {\n        const {ctrlSend} = this.props;\n\n        if (ctrlSend && Utils.isKeyPressed(e, Constants.KeyCodes.ENTER) && e.ctrlKey) {\n            e.preventDefault();\n            this.handleSave(e);\n        } else if (!ctrlSend && Utils.isKeyPressed(e, Constants.KeyCodes.ENTER) && !e.shiftKey && !e.altKey) {\n            e.preventDefault();\n            this.handleSave(e);\n        }\n    }\n\n    handleSave = async () => {\n        const {channel, actions: {patchChannel}} = this.props;\n        const {purpose} = this.state;\n        if (!channel) {\n            return;\n        }\n\n        this.setState({requestStarted: true});\n        const {data, error} = await patchChannel(channel.id, {purpose});\n        this.setState({requestStarted: false});\n\n        if (data) {\n            this.unsetError();\n            this.onHide();\n        } else if (error) {\n            this.setError(error);\n        }\n    }\n\n    handleChange = (e) => {\n        e.preventDefault();\n        this.setState({purpose: e.target.value});\n    }\n\n    getPurpose = (node) => {\n        this.purpose = node;\n    };\n\n    render() {\n        let serverError = null;\n        if (this.state.serverError) {\n            serverError = (\n                <div className='form-group has-error'>\n                    <br/>\n                    <label className='control-label'>{this.state.serverError}</label>\n                </div>\n            );\n        }\n\n        let title = (\n            <span>\n                <FormattedMessage\n                    id='edit_channel_purpose_modal.title1'\n                    defaultMessage='Edit Purpose'\n                />\n            </span>\n        );\n        if (this.props.channel.display_name) {\n            title = (\n                <span>\n                    <FormattedMessage\n                        id='edit_channel_purpose_modal.title2'\n                        defaultMessage='Edit Purpose for '\n                    />\n                    <span className='name'>{this.props.channel.display_name}</span>\n                </span>\n            );\n        }\n\n        let channelPurposeModal = (\n            <FormattedMessage\n                id='edit_channel_purpose_modal.body'\n                defaultMessage='Describe how this channel should be used. This text appears in the channel list in the \"More...\" menu and helps others decide whether to join.'\n            />\n        );\n        if (this.props.channel.type === 'P') {\n            channelPurposeModal = (\n                <FormattedMessage\n                    id='edit_channel_private_purpose_modal.body'\n                    defaultMessage='This text appears in the \\\"View Info\\\" modal of the private channel.'\n                />\n            );\n        }\n\n        return (\n            <Modal\n                dialogClassName='a11y__modal'\n                show={this.state.show}\n                onHide={this.onHide}\n                onEntering={this.handleEntering}\n                onExited={this.props.onHide}\n                role='dialog'\n                aria-labelledby='editChannelPurposeModalLabel'\n            >\n                <Modal.Header closeButton={true}>\n                    <Modal.Title\n                        componentClass='h1'\n                        id='editChannelPurposeModalLabel'\n                    >\n                        {title}\n                    </Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                    <p>\n                        {channelPurposeModal}\n                    </p>\n                    <textarea\n                        ref={this.getPurpose}\n                        className='form-control no-resize'\n                        rows='6'\n                        maxLength='250'\n                        value={this.state.purpose}\n                        onKeyDown={this.handleKeyDown}\n                        onChange={this.handleChange}\n                    />\n                    {serverError}\n                </Modal.Body>\n                <Modal.Footer>\n                    <button\n                        type='button'\n                        className='btn btn-link cancel-button'\n                        onClick={this.onHide}\n                    >\n                        <FormattedMessage\n                            id='edit_channel_purpose_modal.cancel'\n                            defaultMessage='Cancel'\n                        />\n                    </button>\n                    <button\n                        type='button'\n                        className='btn btn-primary save-button'\n                        disabled={this.state.requestStarted}\n                        onClick={this.handleSave}\n                    >\n                        <FormattedMessage\n                            id='edit_channel_purpose_modal.save'\n                            defaultMessage='Save'\n                        />\n                    </button>\n                </Modal.Footer>\n            </Modal>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\nimport {bindActionCreators} from 'redux';\nimport {connect} from 'react-redux';\nimport {getBool} from 'mattermost-redux/selectors/entities/preferences';\nimport {patchChannel} from 'mattermost-redux/actions/channels';\n\nimport Constants from 'utils/constants';\n\nimport EditChannelPurposeModal from './edit_channel_purpose_modal.jsx';\n\nfunction mapStateToProps(state) {\n    return {\n        ctrlSend: getBool(state, Constants.Preferences.CATEGORY_ADVANCED_SETTINGS, 'send_on_ctrl_enter'),\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: {\n            patchChannel: bindActionCreators(patchChannel, dispatch),\n        },\n    };\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps,\n)(EditChannelPurposeModal);\n\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {Modal} from 'react-bootstrap';\nimport {FormattedMessage, intlShape} from 'react-intl';\nimport PropTypes from 'prop-types';\n\nimport {Constants, ModalIdentifiers} from 'utils/constants';\nimport {splitMessageBasedOnCaretPosition, postMessageOnKeyPress} from 'utils/post_utils.jsx';\n\nimport * as Utils from 'utils/utils.jsx';\n\nimport DeletePostModal from 'components/delete_post_modal';\nimport EmojiPickerOverlay from 'components/emoji_picker/emoji_picker_overlay.jsx';\nimport EmojiIcon from 'components/widgets/icons/emoji_icon';\nimport Textbox from 'components/textbox';\nimport TextboxLinks from 'components/textbox/textbox_links.jsx';\n\nconst KeyCodes = Constants.KeyCodes;\n\nexport default class EditPostModal extends React.PureComponent {\n    static propTypes = {\n        canEditPost: PropTypes.bool,\n        canDeletePost: PropTypes.bool,\n        codeBlockOnCtrlEnter: PropTypes.bool,\n        ctrlSend: PropTypes.bool,\n        config: PropTypes.object.isRequired,\n        maxPostSize: PropTypes.number.isRequired,\n        editingPost: PropTypes.shape({\n            post: PropTypes.object,\n            postId: PropTypes.string,\n            refocusId: PropTypes.string,\n            commentCount: PropTypes.number,\n            show: PropTypes.bool.isRequired,\n            title: PropTypes.string,\n            isRHS: PropTypes.bool,\n        }).isRequired,\n\n        actions: PropTypes.shape({\n            addMessageIntoHistory: PropTypes.func.isRequired,\n            editPost: PropTypes.func.isRequired,\n            hideEditPostModal: PropTypes.func.isRequired,\n            openModal: PropTypes.func.isRequired,\n        }).isRequired,\n    }\n\n    static contextTypes = {\n        intl: intlShape.isRequired,\n    };\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            preview: false,\n            editText: '',\n            caretPosition: ''.length,\n            postError: '',\n            errorClass: null,\n            showEmojiPicker: false,\n            prevShowState: props.editingPost.show,\n        };\n    }\n\n    static getDerivedStateFromProps(props, state) {\n        if (props.editingPost.show && !state.prevShowState) {\n            return {\n                editText: props.editingPost.post.message_source || props.editingPost.post.message,\n                prevShowState: props.editingPost.show,\n            };\n        }\n\n        return null;\n    }\n\n    updatePreview = (newState) => {\n        this.setState({preview: newState});\n    }\n\n    getContainer = () => {\n        return this.refs.editModalBody;\n    }\n\n    toggleEmojiPicker = () => {\n        this.setState({showEmojiPicker: !this.state.showEmojiPicker});\n        if (!this.state.showEmojiPicker && this.editbox) {\n            this.editbox.focus();\n        }\n    }\n\n    hideEmojiPicker = () => {\n        this.setState({showEmojiPicker: false});\n        if (this.editbox) {\n            this.editbox.focus();\n        }\n    }\n\n    handleEmojiClick = (emoji) => {\n        const emojiAlias = emoji && (emoji.name || (emoji.aliases && emoji.aliases[0]));\n\n        if (!emojiAlias) {\n            //Oops.. There went something wrong\n            return;\n        }\n\n        if (this.state.editText === '') {\n            this.setState({editText: ':' + emojiAlias + ': '});\n        } else {\n            const {editText} = this.state;\n            const {firstPiece, lastPiece} = splitMessageBasedOnCaretPosition(this.state.caretPosition, editText);\n\n            // check whether the first piece of the message is empty when cursor\n            // is placed at beginning of message and avoid adding an empty string at the beginning of the message\n            const newMessage = firstPiece === '' ? `:${emojiAlias}: ${lastPiece}` : `${firstPiece} :${emojiAlias}: ${lastPiece}`;\n\n            const newCaretPosition = firstPiece === '' ? `:${emojiAlias}: `.length : `${firstPiece} :${emojiAlias}: `.length;\n\n            const textbox = this.editbox.getInputBox();\n\n            this.setState({\n                editText: newMessage,\n                caretPosition: newCaretPosition,\n            }, () => {\n                Utils.setCaretPosition(textbox, newCaretPosition);\n            });\n        }\n\n        this.setState({showEmojiPicker: false});\n\n        if (this.editbox) {\n            this.editbox.focus();\n        }\n    }\n\n    handleGifClick = (gif) => {\n        if (this.state.editText === '') {\n            this.setState({editText: gif});\n        } else {\n            const newMessage = ((/\\s+$/).test(this.state.editText)) ? this.state.editText + gif : this.state.editText + ' ' + gif;\n            this.setState({editText: newMessage});\n        }\n        this.setState({showEmojiPicker: false});\n        this.editbox.focus();\n    }\n\n    getEditPostControls = () => {\n        return this.refs.editPostEmoji;\n    }\n\n    handlePostError = (postError) => {\n        if (this.state.postError !== postError) {\n            this.setState({postError});\n        }\n    }\n\n    handleEdit = async () => {\n        if (this.isSaveDisabled()) {\n            return;\n        }\n\n        const {actions, editingPost} = this.props;\n        const updatedPost = {\n            message: this.state.editText,\n            id: editingPost.postId,\n            channel_id: editingPost.post.channel_id,\n        };\n\n        if (this.state.postError) {\n            this.setState({errorClass: 'animation--highlight'});\n            setTimeout(() => {\n                this.setState({errorClass: null});\n            }, Constants.ANIMATION_TIMEOUT);\n            return;\n        }\n\n        if (updatedPost.message === (editingPost.post.message_source || editingPost.post.message)) {\n            // no changes so just close the modal\n            this.handleHide();\n            return;\n        }\n\n        const hasAttachment = editingPost.post.file_ids && editingPost.post.file_ids.length > 0;\n        if (updatedPost.message.trim().length === 0 && !hasAttachment) {\n            this.handleHide(false);\n\n            const deletePostModalData = {\n                ModalId: ModalIdentifiers.DELETE_POST,\n                dialogType: DeletePostModal,\n                dialogProps: {\n                    post: editingPost.post,\n                    commentCount: editingPost.commentCount,\n                    isRHS: editingPost.isRHS,\n                },\n            };\n\n            this.props.actions.openModal(deletePostModalData);\n            return;\n        }\n\n        actions.addMessageIntoHistory(updatedPost.message);\n\n        const data = await actions.editPost(updatedPost);\n        if (data) {\n            window.scrollTo(0, 0);\n        }\n\n        this.handleHide();\n    }\n\n    handleChange = (e) => {\n        const message = e.target.value;\n        this.setState({\n            editText: message,\n        });\n    }\n\n    handleEditKeyPress = (e) => {\n        const {ctrlSend, codeBlockOnCtrlEnter} = this.props;\n\n        const {allowSending, ignoreKeyPress} = postMessageOnKeyPress(e, this.state.editText, ctrlSend, codeBlockOnCtrlEnter, Date.now(), this.lastChannelSwitchAt, this.state.caretPosition);\n\n        if (ignoreKeyPress) {\n            e.preventDefault();\n            e.stopPropagation();\n            return;\n        }\n\n        if (allowSending) {\n            e.preventDefault();\n            this.editbox.blur();\n            this.handleEdit();\n        }\n    }\n\n    handleMouseUpKeyUp = (e) => {\n        const caretPosition = Utils.getCaretPosition(e.target);\n        this.setState({\n            caretPosition,\n        });\n    }\n\n    handleKeyDown = (e) => {\n        if (this.props.ctrlSend && Utils.isKeyPressed(e, KeyCodes.ENTER) && e.ctrlKey === true) {\n            this.handleEdit();\n        } else if (Utils.isKeyPressed(e, KeyCodes.ESCAPE) && !this.state.showEmojiPicker) {\n            this.handleHide();\n        }\n    }\n\n    handleHide = (doRefocus = true) => {\n        this.refocusId = doRefocus ? this.props.editingPost.refocusId : null;\n        this.props.actions.hideEditPostModal();\n    }\n\n    handleEntered = () => {\n        if (this.editbox) {\n            this.editbox.focus();\n            this.editbox.recalculateSize();\n        }\n    }\n\n    handleExit = () => {\n        this.setState({preview: false});\n    }\n\n    handleExited = () => {\n        const refocusId = this.refocusId;\n        if (refocusId) {\n            setTimeout(() => {\n                const element = document.getElementById(refocusId);\n                if (element) {\n                    element.focus();\n                }\n            });\n        }\n\n        this.refocusId = null;\n        this.setState({editText: '', postError: '', errorClass: null, preview: false, showEmojiPicker: false, prevShowState: false});\n    }\n\n    setEditboxRef = (ref) => {\n        if (ref && ref.getWrappedInstance) {\n            this.editbox = ref.getWrappedInstance();\n        }\n\n        if (this.editbox) {\n            this.editbox.focus();\n        }\n    }\n\n    isSaveDisabled = () => {\n        const post = this.props.editingPost.post;\n        const hasAttachments = post && post.file_ids && post.file_ids.length > 0;\n        if (hasAttachments) {\n            return !this.props.canEditPost;\n        }\n\n        if (this.state.editText !== '') {\n            return !this.props.canEditPost;\n        }\n\n        return !this.props.canDeletePost;\n    }\n\n    render() {\n        const {formatMessage} = this.context.intl;\n        const errorBoxClass = 'edit-post-footer' + (this.state.postError ? ' has-error' : '');\n        let postError = null;\n        if (this.state.postError) {\n            const postErrorClass = 'post-error' + (this.state.errorClass ? (' ' + this.state.errorClass) : '');\n            postError = (<label className={postErrorClass}>{this.state.postError}</label>);\n        }\n\n        let emojiPicker = null;\n        const emojiButtonAriaLabel = formatMessage({id: 'emoji_picker.emojiPicker', defaultMessage: 'Emoji Picker'}).toLowerCase();\n        if (this.props.config.EnableEmojiPicker === 'true' && !this.state.preview) {\n            emojiPicker = (\n                <div>\n                    <EmojiPickerOverlay\n                        show={this.state.showEmojiPicker}\n                        container={this.getContainer}\n                        target={this.getEditPostControls}\n                        onHide={this.hideEmojiPicker}\n                        onEmojiClick={this.handleEmojiClick}\n                        onGifClick={this.handleGifClick}\n                        enableGifPicker={this.props.config.EnableGifPicker === 'true'}\n                        topOffset={-20}\n                    />\n                    <button\n                        aria-label={emojiButtonAriaLabel}\n                        id='editPostEmoji'\n                        ref='editPostEmoji'\n                        className='style--none post-action'\n                        onClick={this.toggleEmojiPicker}\n                    >\n                        <EmojiIcon\n                            className='icon icon--emoji'\n\n                        />\n                    </button>\n                </div>\n            );\n        }\n\n        return (\n            <Modal\n                id='editPostModal'\n                dialogClassName='a11y__modal edit-modal'\n                show={this.props.editingPost.show}\n                onKeyDown={this.handleKeyDown}\n                onHide={this.handleHide}\n                onEntered={this.handleEntered}\n                onExit={this.handleExit}\n                onExited={this.handleExited}\n                keyboard={false}\n                role='dialog'\n                aria-labelledby='editPostModalLabel'\n            >\n                <Modal.Header closeButton={true}>\n                    <Modal.Title\n                        componentClass='h1'\n                        id='editPostModalLabel'\n                    >\n                        <FormattedMessage\n                            id='edit_post.edit'\n                            defaultMessage='Edit {title}'\n                            values={{\n                                title: this.props.editingPost.title,\n                            }}\n                        />\n                    </Modal.Title>\n                </Modal.Header>\n                <Modal.Body\n                    bsClass={`modal-body edit-modal-body${this.state.showEmojiPicker ? ' edit-modal-body--add-reaction' : ''}`}\n                    ref='editModalBody'\n                >\n                    <div className='post-create__container'>\n                        <div className='textarea-wrapper'>\n                            <Textbox\n                                tabIndex='0'\n                                onChange={this.handleChange}\n                                onKeyPress={this.handleEditKeyPress}\n                                onKeyDown={this.handleKeyDown}\n                                onMouseUp={this.handleMouseUpKeyUp}\n                                onKeyUp={this.handleMouseUpKeyUp}\n                                handlePostError={this.handlePostError}\n                                value={this.state.editText}\n                                channelId={this.props.editingPost.post && this.props.editingPost.post.channel_id}\n                                emojiEnabled={this.props.config.EnableEmojiPicker === 'true'}\n                                createMessage={Utils.localizeMessage('edit_post.editPost', 'Edit the post...')}\n                                supportsCommands={false}\n                                suggestionListStyle='bottom'\n                                id='edit_textbox'\n                                ref={this.setEditboxRef}\n                                characterLimit={this.props.maxPostSize}\n                                preview={this.state.preview}\n                            />\n                            <div className='post-body__actions'>\n                                {emojiPicker}\n                            </div>\n                        </div>\n                        <div className='post-create-footer'>\n                            <TextboxLinks\n                                characterLimit={this.props.maxPostSize}\n                                showPreview={this.state.preview}\n                                ref={this.setTextboxLinksRef}\n                                updatePreview={this.updatePreview}\n                                message={this.state.editText}\n                            />\n                            <div className={errorBoxClass}>\n                                {postError}\n                            </div>\n                        </div>\n                    </div>\n                </Modal.Body>\n                <Modal.Footer>\n                    <button\n                        type='button'\n                        className='btn btn-link'\n                        onClick={this.handleHide}\n                    >\n                        <FormattedMessage\n                            id='edit_post.cancel'\n                            defaultMessage='Cancel'\n                        />\n                    </button>\n                    <button\n                        id='editButton'\n                        type='button'\n                        className='btn btn-primary'\n                        disabled={this.isSaveDisabled()}\n                        onClick={this.handleEdit}\n                    >\n                        <FormattedMessage\n                            id='edit_post.save'\n                            defaultMessage='Save'\n                        />\n                    </button>\n                </Modal.Footer>\n            </Modal>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\nimport {addMessageIntoHistory} from 'mattermost-redux/actions/posts';\nimport {Preferences, Permissions} from 'mattermost-redux/constants';\nimport {getConfig} from 'mattermost-redux/selectors/entities/general';\nimport {haveIChannelPermission} from 'mattermost-redux/selectors/entities/roles';\nimport {getCurrentTeamId} from 'mattermost-redux/selectors/entities/teams';\nimport {getCurrentChannelId} from 'mattermost-redux/selectors/entities/channels';\nimport {getCurrentUserId} from 'mattermost-redux/selectors/entities/users';\nimport {getBool} from 'mattermost-redux/selectors/entities/preferences';\n\nimport {openModal} from 'actions/views/modals';\nimport {hideEditPostModal} from 'actions/post_actions';\nimport {editPost} from 'actions/views/posts';\nimport {getEditingPost} from 'selectors/posts';\nimport Constants from 'utils/constants';\n\nimport EditPostModal from './edit_post_modal.jsx';\n\nfunction mapStateToProps(state) {\n    const config = getConfig(state);\n    const editingPost = getEditingPost(state);\n    const currentUserId = getCurrentUserId(state);\n    let canDeletePost = false;\n    let canEditPost = false;\n    if (editingPost && editingPost.post && editingPost.post.user_id === currentUserId) {\n        canDeletePost = haveIChannelPermission(state, {channel: getCurrentChannelId(state), team: getCurrentTeamId(state), permission: Permissions.DELETE_POST});\n        canEditPost = haveIChannelPermission(state, {channel: getCurrentChannelId(state), team: getCurrentTeamId(state), permission: Permissions.EDIT_POST});\n    } else {\n        canDeletePost = haveIChannelPermission(state, {channel: getCurrentChannelId(state), team: getCurrentTeamId(state), permission: Permissions.DELETE_OTHERS_POSTS});\n        canEditPost = haveIChannelPermission(state, {channel: getCurrentChannelId(state), team: getCurrentTeamId(state), permission: Permissions.EDIT_OTHERS_POSTS});\n    }\n\n    return {\n        canEditPost,\n        canDeletePost,\n        codeBlockOnCtrlEnter: getBool(state, Preferences.CATEGORY_ADVANCED_SETTINGS, 'code_block_ctrl_enter', true),\n        ctrlSend: getBool(state, Preferences.CATEGORY_ADVANCED_SETTINGS, 'send_on_ctrl_enter'),\n        config,\n        editingPost,\n        maxPostSize: parseInt(config.MaxPostSize, 10) || Constants.DEFAULT_CHARACTER_LIMIT,\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            addMessageIntoHistory,\n            editPost,\n            hideEditPostModal,\n            openModal,\n        }, dispatch),\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(EditPostModal);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nexport default class EmojiPickerCategory extends React.Component {\n    static propTypes = {\n        category: PropTypes.string.isRequired,\n        icon: PropTypes.node.isRequired,\n        onCategoryClick: PropTypes.func.isRequired,\n        selected: PropTypes.bool.isRequired,\n        enable: PropTypes.bool.isRequired,\n    }\n\n    shouldComponentUpdate(nextProps) {\n        return nextProps.selected !== this.props.selected ||\n            nextProps.enable !== this.props.enable;\n    }\n\n    handleClick = (e) => {\n        e.preventDefault();\n        this.props.onCategoryClick(this.props.category);\n    }\n\n    render() {\n        let className = 'emoji-picker__category';\n        if (this.props.selected) {\n            className += ' emoji-picker__category--selected';\n        }\n\n        if (!this.props.enable) {\n            className += ' disable';\n        }\n\n        return (\n            <a\n                className={className}\n                href='#'\n                onClick={this.handleClick}\n                aria-label={this.props.category}\n            >\n                {this.props.icon}\n            </a>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nexport default class EmojiPickerHeader extends React.PureComponent {\n    static propTypes = {\n        handleEmojiPickerClose: PropTypes.func.isRequired,\n    };\n\n    render() {\n        return (\n            <div className='emoji-picker__header modal-header'>\n                <button\n                    type='button'\n                    className='close emoji-picker__header-close-button'\n                    onClick={this.props.handleEmojiPickerClose}\n                >\n                    <span aria-hidden='true'>{''}</span>\n                    <span className='sr-only'>\n                        <FormattedMessage\n                            id={'emoji_picker.close'}\n                            defaultMessage={'Close'}\n                        />\n                    </span>\n                </button>\n                <h4 className='modal-title emoji-picker__header-title'>\n                    <FormattedMessage\n                        id={'emoji_picker.header'}\n                        defaultMessage={'Emoji Picker'}\n                    />\n                </h4>\n            </div>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport debounce from 'lodash/debounce';\nimport {getEmojiImageUrl} from 'mattermost-redux/utils/emoji_utils';\nimport {intlShape} from 'react-intl';\n\nimport imgTrans from 'images/img_trans.gif';\n\nconst SCROLLING_ADDITIONAL_VISUAL_SPACING = 10; // to make give the emoji some visual 'breathing room'\nconst EMOJI_LAZY_LOAD_SCROLL_THROTTLE = 150;\n\nexport default class EmojiPickerItem extends React.Component {\n    static propTypes = {\n        emoji: PropTypes.object.isRequired,\n        onItemOver: PropTypes.func.isRequired,\n        onItemClick: PropTypes.func.isRequired,\n        category: PropTypes.string.isRequired,\n        isSelected: PropTypes.bool,\n        categoryIndex: PropTypes.number.isRequired,\n        emojiIndex: PropTypes.number.isRequired,\n        containerRef: PropTypes.any,\n        containerTop: PropTypes.number.isRequired,\n        containerBottom: PropTypes.number.isRequired,\n    };\n\n    static contextTypes = {\n        intl: intlShape.isRequired,\n    };\n\n    shouldComponentUpdate(nextProps) {\n        return nextProps.isSelected !== this.props.isSelected;\n    }\n\n    emojiItemRef = (emojiItem) => {\n        this.emojiItem = emojiItem;\n    };\n\n    emojiName = () => {\n        const {formatMessage} = this.context.intl;\n        return formatMessage({\n            id: 'emoji_picker_item.emoji_aria_label',\n            defaultMessage: '{emojiName} emoji',\n        },\n        {\n            emojiName: this.props.emoji.aliases[0].replace(/_/g, ' '),\n        });\n    }\n\n    componentDidUpdate(prevProps) {\n        if (!prevProps.isSelected && this.props.isSelected) {\n            const topOfTheEmojiItem = this.emojiItem.offsetTop;\n            const bottomOfTheEmojiItem = topOfTheEmojiItem + this.emojiItem.offsetHeight;\n            const {containerRef, containerTop, containerBottom} = this.props;\n            if (topOfTheEmojiItem < containerTop) {\n                containerRef.scrollTop = topOfTheEmojiItem - SCROLLING_ADDITIONAL_VISUAL_SPACING;\n            } else if (bottomOfTheEmojiItem > containerBottom) {\n                containerRef.scrollTop = (bottomOfTheEmojiItem - containerRef.offsetHeight) + SCROLLING_ADDITIONAL_VISUAL_SPACING;\n            }\n        }\n    }\n\n    handleMouseOver = () => {\n        if (!this.props.isSelected) {\n            this.props.onItemOver(this.props.categoryIndex, this.props.emojiIndex);\n        }\n    };\n\n    handleMouseOverThrottle = debounce(this.handleMouseOver, EMOJI_LAZY_LOAD_SCROLL_THROTTLE, {leading: true, trailing: true});\n\n    handleClick = () => {\n        this.props.onItemClick(this.props.emoji);\n    };\n\n    render() {\n        const {emoji} = this.props;\n\n        let itemClassName = 'emoji-picker__item';\n        if (this.props.isSelected) {\n            itemClassName += ' selected';\n        }\n\n        let spriteClassName = 'emojisprite';\n        spriteClassName += ' emoji-category-' + emoji.category + '-' + emoji.batch;\n        spriteClassName += ' emoji-' + emoji.filename;\n\n        let image;\n        if (emoji.category && emoji.batch) {\n            image = (\n                <img\n                    alt={'emoji image'}\n                    data-testid={emoji.aliases}\n                    onMouseOver={this.handleMouseOverThrottle}\n                    src={imgTrans}\n                    className={spriteClassName}\n                    onClick={this.handleClick}\n                    id={'emoji-' + emoji.filename}\n                    aria-label={this.emojiName()}\n                    role='button'\n                />\n            );\n        } else {\n            image = (\n                <img\n                    alt={'custom emoji image'}\n                    onMouseOver={this.handleMouseOver}\n                    src={getEmojiImageUrl(emoji)}\n                    className={'emoji-category--custom'}\n                    onClick={this.handleClick}\n                />\n            );\n        }\n\n        return (\n            <div\n                className={itemClassName}\n                ref={this.emojiItemRef}\n            >\n                <div data-testid='emojiItem'>\n                    {image}\n                </div>\n            </div>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\nimport {getEmojiImageUrl} from 'mattermost-redux/utils/emoji_utils';\n\nimport imgTrans from 'images/img_trans.gif';\n\nexport default class EmojiPickerPreview extends React.Component {\n    static propTypes = {\n        emoji: PropTypes.object,\n    }\n\n    render() {\n        const emoji = this.props.emoji;\n\n        if (emoji) {\n            let name;\n            let aliases;\n            let previewImage;\n\n            if (emoji.aliases && emoji.category && emoji.batch) {\n                // This is a system emoji which only has a list of aliases\n                name = emoji.aliases[0];\n                aliases = emoji.aliases;\n\n                previewImage = (\n                    <span className='sprite-preview'>\n                        <img\n                            id='emojiPickerSpritePreview'\n                            alt={'emoji category image'}\n                            src={imgTrans}\n                            className={'emojisprite-preview emoji-category-' + emoji.category + '-' + emoji.batch + ' emoji-' + emoji.filename}\n                        />\n                    </span>\n                );\n            } else {\n                // This is a custom emoji that matches the model on the server\n                name = emoji.name;\n                aliases = [emoji.name];\n                previewImage = (\n                    <img\n                        id='emojiPickerSpritePreview'\n                        alt={'emoji preview image'}\n                        className='emoji-picker__preview-image'\n                        src={getEmojiImageUrl(emoji)}\n                    />\n                );\n            }\n\n            return (\n                <div className='emoji-picker__preview'>\n                    <div className='emoji-picker__preview-image-box'>\n                        {previewImage}\n                    </div>\n                    <div className='emoji-picker__preview-image-label-box'>\n                        <span className='emoji-picker__preview-name'>{name}</span>\n                        <span\n                            id='emojiPickerAliasesPreview'\n                            className='emoji-picker__preview-aliases'\n                        >\n                            {':' + aliases[0] + ':'}\n                        </span>\n                    </div>\n                </div>\n            );\n        }\n\n        return (\n            <div className='emoji-picker__preview emoji-picker__preview-placeholder'>\n                <FormattedMessage\n                    id='emoji_picker.emojiPicker'\n                    defaultMessage='Emoji Picker'\n                />\n            </div>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\nimport throttle from 'lodash/throttle';\n\nimport * as Emoji from 'utils/emoji.jsx';\nimport {compareEmojis} from 'utils/emoji_utils.jsx';\nimport {t} from 'utils/i18n';\nimport imgTrans from 'images/img_trans.gif';\n\nimport LocalizedInput from 'components/localized_input/localized_input';\n\nimport EmojiPickerCategory from './components/emoji_picker_category';\nimport EmojiPickerItem from './components/emoji_picker_item';\nimport EmojiPickerCategorySection from './emoji_picker_category_section';\nimport EmojiPickerPreview from './components/emoji_picker_preview';\n\nconst CATEGORY_SEARCH_RESULTS = 'searchResults';\nt('emoji_picker.searchResults');\n\nconst EMOJI_HEIGHT = 27;\n\n// If this changes, the spaceRequiredAbove and spaceRequiredBelow props passed to the EmojiPickerOverlay must be updated\nconst EMOJI_CONTAINER_HEIGHT = 290;\nconst EMOJI_CONTAINER_STYLE = {\n    height: EMOJI_CONTAINER_HEIGHT,\n};\n\nconst EMOJI_LAZY_LOAD_BUFFER = 75;\nconst EMOJI_PER_ROW = 9; // needs to match variable `$emoji-per-row` in _variables.scss\nconst EMOJI_TO_LOAD_PER_UPDATE = 135;\nconst SYSTEM_EMOJIS_COUNT = 1476;\nconst EMOJI_LAZY_LOAD_SCROLL_THROTTLE = 100;\n\nconst recentEmojiCategory = {\n    recent: {\n        name: 'recent',\n        className: 'fa fa-clock-o',\n        id: t('emoji_picker.recent'),\n        message: 'Recently Used',\n        offset: 0,\n    },\n};\n\nconst peopleEmojiCategory = {\n    people: {\n        name: 'people',\n        className: 'fa fa-smile-o',\n        id: t('emoji_picker.people'),\n        message: 'People',\n        offset: 0,\n    },\n};\n\nconst CATEGORIES = {\n    ...peopleEmojiCategory,\n    nature: {\n        name: 'nature',\n        className: 'fa fa-leaf',\n        id: t('emoji_picker.nature'),\n        message: 'Nature',\n        offset: 0,\n    },\n    foods: {\n        name: 'foods',\n        className: 'fa fa-cutlery',\n        id: t('emoji_picker.foods'),\n        message: 'Foods',\n        offset: 0,\n    },\n    activity: {\n        name: 'activity',\n        className: 'fa fa-futbol-o',\n        id: t('emoji_picker.activity'),\n        message: 'Activity',\n        offset: 0,\n    },\n    places: {\n        name: 'places',\n        className: 'fa fa-plane',\n        id: t('emoji_picker.places'),\n        message: 'Places',\n        offset: 0,\n    },\n    objects: {\n        name: 'objects',\n        className: 'fa fa-lightbulb-o',\n        id: t('emoji_picker.objects'),\n        message: 'Objects',\n        offset: 0,\n    },\n    symbols: {\n        name: 'symbols',\n        className: 'fa fa-heart-o',\n        id: t('emoji_picker.symbols'),\n        message: 'Symbols',\n        offset: 0,\n    },\n    flags: {\n        name: 'flags',\n        className: 'fa fa-flag-o',\n        id: t('emoji_picker.flags'),\n        message: 'Flags',\n        offset: 0,\n    },\n    custom: {\n        name: 'custom',\n        className: 'fa fa-at',\n        id: t('emoji_picker.custom'),\n        message: 'Custom',\n        offset: 0,\n    },\n};\n\nfunction getEmojiFilename(emoji) {\n    return emoji.filename || emoji.id;\n}\n\nexport function filterEmojiSearchInput(input) {\n    return input.toLowerCase().replace(/^:|:$/g, '');\n}\n\nconst EMOJIS_PER_PAGE = 200;\nconst LOAD_MORE_AT_PIXELS_FROM_BOTTOM = 500;\n\nexport default class EmojiPicker extends React.PureComponent {\n    static propTypes = {\n        listHeight: PropTypes.number,\n        onEmojiClose: PropTypes.func.isRequired,\n        onEmojiClick: PropTypes.func.isRequired,\n        customEmojisEnabled: PropTypes.bool,\n        emojiMap: PropTypes.object.isRequired,\n        recentEmojis: PropTypes.array.isRequired,\n        customEmojiPage: PropTypes.number.isRequired,\n        visible: PropTypes.bool,\n        actions: PropTypes.shape({\n            getCustomEmojis: PropTypes.func.isRequired,\n            searchCustomEmojis: PropTypes.func.isRequired,\n            incrementEmojiPickerPage: PropTypes.func.isRequired,\n        }).isRequired,\n    };\n\n    static defaultProps = {\n        listHeight: 245,\n        customEmojiPage: 0,\n        customEmojisEnabled: false,\n    };\n\n    static getEmojis(props, state) {\n        const {categories, allEmojis} = state;\n        const emojiMap = props.emojiMap;\n        const customEmojiMap = emojiMap.customEmojis;\n\n        for (const category of Object.keys(categories)) {\n            let categoryEmojis = [];\n            if (category === 'recent' && props.recentEmojis.length) {\n                const recentEmojis = [...props.recentEmojis].reverse();\n                categoryEmojis = recentEmojis.filter((name) => {\n                    return emojiMap.has(name);\n                }).map((name) => {\n                    return emojiMap.get(name);\n                });\n            } else {\n                const indices = Emoji.EmojiIndicesByCategory.get(category) || [];\n                categoryEmojis = indices.map((index) => Emoji.Emojis[index]);\n                if (category === 'custom') {\n                    categoryEmojis = categoryEmojis.concat([...customEmojiMap.values()]);\n                }\n            }\n            categories[category].emojiIds = categoryEmojis.map((emoji) => getEmojiFilename(emoji));\n            for (let i = 0; i < categoryEmojis.length; i++) {\n                const currentEmoji = categoryEmojis[i];\n                const fileName = getEmojiFilename(currentEmoji);\n                allEmojis[fileName] = {\n                    ...currentEmoji,\n                    visible: false,\n                    offset: null,\n                };\n                if (!currentEmoji.filename) {\n                    // if custom emoji, set proper attributes\n                    allEmojis[fileName] = {\n                        ...allEmojis[fileName],\n                        aliases: [currentEmoji.name],\n                        category: 'custom',\n                        filename: fileName,\n                    };\n                }\n            }\n        }\n\n        return {categories, allEmojis};\n    }\n\n    static getDerivedStateFromProps(props, state) {\n        let updatedState = {emojiMap: props.emojiMap};\n        if (JSON.stringify(Object.keys(state.categories)) !== state.categoryKeys || props.emojiMap !== state.emojiMap) {\n            const {categories, allEmojis} = EmojiPicker.getEmojis(props, state);\n            updatedState = {...updatedState, categories, allEmojis, categoryKeys: JSON.stringify(Object.keys(categories))};\n        }\n\n        return updatedState;\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.handleScrollThrottle = throttle(this.handleScroll, EMOJI_LAZY_LOAD_SCROLL_THROTTLE, {leading: false, trailing: true});\n\n        this.divHeight = 0;\n        this.missingPages = true;\n        this.loadingMoreEmojis = false;\n        const categories = props.recentEmojis.length ? {...recentEmojiCategory, ...peopleEmojiCategory} : peopleEmojiCategory;\n        this.state = {\n            allEmojis: {},\n            categories,\n            filter: '',\n            cursor: [-1, -1], // categoryIndex, emojiIndex\n            divTopOffset: 0,\n            emojisToShow: SYSTEM_EMOJIS_COUNT,\n            renderAllCategories: false,\n        };\n    }\n\n    componentDidMount() {\n        if (this.props.customEmojiPage === 0) {\n            this.loadMoreCustomEmojis();\n        }\n\n        // Delay taking focus because this briefly renders offscreen when using an Overlay\n        // so focusing it immediately on mount can cause weird scrolling\n        window.requestAnimationFrame(() => {\n            if (this.searchInput) {\n                this.searchInput.focus();\n            }\n            this.renderAllCategoriesFrame = window.requestAnimationFrame(() => {\n                this.renderAllCategories();\n            });\n        });\n\n        if (this.emojiPickerContainer) {\n            this.divHeight = this.emojiPickerContainer.offsetHeight;\n        }\n\n        const rootComponent = document.getElementById('root');\n        if (rootComponent) {\n            rootComponent.classList.add('emoji-picker--active');\n        }\n    }\n\n    updateEmojisToShow(divTopOffset) {\n        if (divTopOffset === this.state.divTopOffset) {\n            return;\n        }\n\n        this.setState({divTopOffset});\n        if (this.lastVisibleEmoji) {\n            const difference = this.lastVisibleEmoji.offsetTop - (divTopOffset + EMOJI_CONTAINER_HEIGHT + EMOJI_LAZY_LOAD_BUFFER);\n            if (difference <= 0) {\n                const numToLoad = EMOJI_TO_LOAD_PER_UPDATE + Math.ceil((difference / EMOJI_HEIGHT) * EMOJI_PER_ROW * -1);\n                this.setState((state) => ({\n                    emojisToShow: state.emojisToShow + numToLoad,\n                }));\n            }\n        }\n    }\n\n    componentWillUnmount() {\n        if (this.renderAllCategoriesFrame) {\n            window.cancelAnimationFrame(this.renderAllCategoriesFrame);\n        }\n\n        const rootComponent = document.getElementById('root');\n        if (rootComponent) {\n            rootComponent.classList.remove('emoji-picker--active');\n        }\n    }\n\n    renderAllCategories = () => {\n        const categories = this.props.recentEmojis.length ? {...recentEmojiCategory, ...CATEGORIES} : CATEGORIES;\n        this.setState((state) => ({\n            categories: {\n                ...categories,\n                ...state.categories,\n            },\n            renderAllCategories: true,\n        }));\n    }\n\n    loadMoreCustomEmojis = async () => {\n        if (!this.props.customEmojisEnabled || this.loadingMoreEmojis) {\n            return;\n        }\n\n        this.loadingMoreEmojis = true;\n\n        const {data} = await this.props.actions.getCustomEmojis(this.props.customEmojiPage, EMOJIS_PER_PAGE);\n        if (!data) {\n            this.loadingMoreEmojis = false;\n            return;\n        }\n\n        if (data.length < EMOJIS_PER_PAGE) {\n            this.missingPages = false;\n            this.loadingMoreEmojis = false;\n            return;\n        }\n\n        await this.props.actions.incrementEmojiPickerPage();\n\n        this.loadingMoreEmojis = false;\n    }\n\n    componentDidUpdate(prevProps) {\n        if (this.props.visible && !prevProps.visible) {\n            this.searchInput.focus();\n        }\n\n        if (!this.missingPages || !this.emojiPickerContainer) {\n            return;\n        }\n\n        const pixelsFromBottom = this.emojiPickerContainer.scrollHeight - this.state.divTopOffset - this.emojiPickerContainer.clientHeight;\n        if (pixelsFromBottom <= LOAD_MORE_AT_PIXELS_FROM_BOTTOM) {\n            this.loadMoreCustomEmojis();\n        }\n    }\n\n    lastVisibleEmojiRef = (lastVisibleEmoji) => {\n        this.lastVisibleEmoji = lastVisibleEmoji;\n    };\n    emojiPickerContainerRef = (emojiPickerContainer) => {\n        this.emojiPickerContainer = emojiPickerContainer;\n    };\n    emojiSearchInput = (input) => {\n        this.searchInput = input;\n    };\n\n    handleCategoryClick = (categoryName) => {\n        this.setState({\n            cursor: [Object.keys(this.state.categories).indexOf(categoryName), 0],\n        });\n        this.updateEmojisToShow(this.state.categories[categoryName].offset);\n        this.emojiPickerContainer.scrollTop = this.state.categories[categoryName].offset;\n        this.searchInput.focus();\n    }\n\n    handleFilterChange = (e) => {\n        e.preventDefault();\n        const filter = filterEmojiSearchInput(e.target.value);\n\n        if (this.props.customEmojisEnabled && filter && filter.trim() !== '') {\n            this.props.actions.searchCustomEmojis(filter);\n        }\n\n        this.setState(() => ({\n            filter,\n            cursor: [0, 0],\n        }));\n    }\n\n    handleItemOver = (categoryIndex, emojiIndex) => {\n        this.setState({\n            cursor: [categoryIndex, emojiIndex],\n        });\n    }\n\n    handleItemClick = (emoji) => {\n        this.props.onEmojiClick(emoji);\n    }\n\n    handleCategoryKeyDown = (e) => {\n        switch (e.key) {\n        case 'ArrowRight':\n            e.preventDefault();\n            this.selectNextEmoji();\n            this.searchInput.focus();\n            break;\n        case 'ArrowLeft':\n            e.preventDefault();\n            this.selectPrevEmoji();\n            this.searchInput.focus();\n            break;\n        case 'ArrowUp':\n            e.preventDefault();\n            this.selectPrevEmoji(EMOJI_PER_ROW);\n            this.searchInput.focus();\n            break;\n        case 'ArrowDown':\n            e.preventDefault();\n            this.selectNextEmoji(EMOJI_PER_ROW);\n            this.searchInput.focus();\n            break;\n        }\n    }\n\n    handleKeyDown = (e) => {\n        switch (e.key) {\n        case 'ArrowRight':\n            e.preventDefault();\n            this.selectNextEmoji();\n            break;\n        case 'ArrowLeft':\n            e.preventDefault();\n            this.selectPrevEmoji();\n            break;\n        case 'ArrowUp':\n            e.preventDefault();\n            this.selectPrevEmoji(EMOJI_PER_ROW);\n            break;\n        case 'ArrowDown':\n            e.preventDefault();\n            this.selectNextEmoji(EMOJI_PER_ROW);\n            break;\n        case 'Enter':\n            e.preventDefault();\n            if (this.getCurrentEmojiByCursor(this.state.cursor)) {\n                this.props.onEmojiClick(this.getCurrentEmojiByCursor(this.state.cursor));\n            }\n            break;\n        }\n    }\n\n    handleScroll = () => {\n        if (this.emojiPickerContainer) {\n            this.updateEmojisToShow(this.emojiPickerContainer.scrollTop);\n        }\n    }\n\n    selectNextEmoji(offset = 1) {\n        const {cursor} = this.state;\n\n        // try moving to next emoji in index\n        let newCursor = [cursor[0], cursor[1] + offset];\n        if (this.getCurrentEmojiByCursor(newCursor)) {\n            this.setState({cursor: newCursor});\n            return;\n        }\n\n        // try moving to next category\n        newCursor = [cursor[0] + 1, 0];\n        if (this.getCurrentEmojiByCursor(newCursor)) {\n            this.setState({cursor: newCursor});\n        }\n    }\n\n    selectPrevEmoji(offset = 1) {\n        const {cursor} = this.state;\n\n        // try moving to prev emoji in index\n        let newCursor = [cursor[0], cursor[1] - offset];\n        if (this.getCurrentEmojiByCursor(newCursor)) {\n            this.setState({cursor: newCursor});\n            return;\n        }\n\n        // try moving to end of prev category\n        if (cursor[0] !== 0) {\n            const newCategory = this.getCategoryByIndex(cursor[0] - 1);\n            const lastVisibleEmojiInNewCategory = this.state.categories[newCategory.name].emojiIds.length - 1;\n            newCursor = [cursor[0] - 1, lastVisibleEmojiInNewCategory];\n            if (this.getCurrentEmojiByCursor(newCursor)) {\n                this.setState({cursor: newCursor});\n            }\n        }\n    }\n\n    getCategoryByIndex(index) {\n        if (this.state.filter && index !== 0) {\n            return null;\n        }\n        return this.getCategoriesByKey(Object.keys(this.state.categories)[index]);\n    }\n\n    getCurrentEmojiByCursor(cursor) {\n        const category = this.getCategoryByIndex(cursor[0]);\n        if (!category) {\n            return null;\n        }\n        return this.getEmojisByCategory(category)[cursor[1]];\n    }\n\n    getCategoriesByKey(key) {\n        return this.state.filter ? {\n            id: CATEGORY_SEARCH_RESULTS,\n            name: CATEGORY_SEARCH_RESULTS,\n        } : this.state.categories[key];\n    }\n\n    sortEmojis(emojis) {\n        const {recentEmojis: recentEmojisProps} = this.props;\n        const recentEmojis = [];\n        const emojisMinusRecent = [];\n\n        Object.values(emojis).forEach((emoji) => {\n            let emojiArray = emojisMinusRecent;\n            for (let i = 0; i < emoji.aliases.length; i++) {\n                if (recentEmojisProps.includes(emoji.aliases[i].toLowerCase())) {\n                    emojiArray = recentEmojis;\n                }\n            }\n\n            emojiArray.push(emoji);\n        });\n\n        const sortEmojisHelper = (a, b) => {\n            return compareEmojis(a, b, this.state.filter);\n        };\n\n        recentEmojis.sort(sortEmojisHelper);\n\n        emojisMinusRecent.sort(sortEmojisHelper);\n\n        return [\n            ...recentEmojis,\n            ...emojisMinusRecent,\n        ];\n    }\n\n    getEmojisByCategory(category) {\n        if (this.state.filter) {\n            const emojis = Object.values(this.state.allEmojis).filter((emoji) => {\n                for (let i = 0; i < emoji.aliases.length; i++) {\n                    if (emoji.aliases[i].toLowerCase().includes(this.state.filter)) {\n                        return true;\n                    }\n                }\n\n                return false;\n            });\n\n            return this.sortEmojis(emojis);\n        }\n        return this.state.categories[category.name].emojiIds.map((emojiId) =>\n            this.state.allEmojis[emojiId]);\n    }\n\n    getCurrentEmojiName() {\n        const emoji = this.getCurrentEmojiByCursor(this.state.cursor);\n        if (!emoji) {\n            return '';\n        }\n\n        return emoji.aliases[0].replace(/_/g, ' ');\n    }\n\n    getCurrentEmojiCategoryName() {\n        const categories = Object.keys(this.state.categories);\n        let currentCategoryName = categories[0];\n\n        for (let i = categories.length - 1; i >= 0; i--) {\n            // go through in reverse so that you get the last category that matches\n            const category = this.state.categories[categories[i]];\n            if (category.offset && this.state.divTopOffset > category.offset - 20) {\n                currentCategoryName = categories[i];\n                break;\n            }\n        }\n        return currentCategoryName;\n    }\n\n    emojiCategories() {\n        const categories = this.props.recentEmojis.length ? {...recentEmojiCategory, ...CATEGORIES} : CATEGORIES;\n        const categoryKeys = Object.keys(categories);\n        const currentCategoryName = this.state.filter ? categoryKeys[0] : this.getCurrentEmojiCategoryName();\n        const emojiPickerCategories = categoryKeys.map((categoryName) => {\n            const category = categories[categoryName];\n\n            return (\n                <EmojiPickerCategory\n                    key={'header-' + category.name}\n                    category={category.name}\n                    icon={\n                        <FormattedMessage\n                            id={category.id}\n                            defaultMessage={category.message}\n                        >\n                            {(title) => (\n                                <i\n                                    className={category.className}\n                                    title={title}\n                                />\n                            )}\n                        </FormattedMessage>\n                    }\n                    onCategoryClick={this.handleCategoryClick}\n                    selected={currentCategoryName === category.name}\n                    enable={!this.state.filter}\n                />\n            );\n        });\n        return (\n            <div\n                id='emojiPickerCategories'\n                className='emoji-picker__categories'\n                onKeyDown={this.handleCategoryKeyDown}\n            >\n                {emojiPickerCategories}\n            </div>\n        );\n    }\n\n    emojiSearch() {\n        return (\n            <div className='emoji-picker__search-container'>\n                <span className='fa fa-search emoji-picker__search-icon'/>\n                <FormattedMessage\n                    id='emoji_picker.search_emoji'\n                    defaultMessage='Search for an emoji'\n                >\n                    {(ariaLabel) => (\n                        <LocalizedInput\n                            id='emojiPickerSearch'\n                            aria-label={ariaLabel}\n                            ref={this.emojiSearchInput}\n                            className='emoji-picker__search'\n                            data-testid='emojiInputSearch'\n                            type='text'\n                            onChange={this.handleFilterChange}\n                            onKeyDown={this.handleKeyDown}\n                            placeholder={{id: t('emoji_picker.search'), defaultMessage: 'Search Emoji'}}\n                        />\n                    )}\n                </FormattedMessage>\n            </div>\n        );\n    }\n\n    emojiCurrentResults() {\n        const {filter} = this.state;\n        const categories = filter ? [CATEGORY_SEARCH_RESULTS] : Object.keys(this.state.categories);\n        let numEmojisLoaded = 0;\n\n        let categoryComponents = [];\n        for (let i = 0; i < categories.length; i++) {\n            const category = this.getCategoriesByKey(categories[i]);\n            const emojis = this.getEmojisByCategory(category);\n            const items = this.emojiCurrentResultsItems(i, emojis, numEmojisLoaded);\n            numEmojisLoaded += items.length;\n            categoryComponents = [...categoryComponents, (\n                <EmojiPickerCategorySection\n                    key={category.id}\n                    categoryName={category.name}\n                    updateCategoryOffset={this.updateCategoryOffset}\n                    role='application'\n                >\n                    {items}\n                </EmojiPickerCategorySection>\n            )];\n        }\n\n        return (\n            <div\n                ref={this.emojiPickerContainerRef}\n                onScroll={this.handleScrollThrottle}\n                className='emoji-picker__items'\n                style={(EMOJI_CONTAINER_STYLE, {overflowY: this.state.renderAllCategories ? 'auto' : 'hidden'})}\n            >\n                <div className='emoji-picker__container'>\n                    {categoryComponents}\n                </div>\n            </div>\n        );\n    }\n    emojiCurrentResultsItems = (categoryIndex, emojis, currentEmojiLoadedCount) => {\n        const {cursor, emojisToShow} = this.state;\n        let numEmojisLoaded = currentEmojiLoadedCount;\n\n        return emojis.map((emoji, emojiIndex) => {\n            numEmojisLoaded++;\n\n            // set ref on first unloaded emoji\n            let ref;\n            if (numEmojisLoaded === emojisToShow) {\n                ref = this.lastVisibleEmojiRef;\n            }\n            if (numEmojisLoaded >= emojisToShow) {\n                return (\n                    <div\n                        key={numEmojisLoaded}\n                        className='emoji-picker__item'\n                        ref={ref}\n                    >\n                        <img\n                            alt={'emoji image'}\n                            src={imgTrans}\n                            className='emojisprite'\n                        />\n                    </div>\n                );\n            }\n            return (\n                <EmojiPickerItem\n                    key={emoji.filename + ':' + emojiIndex}\n                    emoji={emoji}\n                    onItemOver={this.handleItemOver}\n                    onItemClick={this.handleItemClick}\n                    onItemUnmount={emoji}\n                    category={emoji.category}\n                    isSelected={cursor[0] === (categoryIndex) && cursor[1] === emojiIndex}\n                    categoryIndex={categoryIndex}\n                    emojiIndex={emojiIndex}\n                    containerRef={this.emojiPickerContainer}\n                    containerTop={this.state.divTopOffset}\n                    containerBottom={this.state.divTopOffset + this.divHeight}\n                />\n            );\n        });\n    };\n\n    updateCategoryOffset = (categoryName, offset) => {\n        if (categoryName !== CATEGORY_SEARCH_RESULTS) {\n            this.setState((state) => ({\n                categories: {\n                    ...state.categories,\n                    [categoryName]: {\n                        ...state.categories[categoryName],\n                        offset,\n                    },\n                },\n            }));\n        }\n    }\n\n    render() {\n        return (\n            <div\n                className='emoji-picker__inner'\n                role='application'\n            >\n                <div\n                    aria-live='assertive'\n                    className='sr-only'\n                >\n                    <FormattedMessage\n                        id='emoji_picker_item.emoji_aria_label'\n                        defaultMessage='{emojiName} emoji'\n                        values={{\n                            emojiName: this.getCurrentEmojiName(),\n                        }}\n                    />\n                </div>\n                {this.emojiSearch()}\n                {this.emojiCategories()}\n                {this.emojiCurrentResults()}\n                <EmojiPickerPreview emoji={this.getCurrentEmojiByCursor(this.state.cursor)}/>\n            </div>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nexport default class EmojiPickerCategorySection extends React.PureComponent {\n    static propTypes = {\n        categoryName: PropTypes.string.isRequired,\n        children: PropTypes.any,\n        updateCategoryOffset: PropTypes.func.isRequired,\n    };\n\n    componentDidMount() {\n        this.updateOffsetFrame = window.requestAnimationFrame(() => {\n            this.props.updateCategoryOffset(this.props.categoryName, this.div.offsetTop);\n        });\n    }\n\n    componentWillUnmount() {\n        if (this.updateOffsetFrame) {\n            window.cancelAnimationFrame(this.updateOffsetFrame);\n        }\n    }\n\n    divRef = (div) => {\n        this.div = div;\n    };\n\n    render() {\n        return (\n            <div\n                ref={this.divRef}\n            >\n                <div className='emoji-picker-items__container'>\n                    <div\n                        className='emoji-picker__category-header'\n                        id={`emojipickercat-${this.props.categoryName}`}\n                    >\n                        <FormattedMessage id={'emoji_picker.' + this.props.categoryName}/>\n                    </div>\n                </div>\n                <div className='emoji-picker-items__container'>\n                    {this.props.children}\n                </div>\n            </div>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {Overlay} from 'react-bootstrap';\n\nimport {popOverOverlayPosition} from 'utils/position_utils.tsx';\nimport {Constants} from 'utils/constants';\n\nimport EmojiPickerTabs from './emoji_picker_tabs.jsx';\n\nexport default class EmojiPickerOverlay extends React.PureComponent {\n    // An emoji picker in the center channel is contained within the post list, so it needs space\n    // above for the channel header and below for the post textbox\n    static CENTER_SPACE_REQUIRED_ABOVE = 476;\n    static CENTER_SPACE_REQUIRED_BELOW = 497;\n\n    // An emoji picker in the RHS isn't constrained by the RHS, so it just needs space to fit\n    // the emoji picker itself\n    static RHS_SPACE_REQUIRED_ABOVE = 420;\n    static RHS_SPACE_REQUIRED_BELOW = 420;\n\n    static propTypes = {\n        show: PropTypes.bool.isRequired,\n        container: PropTypes.func,\n        target: PropTypes.func.isRequired,\n        onEmojiClick: PropTypes.func.isRequired,\n        onGifClick: PropTypes.func,\n        onHide: PropTypes.func.isRequired,\n        topOffset: PropTypes.number,\n        spaceRequiredAbove: PropTypes.number,\n        spaceRequiredBelow: PropTypes.number,\n        enableGifPicker: PropTypes.bool,\n    };\n\n    // Reasonable defaults calculated from from the center channel\n    static defaultProps = {\n        spaceRequiredAbove: EmojiPickerOverlay.CENTER_SPACE_REQUIRED_ABOVE,\n        spaceRequiredBelow: EmojiPickerOverlay.CENTER_SPACE_REQUIRED_BELOW,\n        enableGifPicker: false,\n    };\n\n    constructor(props) {\n        super(props);\n        this.state = {};\n    }\n\n    static emojiPickerPosition(props) {\n        const emojiTrigger = props.target();\n        let rightOffset = Constants.DEFAULT_EMOJI_PICKER_RIGHT_OFFSET;\n        if (emojiTrigger) {\n            rightOffset = window.innerWidth - emojiTrigger.getBoundingClientRect().left - Constants.DEFAULT_EMOJI_PICKER_LEFT_OFFSET;\n\n            if (rightOffset < Constants.DEFAULT_EMOJI_PICKER_RIGHT_OFFSET) {\n                rightOffset = Constants.DEFAULT_EMOJI_PICKER_RIGHT_OFFSET;\n            }\n        }\n\n        return rightOffset;\n    }\n\n    static getPlacement(props) {\n        const target = props.target();\n        if (target) {\n            const targetBounds = target.getBoundingClientRect();\n            return popOverOverlayPosition(targetBounds, window.innerHeight, props.spaceRequiredAbove, props.spaceRequiredBelow);\n        }\n\n        return 'top';\n    }\n\n    static getDerivedStateFromProps(props) {\n        return {\n            placement: EmojiPickerOverlay.getPlacement(props),\n            rightOffset: EmojiPickerOverlay.emojiPickerPosition(props),\n        };\n    }\n\n    render() {\n        return (\n            <Overlay\n                show={this.props.show}\n                placement={this.state.placement}\n                rootClose={true}\n                container={this.props.container}\n                onHide={this.props.onHide}\n                target={this.props.target}\n                animation={false}\n            >\n                <EmojiPickerTabs\n                    enableGifPicker={this.props.enableGifPicker}\n                    onEmojiClose={this.props.onHide}\n                    onEmojiClick={this.props.onEmojiClick}\n                    onGifClick={this.props.onGifClick}\n                    rightOffset={this.state.rightOffset}\n                    topOffset={this.props.topOffset}\n                />\n            </Overlay>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React, {PureComponent} from 'react';\nimport {Tab, Tabs} from 'react-bootstrap';\n\nimport GifPicker from 'components/gif_picker/gif_picker.jsx';\nimport EmojiIcon from 'components/widgets/icons/emoji_icon';\nimport GfycatIcon from 'components/widgets/icons/gfycat_icon';\n\nimport EmojiPickerHeader from './components/emoji_picker_header';\n\nimport EmojiPicker from './';\n\nexport default class EmojiPickerTabs extends PureComponent {\n    static propTypes = {\n        style: PropTypes.object,\n        rightOffset: PropTypes.number,\n        topOffset: PropTypes.number,\n        placement: PropTypes.oneOf(['top', 'bottom', 'left']),\n        customEmojis: PropTypes.object,\n        onEmojiClose: PropTypes.func.isRequired,\n        onEmojiClick: PropTypes.func.isRequired,\n        onGifClick: PropTypes.func,\n        enableGifPicker: PropTypes.bool,\n    };\n\n    static defaultProps = {\n        rightOffset: 0,\n        topOffset: 0,\n    };\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            emojiTabVisible: true,\n        };\n    }\n\n    handleEnterEmojiTab = () => {\n        this.setState({\n            emojiTabVisible: true,\n        });\n    };\n\n    handleExitEmojiTab = () => {\n        this.setState({\n            emojiTabVisible: false,\n        });\n    };\n\n    handleEmojiPickerClose = () => {\n        this.props.onEmojiClose();\n    }\n\n    render() {\n        let pickerStyle;\n        if (this.props.style && !(this.props.style.left === 0 && this.props.style.top === 0)) {\n            if (this.props.placement === 'top' || this.props.placement === 'bottom') {\n                // Only take the top/bottom position passed by React Bootstrap since we want to be right-aligned\n                pickerStyle = {\n                    top: this.props.style.top,\n                    bottom: this.props.style.bottom,\n                    right: this.props.rightOffset,\n                };\n            } else {\n                pickerStyle = {...this.props.style};\n            }\n\n            if (pickerStyle.top) {\n                pickerStyle.top += this.props.topOffset;\n            }\n        }\n\n        let pickerClass = 'emoji-picker';\n        if (this.props.placement === 'bottom') {\n            pickerClass += ' bottom';\n        }\n\n        if (this.props.enableGifPicker && typeof this.props.onGifClick != 'undefined') {\n            return (\n                <Tabs\n                    defaultActiveKey={1}\n                    id='emoji-picker-tabs'\n                    style={pickerStyle}\n                    className={pickerClass}\n                    justified={true}\n                >\n                    <EmojiPickerHeader handleEmojiPickerClose={this.handleEmojiPickerClose}/>\n                    <Tab\n                        eventKey={1}\n                        onEnter={this.handleEnterEmojiTab}\n                        onExit={this.handleExitEmojiTab}\n                        title={<EmojiIcon/>}\n                    >\n                        <EmojiPicker\n                            style={this.props.style}\n                            onEmojiClose={this.props.onEmojiClose}\n                            onEmojiClick={this.props.onEmojiClick}\n                            customEmojis={this.props.customEmojis}\n                            visible={this.state.emojiTabVisible}\n                        />\n                    </Tab>\n                    <Tab\n                        eventKey={2}\n                        title={<GfycatIcon/>}\n                        mountOnEnter={true}\n                        unmountOnExit={true}\n                    >\n                        <GifPicker\n                            onGifClick={this.props.onGifClick}\n                        />\n                    </Tab>\n                </Tabs>\n            );\n        }\n        return (\n            <div\n                id='emojiPicker'\n                style={pickerStyle}\n                className={`a11y__popup ${pickerClass} emoji-picker--single`}\n            >\n                <EmojiPickerHeader handleEmojiPickerClose={this.handleEmojiPickerClose}/>\n                <EmojiPicker\n                    style={this.props.style}\n                    onEmojiClose={this.props.onEmojiClose}\n                    onEmojiClick={this.props.onEmojiClick}\n                    customEmojis={this.props.customEmojis}\n                />\n            </div>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\n\nimport {getCustomEmojis, searchCustomEmojis} from 'mattermost-redux/actions/emojis';\n\nimport {incrementEmojiPickerPage} from 'actions/emoji_actions.jsx';\nimport {getEmojiMap, getRecentEmojis} from 'selectors/emojis';\n\nimport EmojiPicker from './emoji_picker.jsx';\n\nfunction mapStateToProps(state) {\n    return {\n        customEmojisEnabled: state.entities.general.config.EnableCustomEmoji === 'true',\n        customEmojiPage: state.views.emoji.emojiPickerCustomPage,\n        emojiMap: getEmojiMap(state),\n        recentEmojis: getRecentEmojis(state),\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            getCustomEmojis,\n            searchCustomEmojis,\n            incrementEmojiPickerPage,\n        }, dispatch),\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(EmojiPicker);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport {getImageSrc} from 'utils/post_utils.jsx';\n\nexport default class ExternalImage extends React.PureComponent {\n    static propTypes = {\n        children: PropTypes.func.isRequired,\n        enableSVGs: PropTypes.bool.isRequired,\n        hasImageProxy: PropTypes.bool.isRequired,\n        imageMetadata: PropTypes.object,\n        src: PropTypes.string.isRequired,\n    };\n\n    isSVGImage = () => {\n        if (!this.props.imageMetadata) {\n            // Just check if the string contains an svg extension instead of if it ends with one because it avoids\n            // having to deal with query strings and proxied image URLs\n            return this.props.src.indexOf('.svg') !== -1;\n        }\n\n        return this.props.imageMetadata.format === 'svg';\n    }\n\n    shouldRenderImage = () => {\n        // Return true unless the image is an SVG and we have SVG rendering disabled\n        return this.props.enableSVGs || !this.isSVGImage();\n    }\n\n    render() {\n        let src = getImageSrc(this.props.src, this.props.hasImageProxy);\n\n        if (!this.shouldRenderImage()) {\n            src = '';\n        }\n\n        return this.props.children(src);\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\n\nimport {getConfig} from 'mattermost-redux/selectors/entities/general';\n\nimport ExternalImage from './external_image';\n\nfunction mapStateToProps(state) {\n    const config = getConfig(state);\n\n    return {\n        enableSVGs: config.EnableSVGs === 'true',\n        hasImageProxy: config.HasImageProxy === 'true',\n    };\n}\n\nexport default connect(mapStateToProps)(ExternalImage);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {getFileThumbnailUrl, getFileUrl} from 'mattermost-redux/utils/file_utils';\n\nimport {FileTypes} from 'utils/constants';\nimport {\n    trimFilename,\n} from 'utils/file_utils';\nimport {\n    fileSizeToString,\n    getFileType,\n    loadImage,\n    localizeMessage,\n} from 'utils/utils.jsx';\n\nimport DownloadIcon from 'components/widgets/icons/download_icon';\n\nimport FilenameOverlay from './filename_overlay.jsx';\nimport FileThumbnail from './file_thumbnail';\n\nexport default class FileAttachment extends React.PureComponent {\n    static propTypes = {\n\n        /*\n         * File detailed information\n         */\n        fileInfo: PropTypes.object.isRequired,\n\n        /*\n         * The index of this attachment preview in the parent FileAttachmentList\n         */\n        index: PropTypes.number.isRequired,\n\n        /*\n         * Handler for when the thumbnail is clicked passed the index above\n         */\n        handleImageClick: PropTypes.func,\n\n        /*\n         * Display in compact format\n         */\n        compactDisplay: PropTypes.bool,\n\n        canDownloadFiles: PropTypes.bool,\n        enableSVGs: PropTypes.bool.isRequired,\n    };\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            loaded: getFileType(props.fileInfo.extension) !== FileTypes.IMAGE,\n            fileInfo: props.fileInfo,\n        };\n    }\n\n    componentDidMount() {\n        this.mounted = true;\n        this.loadFiles();\n    }\n\n    static getDerivedStateFromProps(nextProps, prevState) {\n        if (nextProps.fileInfo.id !== prevState.fileInfo.id) {\n            const extension = nextProps.fileInfo.extension;\n\n            return {\n                loaded: getFileType(extension) !== FileTypes.IMAGE && !(nextProps.enableSVGs && extension === FileTypes.SVG),\n                fileInfo: nextProps.fileInfo,\n            };\n        }\n\n        return null;\n    }\n\n    componentDidUpdate(prevProps) {\n        if (!this.state.loaded && this.props.fileInfo.id !== prevProps.fileInfo.id) {\n            this.loadFiles();\n        }\n    }\n\n    componentWillUnmount() {\n        this.mounted = false;\n    }\n\n    loadFiles = () => {\n        const fileInfo = this.props.fileInfo;\n        const fileType = getFileType(fileInfo.extension);\n\n        if (fileType === FileTypes.IMAGE) {\n            const thumbnailUrl = getFileThumbnailUrl(fileInfo.id);\n\n            loadImage(thumbnailUrl, this.handleImageLoaded);\n        } else if (fileInfo.extension === FileTypes.SVG && this.props.enableSVGs) {\n            loadImage(getFileUrl(fileInfo.id), this.handleImageLoaded);\n        }\n    }\n\n    handleImageLoaded = () => {\n        if (this.mounted) {\n            this.setState({\n                loaded: true,\n            });\n        }\n    }\n\n    onAttachmentClick = (e) => {\n        e.preventDefault();\n        e.target.blur();\n        if (this.props.handleImageClick) {\n            this.props.handleImageClick(this.props.index);\n        }\n    }\n\n    render() {\n        const {\n            compactDisplay,\n            fileInfo,\n        } = this.props;\n\n        const trimmedFilename = trimFilename(fileInfo.name);\n        let fileThumbnail;\n        let fileDetail;\n        const ariaLabelImage = `${localizeMessage('file_attachment.thumbnail', 'file thumbnail')} ${fileInfo.name}`.toLowerCase();\n\n        if (!compactDisplay) {\n            fileThumbnail = (\n                <a\n                    aria-label={ariaLabelImage}\n                    className='post-image__thumbnail'\n                    href='#'\n                    onClick={this.onAttachmentClick}\n                >\n                    {this.state.loaded ? (\n                        <FileThumbnail fileInfo={fileInfo}/>\n                    ) : (\n                        <div className='post-image__load'/>\n                    )}\n                </a>\n            );\n\n            fileDetail = (\n                <div\n                    className='post-image__detail_wrapper'\n                    onClick={this.onAttachmentClick}\n                >\n                    <div className='post-image__detail'>\n                        <span className={'post-image__name'}>\n                            {trimmedFilename}\n                        </span>\n                        <span className='post-image__type'>{fileInfo.extension.toUpperCase()}</span>\n                        <span className='post-image__size'>{fileSizeToString(fileInfo.size)}</span>\n                    </div>\n                </div>\n            );\n        }\n\n        let filenameOverlay;\n        if (this.props.canDownloadFiles) {\n            filenameOverlay = (\n                <FilenameOverlay\n                    fileInfo={fileInfo}\n                    compactDisplay={compactDisplay}\n                    canDownload={this.props.canDownloadFiles}\n                    handleImageClick={this.onAttachmentClick}\n                    iconClass={'post-image__download'}\n                >\n                    <DownloadIcon/>\n                </FilenameOverlay>\n            );\n        }\n\n        return (\n            <div className='post-image__column'>\n                {fileThumbnail}\n                <div className='post-image__details'>\n                    {fileDetail}\n                    {filenameOverlay}\n                </div>\n            </div>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport {getFileThumbnailUrl, getFileUrl} from 'mattermost-redux/utils/file_utils';\n\nimport Constants, {FileTypes} from 'utils/constants';\nimport {\n    getFileType,\n    getIconClassName,\n    isGIFImage,\n} from 'utils/utils.jsx';\n\nexport default class FileThumbnail extends React.PureComponent {\n    static propTypes = {\n        enableSVGs: PropTypes.bool.isRequired,\n        fileInfo: PropTypes.object.isRequired,\n    }\n\n    render() {\n        const {fileInfo} = this.props;\n        const type = getFileType(fileInfo.extension);\n\n        let thumbnail;\n        if (type === FileTypes.IMAGE) {\n            let className = 'post-image';\n\n            if (fileInfo.width < Constants.THUMBNAIL_WIDTH && fileInfo.height < Constants.THUMBNAIL_HEIGHT) {\n                className += ' small';\n            } else {\n                className += ' normal';\n            }\n\n            let thumbnailUrl = getFileThumbnailUrl(fileInfo.id);\n            if (isGIFImage(fileInfo.extension) && !fileInfo.has_preview_image) {\n                thumbnailUrl = getFileUrl(fileInfo.id);\n            }\n\n            return (\n                <div\n                    className={className}\n                    style={{\n                        backgroundImage: `url(${thumbnailUrl})`,\n                        backgroundSize: 'cover',\n                    }}\n                />\n            );\n        } else if (fileInfo.extension === FileTypes.SVG && this.props.enableSVGs) {\n            thumbnail = (\n                <img\n                    alt={'file thumbnail image'}\n                    className='post-image normal'\n                    src={getFileUrl(fileInfo.id)}\n                />\n            );\n        } else {\n            thumbnail = <div className={'file-icon ' + getIconClassName(type)}/>;\n        }\n\n        return thumbnail;\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\n\nimport {getConfig} from 'mattermost-redux/selectors/entities/general';\n\nimport FileThumbnail from './file_thumbnail';\n\nfunction mapStateToProps(state) {\n    return {\n        enableSVGs: getConfig(state).EnableSVGs === 'true',\n    };\n}\n\nexport default connect(mapStateToProps)(FileThumbnail);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {OverlayTrigger, Tooltip} from 'react-bootstrap';\nimport {getFileDownloadUrl} from 'mattermost-redux/utils/file_utils';\n\nimport AttachmentIcon from 'components/widgets/icons/attachment_icon';\nimport {trimFilename} from 'utils/file_utils';\nimport {localizeMessage} from 'utils/utils.jsx';\n\nexport default class FilenameOverlay extends React.PureComponent {\n    static propTypes = {\n\n        /*\n         * File detailed information\n         */\n        fileInfo: PropTypes.object.isRequired,\n\n        /*\n         * Handler for when the thumbnail is clicked passed the index above\n         */\n        handleImageClick: PropTypes.func,\n\n        /*\n         * Display in compact format\n         */\n        compactDisplay: PropTypes.bool,\n\n        /*\n         * If it should display link to download on file name\n         */\n        canDownload: PropTypes.bool,\n\n        /**\n         * Optional children like download icon\n         */\n        children: PropTypes.element,\n\n        /**\n         * Optional class like for icon\n         */\n        iconClass: PropTypes.string,\n    };\n\n    render() {\n        const {\n            canDownload,\n            children,\n            compactDisplay,\n            fileInfo,\n            handleImageClick,\n            iconClass,\n        } = this.props;\n\n        const fileName = fileInfo.name;\n        const trimmedFilename = trimFilename(fileName);\n\n        let filenameOverlay;\n        if (compactDisplay) {\n            filenameOverlay = (\n                <OverlayTrigger\n                    delayShow={1000}\n                    placement='top'\n                    overlay={<Tooltip id='file-name__tooltip'>{fileName}</Tooltip>}\n                >\n                    <a\n                        id='file-attachment-link'\n                        href='#'\n                        onClick={handleImageClick}\n                        className='post-image__name'\n                        rel='noopener noreferrer'\n                    >\n                        <AttachmentIcon className='icon'/>\n                        {trimmedFilename}\n                    </a>\n                </OverlayTrigger>\n            );\n        } else if (canDownload) {\n            filenameOverlay = (\n                <div className={iconClass || 'post-image__name'}>\n                    <a\n                        href={getFileDownloadUrl(fileInfo.id)}\n                        aria-label={localizeMessage('view_image_popover.download', 'Download').toLowerCase()}\n                        download={fileName}\n                        target='_blank'\n                        rel='noopener noreferrer'\n                    >\n                        <OverlayTrigger\n                            delayShow={1000}\n                            placement='top'\n                            overlay={\n                                <Tooltip id='file-name__tooltip'>\n                                    {localizeMessage('view_image_popover.download', 'Download').toLowerCase()}\n                                </Tooltip>\n                            }\n                        >\n                            {children || trimmedFilename}\n                        </OverlayTrigger>\n                    </a>\n                </div>\n            );\n        } else {\n            filenameOverlay = (\n                <span className='post-image__name'>\n                    {trimmedFilename}\n                </span>\n            );\n        }\n\n        return (filenameOverlay);\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {getConfig} from 'mattermost-redux/selectors/entities/general';\n\nimport {canDownloadFiles} from 'utils/file_utils.jsx';\n\nimport FileAttachment from './file_attachment.jsx';\n\nfunction mapStateToProps(state) {\n    const config = getConfig(state);\n\n    return {\n        canDownloadFiles: canDownloadFiles(config),\n        enableSVGs: config.EnableSVGs === 'true',\n    };\n}\n\nexport default connect(mapStateToProps)(FileAttachment);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport {sortFileInfos} from 'mattermost-redux/utils/file_utils';\n\nimport {FileTypes} from 'utils/constants';\nimport {getFileType} from 'utils/utils';\n\nimport FileAttachment from 'components/file_attachment';\nimport SingleImageView from 'components/single_image_view';\nimport ViewImageModal from 'components/view_image';\n\nexport default class FileAttachmentList extends React.Component {\n    static propTypes = {\n\n        /*\n         * The post the files are attached to\n         */\n        post: PropTypes.object.isRequired,\n\n        /*\n         * The number of files attached to the post\n         */\n        fileCount: PropTypes.number.isRequired,\n\n        /*\n         * Sorted array of metadata for each file attached to the post\n         */\n        fileInfos: PropTypes.arrayOf(PropTypes.object),\n\n        compactDisplay: PropTypes.bool,\n        enableSVGs: PropTypes.bool,\n        isEmbedVisible: PropTypes.bool,\n        locale: PropTypes.string.isRequired,\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.state = {showPreviewModal: false, startImgIndex: 0};\n    }\n\n    handleImageClick = (indexClicked) => {\n        this.setState({showPreviewModal: true, startImgIndex: indexClicked});\n    }\n\n    hidePreviewModal = () => {\n        this.setState({showPreviewModal: false});\n    }\n\n    render() {\n        const {\n            compactDisplay,\n            enableSVGs,\n            fileInfos,\n            fileCount,\n            locale,\n        } = this.props;\n\n        if (compactDisplay === false) {\n            if (fileInfos && fileInfos.length === 1) {\n                const fileType = getFileType(fileInfos[0].extension);\n\n                if (fileType === FileTypes.IMAGE || (fileType === FileTypes.SVG && enableSVGs)) {\n                    return (\n                        <SingleImageView\n                            fileInfo={fileInfos[0]}\n                            isEmbedVisible={this.props.isEmbedVisible}\n                            postId={this.props.post.id}\n                        />\n                    );\n                }\n            } else if (fileCount === 1 && this.props.isEmbedVisible) {\n                return (\n                    <div style={style.minHeightPlaceholder}/>\n                );\n            }\n        }\n\n        const sortedFileInfos = sortFileInfos(fileInfos, locale);\n        const postFiles = [];\n        if (sortedFileInfos && sortedFileInfos.length > 0) {\n            for (let i = 0; i < sortedFileInfos.length; i++) {\n                const fileInfo = sortedFileInfos[i];\n                postFiles.push(\n                    <FileAttachment\n                        key={fileInfo.id}\n                        fileInfo={sortedFileInfos[i]}\n                        index={i}\n                        handleImageClick={this.handleImageClick}\n                        compactDisplay={compactDisplay}\n                    />\n                );\n            }\n        } else if (fileCount > 0) {\n            for (let i = 0; i < fileCount; i++) {\n                // Add a placeholder to avoid pop-in once we get the file infos for this post\n                postFiles.push(\n                    <div\n                        key={`fileCount-${i}`}\n                        className='post-image__column post-image__column--placeholder'\n                    />\n                );\n            }\n        }\n\n        return (\n            <React.Fragment>\n                <div className='post-image__columns clearfix'>\n                    {postFiles}\n                </div>\n                <ViewImageModal\n                    show={this.state.showPreviewModal}\n                    onModalDismissed={this.hidePreviewModal}\n                    startIndex={this.state.startImgIndex}\n                    fileInfos={sortedFileInfos}\n                    postId={this.props.post.id}\n                />\n            </React.Fragment>\n        );\n    }\n}\n\nconst style = {\n    minHeightPlaceholder: {minHeight: '385px'},\n};\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\n\nimport {makeGetFilesForPost} from 'mattermost-redux/selectors/entities/files';\nimport {getConfig} from 'mattermost-redux/selectors/entities/general';\n\nimport {getCurrentLocale} from 'selectors/i18n';\nimport {isEmbedVisible} from 'selectors/posts';\n\nimport FileAttachmentList from './file_attachment_list.jsx';\n\nfunction makeMapStateToProps() {\n    const selectFilesForPost = makeGetFilesForPost();\n\n    return function mapStateToProps(state, ownProps) {\n        const postId = ownProps.post ? ownProps.post.id : '';\n        const fileInfos = selectFilesForPost(state, postId);\n\n        let fileCount = 0;\n        if (ownProps.post.metadata && ownProps.post.metadata.files) {\n            fileCount = (ownProps.post.metadata.files || []).length;\n        } else if (ownProps.post.file_ids) {\n            fileCount = ownProps.post.file_ids.length;\n        } else if (ownProps.post.filenames) {\n            fileCount = ownProps.post.filenames.length;\n        }\n\n        return {\n            enableSVGs: getConfig(state).EnableSVGs === 'true',\n            fileInfos,\n            fileCount,\n            isEmbedVisible: isEmbedVisible(state, ownProps.post.id),\n            locale: getCurrentLocale(state),\n        };\n    };\n}\n\nexport default connect(makeMapStateToProps)(FileAttachmentList);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport * as Utils from 'utils/utils.jsx';\n\nexport default class FileInfoPreview extends React.PureComponent {\n    static propTypes = {\n        fileInfo: PropTypes.object.isRequired,\n        fileUrl: PropTypes.string.isRequired,\n        canDownloadFiles: PropTypes.bool.isRequired,\n    };\n\n    render() {\n        const fileInfo = this.props.fileInfo;\n        const fileUrl = this.props.fileUrl;\n\n        // non-image files include a section providing details about the file\n        const infoParts = [];\n\n        if (fileInfo.extension !== '') {\n            infoParts.push(Utils.localizeMessage('file_info_preview.type', 'File type ') + fileInfo.extension.toUpperCase());\n        }\n\n        if (fileInfo.size) {\n            infoParts.push(Utils.localizeMessage('file_info_preview.size', 'Size ') + Utils.fileSizeToString(fileInfo.size));\n        }\n\n        const infoString = infoParts.join(', ');\n\n        let preview = null;\n        if (this.props.canDownloadFiles) {\n            preview = (\n                <a\n                    className='file-details__preview'\n                    href={fileUrl}\n                    target='_blank'\n                    rel='noopener noreferrer'\n                >\n                    <span className='file-details__preview-helper'/>\n                    <img\n                        alt={'file preview'}\n                        src={Utils.getFileIconPath(fileInfo)}\n                    />\n                </a>\n            );\n        } else {\n            preview = (\n                <span className='file-details__preview'>\n                    <span className='file-details__preview-helper'/>\n                    <img\n                        alt={'file preview'}\n                        src={Utils.getFileIconPath(fileInfo)}\n                    />\n                </span>\n            );\n        }\n\n        return (\n            <div className='file-details__container'>\n                {preview}\n                <div className='file-details'>\n                    <div className='file-details__name'>{fileInfo.name}</div>\n                    <div className='file-details__info'>{infoString}</div>\n                </div>\n            </div>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {getConfig} from 'mattermost-redux/selectors/entities/general';\n\nimport {canDownloadFiles} from 'utils/file_utils.jsx';\n\nimport FileInfoPreview from './file_info_preview.jsx';\n\nfunction mapStateToProps(state) {\n    const config = getConfig(state);\n\n    return {\n        canDownloadFiles: canDownloadFiles(config),\n    };\n}\n\nexport default connect(mapStateToProps)(FileInfoPreview);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {getFileThumbnailUrl, getFileUrl} from 'mattermost-redux/utils/file_utils';\n\nimport FilenameOverlay from 'components/file_attachment/filename_overlay.jsx';\nimport RemoveIcon from 'components/widgets/icons/fa_remove_icon';\nimport Constants, {FileTypes} from 'utils/constants';\nimport * as Utils from 'utils/utils.jsx';\n\nimport FileProgressPreview from './file_progress_preview.jsx';\n\nexport default class FilePreview extends React.PureComponent {\n    static propTypes = {\n        enableSVGs: PropTypes.bool.isRequired,\n        onRemove: PropTypes.func.isRequired,\n        fileInfos: PropTypes.arrayOf(PropTypes.object).isRequired,\n        uploadsInProgress: PropTypes.array,\n        uploadsProgressPercent: PropTypes.object,\n    };\n\n    static defaultProps = {\n        fileInfos: [],\n        uploadsInProgress: [],\n        uploadsProgressPercent: {},\n    };\n\n    handleRemove = (id) => {\n        this.props.onRemove(id);\n    }\n\n    render() {\n        const previews = [];\n\n        this.props.fileInfos.forEach((info, idx) => {\n            const type = Utils.getFileType(info.extension);\n\n            let className = 'file-preview post-image__column';\n            let previewImage;\n            if (type === FileTypes.SVG && this.props.enableSVGs) {\n                previewImage = (\n                    <img\n                        alt={'file preview'}\n                        className='post-image normal'\n                        src={getFileUrl(info.id)}\n                    />\n                );\n            } else if (type === FileTypes.IMAGE) {\n                let imageClassName = 'post-image';\n\n                if (info.width < Constants.THUMBNAIL_WIDTH && info.height < Constants.THUMBNAIL_HEIGHT) {\n                    imageClassName += ' small';\n                } else {\n                    imageClassName += ' normal';\n                }\n\n                let thumbnailUrl = getFileThumbnailUrl(info.id);\n                if (Utils.isGIFImage(info.extension) && !info.has_preview_image) {\n                    thumbnailUrl = getFileUrl(info.id);\n                }\n\n                previewImage = (\n                    <div\n                        className={imageClassName}\n                        style={{\n                            backgroundImage: `url(${thumbnailUrl})`,\n                            backgroundSize: 'cover',\n                        }}\n                    />\n                );\n            } else {\n                className += ' custom-file';\n                previewImage = <div className={'file-icon ' + Utils.getIconClassName(type)}/>;\n            }\n\n            previews.push(\n                <div\n                    key={info.id}\n                    className={className}\n                >\n                    <div className='post-image__thumbnail'>\n                        {previewImage}\n                    </div>\n                    <div className='post-image__details'>\n                        <div className='post-image__detail_wrapper'>\n                            <div className='post-image__detail'>\n                                <FilenameOverlay\n                                    fileInfo={info}\n                                    index={idx}\n                                    handleImageClick={null}\n                                    compactDisplay={false}\n                                    canDownload={false}\n                                />\n                                <span className='post-image__type'>{info.extension.toUpperCase()}</span>\n                                <span className='post-image__size'>{Utils.fileSizeToString(info.size)}</span>\n                            </div>\n                        </div>\n                        <div>\n                            <a\n                                className='file-preview__remove'\n                                onClick={this.handleRemove.bind(this, info.id)}\n                            >\n                                <RemoveIcon/>\n                            </a>\n                        </div>\n                    </div>\n                </div>\n            );\n        });\n\n        this.props.uploadsInProgress.forEach((clientId) => {\n            previews.push(\n                <FileProgressPreview\n                    key={clientId}\n                    clientId={clientId}\n                    fileInfo={this.props.uploadsProgressPercent[clientId]}\n                    handleRemove={this.handleRemove}\n                />\n            );\n        });\n\n        return (\n            <div\n                className='file-preview__container'\n                ref='container'\n            >\n                {previews}\n            </div>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\nimport {ProgressBar} from 'react-bootstrap';\n\nimport FilenameOverlay from 'components/file_attachment/filename_overlay.jsx';\nimport RemoveIcon from 'components/widgets/icons/fa_remove_icon';\nimport {getFileTypeFromMime} from 'utils/file_utils';\nimport * as Utils from 'utils/utils.jsx';\n\nexport default class FileProgressPreview extends React.PureComponent {\n    static propTypes = {\n        handleRemove: PropTypes.func.isRequired,\n        clientId: PropTypes.string.isRequired,\n        fileInfo: PropTypes.object,\n    };\n\n    handleRemove = () => {\n        this.props.handleRemove(this.props.clientId);\n    }\n\n    render() {\n        let percent = 0;\n        let fileNameComponent;\n        let previewImage;\n        let progressBar;\n        const {fileInfo, clientId} = this.props;\n\n        if (fileInfo) {\n            percent = fileInfo.percent;\n            const percentTxt = percent && ` (${percent.toFixed(0)}%)`;\n            const fileType = getFileTypeFromMime(fileInfo.type);\n            previewImage = <div className={'file-icon ' + Utils.getIconClassName(fileType)}/>;\n\n            fileNameComponent = (\n                <React.Fragment>\n                    <FilenameOverlay\n                        fileInfo={fileInfo}\n                        index={clientId}\n                        handleImageClick={null}\n                        compactDisplay={false}\n                        canDownload={false}\n                    />\n                    <span className='post-image__uploadingTxt'>\n                        {percent === 100 ? (\n                            <FormattedMessage\n                                id='create_post.fileProcessing'\n                                defaultMessage='Processing...'\n                            />\n                        ) : (\n                            <React.Fragment>\n                                <FormattedMessage\n                                    id='admin.plugin.uploading'\n                                    defaultMessage='Uploading...'\n                                />\n                                <span>{percentTxt}</span>\n                            </React.Fragment>\n                        )}\n                    </span>\n                </React.Fragment>\n            );\n\n            if (percent) {\n                progressBar = (\n                    <ProgressBar\n                        className='post-image__progressBar'\n                        now={percent}\n                        active={percent === 100}\n                    />\n                );\n            }\n        }\n\n        return (\n            <div\n                ref={clientId}\n                key={clientId}\n                className='file-preview post-image__column'\n                data-client-id={clientId}\n            >\n                <div className='post-image__thumbnail'>\n                    {previewImage}\n                </div>\n                <div className='post-image__details'>\n                    <div className='post-image__detail_wrapper'>\n                        <div className='post-image__detail'>\n                            {fileNameComponent}\n                        </div>\n                    </div>\n                    <div>\n                        <a\n                            className='file-preview__remove'\n                            onClick={this.handleRemove}\n                        >\n                            <RemoveIcon/>\n                        </a>\n                    </div>\n                    {progressBar}\n                </div>\n            </div>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\n\nimport {getConfig} from 'mattermost-redux/selectors/entities/general';\n\nimport FilePreview from './file_preview';\n\nfunction mapStateToProps(state) {\n    const config = getConfig(state);\n\n    return {\n        enableSVGs: config.EnableSVGs === 'true',\n    };\n}\n\nexport default connect(mapStateToProps)(FilePreview);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React, {PureComponent} from 'react';\nimport ReactDOM from 'react-dom';\nimport {defineMessages, intlShape, FormattedMessage} from 'react-intl';\n\nimport dragster from 'utils/dragster';\nimport Constants from 'utils/constants';\nimport DelayedAction from 'utils/delayed_action';\nimport {t} from 'utils/i18n';\nimport {\n    isIosChrome,\n    isMobileApp,\n} from 'utils/user_agent';\nimport {getTable} from 'utils/paste';\nimport {\n    clearFileInput,\n    cmdOrCtrlPressed,\n    isKeyPressed,\n    generateId,\n    isFileTransfer,\n    isUriDrop,\n    localizeMessage,\n} from 'utils/utils.jsx';\n\nimport MenuWrapper from 'components/widgets/menu/menu_wrapper';\nimport Menu from 'components/widgets/menu/menu';\n\nimport AttachmentIcon from 'components/widgets/icons/attachment_icon';\n\nconst holders = defineMessages({\n    limited: {\n        id: t('file_upload.limited'),\n        defaultMessage: 'Uploads limited to {count, number} files maximum. Please use additional posts for more files.',\n    },\n    filesAbove: {\n        id: t('file_upload.filesAbove'),\n        defaultMessage: 'Files above {max}MB could not be uploaded: {filenames}',\n    },\n    fileAbove: {\n        id: t('file_upload.fileAbove'),\n        defaultMessage: 'File above {max}MB could not be uploaded: {filename}',\n    },\n    zeroBytesFiles: {\n        id: t('file_upload.zeroBytesFiles'),\n        defaultMessage: 'You are uploading empty files: {filenames}',\n    },\n    zeroBytesFile: {\n        id: t('file_upload.zeroBytesFile'),\n        defaultMessage: 'You are uploading an empty file: {filename}',\n    },\n    pasted: {\n        id: t('file_upload.pasted'),\n        defaultMessage: 'Image Pasted at ',\n    },\n    uploadFile: {\n        id: t('file_upload.upload_files'),\n        defaultMessage: 'Upload files',\n    },\n});\n\nconst OVERLAY_TIMEOUT = 500;\n\nconst customStyles = {\n    left: 'inherit',\n    right: 0,\n    bottom: '100%',\n    top: 'auto',\n};\n\nexport default class FileUpload extends PureComponent {\n    static propTypes = {\n\n        /**\n         * Current channel's ID\n         */\n        currentChannelId: PropTypes.string.isRequired,\n\n        /**\n         * Current root post's ID\n         */\n        rootId: PropTypes.string,\n\n        /**\n         * Number of files to attach\n         */\n        fileCount: PropTypes.number.isRequired,\n\n        /**\n         * Function to get file upload targeted input\n         */\n        getTarget: PropTypes.func.isRequired,\n\n        locale: PropTypes.string.isRequired,\n\n        /**\n         * Function to be called when file upload input is clicked\n         */\n        onClick: PropTypes.func,\n\n        /**\n         * Function to be called when file upload is complete\n         */\n        onFileUpload: PropTypes.func,\n\n        /**\n         * Function to be called when file upload input's change event is fired\n         */\n        onFileUploadChange: PropTypes.func,\n\n        /**\n         * Function to be called when upload fails\n         */\n        onUploadError: PropTypes.func,\n\n        /**\n         * Function to be called when file upload starts\n         */\n        onUploadStart: PropTypes.func,\n\n        /**\n         * Type of the object which the uploaded file is attached to\n         */\n        postType: PropTypes.string,\n\n        /**\n         * The maximum uploaded file size.\n         */\n        maxFileSize: PropTypes.number,\n\n        /**\n         * Whether or not file upload is allowed.\n         */\n        canUploadFiles: PropTypes.bool.isRequired,\n\n        /**\n         * Plugin file upload methods to be added\n         */\n        pluginFileUploadMethods: PropTypes.arrayOf(PropTypes.object),\n        pluginFilesWillUploadHooks: PropTypes.arrayOf(PropTypes.object),\n\n        /**\n         * Function called when superAgent fires progress event.\n         */\n        onUploadProgress: PropTypes.func.isRequired,\n        actions: PropTypes.shape({\n\n            /**\n             * Function to be called to upload file\n             */\n            uploadFile: PropTypes.func.isRequired,\n\n            /**\n             * Function to be called when file is uploaded or failed\n             */\n            handleFileUploadEnd: PropTypes.func.isRequired,\n        }).isRequired,\n    };\n\n    static contextTypes = {\n        intl: intlShape,\n    };\n\n    static defaultProps = {\n        pluginFileUploadMethods: [],\n        pluginFilesWillUploadHooks: [],\n    };\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            requests: {},\n            menuOpen: false,\n        };\n        this.fileInput = React.createRef();\n    }\n\n    componentDidMount() {\n        if (this.props.postType === 'post') {\n            this.registerDragEvents('.row.main', '.center-file-overlay');\n        } else if (this.props.postType === 'comment') {\n            this.registerDragEvents('.post-right__container', '.right-file-overlay');\n        }\n\n        document.addEventListener('paste', this.pasteUpload);\n        document.addEventListener('keydown', this.keyUpload);\n    }\n\n    componentWillUnmount() {\n        document.removeEventListener('paste', this.pasteUpload);\n        document.removeEventListener('keydown', this.keyUpload);\n\n        this.unbindDragsterEvents();\n    }\n\n    fileUploadSuccess = (data, channelId, currentRootId) => {\n        if (data) {\n            this.props.onFileUpload(data.file_infos, data.client_ids, channelId, currentRootId);\n\n            const requests = Object.assign({}, this.state.requests);\n            for (var j = 0; j < data.client_ids.length; j++) {\n                Reflect.deleteProperty(requests, data.client_ids[j]);\n            }\n            this.setState({requests});\n        }\n    }\n\n    fileUploadFail = (err, clientId, channelId, currentRootId) => {\n        this.props.onUploadError(err, clientId, channelId, currentRootId);\n    }\n\n    pluginUploadFiles = (files) => {\n        // clear any existing errors\n        this.props.onUploadError(null);\n        this.uploadFiles(files);\n    }\n\n    checkPluginHooksAndUploadFiles = (files) => {\n        // clear any existing errors\n        this.props.onUploadError(null);\n\n        let sortedFiles = Array.from(files).sort((a, b) => a.name.localeCompare(b.name, this.props.locale, {numeric: true}));\n\n        const willUploadHooks = this.props.pluginFilesWillUploadHooks;\n        for (const h of willUploadHooks) {\n            const result = h.hook(sortedFiles, this.pluginUploadFiles);\n\n            // Display an error message if there is one but don't reject the upload\n            if (result.message) {\n                this.props.onUploadError(result.message);\n            }\n\n            sortedFiles = result.files;\n        }\n\n        if (sortedFiles) {\n            this.uploadFiles(sortedFiles);\n        }\n    }\n\n    uploadFiles = (sortedFiles) => {\n        const {currentChannelId, rootId} = this.props;\n\n        const uploadsRemaining = Constants.MAX_UPLOAD_FILES - this.props.fileCount;\n        let numUploads = 0;\n\n        // keep track of how many files have been too large\n        const tooLargeFiles = [];\n        const zeroFiles = [];\n        const clientIds = [];\n\n        for (let i = 0; i < sortedFiles.length && numUploads < uploadsRemaining; i++) {\n            if (sortedFiles[i].size > this.props.maxFileSize) {\n                tooLargeFiles.push(sortedFiles[i]);\n                continue;\n            }\n            if (sortedFiles[i].size === 0) {\n                zeroFiles.push(sortedFiles[i]);\n            }\n\n            // generate a unique id that can be used by other components to refer back to this upload\n            const clientId = generateId();\n\n            const request = this.props.actions.uploadFile(\n                sortedFiles[i],\n                sortedFiles[i].name,\n                currentChannelId,\n                rootId,\n                clientId,\n            );\n\n            request.on('progress', (progressEvent) => {\n                this.props.onUploadProgress({\n                    clientId,\n                    name: sortedFiles[i].name,\n                    percent: progressEvent.percent,\n                    type: sortedFiles[i].type,\n                });\n            });\n\n            request.end((err, res) => {\n                const {error, data} = this.props.actions.handleFileUploadEnd(\n                    sortedFiles[i],\n                    sortedFiles[i].name,\n                    currentChannelId,\n                    rootId,\n                    clientId,\n                    {err, res},\n                );\n\n                if (error) {\n                    this.fileUploadFail(error, clientId, currentChannelId, rootId);\n                } else if (data) {\n                    this.fileUploadSuccess(data, currentChannelId, rootId);\n                }\n            });\n\n            this.setState({requests: {...this.state.requests, [clientId]: request}});\n            clientIds.push(clientId);\n\n            numUploads += 1;\n        }\n\n        this.props.onUploadStart(clientIds, currentChannelId);\n\n        const {formatMessage} = this.context.intl;\n        const errors = [];\n        if (sortedFiles.length > uploadsRemaining) {\n            errors.push(formatMessage(holders.limited, {count: Constants.MAX_UPLOAD_FILES}));\n        }\n\n        if (tooLargeFiles.length > 1) {\n            var tooLargeFilenames = tooLargeFiles.map((file) => file.name).join(', ');\n\n            errors.push(formatMessage(holders.filesAbove, {max: (this.props.maxFileSize / 1048576), filenames: tooLargeFilenames}));\n        } else if (tooLargeFiles.length > 0) {\n            errors.push(formatMessage(holders.fileAbove, {max: (this.props.maxFileSize / 1048576), filename: tooLargeFiles[0].name}));\n        }\n\n        if (zeroFiles.length > 1) {\n            var zeroFilenames = zeroFiles.map((file) => file.name).join(', ');\n\n            errors.push(formatMessage(holders.zeroBytesFiles, {filenames: zeroFilenames}));\n        } else if (zeroFiles.length > 0) {\n            errors.push(formatMessage(holders.zeroBytesFile, {filename: zeroFiles[0].name}));\n        }\n\n        if (errors.length > 0) {\n            this.props.onUploadError(errors.join(', '));\n        }\n    }\n\n    handleChange = (e) => {\n        if (e.target.files.length > 0) {\n            this.checkPluginHooksAndUploadFiles(e.target.files);\n\n            clearFileInput(e.target);\n        }\n\n        this.props.onFileUploadChange();\n    }\n\n    handleDrop = (e) => {\n        if (!this.props.canUploadFiles) {\n            this.props.onUploadError(localizeMessage('file_upload.disabled', 'File attachments are disabled.'));\n            return;\n        }\n\n        this.props.onUploadError(null);\n\n        const items = e.dataTransfer.items || [];\n        const droppedFiles = e.dataTransfer.files;\n        const files = [];\n        Array.from(droppedFiles).forEach((file, index) => {\n            const item = items[index];\n            if (item && item.webkitGetAsEntry && (item.webkitGetAsEntry() === null || item.webkitGetAsEntry().isDirectory)) {\n                return;\n            }\n            files.push(file);\n        });\n\n        const types = e.dataTransfer.types;\n        if (types) {\n            if (isUriDrop(e.dataTransfer)) {\n                return;\n            }\n\n            // For non-IE browsers\n            if (types.includes && !types.includes('Files')) {\n                return;\n            }\n\n            // For IE browsers\n            if (types.contains && !types.contains('Files')) {\n                return;\n            }\n        }\n\n        if (files.length === 0) {\n            this.props.onUploadError(localizeMessage('file_upload.drag_folder', 'Folders cannot be uploaded. Please drag all files separately.'));\n            return;\n        }\n\n        if (files.length) {\n            this.checkPluginHooksAndUploadFiles(files);\n        }\n\n        this.props.onFileUploadChange();\n    }\n\n    registerDragEvents = (containerSelector, overlaySelector) => {\n        const self = this;\n\n        const overlay = document.querySelector(overlaySelector);\n\n        const dragTimeout = new DelayedAction(() => {\n            overlay.classList.add('hidden');\n        });\n\n        let dragsterActions = {};\n        if (this.props.canUploadFiles) {\n            dragsterActions = {\n                enter(e) {\n                    var files = e.detail.dataTransfer;\n                    if (!isUriDrop(files) && isFileTransfer(files)) {\n                        overlay.classList.remove('hidden');\n                    }\n                },\n                leave(e) {\n                    var files = e.detail.dataTransfer;\n\n                    if (!isUriDrop(files) && isFileTransfer(files)) {\n                        overlay.classList.add('hidden');\n                    }\n\n                    dragTimeout.cancel();\n                },\n                over() {\n                    dragTimeout.fireAfter(OVERLAY_TIMEOUT);\n                },\n                drop(e) {\n                    overlay.classList.add('hidden');\n                    dragTimeout.cancel();\n\n                    self.handleDrop(e.detail);\n                },\n            };\n        } else {\n            dragsterActions = {\n                drop(e) {\n                    self.handleDrop(e.detail);\n                },\n            };\n        }\n\n        this.unbindDragsterEvents = dragster(containerSelector, dragsterActions);\n    }\n\n    containsEventTarget = (targetElement, eventTarget) => targetElement && targetElement.contains(eventTarget);\n\n    pasteUpload = (e) => {\n        const {formatMessage} = this.context.intl;\n\n        if (!e.clipboardData || !e.clipboardData.items || getTable(e.clipboardData)) {\n            return;\n        }\n\n        const target = this.props.getTarget();\n        const textarea = ReactDOM.findDOMNode(target);\n        if (!this.containsEventTarget(textarea, e.target)) {\n            return;\n        }\n\n        this.props.onUploadError(null);\n\n        const items = [];\n        for (let i = 0; i < e.clipboardData.items.length; i++) {\n            const item = e.clipboardData.items[i];\n\n            if (item.kind !== 'file') {\n                continue;\n            }\n\n            items.push(item);\n        }\n\n        if (items && items.length > 0) {\n            if (!this.props.canUploadFiles) {\n                this.props.onUploadError(localizeMessage('file_upload.disabled', 'File attachments are disabled.'));\n                return;\n            }\n\n            const files = [];\n\n            for (let i = 0; i < items.length; i++) {\n                const file = items[i].getAsFile();\n                if (!file) {\n                    continue;\n                }\n\n                var d = new Date();\n                let hour = d.getHours();\n                hour = hour < 10 ? `0${hour}` : `${hour}`;\n\n                let minute = d.getMinutes();\n                minute = minute < 10 ? `0${minute}` : `${minute}`;\n\n                var ext = '';\n                if (file.name) {\n                    if (file.name.includes('.')) {\n                        ext = file.name.substr(file.name.lastIndexOf('.'));\n                    }\n                } else if (items[i].type.includes('/')) {\n                    ext = '.' + items[i].type.split('/')[1].toLowerCase();\n                }\n\n                const name = formatMessage(holders.pasted) + d.getFullYear() + '-' + (d.getMonth() + 1) + '-' + d.getDate() + ' ' + hour + '-' + minute + ext;\n\n                const newFile = new Blob([file], {type: file.type});\n                newFile.name = name;\n                files.push(newFile);\n            }\n\n            if (files.length > 0) {\n                this.checkPluginHooksAndUploadFiles(files);\n                this.props.onFileUploadChange();\n            }\n        }\n    }\n\n    keyUpload = (e) => {\n        if (cmdOrCtrlPressed(e) && isKeyPressed(e, Constants.KeyCodes.U)) {\n            e.preventDefault();\n\n            if (!this.props.canUploadFiles) {\n                this.props.onUploadError(localizeMessage('file_upload.disabled', 'File attachments are disabled.'));\n                return;\n            }\n            const postTextbox = this.props.postType === 'post' && document.activeElement.id === 'post_textbox';\n            const commentTextbox = this.props.postType === 'comment' && document.activeElement.id === 'reply_textbox';\n            if (postTextbox || commentTextbox) {\n                this.fileInput.current.focus();\n                this.fileInput.current.click();\n            }\n        }\n    }\n\n    cancelUpload = (clientId) => {\n        const requests = Object.assign({}, this.state.requests);\n        const request = requests[clientId];\n\n        if (request) {\n            request.abort();\n\n            Reflect.deleteProperty(requests, clientId);\n            this.setState({requests});\n        }\n    }\n\n    handleMaxUploadReached = (e) => {\n        if (e) {\n            e.preventDefault();\n        }\n\n        const {onUploadError} = this.props;\n        const {formatMessage} = this.context.intl;\n\n        onUploadError(formatMessage(holders.limited, {count: Constants.MAX_UPLOAD_FILES}));\n    }\n\n    toggleMenu = (open) => {\n        this.setState({menuOpen: open});\n    }\n\n    handleLocalFileUploaded = (e) => {\n        const uploadsRemaining = Constants.MAX_UPLOAD_FILES - this.props.fileCount;\n        if (uploadsRemaining > 0) {\n            if (this.props.onClick) {\n                this.props.onClick();\n            }\n        } else {\n            this.handleMaxUploadReached(e);\n        }\n        this.setState({menuOpen: false});\n    }\n\n    simulateInputClick = () => {\n        this.fileInput.current.click();\n    }\n\n    render() {\n        const {formatMessage} = this.context.intl;\n        let multiple = true;\n        if (isMobileApp()) {\n            // iOS WebViews don't upload videos properly in multiple mode\n            multiple = false;\n        }\n\n        let accept = '';\n        if (isIosChrome()) {\n            // iOS Chrome can't upload videos at all\n            accept = 'image/*';\n        }\n\n        const uploadsRemaining = Constants.MAX_UPLOAD_FILES - this.props.fileCount;\n\n        let bodyAction;\n        const ariaLabel = formatMessage({id: 'accessibility.button.attachment', defaultMessage: 'attachment'});\n\n        if (this.props.pluginFileUploadMethods.length === 0) {\n            bodyAction = (\n                <div>\n                    <button\n                        type='button'\n                        id='fileUploadButton'\n                        aria-label={ariaLabel}\n                        className='style--none post-action icon icon--attachment'\n                        onClick={this.simulateInputClick}\n                        onTouchEnd={this.simulateInputClick}\n                    >\n                        <AttachmentIcon/>\n                    </button>\n                    <input\n                        id='fileUploadInput'\n                        tabIndex='-1'\n                        aria-label={formatMessage(holders.uploadFile)}\n                        ref={this.fileInput}\n                        type='file'\n                        onChange={this.handleChange}\n                        onClick={this.handleLocalFileUploaded}\n                        multiple={multiple}\n                        accept={accept}\n                    />\n                </div>\n            );\n        } else {\n            const pluginFileUploadMethods = this.props.pluginFileUploadMethods.map((item) => {\n                return (\n                    <li\n                        key={item.pluginId + '_fileuploadpluginmenuitem'}\n                        onClick={() => {\n                            if (item.action) {\n                                item.action(this.checkPluginHooksAndUploadFiles);\n                            }\n                            this.setState({menuOpen: false});\n                        }}\n                    >\n                        <a href='#'>\n                            <span className='margin-right'>{item.icon}</span>\n                            {item.text}\n                        </a>\n                    </li>\n                );\n            });\n            bodyAction = (\n                <div>\n                    <input\n                        tabIndex='-1'\n                        aria-label={formatMessage(holders.uploadFile)}\n                        ref={this.fileInput}\n                        type='file'\n                        className='file-attachment-menu-item-input'\n                        onChange={this.handleChange}\n                        onClick={this.handleLocalFileUploaded}\n                        multiple={multiple}\n                        accept={accept}\n                    />\n                    <MenuWrapper>\n                        <button\n                            type='button'\n                            aria-label={ariaLabel}\n                            className='style--none post-action'\n                        >\n                            <div\n                                id='fileUploadButton'\n                                className='icon icon--attachment'\n                            >\n                                <AttachmentIcon/>\n                            </div>\n                        </button>\n                        <Menu\n                            openLeft={true}\n                            openUp={true}\n                            ariaLabel={formatMessage({id: 'file_upload.menuAriaLabel', defaultMessage: 'Upload type selector'})}\n                            customStyles={customStyles}\n                        >\n                            <li>\n                                <a\n                                    href='#'\n                                    onClick={this.simulateInputClick}\n                                    onTouchEnd={this.simulateInputClick}\n                                >\n                                    <span className='margin-right'><i className='fa fa-laptop'/></span>\n                                    <FormattedMessage\n                                        id='yourcomputer'\n                                        defaultMessage='Your computer'\n                                    />\n                                </a>\n                            </li>\n                            {pluginFileUploadMethods}\n                        </Menu>\n                    </MenuWrapper>\n                </div>\n            );\n        }\n\n        if (!this.props.canUploadFiles) {\n            bodyAction = null;\n        }\n\n        return (\n            <div className={uploadsRemaining <= 0 ? ' style--none btn-file__disabled' : 'style--none'}>\n                {bodyAction}\n            </div>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\n\nimport {getCurrentChannelId} from 'mattermost-redux/selectors/entities/channels';\nimport {getConfig} from 'mattermost-redux/selectors/entities/general';\n\nimport {uploadFile, handleFileUploadEnd} from 'actions/file_actions.jsx';\nimport {getCurrentLocale} from 'selectors/i18n';\nimport {canUploadFiles} from 'utils/file_utils';\n\nimport FileUpload from './file_upload.jsx';\n\nfunction mapStateToProps(state) {\n    const config = getConfig(state);\n    const maxFileSize = parseInt(config.MaxFileSize, 10);\n\n    return {\n        currentChannelId: getCurrentChannelId(state),\n        maxFileSize,\n        canUploadFiles: canUploadFiles(config),\n        locale: getCurrentLocale(state),\n        pluginFileUploadMethods: state.plugins.components.FileUploadMethod,\n        pluginFilesWillUploadHooks: state.plugins.components.FilesWillUploadHook,\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            uploadFile,\n            handleFileUploadEnd,\n        }, dispatch),\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps, null, {withRef: true})(FileUpload);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nimport fileOverlayImage from 'images/filesOverlay.png';\nimport overlayLogoImage from 'images/logoWhite.png';\n\ntype Props = {\n    overlayType: string;\n}\n\nconst FileUploadOverlay: React.FC<Props> = (props: Props) => {\n    let overlayClass = 'file-overlay hidden';\n    if (props.overlayType === 'right') {\n        overlayClass += ' right-file-overlay';\n    } else if (props.overlayType === 'center') {\n        overlayClass += ' center-file-overlay';\n    }\n\n    return (\n        <div className={overlayClass}>\n            <div className='overlay__indent'>\n                <div className='overlay__circle'>\n                    <img\n                        className='overlay__files'\n                        src={fileOverlayImage}\n                        alt='Files'\n                    />\n                    <span>\n                        <FormattedMessage\n                            id='generic_icons.upload'\n                            defaultMessage='Upload Icon'\n                        >\n                            {(title) => (\n                                <i\n                                    className='fa fa-upload'\n                                    title={title as string}\n                                />\n                            )}\n                        </FormattedMessage>\n                        <FormattedMessage\n                            id='upload_overlay.info'\n                            defaultMessage='Drop a file to upload it.'\n                        />\n                    </span>\n                    <img\n                        className='overlay__logo'\n                        src={overlayLogoImage}\n                        width='100'\n                        alt='Logo'\n                    />\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default FileUploadOverlay;","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\n\n// accepts either a single error or an array of errors\ntype Props = {\n    type?: React.ReactNode;\n    error?: React.ReactNode;\n    textClassName?: string;\n    iconClassName?: string;\n    margin?: boolean;\n    errors?: React.ReactNode[];\n}\n\nexport default class FormError extends React.Component<Props> {\n    public static defaultProps = {\n        error: null,\n        errors: [],\n    }\n    public render() {\n        const {error = null, errors = [], iconClassName, margin, textClassName, type} = this.props;\n\n        if (!error && errors.length === 0) {\n            return null;\n        }\n\n        // look for the first truthy error to display\n        let message = error;\n\n        if (!message) {\n            for (const err of errors) {\n                if (err) {\n                    message = err;\n                }\n            }\n        }\n\n        if (!message) {\n            return null;\n        }\n\n        if (type === 'modal') {\n            return (\n                <div className='form-group'>\n                    <label className='col-sm-12 has-error'>\n                        {message}\n                    </label>\n                </div>\n            );\n        }\n\n        if (type === 'backstage') {\n            return (\n                <div className='pull-left has-error'>\n                    <label className='control-label'>\n                        {message}\n                    </label>\n                </div>\n            );\n        }\n\n        if (margin) {\n            return (\n                <div className='form-group has-error'>\n                    <label className='control-label'>\n                        {message}\n                    </label>\n                </div>\n            );\n        }\n\n        return (\n            <div className={`col-sm-12 ${textClassName || 'has-error'}`}>\n                <label className='control-label'>\n                    <i className={`fa ${iconClassName || 'fa-exclamation-circle'}`}/> {message}\n                </label>\n            </div>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {injectIntl, intlShape} from 'react-intl';\nimport PropTypes from 'prop-types';\nimport marked from 'marked';\n\nconst TARGET_BLANK_URL_PREFIX = '!';\n\nexport class CustomRenderer extends marked.Renderer {\n    link(href, title, text) {\n        if (href[0] === TARGET_BLANK_URL_PREFIX) {\n            return `<a href=\"${href.substring(1, href.length)}\" rel=\"noreferrer\" target=\"_blank\">${text}</a>`;\n        }\n        return `<a href=\"${href}\">${text}</a>`;\n    }\n\n    paragraph(text) {\n        return text;\n    }\n}\n\n/*\n* Translations component with the same API as react-intl's <FormattedMessage> component except the message string\n* accepts markdown. It supports the following non-block-level markdown:\n* - *italic*\n* - **bold**\n* - `inline code`\n* - ~~strikethrough~~\n* - [link](http://example.com/)\n* - [link in new tab](!http://example.com/)\n* - line\\nbreaks\n*\n* Note: Line breaks (\\n) in a defaultMessage parameter string must be surrounded by curly brackets {} in JSX. Example:\n* <FormattedMarkdownMessage id='my.example' defaultMessage={'first line\\nsecond line'} />\n*/\nclass FormattedMarkdownMessage extends React.PureComponent {\n    static get propTypes() {\n        return {\n            intl: intlShape.isRequired,\n            id: PropTypes.string.isRequired,\n            defaultMessage: PropTypes.string.isRequired,\n            values: PropTypes.object,\n        };\n    }\n\n    render() {\n        const origMsg = this.props.intl.formatMessage({\n            id: this.props.id,\n            defaultMessage: this.props.defaultMessage,\n        }, this.props.values);\n\n        const markedUpMessage = marked(origMsg, {\n            breaks: true,\n            sanitize: true,\n            renderer: new CustomRenderer(),\n        });\n\n        return (<span dangerouslySetInnerHTML={{__html: markedUpMessage}}/>);\n    }\n}\n\nexport default injectIntl(FormattedMarkdownMessage);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {Modal} from 'react-bootstrap';\nimport {FormattedMessage} from 'react-intl';\n\nimport SuccessIcon from 'components/widgets/icons/fa_success_icon';\n\ntype Props = {\n    show: boolean;\n    onHide: () => void;\n    title: string;\n    helpText?: string;\n    link: string;\n}\n\ntype State = {\n    copiedLink: boolean;\n}\n\nexport default class GetLinkModal extends React.PureComponent<Props, State> {\n    private textAreaRef = React.createRef<HTMLTextAreaElement>();\n    public static defaultProps = {\n        helpText: null,\n    };\n\n    public constructor(props: Props) {\n        super(props);\n        this.state = {\n            copiedLink: false,\n        };\n    }\n\n    public onHide = (): void => {\n        this.setState({copiedLink: false});\n        this.props.onHide();\n    }\n\n    public copyLink = (): void => {\n        const textarea = this.textAreaRef.current;\n\n        if (textarea) {\n            textarea.focus();\n            textarea.setSelectionRange(0, this.props.link.length);\n\n            try {\n                this.setState({copiedLink: document.execCommand('copy')});\n            } catch (err) {\n                this.setState({copiedLink: false});\n            }\n        }\n    }\n\n    public render(): JSX.Element {\n        let helpText = null;\n        if (this.props.helpText) {\n            helpText = (\n                <p>\n                    {this.props.helpText}\n                    <br/>\n                    <br/>\n                </p>\n            );\n        }\n\n        let copyLink = null;\n\n        if (document.queryCommandSupported('copy')) {\n            copyLink = (\n                <button\n                    id='linkModalCopyLink'\n                    data-copy-btn='true'\n                    type='button'\n                    className='btn btn-primary pull-left'\n                    onClick={this.copyLink}\n                >\n                    <FormattedMessage\n                        id='get_link.copy'\n                        defaultMessage='Copy Link'\n                    />\n                </button>\n            );\n        }\n\n        const linkText = (\n            <textarea\n                id='linkModalTextArea'\n                className='form-control no-resize min-height'\n                ref={this.textAreaRef}\n                value={this.props.link}\n                onClick={this.copyLink}\n                readOnly={true}\n            />\n        );\n\n        let copyLinkConfirm = null;\n        if (this.state.copiedLink) {\n            copyLinkConfirm = (\n                <p className='alert alert-success alert--confirm'>\n                    <SuccessIcon/>\n                    <FormattedMessage\n                        id='get_link.clipboard'\n                        defaultMessage=' Link copied'\n                    />\n                </p>\n            );\n        }\n\n        return (\n            <Modal\n                dialogClassName='a11y__modal'\n                show={this.props.show}\n                onHide={this.onHide}\n                role='dialog'\n                aria-labelledby='getLinkModalLabel'\n            >\n                <Modal.Header\n                    id='getLinkModalLabel'\n                    closeButton={true}\n                >\n                    <h4 className='modal-title'>{this.props.title}</h4>\n                </Modal.Header>\n                <Modal.Body>\n                    {helpText}\n                    {linkText}\n                </Modal.Body>\n                <Modal.Footer>\n                    <button\n                        id='linkModalCloseButton'\n                        type='button'\n                        className='btn btn-link'\n                        onClick={this.onHide}\n                    >\n                        <FormattedMessage\n                            id='get_link.close'\n                            defaultMessage='Close'\n                        />\n                    </button>\n                    {copyLink}\n                    {copyLinkConfirm}\n                </Modal.Footer>\n            </Modal>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\n\nimport ModalStore from 'stores/modal_store.jsx';\nimport Constants from 'utils/constants';\nimport * as Utils from 'utils/utils.jsx';\nimport GetLinkModal from 'components/get_link_modal';\n\ntype Props = {\n    currentTeamUrl: string;\n}\n\ntype State = {\n    show: boolean;\n    postId?: string;\n}\n\ntype Post = {\n    id: string;\n    message?: string;\n}\n\nexport default class GetPostLinkModal extends React.PureComponent<Props, State> {\n    public constructor(props: Props) {\n        super(props);\n\n        this.state = {\n            show: false,\n        };\n    }\n\n    public componentDidMount(): void {\n        ModalStore.addModalListener(Constants.ActionTypes.TOGGLE_GET_POST_LINK_MODAL, this.handleToggle);\n    }\n\n    public componentWillUnmount(): void {\n        ModalStore.removeModalListener(Constants.ActionTypes.TOGGLE_GET_POST_LINK_MODAL, this.handleToggle);\n    }\n\n    public handleToggle = (value: boolean, args: {post: Post}): void => {\n        const {post, post: {id}} = args;\n        const postId = post && id && typeof id === 'string' && id.length !== 0 ? id : '';\n\n        this.setState({\n            show: value,\n            postId,\n        });\n    }\n\n    private hide = (): void => {\n        this.setState({\n            show: false,\n        });\n    }\n\n    public render(): JSX.Element|null {\n        const {postId, show} = this.state;\n        const {currentTeamUrl} = this.props;\n\n        if (postId && typeof postId === 'string' && postId.length !== 0) {\n            const postUrl = `${currentTeamUrl}/pl/${postId}`;\n\n            return (\n                <GetLinkModal\n                    show={show}\n                    onHide={this.hide}\n                    title={Utils.localizeMessage('get_post_link_modal.title', 'Copy Permalink')}\n                    helpText={Utils.localizeMessage('get_post_link_modal.help', 'The link below allows authorized users to see your post.')}\n                    link={postUrl}\n                />\n            );\n        }\n\n        // Dont show model if ID of post doesnt exists\n        return null;\n    }\n}","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {getCurrentTeam} from 'mattermost-redux/selectors/entities/teams';\n\nimport {getSiteURL} from 'utils/url';\n\nimport GetPostLinkModal from './get_post_link_modal';\n\nfunction mapStateToProps(state) {\n    const currentTeam = getCurrentTeam(state) || {};\n    const currentTeamUrl = `${getSiteURL()}/${currentTeam.name}`;\n    return {\n        currentTeamUrl,\n    };\n}\n\nexport default connect(mapStateToProps)(GetPostLinkModal);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport ModalStore from 'stores/modal_store.jsx';\nimport Constants from 'utils/constants';\nimport * as Utils from 'utils/utils.jsx';\nimport GetLinkModal from 'components/get_link_modal';\n\nexport default class GetPublicLinkModal extends React.PureComponent {\n    static propTypes = {\n\n        /**\n         * Public link of the file\n         */\n        link: PropTypes.string,\n\n        actions: PropTypes.shape({\n\n            /**\n             * An action to get public link\n             */\n            getFilePublicLink: PropTypes.func.isRequired,\n        }).isRequired,\n    }\n\n    static defaultProps = {\n        link: '',\n    }\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            show: false,\n            fileId: '',\n        };\n    }\n\n    componentWillUnmount() {\n        ModalStore.removeModalListener(Constants.ActionTypes.TOGGLE_GET_PUBLIC_LINK_MODAL, this.handleToggle);\n    }\n\n    componentDidMount() {\n        ModalStore.addModalListener(Constants.ActionTypes.TOGGLE_GET_PUBLIC_LINK_MODAL, this.handleToggle);\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        if (this.state.show && !prevState.show) {\n            this.props.actions.getFilePublicLink(this.state.fileId);\n        }\n    }\n\n    handleToggle = (value, args) => {\n        this.setState({\n            show: value,\n            fileId: args.fileId,\n        });\n    }\n\n    onHide = () => {\n        this.setState({\n            show: false,\n        });\n    }\n\n    render() {\n        return (\n            <GetLinkModal\n                show={this.state.show}\n                onHide={this.onHide}\n                title={Utils.localizeMessage('get_public_link_modal.title', 'Copy Public Link')}\n                helpText={Utils.localizeMessage('get_public_link_modal.help', 'The link below allows anyone to see this file without being registered on this server.')}\n                link={this.props.link}\n            />\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\nimport {getFilePublicLink} from 'mattermost-redux/actions/files';\nimport * as Selectors from 'mattermost-redux/selectors/entities/files';\n\nimport GetPublicLinkModal from './get_public_link_modal.jsx';\n\nfunction mapStateToProps(state) {\n    return {\n        link: Selectors.getFilePublicLink(state).link,\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            getFilePublicLink,\n        }, dispatch),\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(GetPublicLinkModal);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React, {PureComponent} from 'react';\nimport PropTypes from 'prop-types';\nimport {connect} from 'react-redux';\n\nimport {saveAppProps} from 'mattermost-redux/actions/gifs';\n\nimport Header from 'components/gif_picker/components/Header';\n\nconst mapDispatchToProps = ({\n    saveAppProps,\n});\n\nexport class App extends PureComponent {\n    static propTypes = {\n        appProps: PropTypes.object,\n        action: PropTypes.string,\n        onCategories: PropTypes.func,\n        onSearch: PropTypes.func,\n        onTrending: PropTypes.func,\n        children: PropTypes.object,\n        saveAppProps: PropTypes.func,\n        authenticateSdk: PropTypes.func,\n    }\n\n    constructor(props) {\n        super(props);\n        const {appProps} = this.props;\n        this.props.saveAppProps(appProps);\n    }\n\n    render() {\n        const {\n            appProps,\n            action,\n            onCategories,\n            onSearch,\n            onTrending,\n            children,\n        } = this.props;\n        const appClassName = 'main-container ' + (appProps.appClassName || '');\n        return (\n            <div className={appClassName}>\n                <Header\n                    appProps={appProps}\n                    action={action}\n                    onCategories={onCategories}\n                    onSearch={onSearch}\n                    onTrending={onTrending}\n                />\n                <div className='component-container'>\n                    {children}\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default connect(null, mapDispatchToProps)(App);\n","var content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/sass-loader/dist/cjs.js??ref--6-2!./Categories.scss\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React, {PureComponent} from 'react';\nimport PropTypes from 'prop-types';\nimport {connect} from 'react-redux';\n\nimport {requestCategoriesList, requestCategoriesListIfNeeded, saveSearchBarText, saveSearchScrollPosition, searchTextUpdate} from 'mattermost-redux/actions/gifs';\nimport {getTheme} from 'mattermost-redux/selectors/entities/preferences';\nimport {changeOpacity, makeStyleFromTheme} from 'mattermost-redux/utils/theme_utils';\n\nimport {trackEvent} from 'actions/diagnostics_actions.jsx';\nimport * as PostUtils from 'utils/post_utils.jsx';\n\nimport InfiniteScroll from 'components/gif_picker/components/InfiniteScroll';\n\nimport './Categories.scss';\n\nfunction mapStateToProps(state) {\n    return {\n        ...state.entities.gifs.categories,\n        ...state.entities.gifs.cache,\n        theme: getTheme(state),\n        appProps: state.entities.gifs.app,\n        searchText: state.entities.gifs.search.searchText,\n        searchBarText: state.entities.gifs.search.searchBarText,\n        hasImageProxy: state.entities.general.config.HasImageProxy,\n    };\n}\n\nconst mapDispatchToProps = ({\n    saveSearchBarText,\n    saveSearchScrollPosition,\n    searchTextUpdate,\n    requestCategoriesList,\n    requestCategoriesListIfNeeded,\n});\n\nconst getStyle = makeStyleFromTheme((theme) => {\n    return {\n        background: {\n            backgroundColor: changeOpacity(theme.centerChannelColor, 0.05),\n        },\n    };\n});\n\nexport class Categories extends PureComponent {\n    static propTypes = {\n        appProps: PropTypes.object,\n        gifs: PropTypes.object,\n        hasMore: PropTypes.bool,\n        onSearch: PropTypes.func,\n        onTrending: PropTypes.func,\n        requestCategoriesList: PropTypes.func,\n        requestCategoriesListIfNeeded: PropTypes.func,\n        saveSearchBarText: PropTypes.func,\n        saveSearchScrollPosition: PropTypes.func,\n        searchTextUpdate: PropTypes.func,\n        searchBarText: PropTypes.string,\n        tagsList: PropTypes.array,\n        hasImageProxy: PropTypes.string,\n        theme: PropTypes.object.isRequired,\n    }\n\n    componentDidMount() {\n        window.scrollTo(0, 0);\n        this.props.requestCategoriesListIfNeeded();\n        this.sendImpressions();\n    }\n\n    sendImpressions = () => {\n        const {tagsList} = this.props;\n        const gfycats = tagsList.map((tag) => {\n            return {gfyId: tag.gfyId};\n        });\n\n        if (gfycats.length) {\n            trackEvent('gfycat', 'views', {context: 'category_list', count: gfycats.length});\n        }\n    }\n\n    componentWillUnmount() {\n        this.props.saveSearchScrollPosition(0);\n    }\n\n    filterTagsList = () => {\n        const {searchBarText, tagsList} = this.props;\n\n        const substr = searchBarText.toLowerCase().trim().split(/ +/).join(' ');\n        return tagsList && tagsList.length ? tagsList.filter((tag) => {\n            if (!searchBarText || tag.tagName.indexOf(substr) !== -1) {\n                return tag;\n            }\n            return '';\n        }) : [];\n    }\n\n    loadMore = () => {\n        this.props.requestCategoriesList();\n    }\n\n    render() {\n        const style = getStyle(this.props.theme);\n\n        const {hasMore, tagsList, gifs, onSearch, onTrending, hasImageProxy} = this.props;\n\n        const content = tagsList && tagsList.length ? this.filterTagsList(tagsList).map((item, index) => {\n            const {tagName, gfyId} = item;\n\n            if (!gifs[gfyId]) {\n                return null;\n            }\n\n            const gfyItem = gifs[gfyId];\n            const {max1mbGif, avgColor} = gfyItem;\n            const url = PostUtils.getImageSrc(max1mbGif, hasImageProxy === 'true');\n            const searchText = tagName.replace(/\\s/g, '-');\n            const backgroundImage = {backgroundImage: `url(${url}`};\n            const backgroundColor = {backgroundColor: avgColor};\n            const props = this.props;\n            function callback() {\n                props.searchTextUpdate(tagName);\n                props.saveSearchBarText(tagName);\n                if (searchText === 'trending') {\n                    onTrending();\n                } else {\n                    onSearch();\n                }\n            }\n            return (\n                <a\n                    onClick={callback}\n                    key={index}\n                >\n                    <div className='category-container'>\n                        <div\n                            className='category'\n                            style={{...backgroundImage, ...backgroundColor}}\n                        >\n                            <div className='category-name'>{tagName}</div>\n                        </div>\n                    </div>\n                </a>\n            );\n        }) : [];\n\n        return content && content.length ? (\n            <div\n                className='categories-container'\n                style={style.background}\n            >\n                <InfiniteScroll\n                    hasMore={hasMore}\n                    loadMore={this.loadMore}\n                    threshold={1}\n                >\n                    {content}\n                </InfiniteScroll>\n            </div>\n        ) : (\n            <div\n                className='categories-container'\n                style={style.background}\n            />\n        );\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Categories);\n","var content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/sass-loader/dist/cjs.js??ref--6-2!./Header.scss\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React, {PureComponent} from 'react';\nimport PropTypes from 'prop-types';\nimport {connect} from 'react-redux';\n\nimport {saveSearchBarText, searchTextUpdate} from 'mattermost-redux/actions/gifs';\nimport {getTheme} from 'mattermost-redux/selectors/entities/preferences';\nimport {changeOpacity, makeStyleFromTheme} from 'mattermost-redux/utils/theme_utils';\n\nimport constants from 'components/gif_picker/utils/constants';\nimport SearchBar from 'components/gif_picker/components/SearchBar';\nimport GifTrendingIcon from 'components/widgets/icons/gif_trending_icon';\nimport GifReactionsIcon from 'components/widgets/icons/gif_reactions_icon';\nimport './Header.scss';\n\nfunction mapStateToProps(state) {\n    return {\n        theme: getTheme(state),\n    };\n}\n\nconst mapDispatchToProps = ({\n    saveSearchBarText,\n    searchTextUpdate,\n});\n\nconst getStyle = makeStyleFromTheme((theme) => {\n    return {\n        background: {\n            backgroundColor: theme.centerChannelBg,\n        },\n        header: {\n            borderBottomColor: changeOpacity(theme.centerChannelColor, 0.2),\n        },\n        icon: {\n            fill: changeOpacity(theme.centerChannelColor, 0.3),\n        },\n        iconActive: {\n            fill: theme.centerChannelColor,\n        },\n        iconHover: {\n            fill: changeOpacity(theme.centerChannelColor, 0.8),\n        },\n    };\n});\n\nexport class Header extends PureComponent {\n    static propTypes = {\n        action: PropTypes.string,\n        appProps: PropTypes.object,\n        saveSearchBarText: PropTypes.func,\n        searchTextUpdate: PropTypes.func,\n        theme: PropTypes.object.isRequired,\n    }\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            hovering: '',\n        };\n    }\n\n    render() {\n        const style = getStyle(this.props.theme);\n\n        return (\n            <header\n                className='header-container'\n                style={style.background}\n            >\n                <SearchBar {...this.props}/>\n                <nav\n                    className='nav-bar'\n                    style={style.header}\n                >\n                    {this.renderTabs(this.props, style)}\n                </nav>\n            </header>\n        );\n    }\n\n    renderTabs(props, style) {\n        const {appProps, onTrending, onCategories} = props;\n        const {header} = appProps;\n        return header.tabs.map((tab, index) => {\n            let link;\n            if (tab === constants.Tab.TRENDING) {\n                link = this.renderTab('trending', onTrending, GifTrendingIcon, index, style);\n            } else if (tab === constants.Tab.REACTIONS) {\n                link = this.renderTab('reactions', onCategories, GifReactionsIcon, index, style);\n            }\n            return link;\n        });\n    }\n\n    renderTab(name, callback, Icon, index, style) {\n        var props = this.props;\n        const {action} = props;\n        function callbackWrapper() {\n            props.searchTextUpdate('');\n            props.saveSearchBarText('');\n            callback();\n        }\n        return (\n            <a\n                onClick={callbackWrapper}\n                onMouseOver={() => {\n                    this.setState({hovering: name});\n                }}\n                onMouseOut={() => {\n                    this.setState({hovering: ''});\n                }}\n                style={{cursor: 'pointer'}}\n                key={index}\n            >\n                <div style={{paddingTop: '2px'}}>\n                    <Icon\n                        style={(() => {\n                            if (this.state.hovering === name) {\n                                return style.iconHover;\n                            }\n                            return action === name ? style.iconActive : style.icon;\n                        })()}\n                    />\n                </div>\n            </a>\n        );\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Header);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React, {PureComponent} from 'react';\nimport PropTypes from 'prop-types';\n\nexport default class InfiniteScroll extends PureComponent {\n    static propTypes = {\n        children: PropTypes.array,\n        element: PropTypes.string,\n        hasMore: PropTypes.bool,\n        initialLoad: PropTypes.bool,\n        loader: PropTypes.object,\n        loadMore: PropTypes.func.isRequired,\n        pageStart: PropTypes.number,\n        threshold: PropTypes.number,\n        useWindow: PropTypes.bool,\n        isReverse: PropTypes.bool,\n        containerHeight: PropTypes.number,\n        scrollPosition: PropTypes.number,\n    }\n\n    static defaultProps = {\n        element: 'div',\n        hasMore: false,\n        initialLoad: true,\n        pageStart: 0,\n        threshold: 250,\n        useWindow: true,\n        isReverse: false,\n        containerHeight: null,\n        scrollPosition: null,\n    }\n\n    componentDidMount() {\n        this.pageLoaded = this.props.pageStart;\n        this.attachScrollListener();\n        this.setScrollPosition();\n    }\n\n    componentDidUpdate() {\n        this.attachScrollListener();\n    }\n\n    render() {\n        const {\n            children,\n            element,\n            hasMore,\n            initialLoad, // eslint-disable-line no-unused-vars\n            loader,\n            loadMore, // eslint-disable-line no-unused-vars\n            pageStart, // eslint-disable-line no-unused-vars\n            threshold, // eslint-disable-line no-unused-vars\n            useWindow, // eslint-disable-line no-unused-vars\n            isReverse, // eslint-disable-line no-unused-vars\n            scrollPosition, // eslint-disable-line no-unused-vars\n            containerHeight,\n            ...props\n        } = this.props;\n\n        props.ref = (node) => {\n            this.scrollComponent = node;\n        };\n\n        const elementProps = containerHeight ? {...props, style: {height: containerHeight}} : props;\n\n        return React.createElement(element, elementProps, children, hasMore && (loader || this.defaultLoader));\n    }\n\n    calculateTopPosition(el) {\n        if (!el) {\n            return 0;\n        }\n        return el.offsetTop + this.calculateTopPosition(el.offsetParent);\n    }\n\n    setScrollPosition() {\n        const {scrollPosition} = this.props;\n        if (scrollPosition !== null) {\n            window.scrollTo(0, scrollPosition);\n        }\n    }\n\n    scrollListener = () => {\n        const el = this.scrollComponent;\n        const scrollEl = window;\n\n        let offset;\n        if (this.props.useWindow) {\n            var scrollTop = ('pageYOffset' in scrollEl) ? scrollEl.pageYOffset : (document.documentElement || document.body.parentNode || document.body).scrollTop;\n            if (this.props.isReverse) {\n                offset = scrollTop;\n            } else {\n                offset = this.calculateTopPosition(el) + (el.offsetHeight - scrollTop - window.innerHeight);\n            }\n        } else if (this.props.isReverse) {\n            offset = el.parentNode.scrollTop;\n        } else {\n            offset = el.scrollHeight - el.parentNode.scrollTop - el.parentNode.clientHeight;\n        }\n\n        if (offset < Number(this.props.threshold)) {\n            this.detachScrollListener();\n\n            // Call loadMore after detachScrollListener to allow for non-async loadMore functions\n            if (typeof this.props.loadMore === 'function') {\n                this.props.loadMore(this.pageLoaded += 1);\n            }\n        }\n    }\n\n    attachScrollListener() {\n        if (!this.props.hasMore) {\n            return;\n        }\n\n        let scrollEl = window;\n        if (this.props.useWindow === false) {\n            scrollEl = this.scrollComponent.parentNode;\n        }\n\n        scrollEl.addEventListener('scroll', this.scrollListener);\n        scrollEl.addEventListener('resize', this.scrollListener);\n\n        if (this.props.initialLoad) {\n            this.scrollListener();\n        }\n    }\n\n    detachScrollListener() {\n        var scrollEl = window;\n        if (this.props.useWindow === false) {\n            scrollEl = this.scrollComponent.parentNode;\n        }\n\n        scrollEl.removeEventListener('scroll', this.scrollListener);\n        scrollEl.removeEventListener('resize', this.scrollListener);\n    }\n\n    componentWillUnmount() {\n        this.detachScrollListener();\n    }\n\n    // Set a defaut loader for all your `InfiniteScroll` components\n    setDefaultLoader(loader) {\n        this.defaultLoader = loader;\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React, {PureComponent} from 'react';\nimport PropTypes from 'prop-types';\nimport {connect} from 'react-redux';\n\nimport {searchIfNeededInitial, searchGfycat} from 'mattermost-redux/actions/gifs';\n\nimport SearchGrid from 'components/gif_picker/components/SearchGrid';\n\nfunction mapStateToProps(state) {\n    return {\n        ...state.entities.gifs.search,\n    };\n}\n\nconst mapDispatchToProps = ({\n    searchGfycat,\n    searchIfNeededInitial,\n});\n\nexport class Search extends PureComponent {\n    static propTypes = {\n        handleItemClick: PropTypes.func,\n        onCategories: PropTypes.func,\n        searchText: PropTypes.string,\n        searchIfNeededInitial: PropTypes.func,\n        searchGfycat: PropTypes.func,\n    }\n\n    componentDidMount() {\n        const {searchText} = this.props;\n        this.props.searchIfNeededInitial(searchText.split('-').join(' '));\n    }\n\n    componentDidUpdate(prevProps) {\n        const {searchText} = this.props;\n        if (prevProps.searchText !== searchText) {\n            this.props.searchIfNeededInitial(searchText.split('-').join(' '));\n        }\n    }\n\n    loadMore = () => {\n        const {searchText} = this.props;\n        this.props.searchGfycat({searchText});\n    }\n\n    render() {\n        const {handleItemClick, searchText, onCategories} = this.props;\n\n        return (\n            <SearchGrid\n                keyword={searchText}\n                handleItemClick={handleItemClick}\n                onCategories={onCategories}\n                loadMore={this.loadMore}\n            />\n        );\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Search);\n","var content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/sass-loader/dist/cjs.js??ref--6-2!./SearchBar.scss\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport {connect} from 'react-redux';\n\nimport {saveSearchScrollPosition, saveSearchBarText, searchTextUpdate} from 'mattermost-redux/actions/gifs';\nimport {getTheme} from 'mattermost-redux/selectors/entities/preferences';\nimport {changeOpacity, makeStyleFromTheme} from 'mattermost-redux/utils/theme_utils';\n\nimport GifSearchIcon from 'components/widgets/icons/gif_search_icon';\nimport GifSearchClearIcon from 'components/widgets/icons/gif_search_clear_icon';\nimport LocalizedInput from 'components/localized_input/localized_input';\nimport {t} from 'utils/i18n.jsx';\n\nimport './SearchBar.scss';\n\nfunction mapStateToProps(state) {\n    return {\n        ...state.entities.gifs.categories,\n        ...state.entities.gifs.search,\n        theme: getTheme(state),\n        appProps: state.entities.gifs.app,\n    };\n}\n\nconst mapDispatchToProps = ({\n    saveSearchBarText,\n    saveSearchScrollPosition,\n    searchTextUpdate,\n});\n\nconst getStyle = makeStyleFromTheme((theme) => {\n    return {\n        background: {\n            backgroundColor: theme.centerChannelBg,\n        },\n        icon: {\n            fill: changeOpacity(theme.centerChannelColor, 0.4),\n        },\n        inputBackground: {\n            backgroundColor: theme.centerChannelBg,\n        },\n        input: {\n            borderColor: changeOpacity(theme.centerChannelColor, 0.12),\n        },\n    };\n});\n\nexport class SearchBar extends Component {\n    static propTypes = {\n        searchBarText: PropTypes.string,\n        tagsList: PropTypes.array,\n        theme: PropTypes.object.isRequired,\n        onTrending: PropTypes.func,\n        onSearch: PropTypes.func,\n        onCategories: PropTypes.func,\n        action: PropTypes.string,\n        saveSearchScrollPosition: PropTypes.func,\n        saveSearchBarText: PropTypes.func,\n        searchTextUpdate: PropTypes.func,\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            inputFocused: false,\n        };\n\n        this.searchTimeout = null;\n        this.props.saveSearchBarText('');\n        this.props.searchTextUpdate('');\n    }\n\n    componentDidUpdate(prevProps) {\n        const {searchBarText} = this.props;\n\n        if (searchBarText !== prevProps.searchBarText) {\n            if (searchBarText === 'trending') {\n                this.updateSearchInputValue('');\n            } else {\n                this.updateSearchInputValue(searchBarText);\n            }\n        }\n    }\n\n    /**\n     * Returns text request with hyphens\n     */\n    parseSearchText = (searchText) => {\n        return searchText.trim().split(/ +/).join('-');\n    }\n\n    removeExtraSpaces = (searchText) => {\n        return searchText.trim().split(/ +/).join(' ');\n    }\n\n    updateSearchInputValue = (searchText) => {\n        this.searchInput.value = searchText;\n        this.props.saveSearchBarText(searchText);\n    }\n\n    handleSubmit = (event) => {\n        event.preventDefault();\n        this.triggerSearch(this.searchInput.value);\n        this.searchInput.blur();\n    }\n\n    triggerSearch = (searchText) => {\n        const {onSearch} = this.props;\n        this.props.searchTextUpdate(this.parseSearchText(searchText));\n        onSearch();\n        this.props.saveSearchScrollPosition(0);\n    }\n\n    handleChange = (event) => {\n        clearTimeout(this.searchTimeout);\n\n        const searchText = event.target.value;\n\n        const {onCategories, action} = this.props;\n        this.props.saveSearchBarText(searchText);\n\n        if (searchText === '') {\n            onCategories();\n        } else if (action !== 'reactions' || !this.isFilteredTags(searchText)) {\n            // not reactions page or there's no reactions for this search request\n            this.searchTimeout = setTimeout(() => {\n                this.triggerSearch(searchText);\n            }, 500);\n        }\n    }\n\n    focusInput = () => {\n        this.setState({inputFocused: true});\n    }\n\n    blurInput = () => {\n        this.setState({inputFocused: false});\n    }\n\n    /**\n     * Checks if there're reactions for a current searchText\n     */\n    isFilteredTags = (searchText) => {\n        var text = this.removeExtraSpaces(searchText);\n\n        const {tagsList} = this.props;\n        const substr = text.toLowerCase();\n        const filteredTags = tagsList && tagsList.length ? tagsList.filter((tag) => {\n            if (!text || tag.tagName.indexOf(substr) !== -1) {\n                return tag;\n            }\n            return '';\n        }) : [];\n\n        return Boolean(filteredTags.length);\n    }\n\n    clearSearchHandle = () => {\n        const {action, onTrending, onCategories} = this.props;\n        this.updateSearchInputValue('');\n        if (action === 'reactions') {\n            onCategories();\n        } else {\n            onTrending();\n        }\n    }\n\n    shouldComponentUpdate(nextProps, nextState) {\n        return ((!nextProps.searchBarText && this.props.searchBarText) ||\n            (nextProps.searchBarText && !this.props.searchBarText) ||\n            (nextState.inputFocused !== this.state.inputFocused));\n    }\n\n    render() {\n        const style = getStyle(this.props.theme);\n        const {searchBarText} = this.props;\n        const clearSearchButton = searchBarText ?\n            (\n                <GifSearchClearIcon\n                    className='ic-clear-search'\n                    style={style.icon}\n                    onClick={this.clearSearchHandle}\n                />\n            ) : null;\n\n        return (\n            <form\n                className='gfycat-search'\n                method='get'\n                target='_top'\n                noValidate=''\n                onSubmit={this.handleSubmit}\n            >\n                <div\n                    className='search-bar'\n                    style={style.background}\n                >\n                    <div\n                        className='search-input-bg'\n                        style={style.inputBackground}\n                    />\n                    <LocalizedInput\n                        className='search-input'\n                        name='searchText'\n                        autoFocus={true}\n                        placeholder={{id: t('gif_picker.gfycat'), defaultMessage: 'Search Gfycat'}}\n                        onChange={this.handleChange}\n                        autoComplete='off'\n                        autoCapitalize='off'\n                        onFocus={this.focusInput}\n                        onBlur={this.blurInput}\n                        ref={(input) => {\n                            this.searchInput = input;\n                            return input;\n                        }}\n                        style={style.input}\n                    />\n                    <GifSearchIcon\n                        className='ic ic-search'\n                        style={style.icon}\n                    />\n                    {clearSearchButton}\n                </div>\n                <button\n                    type='submit'\n                    className='submit-button'\n                />\n            </form>\n        );\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SearchBar);\n\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React, {PureComponent} from 'react';\nimport PropTypes from 'prop-types';\nimport {connect} from 'react-redux';\n\nimport {saveSearchScrollPosition} from 'mattermost-redux/actions/gifs';\nimport {getTheme} from 'mattermost-redux/selectors/entities/preferences';\nimport {changeOpacity, makeStyleFromTheme} from 'mattermost-redux/utils/theme_utils';\n\nimport {trackEvent} from 'actions/diagnostics_actions.jsx';\n\nimport InfiniteScroll from 'components/gif_picker/components/InfiniteScroll';\nimport SearchItem from 'components/gif_picker/components/SearchItem';\n\nimport './SearchGrid.scss';\n\nconst ITEMS_PADDING = 8;\nconst NUMBER_OF_COLUMNS_PORTRAIT = 2;\nconst NUMBER_OF_COLUMNS_LANDSCAPE = 2;\nconst WEBKIT_SCROLLBAR_WIDTH = 8;\n\nfunction mapStateToProps(state) {\n    return {\n        ...state.entities.gifs.cache,\n        ...state.entities.gifs.search,\n        theme: getTheme(state),\n        appProps: state.entities.gifs.app,\n    };\n}\n\nconst mapDispatchToProps = ({\n    saveSearchScrollPosition,\n});\n\nconst getStyle = makeStyleFromTheme((theme) => {\n    return {\n        background: {\n            backgroundColor: changeOpacity(theme.centerChannelColor, 0.05),\n        },\n    };\n});\n\nexport class SearchGrid extends PureComponent {\n    static propTypes = {\n        appProps: PropTypes.object,\n        gifs: PropTypes.object,\n        resultsByTerm: PropTypes.object,\n        containerClassName: PropTypes.string,\n        keyword: PropTypes.string, // searchText, tagName\n        handleItemClick: PropTypes.func,\n        onCategories: PropTypes.func,\n        loadMore: PropTypes.func,\n        numberOfColumns: PropTypes.number,\n        scrollPosition: PropTypes.number,\n        saveSearchScrollPosition: PropTypes.func,\n        theme: PropTypes.object.isRequired,\n    }\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            containerWidth: null,\n        };\n        this.scrollPosition = this.props.scrollPosition;\n        this.setNumberOfColumns();\n\n        /**\n         * Inital values for columns heights\n         */\n        this.columnsHeights = Array(this.numberOfColumns).fill(0);\n\n        /**\n         * Items padding value\n         */\n        this.padding = ITEMS_PADDING;\n    }\n\n    componentDidMount() {\n        this.container = document.getElementById('search-grid-container');\n        // eslint-disable-next-line react/no-did-mount-set-state\n        this.setState({\n            ...this.state,\n            containerWidth: this.container.offsetWidth - WEBKIT_SCROLLBAR_WIDTH,\n        });\n        window.addEventListener('resize', this.resizeHandler);\n        window.addEventListener('scroll', this.scrollHandler);\n    }\n\n    componentDidUpdate(prevProps) {\n        if (prevProps.keyword !== this.props.keyword) {\n            window.scrollTo(0, 0);\n        }\n    }\n\n    componentWillUnmount() {\n        const {keyword} = this.props;\n        if (keyword !== 'trending') {\n            this.props.saveSearchScrollPosition(this.scrollPosition);\n        }\n\n        window.removeEventListener('resize', this.resizeHandler);\n        window.removeEventListener('scroll', this.scrollHandler);\n    }\n\n    setNumberOfColumns = () => {\n        if (window.matchMedia('(orientation: portrait)').matches) {\n            this.numberOfColumns = NUMBER_OF_COLUMNS_PORTRAIT;\n        } else {\n            this.numberOfColumns = NUMBER_OF_COLUMNS_LANDSCAPE;\n        }\n    }\n\n    itemClickHandler = (gfyItem) => {\n        const {keyword, handleItemClick} = this.props;\n        this.props.saveSearchScrollPosition(this.scrollPosition);\n\n        trackEvent('gfycat', 'shares', {gfyid: gfyItem.gfyId, keyword});\n        handleItemClick(gfyItem);\n    }\n\n    minHeightColumnIndex = () => {\n        return this.columnsHeights.indexOf(Math.min(...this.columnsHeights));\n    }\n\n    maxHeightColumnIndex = () => {\n        return this.columnsHeights.indexOf(Math.max(...this.columnsHeights));\n    }\n\n    maxColumnHeight = () => {\n        return Math.max(...this.columnsHeights);\n    }\n\n    resizeHandler = () => {\n        if (this.state.containerWidth !== this.container.offsetWidth - WEBKIT_SCROLLBAR_WIDTH) {\n            this.setNumberOfColumns();\n            this.setState({\n                ...this.state,\n                containerWidth: this.container.offsetWidth - WEBKIT_SCROLLBAR_WIDTH,\n            });\n            this.columnsHeights = Array(this.numberOfColumns).fill(0);\n        }\n    }\n\n    scrollHandler = () => {\n        this.scrollPosition = window.scrollY;\n    }\n\n    render() {\n        const style = getStyle(this.props.theme);\n        const {\n            containerClassName,\n            gifs,\n            keyword,\n            resultsByTerm,\n            scrollPosition,\n            loadMore,\n            onCategories,\n        } = this.props;\n\n        const {containerWidth} = this.state;\n        const {moreRemaining, items = [], isEmpty} = resultsByTerm[keyword] ? resultsByTerm[keyword] : {};\n\n        /**\n         * Columns 'left' values\n         */\n        const columnWidth = parseInt(containerWidth / this.numberOfColumns, 10);\n        const leftPosition = Array(this.numberOfColumns).fill(0).map((item, index) => this.padding + ((index * columnWidth) - (index * (this.padding / 2))));\n\n        this.columnsHeights = Array(this.numberOfColumns).fill(this.padding);\n\n        // Item width in %\n        //const itemWidth = this.numberOfColumns === NUMBER_OF_COLUMNS_PORTRAIT ? 100 / NUMBER_OF_COLUMNS_PORTRAIT : 100 / this.numberOfColumns;\n        const itemWidth = 140;\n\n        const searchItems = containerWidth && items.length ?\n            items.map((item, index) => {\n                const gfyItem = gifs[item];\n                const {gfyId} = gfyItem;\n\n                // Position calculation\n                const colIndex = this.minHeightColumnIndex();\n                const top = this.columnsHeights[colIndex] + 'px';\n                const left = leftPosition[colIndex] + 'px';\n                const itemHeight = ((itemWidth / gfyItem.width) * gfyItem.height) + this.padding;\n                this.columnsHeights[colIndex] += itemHeight;\n\n                return (\n                    <SearchItem\n                        gfyItem={gfyItem}\n                        top={top}\n                        left={left}\n                        itemWidth={itemWidth}\n                        itemClickHandler={this.itemClickHandler}\n                        key={`${index}-${gfyId}`}\n                    />\n                );\n            }) : null;\n\n        this.containerHeight = this.maxColumnHeight();\n\n        const content = searchItems ? (\n            <InfiniteScroll\n                className='search-grid-infinite-scroll'\n                pageStart={0}\n                loadMore={loadMore}\n                initialLoad={false}\n                hasMore={moreRemaining}\n                threshold={1}\n                containerHeight={this.containerHeight}\n                scrollPosition={scrollPosition}\n                useWindow={false}\n            >\n                {searchItems}\n            </InfiniteScroll>\n        ) : null;\n\n        const emptySearch = isEmpty ? (\n            <div className='empty-search'>\n                <div className='empty-search-image'/>\n                <p>{'0 Gifs found for '}<strong>{keyword}</strong></p>\n                <a onClick={onCategories}>\n                    <div className='empty-search-button'>{'Go to Reactions'}</div>\n                </a>\n            </div>\n        ) : null;\n\n        return (\n            <div\n                id='search-grid-container'\n                className={`search-grid-container ${containerClassName}`}\n                style={style.background}\n            >\n                {content}\n                {emptySearch}\n            </div>\n        );\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SearchGrid);\n","var content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/sass-loader/dist/cjs.js??ref--6-2!./SearchGrid.scss\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\n\nimport {saveSearchScrollPosition} from 'mattermost-redux/actions/gifs';\n\nimport SearchGrid from './SearchGrid';\n\nfunction mapStateToProps(state) {\n    return {\n        ...state.entities.gifs.cache,\n        ...state.entities.gifs.search,\n        appProps: state.entities.gifs.app,\n    };\n}\n\nfunction mapDispatchToProps() {\n    return {\n        saveSearchScrollPosition,\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SearchGrid);\n","var content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/sass-loader/dist/cjs.js??ref--6-2!./SearchItem.scss\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React, {PureComponent} from 'react';\nimport {connect} from 'react-redux';\n\nimport PropTypes from 'prop-types';\n\nimport './SearchItem.scss';\nimport * as PostUtils from 'utils/post_utils.jsx';\n\nfunction mapStateToProps(state) {\n    return {\n        hasImageProxy: state.entities.general.config.HasImageProxy,\n    };\n}\n\nexport class SearchItem extends PureComponent {\n    static propTypes = {\n        gfyItem: PropTypes.object,\n        top: PropTypes.string,\n        left: PropTypes.string,\n        itemWidth: PropTypes.number,\n        itemClickHandler: PropTypes.func,\n        hasImageProxy: PropTypes.string,\n    }\n\n    render() {\n        const {\n            gfyItem,\n            top,\n            left,\n            itemWidth,\n            itemClickHandler,\n        } = this.props;\n\n        const {width, height, max1mbGif, avgColor} = gfyItem;\n        const {hasImageProxy} = this.props;\n        const url = PostUtils.getImageSrc(max1mbGif, hasImageProxy === 'true');\n\n        const backgroundImage = {backgroundImage: `url(${url})`};\n        const backgroundColor = {backgroundColor: avgColor};\n        const paddingBottom = {paddingBottom: ((itemWidth / width) * height) + 'px'};\n\n        return (\n            <div\n                className='search-item-wrapper'\n                style={{top, left, width: itemWidth ? `${itemWidth}px` : ''}}\n            >\n                <div\n                    className='search-item'\n                    style={{...backgroundImage, ...backgroundColor, ...paddingBottom}}\n                    onClick={() => itemClickHandler(gfyItem)}\n                />\n            </div>\n        );\n    }\n}\n\nexport default connect(mapStateToProps)(SearchItem);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React, {PureComponent} from 'react';\nimport PropTypes from 'prop-types';\nimport {connect} from 'react-redux';\n\nimport {\n    searchCategory,\n    searchIfNeededInitial,\n    saveSearchScrollPosition,\n} from 'mattermost-redux/actions/gifs';\n\nimport SearchGrid from 'components/gif_picker/components/SearchGrid';\n\nconst mapDispatchToProps = ({\n    searchCategory,\n    searchIfNeededInitial,\n    saveSearchScrollPosition,\n});\n\nexport class Trending extends PureComponent {\n    static propTypes = {\n        handleItemClick: PropTypes.func,\n        onCategories: PropTypes.func,\n        searchCategory: PropTypes.func,\n        searchIfNeededInitial: PropTypes.func,\n        saveSearchScrollPosition: PropTypes.func,\n    }\n\n    componentDidMount() {\n        this.props.searchIfNeededInitial('trending');\n    }\n\n    componentWillUnmount() {\n        this.props.saveSearchScrollPosition(0);\n    }\n\n    loadMore = () => {\n        this.props.searchCategory({tagName: 'trending'});\n    }\n\n    render() {\n        const {handleItemClick, onCategories} = this.props;\n        return (\n            <SearchGrid\n                keyword='trending'\n                handleItemClick={handleItemClick}\n                onCategories={onCategories}\n                loadMore={this.loadMore}\n            />\n        );\n    }\n}\n\nexport default connect(null, mapDispatchToProps)(Trending);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport PureRenderMixin from 'react-addons-pure-render-mixin';\n\nimport App from 'components/gif_picker/components/App';\nimport Categories from 'components/gif_picker/components/Categories';\nimport Search from 'components/gif_picker/components/Search';\nimport Trending from 'components/gif_picker/components/Trending';\nimport constants from 'components/gif_picker/utils/constants';\n\nexport const appProps = {\n    appName: constants.appName.mattermost,\n    basePath: '/mattermost',\n    itemTapType: constants.ItemTapAction.SHARE,\n    appClassName: 'gfycat',\n    shareEvent: 'shareMattermost',\n    appId: 'mattermostwebviews',\n    enableHistory: true,\n    header: {\n        tabs: [constants.Tab.TRENDING, constants.Tab.REACTIONS],\n        displayText: false,\n    },\n};\n\nexport default class GifPicker extends React.Component {\n    static propTypes = {\n        onGifClick: PropTypes.func.isRequired,\n    }\n\n    constructor(props) {\n        super(props);\n\n        // All props are primitives or treated as immutable\n        this.shouldComponentUpdate = PureRenderMixin.shouldComponentUpdate.bind(this);\n\n        this.state = {\n            action: 'trending',\n        };\n    }\n\n    handleTrending = () => {\n        this.setState({\n            action: 'trending',\n        });\n    }\n\n    handleCategories = () => {\n        this.setState({\n            action: 'reactions',\n        });\n    }\n\n    handleSearch = () => {\n        this.setState({\n            action: 'search',\n        });\n    }\n\n    handleItemClick = (gif) => {\n        this.props.onGifClick(gif.max5mbGif);\n    }\n\n    render() {\n        const {action} = this.state;\n        let component;\n        switch (action) {\n        case 'reactions':\n            component = (\n                <Categories\n                    appProps={appProps}\n                    onTrending={this.handleTrending}\n                    onSearch={this.handleSearch}\n                />\n            );\n            break;\n        case 'search':\n            component = (\n                <Search\n                    appProps={appProps}\n                    onCategories={this.handleCategories}\n                    handleItemClick={this.handleItemClick}\n                />\n            );\n            break;\n        case 'trending':\n            component = (\n                <Trending\n                    appProps={appProps}\n                    onCategories={this.handleCategories}\n                    handleItemClick={this.handleItemClick}\n                />\n            );\n            break;\n        }\n        return (\n            <div>\n                <App\n                    appProps={appProps}\n                    action={action}\n                    onTrending={this.handleTrending}\n                    onCategories={this.handleCategories}\n                    onSearch={this.handleSearch}\n                >\n                    {component}\n                </App>\n            </div>\n        );\n    }\n}\n","module.exports = __webpack_public_path__ + \"files/0bb56288dd2676237f8cd1905602cbea.png\";","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nexport default {\n    ItemTapAction: {\n        OPEN_EMBED_PAGE: 1,\n        SHARE: 2,\n    },\n\n    Tab: {\n        TRENDING: 0,\n        REACTIONS: 1,\n    },\n\n    appName: {\n        mattermost: 'mattermost',\n    },\n};\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {Route} from 'react-router-dom';\n\nconst HeaderFooterTemplate = React.lazy(() => import('components/header_footer_template'));\nconst LoggedIn = React.lazy(() => import('components/logged_in'));\n\nexport const HFTRoute = ({component: Component, ...rest}) => (\n    <Route\n        {...rest}\n        render={(props) => (\n            <React.Suspense fallback={null}>\n                <HeaderFooterTemplate {...props}>\n                    <Component {...props}/>\n                </HeaderFooterTemplate>\n            </React.Suspense>\n        )}\n    />\n);\n\nexport const LoggedInHFTRoute = ({component: Component, ...rest}) => (\n    <Route\n        {...rest}\n        render={(props) => (\n            <React.Suspense fallback={null}>\n                <LoggedIn {...props}>\n                    <React.Suspense fallback={null}>\n                        <HeaderFooterTemplate {...props}>\n                            <Component {...props}/>\n                        </HeaderFooterTemplate>\n                    </React.Suspense>\n                </LoggedIn>\n            </React.Suspense>\n        )}\n    />\n);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport {FormattedMessage} from 'react-intl';\n\nimport MenuActionProvider from 'components/suggestion/menu_action_provider';\nimport GenericUserProvider from 'components/suggestion/generic_user_provider.jsx';\nimport GenericChannelProvider from 'components/suggestion/generic_channel_provider.jsx';\n\nimport TextSetting from 'components/widgets/settings/text_setting';\nimport AutocompleteSelector from 'components/autocomplete_selector';\nimport BoolSetting from 'components/widgets/settings/bool_setting';\nimport RadioSetting from 'components/widgets/settings/radio_setting';\n\nconst TEXT_DEFAULT_MAX_LENGTH = 150;\nconst TEXTAREA_DEFAULT_MAX_LENGTH = 3000;\n\nexport default class DialogElement extends React.PureComponent {\n    static propTypes = {\n        displayName: PropTypes.string.isRequired,\n        name: PropTypes.string.isRequired,\n        type: PropTypes.string.isRequired,\n        subtype: PropTypes.string,\n        placeholder: PropTypes.string,\n        helpText: PropTypes.string,\n        errorText: PropTypes.node,\n        maxLength: PropTypes.number,\n        dataSource: PropTypes.string,\n        optional: PropTypes.bool,\n        options: PropTypes.arrayOf(PropTypes.object),\n        value: PropTypes.any,\n        onChange: PropTypes.func,\n        actions: PropTypes.shape({\n            autocompleteChannels: PropTypes.func.isRequired,\n        }).isRequired,\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.providers = [];\n        if (props.type === 'select') {\n            if (props.dataSource === 'users') {\n                this.providers = [new GenericUserProvider()];\n            } else if (props.dataSource === 'channels') {\n                this.providers = [new GenericChannelProvider(props.actions.autocompleteChannels)];\n            } else if (props.options) {\n                this.providers = [new MenuActionProvider(props.options)];\n            }\n        }\n\n        this.state = {\n            value: '',\n        };\n    }\n\n    handleSelected = (selected) => {\n        const {name, dataSource, onChange} = this.props;\n\n        if (dataSource === 'users') {\n            onChange(name, selected.id);\n            this.setState({value: selected.username});\n        } else if (dataSource === 'channels') {\n            onChange(name, selected.id);\n            this.setState({value: selected.display_name});\n        } else {\n            onChange(name, selected.value);\n            this.setState({value: selected.text});\n        }\n    }\n\n    render() {\n        const {\n            name,\n            subtype,\n            displayName,\n            value,\n            placeholder,\n            onChange,\n            helpText,\n            errorText,\n            optional,\n            options,\n        } = this.props;\n\n        let {type, maxLength} = this.props;\n\n        let displayNameContent = displayName;\n        if (optional) {\n            displayNameContent = (\n                <React.Fragment>\n                    {displayName + ' '}\n                    <span className='font-weight--normal light'>\n                        <FormattedMessage\n                            id='interactive_dialog.element.optional'\n                            defaultMessage='(optional)'\n                        />\n                    </span>\n                </React.Fragment>\n            );\n        } else {\n            displayNameContent = (\n                <React.Fragment>\n                    {displayName}\n                    <span className='error-text'>{' *'}</span>\n                </React.Fragment>\n            );\n        }\n\n        let helpTextContent = helpText;\n        if (errorText) {\n            helpTextContent = (\n                <React.Fragment>\n                    {helpText}\n                    <div className='error-text margin-top x2'>\n                        {errorText}\n                    </div>\n                </React.Fragment>\n            );\n        }\n\n        if (type === 'text' || type === 'textarea') {\n            if (type === 'text') {\n                maxLength = maxLength || TEXT_DEFAULT_MAX_LENGTH;\n\n                if (subtype && TextSetting.validTypes.includes(subtype)) {\n                    type = subtype;\n                } else {\n                    type = 'input';\n                }\n            } else {\n                maxLength = maxLength || TEXTAREA_DEFAULT_MAX_LENGTH;\n            }\n\n            return (\n                <TextSetting\n                    id={name}\n                    type={type}\n                    label={displayNameContent}\n                    maxLength={maxLength}\n                    value={value || ''}\n                    placeholder={placeholder}\n                    helpText={helpTextContent}\n                    onChange={onChange}\n                    resizable={false}\n                />\n            );\n        } else if (type === 'select') {\n            return (\n                <AutocompleteSelector\n                    id={name}\n                    providers={this.providers}\n                    onSelected={this.handleSelected}\n                    label={displayNameContent}\n                    helpText={helpTextContent}\n                    placeholder={placeholder}\n                    value={this.state.value}\n                />\n            );\n        } else if (type === 'bool') {\n            return (\n                <BoolSetting\n                    id={name}\n                    label={displayNameContent}\n                    value={value || false}\n                    helpText={helpTextContent}\n                    placeholder={placeholder}\n                    onChange={onChange}\n                />\n            );\n        } else if (type === 'radio') {\n            return (\n                <RadioSetting\n                    id={name}\n                    label={displayNameContent}\n                    helpText={helpTextContent}\n                    options={options}\n                    value={value}\n                    onChange={onChange}\n                />\n            );\n        }\n\n        return null;\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\n\nimport {autocompleteChannels} from 'actions/channel_actions';\n\nimport DialogElement from './dialog_element';\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            autocompleteChannels,\n        }, dispatch),\n    };\n}\n\nexport default connect(null, mapDispatchToProps)(DialogElement);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport * as Markdown from 'utils/markdown';\n\nexport default class DialogIntroductionText extends React.PureComponent {\n    static propTypes = {\n        id: PropTypes.string,\n        value: PropTypes.string.isRequired,\n    };\n\n    render() {\n        const formattedMessage = Markdown.format(this.props.value, {\n            breaks: true,\n            sanitize: true,\n            gfm: true,\n        });\n\n        return (\n            <span\n                id={this.props.id}\n                dangerouslySetInnerHTML={{__html: formattedMessage}}\n            />\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\n\nimport {submitInteractiveDialog} from 'mattermost-redux/actions/integrations';\n\nimport InteractiveDialog from './interactive_dialog';\n\nfunction mapStateToProps(state) {\n    const data = state.entities.integrations.dialog;\n    if (!data || !data.dialog) {\n        return {};\n    }\n\n    return {\n        url: data.url,\n        callbackId: data.dialog.callback_id,\n        elements: data.dialog.elements,\n        title: data.dialog.title,\n        introductionText: data.dialog.introduction_text,\n        iconUrl: data.dialog.icon_url,\n        submitLabel: data.dialog.submit_label,\n        notifyOnCancel: data.dialog.notify_on_cancel,\n        state: data.dialog.state,\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            submitInteractiveDialog,\n        }, dispatch),\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(InteractiveDialog);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport {Modal} from 'react-bootstrap';\nimport {FormattedMessage} from 'react-intl';\nimport {checkDialogElementForError, checkIfErrorsMatchElements} from 'mattermost-redux/utils/integration_utils';\n\nimport SpinnerButton from 'components/spinner_button';\n\nimport {localizeMessage} from 'utils/utils.jsx';\n\nimport DialogElement from './dialog_element';\nimport DialogIntroductionText from './dialog_introduction_text';\n\nexport default class InteractiveDialog extends React.Component {\n    static propTypes = {\n        url: PropTypes.string.isRequired,\n        callbackId: PropTypes.string,\n        elements: PropTypes.arrayOf(PropTypes.object),\n        title: PropTypes.string.isRequired,\n        introductionText: PropTypes.string,\n        iconUrl: PropTypes.string,\n        submitLabel: PropTypes.string,\n        notifyOnCancel: PropTypes.bool,\n        state: PropTypes.string,\n        onHide: PropTypes.func,\n        actions: PropTypes.shape({\n            submitInteractiveDialog: PropTypes.func.isRequired,\n        }).isRequired,\n    }\n\n    constructor(props) {\n        super(props);\n\n        const values = {};\n        if (props.elements != null) {\n            props.elements.forEach((e) => {\n                values[e.name] = e.default || null;\n            });\n        }\n\n        this.state = {\n            show: true,\n            values,\n            error: null,\n            errors: {},\n            submitting: false,\n        };\n    }\n\n    handleSubmit = async (e) => {\n        e.preventDefault();\n\n        const {elements} = this.props;\n        const values = this.state.values;\n        const errors = {};\n        if (elements) {\n            elements.forEach((elem) => {\n                const error = checkDialogElementForError(elem, values[elem.name]);\n                if (error) {\n                    errors[elem.name] = (\n                        <FormattedMessage\n                            id={error.id}\n                            defaultMessage={error.defaultMessage}\n                            values={error.values}\n                        />\n                    );\n                }\n            });\n        }\n\n        this.setState({errors});\n\n        if (Object.keys(errors).length !== 0) {\n            return;\n        }\n\n        const {url, callbackId, state} = this.props;\n\n        const dialog = {\n            url,\n            callback_id: callbackId,\n            state,\n            submission: values,\n        };\n\n        this.setState({submitting: true});\n\n        const {data} = await this.props.actions.submitInteractiveDialog(dialog);\n\n        this.setState({submitting: false});\n\n        let hasErrors = false;\n\n        if (data) {\n            if (data.error) {\n                hasErrors = true;\n                this.setState({error: data.error});\n            }\n\n            if (data.errors &&\n                Object.keys(data.errors).length >= 0 &&\n                checkIfErrorsMatchElements(data.errors, elements)\n            ) {\n                hasErrors = true;\n                this.setState({errors: data.errors});\n            }\n        }\n\n        if (!hasErrors) {\n            this.handleHide(true);\n        }\n    }\n\n    onHide = () => {\n        this.handleHide(false);\n    }\n\n    handleHide = (submitted = false) => {\n        const {url, callbackId, state, notifyOnCancel} = this.props;\n\n        if (!submitted && notifyOnCancel) {\n            const dialog = {\n                url,\n                callback_id: callbackId,\n                state,\n                cancelled: true,\n            };\n\n            this.props.actions.submitInteractiveDialog(dialog);\n        }\n\n        this.setState({show: false});\n    }\n\n    onChange = (name, value) => {\n        const values = {...this.state.values, [name]: value};\n        this.setState({values});\n    }\n\n    render() {\n        const {title, introductionText, iconUrl, submitLabel, elements} = this.props;\n\n        let submitText = (\n            <FormattedMessage\n                id='interactive_dialog.submit'\n                defaultMessage='Submit'\n            />\n        );\n        if (submitLabel) {\n            submitText = submitLabel;\n        }\n\n        let icon;\n        if (iconUrl) {\n            icon = (\n                <img\n                    id='interactiveDialogIconUrl'\n                    alt={'modal title icon'}\n                    className='more-modal__image'\n                    width='36'\n                    height='36'\n                    src={iconUrl}\n                />\n            );\n        }\n\n        return (\n            <Modal\n                id='interactiveDialogModal'\n                dialogClassName='a11y__modal about-modal'\n                show={this.state.show}\n                onHide={this.onHide}\n                onExited={this.props.onHide}\n                backdrop='static'\n                role='dialog'\n                aria-labelledby='interactiveDialogModalLabel'\n            >\n                <Modal.Header\n                    closeButton={true}\n                    style={{borderBottom: elements == null && '0px'}}\n                >\n                    <Modal.Title\n                        componentClass='h1'\n                        id='interactiveDialogModalLabel'\n                    >\n                        {icon}{title}\n                    </Modal.Title>\n                </Modal.Header>\n                {(elements || introductionText) && <Modal.Body>\n                    {introductionText &&\n                        <DialogIntroductionText\n                            id='interactiveDialogModalIntroductionText'\n                            value={introductionText}\n                        />\n                    }\n                    {elements && elements.map((e) => {\n                        return (\n                            <DialogElement\n                                key={'dialogelement' + e.name}\n                                displayName={e.display_name}\n                                name={e.name}\n                                type={e.type}\n                                subtype={e.subtype}\n                                helpText={e.help_text}\n                                errorText={this.state.errors[e.name]}\n                                placeholder={e.placeholder}\n                                minLength={e.min_length}\n                                maxLength={e.max_length}\n                                dataSource={e.data_source}\n                                optional={e.optional}\n                                options={e.options}\n                                value={this.state.values[e.name]}\n                                onChange={this.onChange}\n                            />\n                        );\n                    })}\n                </Modal.Body>}\n                <Modal.Footer>\n                    {this.state.error && (\n                        <div className='error-text'>\n                            {this.state.error}\n                        </div>\n                    )}\n                    <button\n                        id='interactiveDialogCancel'\n                        type='button'\n                        className='btn btn-link cancel-button'\n                        onClick={this.onHide}\n                    >\n                        <FormattedMessage\n                            id='interactive_dialog.cancel'\n                            defaultMessage='Cancel'\n                        />\n                    </button>\n                    <SpinnerButton\n                        id='interactiveDialogSubmit'\n                        type='button'\n                        className='btn btn-primary save-button'\n                        onClick={this.handleSubmit}\n                        spinning={this.state.submitting}\n                        spinningText={localizeMessage('interactive_dialog.submitting', 'Submitting...')}\n                    >\n                        {submitText}\n                    </SpinnerButton>\n                </Modal.Footer>\n            </Modal>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\n\nimport {loadTranslations} from 'actions/views/root';\n\nimport {getCurrentLocale, getTranslations} from 'selectors/i18n';\n\nimport IntlProvider from './intl_provider';\n\nfunction mapStateToProps(state) {\n    const locale = getCurrentLocale(state);\n\n    return {\n        locale,\n        translations: getTranslations(state, locale),\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            loadTranslations,\n        }, dispatch),\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(IntlProvider);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {IntlProvider as BaseIntlProvider} from 'react-intl';\n\nimport {Client4} from 'mattermost-redux/client';\nimport {setLocalizeFunction} from 'mattermost-redux/utils/i18n_utils';\n\nimport * as I18n from 'i18n/i18n';\n\nimport {localizeMessage} from 'utils/utils';\n\nexport default class IntlProvider extends React.PureComponent {\n    static propTypes = {\n        children: PropTypes.element.isRequired,\n        locale: PropTypes.string.isRequired,\n        translations: PropTypes.object,\n        actions: PropTypes.shape({\n            loadTranslations: PropTypes.func.isRequired,\n        }).isRequired,\n    };\n\n    componentDidMount() {\n        // Initialize browser's i18n data\n        I18n.doAddLocaleData();\n\n        // Pass localization function back to mattermost-redux\n        setLocalizeFunction(localizeMessage);\n\n        this.handleLocaleChange(this.props.locale);\n    }\n\n    componentDidUpdate(prevProps) {\n        if (prevProps.locale !== this.props.locale) {\n            this.handleLocaleChange(this.props.locale);\n        }\n    }\n\n    handleLocaleChange = (locale) => {\n        Client4.setAcceptLanguage(locale);\n\n        this.loadTranslationsIfNecessary(locale);\n    }\n\n    loadTranslationsIfNecessary = (locale) => {\n        if (this.props.translations) {\n            // Already loaded\n            return;\n        }\n        const localeInfo = I18n.getLanguageInfo(locale);\n\n        if (!localeInfo) {\n            return;\n        }\n\n        this.props.actions.loadTranslations(locale, localeInfo.url);\n    }\n\n    render() {\n        if (!this.props.translations) {\n            return null;\n        }\n\n        return (\n            <BaseIntlProvider\n                key={this.props.locale}\n                locale={this.props.locale}\n                messages={this.props.translations}\n            >\n                {this.props.children}\n            </BaseIntlProvider>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\n\nimport {getCurrentTeam} from 'mattermost-redux/selectors/entities/teams';\nimport {getChannelsInCurrentTeam} from 'mattermost-redux/selectors/entities/channels';\nimport {haveIChannelPermission, haveITeamPermission} from 'mattermost-redux/selectors/entities/roles';\nimport {getConfig, getLicense} from 'mattermost-redux/selectors/entities/general';\nimport {getProfiles, searchProfiles as reduxSearchProfiles} from 'mattermost-redux/actions/users';\nimport {searchChannels as reduxSearchChannels} from 'mattermost-redux/actions/channels';\nimport {getTeam} from 'mattermost-redux/actions/teams';\nimport {Permissions} from 'mattermost-redux/constants';\n\nimport {closeModal} from 'actions/views/modals';\nimport {isModalOpen} from 'selectors/views/modals';\nimport {ModalIdentifiers, Constants} from 'utils/constants';\nimport {sendMembersInvites, sendGuestsInvites} from 'actions/invite_actions';\n\nimport InvitationModal from './invitation_modal.jsx';\n\nconst searchProfiles = (term, options = {}) => {\n    if (!term) {\n        return getProfiles(0, 20, options);\n    }\n    return reduxSearchProfiles(term, options);\n};\n\nconst searchChannels = (teamId, term) => {\n    return reduxSearchChannels(teamId, term);\n};\n\nexport function mapStateToProps(state) {\n    const config = getConfig(state);\n    const license = getLicense(state);\n    const channels = getChannelsInCurrentTeam(state);\n    const currentTeam = getCurrentTeam(state);\n    const invitableChannels = channels.filter((channel) => {\n        if (channel.type === Constants.DM_CHANNEL || channel.type === Constants.GM_CHANNEL) {\n            return false;\n        }\n        if (channel.type === Constants.PRIVATE_CHANNEL) {\n            return haveIChannelPermission(state, {channel: channel.id, team: currentTeam.id, permission: Permissions.MANAGE_PRIVATE_CHANNEL_MEMBERS});\n        }\n        return haveIChannelPermission(state, {channel: channel.id, team: currentTeam.id, permission: Permissions.MANAGE_PUBLIC_CHANNEL_MEMBERS});\n    });\n    const guestAccountsEnabled = config.EnableGuestAccounts === 'true';\n    const isLicensed = license && license.IsLicensed === 'true';\n    const isGroupConstrained = Boolean(currentTeam.group_constrained);\n    const canInviteGuests = !isGroupConstrained && isLicensed && guestAccountsEnabled && haveITeamPermission(state, {team: currentTeam.id, permission: Permissions.INVITE_GUEST});\n\n    const canAddUsers = haveITeamPermission(state, {team: currentTeam.id, permission: Permissions.ADD_USER_TO_TEAM});\n    return {\n        invitableChannels,\n        currentTeam,\n        canInviteGuests,\n        canAddUsers,\n        show: isModalOpen(state, ModalIdentifiers.INVITATION),\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            closeModal: () => closeModal(ModalIdentifiers.INVITATION),\n            sendGuestsInvites,\n            sendMembersInvites,\n            searchProfiles,\n            searchChannels,\n            getTeam,\n        }, dispatch),\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(InvitationModal);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nimport FullScreenModal from 'components/widgets/modals/full_screen_modal';\nimport ConfirmModal from 'components/confirm_modal.jsx';\nimport RootPortal from 'components/root_portal';\n\nimport {InviteTypes} from 'utils/constants';\n\nimport InvitationModalInitialStep from './invitation_modal_initial_step.jsx';\nimport InvitationModalMembersStep from './invitation_modal_members_step.jsx';\nimport InvitationModalGuestsStep from './invitation_modal_guests_step.jsx';\nimport InvitationModalConfirmStep from './invitation_modal_confirm_step.jsx';\n\nimport './invitation_modal.scss';\n\nconst STEPS_INITIAL = 'initial';\nconst STEPS_INVITE_MEMBERS = 'members';\nconst STEPS_INVITE_GUESTS = 'guests';\nconst STEPS_INVITE_CONFIRM = 'confirm';\n\nexport default class InvitationModal extends React.Component {\n    static propTypes = {\n        show: PropTypes.bool,\n        currentTeam: PropTypes.object.isRequired,\n        invitableChannels: PropTypes.array.isRequired,\n        canInviteGuests: PropTypes.bool.isRequired,\n        canAddUsers: PropTypes.bool.isRequired,\n        actions: PropTypes.shape({\n            closeModal: PropTypes.func.isRequired,\n            sendGuestsInvites: PropTypes.func.isRequired,\n            sendMembersInvites: PropTypes.func.isRequired,\n            searchProfiles: PropTypes.func.isRequired,\n            searchChannels: PropTypes.func.isRequired,\n            getTeam: PropTypes.func.isRequired,\n        }).isRequired,\n    }\n\n    constructor(props) {\n        super(props);\n        let step = STEPS_INITIAL;\n        if (!props.canInviteGuests) {\n            step = STEPS_INVITE_MEMBERS;\n        }\n\n        if (!props.canAddUsers) {\n            step = STEPS_INVITE_GUESTS;\n        }\n\n        this.state = {\n            step,\n            prevStep: null,\n            lastInviteChannels: [],\n            lastInviteMessage: '',\n            confirmModal: false,\n            confirmBack: false,\n            hasChanges: false,\n            invitesType: InviteTypes.INVITE_MEMBER,\n            invitesSent: [],\n            invitesNotSent: [],\n        };\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        if (this.state.step === STEPS_INVITE_MEMBERS && prevState.step !== STEPS_INVITE_MEMBERS && !this.props.currentTeam.invite_id) {\n            this.props.actions.getTeam(this.props.currentTeam.id);\n        }\n    }\n\n    goToInitialStep = () => {\n        if (this.state.hasChanges) {\n            this.setState({confirmBack: true});\n        } else {\n            this.setState({step: STEPS_INITIAL, hasChanges: false, lastInviteChannels: [], lastInviteMesssage: '', prevStep: this.state.step});\n        }\n    }\n\n    goToMembers = () => {\n        this.setState({step: STEPS_INVITE_MEMBERS, prevStep: this.state.step, hasChanges: false, invitesSent: [], invitesNotSent: [], invitesType: InviteTypes.INVITE_MEMBER});\n    }\n\n    goToGuests = () => {\n        this.setState({step: STEPS_INVITE_GUESTS, prevStep: this.state.step, hasChanges: false, invitesSent: [], invitesNotSent: [], invitesType: InviteTypes.INVITE_GUEST});\n    }\n\n    goToPrevStep = () => {\n        if (this.state.prevStep === STEPS_INVITE_GUESTS) {\n            this.setState({step: STEPS_INVITE_GUESTS, prevStep: this.state.step, hasChanges: false, invitesSent: [], invitesNotSent: [], invitesType: InviteTypes.INVITE_GUEST});\n        } else if (this.state.prevStep === STEPS_INVITE_MEMBERS) {\n            this.setState({step: STEPS_INVITE_MEMBERS, prevStep: this.state.step, hasChanges: false, invitesSent: [], invitesNotSent: [], invitesType: InviteTypes.INVITE_MEMBER});\n        }\n    }\n\n    getBackFunction = () => {\n        if (this.state.step === STEPS_INVITE_CONFIRM && this.state.invitesNotSent.length > 0) {\n            return this.goToPrevStep;\n        }\n        if ((this.state.step === STEPS_INVITE_MEMBERS || this.state.step === STEPS_INVITE_GUESTS) && this.props.canInviteGuests && this.props.canAddUsers) {\n            return this.goToInitialStep;\n        }\n        return null;\n    }\n\n    onEdit = (hasChanges) => {\n        this.setState({hasChanges});\n    }\n\n    close = () => {\n        if (this.state.hasChanges) {\n            this.setState({confirmModal: true});\n        } else {\n            this.props.actions.closeModal();\n        }\n    }\n\n    confirmBack = () => {\n        this.setState({step: STEPS_INITIAL, hasChanges: false, confirmBack: false});\n    }\n\n    cancelBack= () => {\n        this.setState({confirmBack: false});\n    }\n\n    confirmClose = () => {\n        this.props.actions.closeModal();\n        this.setState({confirmModal: false});\n    }\n\n    cancelClose = () => {\n        this.setState({confirmModal: false});\n    }\n\n    onMembersSubmit = async (users, emails, extraText) => {\n        const invites = await this.props.actions.sendMembersInvites(this.props.currentTeam.id, users, emails);\n\n        if (extraText !== '') {\n            invites.notSent.push({\n                text: extraText,\n                reason: (\n                    <FormattedMessage\n                        id='invitation-modal.confirm.not-valid-user-or-email'\n                        defaultMessage='Does not match a valid user or email.'\n                    />\n                ),\n            });\n        }\n\n        this.setState({step: STEPS_INVITE_CONFIRM, prevStep: this.state.step, invitesSent: invites.sent, invitesNotSent: invites.notSent, invitesType: InviteTypes.INVITE_MEMBER, hasChanges: false});\n    }\n\n    onGuestsSubmit = async (users, emails, channels, message, extraUserText, extraChannelText) => {\n        const invites = await this.props.actions.sendGuestsInvites(\n            this.props.currentTeam.id,\n            channels.map((c) => c.id),\n            users,\n            emails,\n            message,\n        );\n        if (extraUserText !== '') {\n            invites.notSent.push({\n                text: extraUserText,\n                reason: (\n                    <FormattedMessage\n                        id='invitation-modal.confirm.not-valid-user-or-email'\n                        defaultMessage='Does not match a valid user or email.'\n                    />\n                ),\n            });\n        }\n        if (extraChannelText !== '') {\n            invites.notSent.push({\n                text: extraChannelText,\n                reason: (\n                    <FormattedMessage\n                        id='invitation-modal.confirm.not-valid-channel'\n                        defaultMessage='Does not match a valid channel name.'\n                    />\n                ),\n            });\n        }\n        this.setState({step: STEPS_INVITE_CONFIRM, prevStep: this.state.step, lastInviteChannels: channels, lastInviteMessage: message, invitesSent: invites.sent, invitesNotSent: invites.notSent, invitesType: InviteTypes.INVITE_GUEST, hasChanges: false});\n    }\n\n    render() {\n        return (\n            <RootPortal>\n                <FullScreenModal\n                    show={Boolean(this.props.show)}\n                    onClose={this.close}\n                    onGoBack={this.getBackFunction()}\n                >\n                    <div\n                        data-testid='invitationModal'\n                        className='InvitationModal'\n                    >\n                        <ConfirmModal\n                            show={this.state.confirmModal || this.state.confirmBack}\n                            title={\n                                <FormattedMessage\n                                    id='invitation-modal.discard-changes.title'\n                                    defaultMessage='Discard Changes'\n                                />\n                            }\n                            message={\n                                <FormattedMessage\n                                    id='invitation-modal.discard-changes.message'\n                                    defaultMessage='You have unsent invitations, are you sure you want to discard them?'\n                                />\n                            }\n                            confirmButtonText={\n                                <FormattedMessage\n                                    id='invitation-modal.discard-changes.button'\n                                    defaultMessage='Yes, Discard'\n                                />\n                            }\n                            modalClass='invitation-modal-confirm'\n                            onConfirm={this.state.confirmModal ? this.confirmClose : this.confirmBack}\n                            onCancel={this.state.confirmModal ? this.cancelClose : this.cancelBack}\n                        />\n                        {this.state.step === STEPS_INITIAL &&\n                            <InvitationModalInitialStep\n                                teamName={this.props.currentTeam.display_name}\n                                goToMembers={this.goToMembers}\n                                goToGuests={this.goToGuests}\n                            />\n                        }\n                        {this.state.step === STEPS_INVITE_MEMBERS &&\n                            <InvitationModalMembersStep\n                                teamName={this.props.currentTeam.display_name}\n                                inviteId={this.props.currentTeam.invite_id}\n                                searchProfiles={this.props.actions.searchProfiles}\n                                onSubmit={this.onMembersSubmit}\n                                onEdit={this.onEdit}\n                            />\n                        }\n                        {this.state.step === STEPS_INVITE_GUESTS &&\n                            <InvitationModalGuestsStep\n                                teamName={this.props.currentTeam.display_name}\n                                currentTeamId={this.props.currentTeam.id}\n                                myInvitableChannels={this.props.invitableChannels}\n                                searchProfiles={this.props.actions.searchProfiles}\n                                searchChannels={this.props.actions.searchChannels}\n                                defaultChannels={this.state.lastInviteChannels}\n                                defaultMessage={this.state.lastInviteMessage}\n                                onSubmit={this.onGuestsSubmit}\n                                onEdit={this.onEdit}\n                            />\n                        }\n                        {this.state.step === STEPS_INVITE_CONFIRM &&\n                            <InvitationModalConfirmStep\n                                teamName={this.props.currentTeam.display_name}\n                                currentTeamId={this.props.currentTeam.id}\n                                onDone={this.close}\n                                invitesType={this.state.invitesType}\n                                invitesSent={this.state.invitesSent}\n                                invitesNotSent={this.state.invitesNotSent}\n                            />\n                        }\n                    </div>\n                </FullScreenModal>\n            </RootPortal>\n        );\n    }\n}\n","var content = require(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js??ref--6-2!./invitation_modal.scss\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nimport FormattedMarkdownMessage from 'components/formatted_markdown_message';\nimport InviteIcon from 'components/widgets/icons/invite_icon';\nimport InvitationModalConfirmStepTable from 'components/invitation_modal/invitation_modal_confirm_step_table';\n\nimport {InviteTypes} from 'utils/constants';\n\nimport './invitation_modal_confirm_step.scss';\n\nexport default class InvitationModalConfirmStep extends React.Component {\n    static propTypes = {\n        teamName: PropTypes.string.isRequired,\n        onDone: PropTypes.func.isRequired,\n        invitesType: PropTypes.oneOf([InviteTypes.INVITE_MEMBER, InviteTypes.INVITE_GUEST]).isRequired,\n        invitesSent: PropTypes.array.isRequired,\n        invitesNotSent: PropTypes.array.isRequired,\n    }\n\n    getInvitesCountsMessage = (invitesSentCount, invitesNotSentCount) => {\n        if (invitesSentCount > 0 && invitesNotSentCount > 0) {\n            return (\n                <FormattedMarkdownMessage\n                    id='invitation_modal.confirm.members_subtitle'\n                    defaultMessage='**{sentCount, number} {sentCount, plural, one {person} other {people}}** {sentCount, plural, one {has} other {have}} been invited, and **{notSentCount, number} {notSentCount, plural, one {invitation} other {invitations}}** {notSentCount, plural, one {was} other {were}} not sent'\n                    values={{sentCount: invitesSentCount, notSentCount: invitesNotSentCount}}\n                />\n            );\n        }\n\n        if (invitesSentCount > 0 && invitesNotSentCount === 0) {\n            return (\n                <FormattedMarkdownMessage\n                    id='invitation_modal.confirm.members_subtitle_without_not_sent'\n                    defaultMessage='**{sentCount, number} {sentCount, plural, one {person} other {people}}** {sentCount, plural, one {has} other {have}} been invited'\n                    values={{sentCount: invitesSentCount}}\n                />\n            );\n        }\n        if (invitesSentCount === 0 && invitesNotSentCount > 0) {\n            return (\n                <FormattedMarkdownMessage\n                    id='invitation_modal.confirm.members_subtitle_without_sent'\n                    defaultMessage='**{notSentCount, number} {notSentCount, plural, one {invitation} other {invitations}}** {notSentCount, plural, one {was} other {were}} not sent'\n                    values={{notSentCount: invitesNotSentCount}}\n                />\n            );\n        }\n        return (\n            <FormattedMarkdownMessage\n                id='invitation_modal.confirm.members_subtitle_without_sent_and_not_sent'\n                defaultMessage='No invitation sent'\n            />\n        );\n    }\n\n    render() {\n        const {teamName, invitesType, invitesSent, invitesNotSent, onDone} = this.props;\n        return (\n            <div className='InvitationModalConfirmStep'>\n                <div className='modal-icon'>\n                    <InviteIcon/>\n                </div>\n                {invitesType === InviteTypes.INVITE_MEMBER &&\n                    <h1>\n                        <FormattedMarkdownMessage\n                            id='invitation_modal.confirm.members_title'\n                            defaultMessage='**Members** Invited to **{teamName}**'\n                            values={{teamName}}\n                        />\n                    </h1>}\n                {invitesType === InviteTypes.INVITE_GUEST &&\n                    <h1>\n                        <FormattedMarkdownMessage\n                            id='invitation_modal.confirm.guests_title'\n                            defaultMessage='**Guests** Invited to **{teamName}**'\n                            values={{teamName}}\n                        />\n                    </h1>}\n                <h2 className='subtitle'>\n                    {this.getInvitesCountsMessage(invitesSent.length, invitesNotSent.length)}\n                </h2>\n                {invitesSent.length > 0 &&\n                    <div className='invitation-modal-confirm-sent'>\n                        <h2>\n                            <FormattedMessage\n                                id='invitation_modal.confirm.sent-header'\n                                defaultMessage='Successful Invites'\n                            />\n                        </h2>\n                        <InvitationModalConfirmStepTable invites={invitesSent}/>\n                    </div>}\n                {invitesNotSent.length > 0 &&\n                    <div className='invitation-modal-confirm-not-sent'>\n                        <h2>\n                            <FormattedMessage\n                                id='invitation_modal.confirm.not-sent-header'\n                                defaultMessage='Invitations Not Sent'\n                            />\n                        </h2>\n                        <InvitationModalConfirmStepTable invites={invitesNotSent}/>\n                    </div>}\n                <div className='confirm-done'>\n                    <button\n                        className='btn btn-primary'\n                        onClick={onDone}\n                    >\n                        <FormattedMessage\n                            id='invitation_modal.confirm.done'\n                            defaultMessage='Done'\n                        />\n                    </button>\n                </div>\n            </div>\n        );\n    }\n}\n","var content = require(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js??ref--6-2!./invitation_modal_confirm_step.scss\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport {FormattedMessage} from 'react-intl';\n\nimport EmailIcon from 'components/widgets/icons/mail_icon';\nimport AlertIcon from 'components/widgets/icons/alert_icon';\nimport GuestBadge from 'components/widgets/badges/guest_badge';\nimport Avatar from 'components/widgets/users/avatar';\n\nimport {imageURLForUser, isGuest, getLongDisplayName} from 'utils/utils.jsx';\n\nimport './invitation_modal_confirm_step_row.scss';\n\nexport default class InvitationModalConfirmStepRow extends React.Component {\n    static propTypes = {\n        invitation: PropTypes.object.isRequired,\n    }\n\n    render() {\n        const {invitation} = this.props;\n        let icon;\n        let username;\n        let className;\n        let guestBadge;\n        if (invitation.user) {\n            className = 'name';\n            const profileImg = imageURLForUser(invitation.user);\n            icon = (\n                <Avatar\n                    username={invitation.user.username}\n                    url={profileImg}\n                    size='lg'\n                />\n            );\n            username = getLongDisplayName(invitation.user);\n            if (isGuest(invitation.user)) {\n                guestBadge = <GuestBadge/>;\n            }\n        } else if (invitation.email) {\n            className = 'email';\n            icon = <EmailIcon className='mail-icon'/>;\n            username = invitation.email;\n        } else {\n            className = 'name';\n            icon = <AlertIcon className='alert-icon'/>;\n            username = invitation.text;\n        }\n\n        let reason = invitation.reason;\n        if (invitation.reason && invitation.reason.id) {\n            reason = (\n                <FormattedMessage\n                    id={invitation.reason.id}\n                    defaultMessage={invitation.reason.message}\n                    values={invitation.reason.values}\n                />\n            );\n        }\n\n        return (\n            <div className='InvitationModalConfirmStepRow'>\n                <div className='username-or-icon'>\n                    {icon}\n                    <span className={className}>\n                        {username}\n                        {guestBadge}\n                    </span>\n                </div>\n                <div className='reason'>\n                    {reason}\n                </div>\n            </div>\n        );\n    }\n}\n","var content = require(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js??ref--6-2!./invitation_modal_confirm_step_row.scss\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nimport InvitationModalConfirmStepRow from 'components/invitation_modal/invitation_modal_confirm_step_row';\n\nimport './invitation_modal_confirm_step_table.scss';\n\nexport default class InvitationModalConfirmStepTable extends React.Component {\n    static propTypes = {\n        invites: PropTypes.arrayOf(PropTypes.object).isRequired,\n    }\n    render() {\n        return (\n            <div className='InvitationModalConfirmStepTable'>\n                <div className='table-header'>\n                    <div className='people-header'>\n                        <FormattedMessage\n                            id='invitation-modal.confirm.people-header'\n                            defaultMessage='People'\n                        />\n                    </div>\n                    <div className='details-header'>\n                        <FormattedMessage\n                            id='invitation-modal.confirm.details-header'\n                            defaultMessage='Details'\n                        />\n                    </div>\n                </div>\n                <div className='rows'>\n                    {this.props.invites.map((invitation) => (\n                        <InvitationModalConfirmStepRow\n                            key={invitation.text || invitation.email || invitation.user.id}\n                            invitation={invitation}\n                        />\n                    ))}\n                </div>\n            </div>\n        );\n    }\n}\n","var content = require(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js??ref--6-2!./invitation_modal_confirm_step_table.scss\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\nimport {isEmail} from 'mattermost-redux/utils/helpers';\nimport {debounce} from 'mattermost-redux/actions/helpers';\n\nimport FormattedMarkdownMessage from 'components/formatted_markdown_message';\nimport InviteIcon from 'components/widgets/icons/invite_icon';\nimport CloseCircleIcon from 'components/widgets/icons/close_circle_icon';\n\nimport ChannelsInput from 'components/widgets/inputs/channels_input.jsx';\nimport UsersEmailsInput from 'components/widgets/inputs/users_emails_input.jsx';\n\nimport './invitation_modal_guests_step.scss';\n\nimport {t} from 'utils/i18n.jsx';\nimport {localizeMessage} from 'utils/utils.jsx';\n\nexport default class InvitationModalGuestsStep extends React.Component {\n    static propTypes = {\n        teamName: PropTypes.string.isRequired,\n        myInvitableChannels: PropTypes.array.isRequired,\n        currentTeamId: PropTypes.string.isRequired,\n        searchProfiles: PropTypes.func.isRequired,\n        searchChannels: PropTypes.func.isRequired,\n        defaultChannels: PropTypes.array,\n        defaultMessage: PropTypes.string,\n        onEdit: PropTypes.func.isRequired,\n        onSubmit: PropTypes.func.isRequired,\n    }\n\n    constructor(props) {\n        super(props);\n        this.textareaRef = React.createRef();\n        this.state = {\n            customMessageOpen: Boolean(props.defaultMessage),\n            customMessage: props.defaultMessage || '',\n            usersAndEmails: [],\n            channels: props.defaultChannels || [],\n            usersInputValue: '',\n            channelsInputValue: '',\n        };\n    }\n\n    onUsersEmailsChange = (usersAndEmails) => {\n        this.setState({usersAndEmails});\n        this.props.onEdit(usersAndEmails.length > 0 || this.state.channels.length > 0 || this.state.customMessage !== '' || this.state.usersInputValue || this.state.channelsInputValue);\n    }\n\n    onChannelsChange = (channels) => {\n        this.setState({channels});\n        this.props.onEdit(this.state.usersAndEmails.length > 0 || channels.length > 0 || this.state.customMessage !== '' || this.state.usersInputValue || this.state.channelsInputValue);\n    }\n\n    onMessageChange = (e) => {\n        this.setState({customMessage: e.target.value});\n        this.props.onEdit(this.state.usersAndEmails.length > 0 || this.state.channels.length > 0 || e.target.value !== '' || this.state.usersInputValue || this.state.channelsInputValue);\n    }\n\n    onUsersInputChange = (usersInputValue) => {\n        this.setState({usersInputValue});\n        this.props.onEdit(this.state.usersAndEmails.length > 0 || this.state.channels.length > 0 || this.state.customMessage !== '' || usersInputValue || this.state.channelsInputValue);\n    }\n\n    onChannelsInputChange = (channelsInputValue) => {\n        this.setState({channelsInputValue});\n        this.props.onEdit(this.state.usersAndEmails.length > 0 || this.state.channels.length > 0 || this.state.customMessage !== '' || this.state.usersInputValue || channelsInputValue);\n    }\n\n    debouncedSearchProfiles = debounce((term, callback) => {\n        this.props.searchProfiles(term).then(({data}) => {\n            callback(data);\n            if (data.length === 0) {\n                this.setState({termWithoutResults: term});\n            } else {\n                this.setState({termWithoutResults: null});\n            }\n        }).catch(() => {\n            callback([]);\n        });\n    }, 150);\n\n    usersLoader = (term, callback) => {\n        if (this.state.termWithoutResults && term.startsWith(this.state.termWithoutResults)) {\n            callback([]);\n            return;\n        }\n        try {\n            this.debouncedSearchProfiles(term, callback);\n        } catch (error) {\n            callback([]);\n        }\n    }\n\n    debouncedSearchChannels = debounce((term) => this.props.searchChannels(this.props.currentTeamId, term), 150);\n\n    channelsLoader = async (value) => {\n        if (!value) {\n            return this.props.myInvitableChannels;\n        }\n\n        this.debouncedSearchChannels(value);\n        return this.props.myInvitableChannels.filter((channel) => {\n            return channel.display_name.toLowerCase().startsWith(value.toLowerCase()) || channel.name.toLowerCase().startsWith(value.toLowerCase());\n        });\n    }\n\n    openCustomMessage = () => {\n        this.setState({customMessageOpen: true});\n        setTimeout(() => {\n            if (this.textareaRef.current) {\n                this.textareaRef.current.focus();\n            }\n        });\n    }\n\n    closeCustomMessage = () => {\n        this.setState({customMessageOpen: false});\n    }\n\n    sendInvites = () => {\n        const users = [];\n        const emails = [];\n        for (const userOrEmail of this.state.usersAndEmails) {\n            if (isEmail(userOrEmail)) {\n                emails.push(userOrEmail);\n            } else {\n                users.push(userOrEmail);\n            }\n        }\n        this.props.onSubmit(users, emails, this.state.channels, this.state.customMessageOpen ? this.state.customMessage : '', this.state.usersInputValue, this.state.channelsInputValue);\n    }\n\n    render() {\n        return (\n            <div className='InvitationModalGuestsStep'>\n                <div className='modal-icon'>\n                    <InviteIcon/>\n                </div>\n                <h1>\n                    <FormattedMarkdownMessage\n                        id='invitation_modal.guests.title'\n                        defaultMessage='Invite **Guests** to {teamName}'\n                        values={{teamName: this.props.teamName}}\n                    />\n                </h1>\n                <div\n                    className='add-people'\n                    data-testid='addPeople'\n                >\n                    <h2>\n                        <FormattedMessage\n                            id='invitation_modal.guests.add_people.title'\n                            defaultMessage='Invite People'\n                        />\n                    </h2>\n                    <div data-testid='emailPlaceholder'>\n                        <FormattedMessage\n                            id='invitation_modal.guests.search-and-add.placeholder'\n                            defaultMessage='Add guests or email addresses'\n                        >\n                            {(placeholder) => (\n                                <UsersEmailsInput\n                                    usersLoader={this.usersLoader}\n                                    placeholder={placeholder}\n                                    ariaLabel={localizeMessage('invitation_modal.guests.add_people.title', 'Invite People')}\n                                    onChange={this.onUsersEmailsChange}\n                                    value={this.state.usersAndEmails}\n                                    onInputChange={this.onUsersInputChange}\n                                    inputValue={this.state.usersInputValue}\n                                    validAddressMessageId={t('invitation_modal.guests.users_emails_input.valid_email')}\n                                    validAddressMessageDefault='Invite **{email}** as a guest'\n                                    noMatchMessageId={t('invitation_modal.guests.users_emails_input.no_user_found_matching')}\n                                    noMatchMessageDefault='No one found matching **{text}**, type email to invite'\n                                />\n                            )}\n                        </FormattedMessage>\n                    </div>\n                    <div className='help-text'>\n                        <FormattedMessage\n                            id='invitation_modal.guests.add_people.description'\n                            defaultMessage='Add existing guests or send email invites to new guests.'\n                        />\n                    </div>\n                </div>\n                <div\n                    className='add-channels'\n                    data-testid='channelPlaceholder'\n                >\n                    <h2>\n                        <FormattedMessage\n                            id='invitation_modal.guests.add_channels.title'\n                            defaultMessage='Search and Add Channels'\n                        />\n                    </h2>\n                    <div>\n                        <FormattedMessage\n                            id='invitation_modal.guests.add_channels.placeholder'\n                            defaultMessage='Search and add channels'\n                        >\n                            {(placeholder) => (\n                                <ChannelsInput\n                                    placeholder={placeholder}\n                                    ariaLabel={localizeMessage('invitation_modal.guests.add_channels.title', 'Search and Add Channels')}\n                                    channelsLoader={this.channelsLoader}\n                                    onChange={this.onChannelsChange}\n                                    onInputChange={this.onChannelsInputChange}\n                                    inputValue={this.state.channelsInputValue}\n                                    value={this.state.channels}\n                                />\n                            )}\n                        </FormattedMessage>\n                    </div>\n                    <div className='help-text'>\n                        <FormattedMessage\n                            id='invitation_modal.guests.add-channels.description'\n                            defaultMessage='Specify the channels the guests have access to.'\n                        />\n                    </div>\n                </div>\n                <div\n                    className='custom-message'\n                    data-testid='customMessage'\n                >\n                    {!this.state.customMessageOpen &&\n                        <a\n                            onClick={this.openCustomMessage}\n                            href='#'\n                        >\n                            <FormattedMessage\n                                id='invitation_modal.guests.custom-message.link'\n                                defaultMessage='Set a custom message'\n                            />\n                        </a>\n                    }\n                    {this.state.customMessageOpen &&\n                        <React.Fragment>\n                            <div>\n                                <FormattedMessage\n                                    id='invitation_modal.guests.custom-message.title'\n                                    defaultMessage='Custom message'\n                                />\n                                <CloseCircleIcon onClick={this.closeCustomMessage}/>\n                            </div>\n                            <textarea\n                                ref={this.textareaRef}\n                                onChange={this.onMessageChange}\n                                value={this.state.customMessage}\n                            />\n                        </React.Fragment>\n                    }\n                    <div className='help-text'>\n                        <FormattedMessage\n                            id='invitation_modal.guests.custom-message.description'\n                            defaultMessage='Create a custom message to make your invite more personal.'\n                        />\n                    </div>\n                </div>\n                <div className='invite-guests'>\n                    <button\n                        className={'btn ' + (this.state.channels.length === 0 || this.state.usersAndEmails.length === 0 ? 'btn-inactive' : 'btn-primary')}\n                        disabled={this.state.channels.length === 0 || this.state.usersAndEmails.length === 0}\n                        onClick={this.sendInvites}\n                        id='inviteGuestButton'\n                    >\n                        <FormattedMessage\n                            id='invitation_modal.guests.invite_button'\n                            defaultMessage='Invite Guests'\n                        />\n                    </button>\n                </div>\n            </div>\n        );\n    }\n}\n","var content = require(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js??ref--6-2!./invitation_modal_guests_step.scss\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nimport FormattedMarkdownMessage from 'components/formatted_markdown_message';\nimport InviteIcon from 'components/widgets/icons/invite_icon';\nimport ArrowRightIcon from 'components/widgets/icons/arrow_right_icon';\n\nimport './invitation_modal_initial_step.scss';\n\nexport default class InvitationModalInitialStep extends React.Component {\n    static propTypes = {\n        teamName: PropTypes.string.isRequired,\n        goToMembers: PropTypes.func.isRequired,\n        goToGuests: PropTypes.func.isRequired,\n    }\n\n    render() {\n        const teamName = this.props.teamName;\n        return (\n            <div className='InvitationModalInitialStep'>\n                <div className='modal-icon'>\n                    <InviteIcon/>\n                </div>\n                <h1>\n                    <FormattedMarkdownMessage\n                        id='invitation_modal.title'\n                        defaultMessage='Invite people to **{teamName}**'\n                        values={{teamName}}\n                    />\n                </h1>\n                <div\n                    className='invitation-modal-option'\n                    onClick={this.props.goToMembers}\n                    data-testid='inviteMembersLink'\n                >\n                    <div data-testid='inviteMembersSection'>\n                        <h2>\n                            <FormattedMarkdownMessage\n                                id='invitation_modal.invite_members.title'\n                                defaultMessage='Invite **Members**'\n                            />\n                        </h2>\n                        <FormattedMessage\n                            id='invitation_modal.invite_members.description'\n                            defaultMessage='Invite new team members with a link or by email. Team members have access to messages and files in open teams and public channels.'\n                        />\n                    </div>\n                    <ArrowRightIcon className='arrow'/>\n                </div>\n                <div\n                    className='invitation-modal-option'\n                    onClick={this.props.goToGuests}\n                    data-testid='inviteGuestLink'\n                >\n                    <div>\n                        <h2>\n                            <FormattedMarkdownMessage\n                                id='invitation_modal.invite_guests.title'\n                                defaultMessage='Invite **Guests**'\n                            />\n                        </h2>\n                        <FormattedMessage\n                            id='invitation_modal.invite_guests.description'\n                            defaultMessage='Invite guests to one or more channels. Guests only have access to messages, files, and people in the channels they are members of.'\n                        />\n                    </div>\n                    <ArrowRightIcon className='arrow'/>\n                </div>\n            </div>\n        );\n    }\n}\n","var content = require(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js??ref--6-2!./invitation_modal_initial_step.scss\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {injectIntl, FormattedMessage} from 'react-intl';\n\nimport {debounce} from 'mattermost-redux/actions/helpers';\nimport {isEmail} from 'mattermost-redux/utils/helpers';\n\nimport FormattedMarkdownMessage from 'components/formatted_markdown_message';\nimport InviteMembersIcon from 'components/widgets/icons/invite_members_icon';\nimport UsersEmailsInput from 'components/widgets/inputs/users_emails_input.jsx';\n\nimport LinkIcon from 'components/widgets/icons/link_icon';\n\nimport {getSiteURL} from 'utils/url';\nimport {t} from 'utils/i18n.jsx';\nimport {localizeMessage} from 'utils/utils.jsx';\n\nimport './invitation_modal_members_step.scss';\n\nclass InvitationModalMembersStep extends React.Component {\n    static propTypes = {\n        teamName: PropTypes.string.isRequired,\n        intl: PropTypes.any,\n        inviteId: PropTypes.string.isRequired,\n        searchProfiles: PropTypes.func.isRequired,\n        onEdit: PropTypes.func.isRequired,\n        onSubmit: PropTypes.func.isRequired,\n    }\n\n    constructor(props) {\n        super(props);\n        this.inviteLinkRef = React.createRef();\n        this.timeout = null;\n        this.state = {\n            usersAndEmails: [],\n            copiedLink: false,\n            termWithoutResults: null,\n            usersInputValue: '',\n        };\n    }\n\n    copyLink = () => {\n        const input = this.inviteLinkRef.current;\n\n        const textField = document.createElement('textarea');\n        textField.innerText = input.value;\n        textField.style.position = 'fixed';\n        textField.style.opacity = 0;\n\n        document.body.appendChild(textField);\n        textField.select();\n\n        try {\n            this.setState({copiedLink: document.execCommand('copy')});\n        } catch (err) {\n            this.setState({copiedLink: false});\n        }\n        textField.remove();\n\n        if (this.timeout) {\n            clearTimeout(this.timeout);\n        }\n        this.timeout = setTimeout(() => {\n            this.setState({copiedLink: false});\n        }, 3000);\n    }\n\n    debouncedSearchProfiles = debounce((term, callback) => {\n        this.props.searchProfiles(term).then(({data}) => {\n            callback(data);\n            if (data.length === 0) {\n                this.setState({termWithoutResults: term});\n            } else {\n                this.setState({termWithoutResults: null});\n            }\n        }).catch(() => {\n            callback([]);\n        });\n    }, 150);\n\n    usersLoader = (term, callback) => {\n        if (this.state.termWithoutResults && term.startsWith(this.state.termWithoutResults)) {\n            callback([]);\n            return;\n        }\n        try {\n            this.debouncedSearchProfiles(term, callback);\n        } catch (error) {\n            callback([]);\n        }\n    }\n\n    onChange = (usersAndEmails) => {\n        this.setState({usersAndEmails});\n        this.props.onEdit(usersAndEmails.length > 0 || this.state.usersInputValue);\n    }\n\n    onUsersInputChange = (usersInputValue) => {\n        this.setState({usersInputValue});\n        this.props.onEdit(this.state.usersAndEmails.length > 0 || usersInputValue);\n    }\n\n    submit = () => {\n        const users = [];\n        const emails = [];\n        for (const userOrEmail of this.state.usersAndEmails) {\n            if (isEmail(userOrEmail)) {\n                emails.push(userOrEmail);\n            } else {\n                users.push(userOrEmail);\n            }\n        }\n        this.props.onSubmit(users, emails, this.state.usersInputValue);\n    }\n\n    render() {\n        const inviteUrl = getSiteURL() + '/signup_user_complete/?id=' + this.props.inviteId;\n        return (\n            <div className='InvitationModalMembersStep'>\n                <div className='modal-icon'>\n                    <InviteMembersIcon/>\n                </div>\n                <h1>\n                    <FormattedMarkdownMessage\n                        id='invitation_modal.members.title'\n                        defaultMessage='Invite **Members** to {teamName}'\n                        values={{teamName: this.props.teamName}}\n                    />\n                </h1>\n                <div\n                    className='share-link'\n                    data-testid='shareLink'\n                >\n                    <h2>\n                        <FormattedMessage\n                            id='invitation_modal.members.share_link.title'\n                            defaultMessage='Share This Link'\n                        />\n                    </h2>\n                    <div className='share-link-input-block'>\n                        <input\n                            ref={this.inviteLinkRef}\n                            className='share-link-input'\n                            type='text'\n                            readOnly={true}\n                            value={inviteUrl}\n                            aria-label={this.props.intl.formatMessage({id: 'invitation_modal.members.share_link.input', defaultMessage: 'team invite link'})}\n                            data-testid='shareLinkInput'\n                        />\n                        <button\n                            className='share-link-input-button'\n                            onClick={this.copyLink}\n                            data-testid='shareLinkInputButton'\n                        >\n                            <LinkIcon/>\n                            {!this.state.copiedLink &&\n                                <FormattedMessage\n                                    id='invitation_modal.members.share_link.copy_button'\n                                    defaultMessage='Copy Link'\n                                />\n                            }\n                            {this.state.copiedLink &&\n                                <FormattedMessage\n                                    id='invitation_modal.members.share_link.link_copied'\n                                    defaultMessage='Link Copied'\n                                />\n                            }\n                        </button>\n                    </div>\n                    <div className='help-text'>\n                        <FormattedMessage\n                            id='invitation_modal.members.share_link.description'\n                            defaultMessage='Share this link to invite people to this team.'\n                        />\n                    </div>\n                </div>\n                <div className='invitation-modal-or'>\n                    <hr/>\n                    <div>\n                        <FormattedMessage\n                            id='invitation_modal.members.or'\n                            defaultMessage='OR'\n                        />\n                    </div>\n\n                </div>\n                <div\n                    className='search-and-add'\n                    data-testid='searchAdd'\n                >\n                    <h2>\n                        <FormattedMessage\n                            id='invitation_modal.members.search_and_add.title'\n                            defaultMessage='Add or Invite People'\n                        />\n                    </h2>\n                    <div data-testid='inputPlaceholder'>\n                        <FormattedMessage\n                            id='invitation_modal.members.search-and-add.placeholder'\n                            defaultMessage='Add members or email addresses'\n                        >\n                            {(placeholder) => (\n                                <UsersEmailsInput\n                                    usersLoader={this.usersLoader}\n                                    placeholder={placeholder}\n                                    ariaLabel={localizeMessage('invitation_modal.members.search_and_add.title', 'Invite People')}\n                                    onChange={this.onChange}\n                                    value={this.state.usersAndEmails}\n                                    validAddressMessageId={t('invitation_modal.members.users_emails_input.valid_email')}\n                                    validAddressMessageDefault='Invite **{email}** as a team member'\n                                    noMatchMessageId={t('invitation_modal.members.users_emails_input.no_user_found_matching')}\n                                    noMatchMessageDefault='No one found matching **{text}**, type email to invite'\n                                    onInputChange={this.onUsersInputChange}\n                                    inputValue={this.state.usersInputValue}\n                                />\n                            )}\n                        </FormattedMessage>\n                    </div>\n                    <div className='help-text'>\n                        <FormattedMessage\n                            id='invitation_modal.members.search-and-add.description'\n                            defaultMessage='Add existing members or send email invites to new members.'\n                        />\n                    </div>\n                </div>\n                <div className='invite-members'>\n                    <button\n                        className={'btn ' + (this.state.usersAndEmails.length === 0 ? 'btn-inactive' : 'btn-primary')}\n                        onClick={this.submit}\n                        disabled={this.state.usersAndEmails.length === 0}\n                        id='inviteMembersButton'\n                    >\n                        <FormattedMessage\n                            id='invitation_modal.members.invite_button'\n                            defaultMessage='Invite Members'\n                        />\n                    </button>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default injectIntl(InvitationModalMembersStep);\n","var content = require(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js??ref--6-2!./invitation_modal_members_step.scss\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\n\nimport {getConfig} from 'mattermost-redux/selectors/entities/general';\n\nimport LatexBlock from './latex_block.jsx';\n\nfunction mapStateToProps(state) {\n    const config = getConfig(state);\n    return {\n        enableLatex: config.EnableLatex === 'true',\n    };\n}\n\nexport default connect(mapStateToProps)(LatexBlock);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport {FormattedMessage} from 'react-intl';\n\nexport default class LatexBlock extends React.Component {\n    static propTypes = {\n        content: PropTypes.string.isRequired,\n        enableLatex: PropTypes.bool.isRequired,\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            katex: null,\n        };\n    }\n\n    componentDidMount() {\n        import('katex').then((katex) => {\n            this.setState({katex});\n        });\n    }\n\n    render() {\n        if (this.state.katex == null || !this.props.enableLatex) {\n            return (\n                <div\n                    className='post-body--code tex'\n                >\n                    {this.props.content}\n                </div>\n            );\n        }\n\n        try {\n            const html = this.state.katex.renderToString(this.props.content, {throwOnError: false, displayMode: true});\n\n            return (\n                <div\n                    className='post-body--code tex'\n                    dangerouslySetInnerHTML={{__html: html}}\n                />\n            );\n        } catch (e) {\n            return (\n                <div\n                    className='post-body--code tex'\n                >\n                    <FormattedMessage\n                        id='katex.error'\n                        defaultMessage=\"Couldn't compile your Latex code. Please review the syntax and try again.\"\n                    />\n                </div>\n            );\n        }\n    }\n}\n\nLatexBlock.defaultProps = {\n    enableLatex: false,\n};","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\n\nimport {leaveChannel} from 'actions/views/channel';\n\nimport LeavePrivateChannelModal from './leave_private_channel_modal.jsx';\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            leaveChannel,\n        }, dispatch),\n    };\n}\n\nexport default connect(null, mapDispatchToProps)(LeavePrivateChannelModal);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport {FormattedMessage} from 'react-intl';\n\nimport ModalStore from 'stores/modal_store.jsx';\nimport Constants from 'utils/constants';\nimport ConfirmModal from 'components/confirm_modal.jsx';\n\nexport default class LeavePrivateChannelModal extends React.Component {\n    static propTypes = {\n        actions: PropTypes.shape({\n            leaveChannel: PropTypes.func.isRequired,\n        }).isRequired,\n    };\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            show: false,\n            channel: null,\n        };\n    }\n\n    componentDidMount() {\n        ModalStore.addModalListener(Constants.ActionTypes.TOGGLE_LEAVE_PRIVATE_CHANNEL_MODAL, this.handleToggle);\n    }\n\n    componentWillUnmount() {\n        ModalStore.removeModalListener(Constants.ActionTypes.TOGGLE_LEAVE_PRIVATE_CHANNEL_MODAL, this.handleToggle);\n    }\n\n    handleKeyPress = (e) => {\n        if (e.key === 'Enter' && this.state.show) {\n            this.handleSubmit();\n        }\n    };\n\n    handleSubmit = () => {\n        const {actions} = this.props;\n        const {channel} = this.state;\n\n        if (channel) {\n            const channelId = channel.id;\n            actions.leaveChannel(channelId).then((result) => {\n                if (result.data) {\n                    this.handleHide();\n                }\n            });\n        }\n    };\n\n    handleToggle = (value) => {\n        this.setState({\n            channel: value,\n            show: value !== null,\n        });\n    };\n\n    handleHide = () => {\n        this.setState({\n            show: false,\n            channel: null,\n        });\n    };\n\n    render() {\n        let title = '';\n        let message = '';\n        if (this.state.channel) {\n            title = (\n                <FormattedMessage\n                    id='leave_private_channel_modal.title'\n                    defaultMessage='Leave Private Channel {channel}'\n                    values={{\n                        channel: <b>{this.state.channel.display_name}</b>,\n                    }}\n                />\n            );\n\n            message = (\n                <FormattedMessage\n                    id='leave_private_channel_modal.message'\n                    defaultMessage='Are you sure you wish to leave the private channel {channel}? You must be re-invited in order to re-join this channel in the future.'\n                    values={{\n                        channel: <b>{this.state.channel.display_name}</b>,\n                    }}\n                />\n            );\n        }\n\n        const buttonClass = 'btn btn-danger';\n        const button = (\n            <FormattedMessage\n                id='leave_private_channel_modal.leave'\n                defaultMessage='Yes, leave channel'\n            />\n        );\n\n        return (\n            <ConfirmModal\n                show={this.state.show}\n                title={title}\n                message={message}\n                confirmButtonClass={buttonClass}\n                confirmButtonText={button}\n                onConfirm={this.handleSubmit}\n                onCancel={this.handleHide}\n            />\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\nimport {getCurrentUserId} from 'mattermost-redux/selectors/entities/users';\nimport {getCurrentTeamId} from 'mattermost-redux/selectors/entities/teams';\nimport {removeUserFromTeam as leaveTeam} from 'mattermost-redux/actions/teams';\n\nimport {toggleSideBarRightMenuAction} from 'actions/global_actions.jsx';\nimport {ModalIdentifiers} from 'utils/constants';\n\nimport {isModalOpen} from 'selectors/views/modals';\n\nimport LeaveTeamModal from './leave_team_modal.jsx';\n\nfunction mapStateToProps(state) {\n    const modalId = ModalIdentifiers.LEAVE_TEAM;\n    const currentUserId = getCurrentUserId(state);\n    const currentTeamId = getCurrentTeamId(state);\n    const show = isModalOpen(state, modalId);\n    return {\n        currentUserId,\n        currentTeamId,\n        show,\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            leaveTeam,\n            toggleSideBarRightMenu: toggleSideBarRightMenuAction,\n        }, dispatch),\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LeaveTeamModal);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {Modal} from 'react-bootstrap';\nimport {FormattedMessage} from 'react-intl';\nimport PropTypes from 'prop-types';\n\nimport Constants from 'utils/constants';\nimport {isKeyPressed} from 'utils/utils';\n\nexport default class LeaveTeamModal extends React.PureComponent {\n    static propTypes = {\n\n        /**\n         * Current user id.\n         */\n        currentUserId: PropTypes.string.isRequired,\n\n        /**\n         * Current team id.\n         */\n        currentTeamId: PropTypes.string.isRequired,\n\n        /**\n         * hide action\n         */\n\n        onHide: PropTypes.func.isRequired,\n\n        /**\n         * show or hide modal\n         */\n\n        show: PropTypes.bool.isRequired,\n\n        actions: PropTypes.shape({\n\n            /**\n             * An action to remove user from team\n             */\n\n            leaveTeam: PropTypes.func.isRequired,\n\n            /**\n             * An action to toggle the right menu\n             */\n\n            toggleSideBarRightMenu: PropTypes.func.isRequired,\n        }),\n    };\n\n    componentDidMount() {\n        if (this.props.show) {\n            document.addEventListener('keypress', this.handleKeyPress);\n        }\n    }\n\n    componentWillUnmount() {\n        document.removeEventListener('keypress', this.handleKeyPress);\n    }\n\n    handleKeyPress = (e) => {\n        if (isKeyPressed(e, Constants.KeyCodes.ENTER)) {\n            this.handleSubmit(e);\n        }\n    };\n\n    handleSubmit = () => {\n        this.props.onHide();\n        this.props.actions.leaveTeam(this.props.currentTeamId, this.props.currentUserId);\n        this.props.actions.toggleSideBarRightMenu();\n    };\n\n    render() {\n        return (\n            <Modal\n                dialogClassName='a11y__modal'\n                className='modal-confirm'\n                show={this.props.show}\n                onHide={this.props.onHide}\n                id='leaveTeamModal'\n                role='dialog'\n                aria-labelledby='leaveTeamModalLabel'\n            >\n                <Modal.Header closeButton={false}>\n                    <Modal.Title\n                        componentClass='h1'\n                        id='leaveTeamModalLabel'\n                    >\n                        <FormattedMessage\n                            id='leave_team_modal.title'\n                            defaultMessage='Leave the team?'\n                        />\n                    </Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                    <FormattedMessage\n                        id='leave_team_modal.desc'\n                        defaultMessage='You will be removed from all public and private channels.  If the team is private you will not be able to rejoin the team.  Are you sure?'\n                    />\n                </Modal.Body>\n                <Modal.Footer>\n                    <button\n                        type='button'\n                        className='btn btn-link'\n                        onClick={this.props.onHide}\n                        id='leaveTeamNo'\n                    >\n                        <FormattedMessage\n                            id='leave_team_modal.no'\n                            defaultMessage='No'\n                        />\n                    </button>\n                    <button\n                        type='button'\n                        className='btn btn-danger'\n                        onClick={this.handleSubmit}\n                        id='leaveTeamYes'\n                    >\n                        <FormattedMessage\n                            id='leave_team_modal.yes'\n                            defaultMessage='Yes'\n                        />\n                    </button>\n                </Modal.Footer>\n            </Modal>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React, {RefObject, MouseEvent, CSSProperties} from 'react';\nimport Popper from 'popper.js';\nimport ReactDOM from 'react-dom';\n\nimport {Constants} from 'utils/constants';\nimport Pluggable from 'plugins/pluggable';\n\nconst tooltipContainerStyles: CSSProperties = {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    zIndex: 10,\n};\n\ntype Props = {\n    href: string;\n    title: string;\n}\n\nexport default class LinkTooltip extends React.PureComponent<Props> {\n    public static propTypes = {\n        href: PropTypes.string.isRequired,\n        title: PropTypes.string.isRequired,\n    };\n    private tooltipContainerRef: RefObject<any>;\n    private show: boolean;\n    private hideTimeout: number;\n    private showTimeout: number;\n    private popper?: Popper;\n\n    public constructor(props: Props) {\n        super(props);\n\n        this.tooltipContainerRef = React.createRef();\n        this.show = false;\n        this.showTimeout = -1;\n        this.hideTimeout = -1;\n    }\n\n    public showTooltip = (e: any): void => {\n        //clear the hideTimeout in the case when the cursor is moved from a tooltipContainer child to the link\n        window.clearTimeout(this.hideTimeout);\n\n        if (!this.show) {\n            const $target: JQuery = $(e.target);\n            const target: Element = $target.get(0);\n            const $tooltipContainer: JQuery = $(this.tooltipContainerRef.current);\n            const tooltipContainer: Element = $tooltipContainer.get(0);\n\n            //clear the old this.showTimeout if there is any before overriding\n            window.clearTimeout(this.showTimeout);\n\n            this.showTimeout = window.setTimeout(() => {\n                this.show = true;\n\n                $tooltipContainer.show();\n                $tooltipContainer.children().on('mouseover', () => clearTimeout(this.hideTimeout));\n                $tooltipContainer.children().on('mouseleave', (event: JQueryEventObject) => {\n                    if (event.relatedTarget !== null) {\n                        this.hideTooltip();\n                    }\n                });\n\n                this.popper = new Popper(target, tooltipContainer, {\n                    placement: 'bottom',\n                    modifiers: {\n                        preventOverflow: {enabled: false},\n                        hide: {enabled: false},\n                    },\n                });\n            }, Constants.OVERLAY_TIME_DELAY);\n        }\n    };\n\n    public hideTooltip = (): void => {\n        //clear the old this.hideTimeout if there is any before overriding\n        window.clearTimeout(this.hideTimeout);\n\n        this.hideTimeout = window.setTimeout(() => {\n            this.show = false;\n\n            //prevent executing the showTimeout after the hideTooltip\n            clearTimeout(this.showTimeout);\n\n            $(this.tooltipContainerRef.current).hide();\n        }, Constants.OVERLAY_TIME_DELAY_SMALL);\n    };\n\n    public render() {\n        const {href, title} = this.props;\n        return (\n            <React.Fragment>\n                {ReactDOM.createPortal(\n                    <div\n                        style={tooltipContainerStyles}\n                        ref={this.tooltipContainerRef}\n                    >\n                        <Pluggable\n                            href={href}\n                            pluggableName='LinkTooltip'\n                        />\n                    </div>,\n                    document.getElementById('root') as HTMLElement\n                )}\n                <span\n                    onMouseOver={this.showTooltip}\n                    onMouseLeave={this.hideTooltip}\n                >\n                    {title}\n                </span>\n            </React.Fragment>\n        );\n    }\n}\n\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {Modal} from 'react-bootstrap';\nimport {FormattedMessage} from 'react-intl';\n\nimport LoadingScreen from 'components/loading_screen';\n\nexport const DEFAULT_NUM_PER_PAGE = 50;\n\nexport default class ListModal extends React.PureComponent {\n    static propTypes = {\n\n        /**\n         * loadItems is a function that receives the params (pageNumber, searchTerm) and should return an object\n         * with the shape {items: [], totalCount: 0}.\n         * items: an array of objects that are passed to each renderRow function.\n         * totalCount: an integer representing the total number of items as displayed in the pagination text.\n         *\n         * Example:\n         *     const loadItems = async (pageNumber, searchTerm) => {\n         *         const {data} = await loadFromServer(searchTerm, pageNumber, PER_PAGE);\n         *         return {\n         *             items: data.users,\n         *             totalCount: data.total,\n         *         };\n         *     };\n         */\n        loadItems: PropTypes.func.isRequired,\n\n        /**\n         * renderRow is a function that receives the params (item, listModal) and should return JSX.\n         * item: an object as returned by each entry in the loadItems function's 'items' array.\n         * listModal: the instance of the ListModal component class.\n         *\n         * Example:\n         *     const renderRow = (item, listModal) => <div>{item.id}</div>;\n         */\n        renderRow: PropTypes.func.isRequired,\n\n        /**\n         * onHide (optional) a function to be invoked when the modal is closed.\n         */\n        onHide: PropTypes.func,\n\n        /**\n         * titleText (optional) a string to show at the top bar of the modal.\n         */\n        titleText: PropTypes.string,\n\n        /**\n         * searchPlaceholderText (optional) a string to show as a placeholder in the search input.\n         */\n        searchPlaceholderText: PropTypes.string,\n\n        /**\n         * titleBarButtonText (optional) a string representing a title bar button text.\n         */\n        titleBarButtonText: PropTypes.string,\n\n        /**\n         * titleBarButtonOnClick (optional) a func to handle title button bar clicks.\n         */\n        titleBarButtonOnClick: PropTypes.func,\n\n        /**\n         * numPerPage (optional) a number setting how many items per page should be displayed. Defaults to\n         * DEFAULT_NUM_PER_PAGE.\n         */\n        numPerPage: PropTypes.number,\n\n        /**\n         * show (optional) a boolean setting to hide the modal via props rather then unmounting it.\n         */\n        show: PropTypes.bool,\n    };\n\n    static defaultProps = {\n        show: true,\n    };\n\n    constructor(props) {\n        super(props);\n\n        this.numPerPage = props.numPerPage || DEFAULT_NUM_PER_PAGE;\n\n        this.state = {\n            show: true,\n            page: 0,\n            items: [],\n            totalCount: 0,\n            loading: true,\n            searchTerm: '',\n        };\n    }\n\n    async componentDidMount() {\n        const {totalCount, items} = await this.props.loadItems(0, '');\n        this.setState({totalCount, items, loading: false}); // eslint-disable-line react/no-did-mount-set-state\n    }\n\n    handleHide = () => {\n        this.setState({show: false});\n    }\n\n    handleExit = () => {\n        if (this.props.onHide) {\n            this.props.onHide();\n        }\n    }\n\n    renderRows() {\n        if (this.state.loading) {\n            return (\n                <div>\n                    <LoadingScreen\n                        position='absolute'\n                        key='loading'\n                    />\n                </div>\n            );\n        }\n        return this.state.items.map((item) => (\n            this.props.renderRow(item, this)\n        ));\n    }\n\n    onNext = () => {\n        const nextPage = this.state.page + 1;\n        this.onPageChange(nextPage);\n    }\n\n    onPrev = () => {\n        const prevPage = this.state.page - 1;\n        this.onPageChange(prevPage);\n    }\n\n    onPageChange = async (page) => {\n        this.setState({loading: true});\n        const result = await this.props.loadItems(page, this.state.searchTerm);\n        this.setState({page, items: result.items, loading: false});\n    }\n\n    onSearchInput = async (event) => {\n        const {target} = event;\n        const searchTerm = target.value;\n        this.setState({loading: true, searchTerm});\n        const result = await this.props.loadItems(0, searchTerm);\n        const {items, totalCount} = result;\n        this.setState({loading: false, items, totalCount});\n    }\n\n    paginationRange() {\n        let startCount = (this.state.page * this.numPerPage) + 1;\n        const endCount = (startCount + this.state.items.length) - 1;\n        if (endCount === 0) {\n            startCount = 0;\n        }\n        return {startCount, endCount};\n    }\n\n    render() {\n        if (!this.props.show) {\n            return null;\n        }\n        const {endCount, startCount} = this.paginationRange();\n        return (\n            <div>\n                <Modal\n                    dialogClassName='a11y__modal more-modal more-modal--action'\n                    show={this.state.show}\n                    onHide={this.handleHide}\n                    onExited={this.handleExit}\n                >\n                    <Modal.Header closeButton={true}>\n                        <Modal.Title componentClass='h1'>\n                            <span className='name'>{this.props.titleText}</span>\n                        </Modal.Title>\n                        {this.props.titleBarButtonText && this.props.titleBarButtonOnClick &&\n                            <a\n                                className='btn btn-md btn-primary'\n                                href='#'\n                                onClick={this.props.titleBarButtonOnClick}\n                            >\n                                {this.props.titleBarButtonText}\n                            </a>}\n                    </Modal.Header>\n                    <Modal.Body>\n                        <div className='filtered-user-list'>\n                            <div className='filter-row'>\n                                <div className='col-xs-12'>\n                                    <label\n                                        className='hidden-label'\n                                        htmlFor='searchUsersInput'\n                                    >\n                                        {this.props.searchPlaceholderText}\n                                    </label>\n                                    <input\n                                        id='searchUsersInput'\n                                        className='form-control filter-textbox'\n                                        placeholder={this.props.searchPlaceholderText}\n                                        onChange={this.onSearchInput}\n                                    />\n                                </div>\n                                <div className='col-sm-12'>\n                                    <span className='member-count pull-left'>\n                                        <FormattedMessage\n                                            id='list_modal.paginatorCount'\n                                            defaultMessage='{startCount, number} - {endCount, number} of {total, number} total'\n                                            values={{\n                                                startCount,\n                                                endCount,\n                                                total: this.state.totalCount,\n                                            }}\n                                        />\n                                    </span>\n                                </div>\n                            </div>\n                            <div className='more-modal__list'>\n                                <div>\n                                    {this.renderRows()}\n                                </div>\n                            </div>\n                            <div className='filter-controls'>\n                                {this.state.page > 0 &&\n                                <button\n                                    onClick={this.onPrev}\n                                    className='btn btn-link filter-control filter-control__prev'\n                                >\n                                    <FormattedMessage\n                                        id='filtered_user_list.prev'\n                                        defaultMessage='Previous'\n                                    />\n                                </button>}\n                                {(this.state.items.length >= this.props.numPerPage) && endCount !== this.state.totalCount &&\n                                <button\n                                    onClick={this.onNext}\n                                    className='btn btn-link filter-control filter-control__next'\n                                >\n                                    <FormattedMessage\n                                        id='filtered_user_list.next'\n                                        defaultMessage='Next'\n                                    />\n                                </button>}\n                            </div>\n                        </div>\n                    </Modal.Body>\n                </Modal>\n            </div >\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\n\nimport LoadingSpinner from 'components/widgets/loading/loading_spinner';\n\ntype Props = {\n    loading?: string;\n    progress?: number;\n    containerClass?: string;\n}\n\nconst LoadingImagePreview: React.FC<Props> = ({loading, progress, containerClass}: Props) => {\n    let progressView: JSX.Element = (\n        <span className='loader-percent'/>\n    );\n\n    if (progress) {\n        progressView = (\n            <span className='loader-percent'>\n                {`${loading} ${progress}%`}\n            </span>\n        );\n    }\n\n    return (\n        <div className={containerClass}>\n            <LoadingSpinner/>\n            {progressView}\n        </div>\n    );\n};\n\nLoadingImagePreview.defaultProps = {\n    containerClass: 'view-image__loading',\n};\n\nexport default LoadingImagePreview;","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React, {ReactNode} from 'react';\nimport {FormattedMessage} from 'react-intl';\n\ntype Props = {\n    position: 'absolute' | 'fixed' | 'relative' | 'static' | 'inherit';\n    style?: object;\n    message?: ReactNode;\n}\n\nexport default class LoadingScreen extends React.Component<Props> {\n    public static defaultProps: Partial<Props> = {\n        position: 'relative',\n        style: {},\n    }\n\n    public constructor(props: Props) {\n        super(props);\n        this.state = {};\n    }\n\n    public render(): JSX.Element {\n        let message: ReactNode = (\n            <FormattedMessage\n                id='loading_screen.loading'\n                defaultMessage='Loading'\n            />\n        );\n\n        if (this.props.message) {\n            message = this.props.message;\n        }\n\n        return (\n            <div\n                className='loading-screen'\n                style={{position: this.props.position, ...this.props.style}}\n            >\n                <div className='loading__content'>\n                    <h3>\n                        {message}\n                    </h3>\n                    <div className='round round-1'/>\n                    <div className='round round-2'/>\n                    <div className='round round-3'/>\n                </div>\n            </div>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\n\nimport {getCurrentUserId} from 'mattermost-redux/selectors/entities/users';\nimport {getUserTimezone} from 'mattermost-redux/selectors/entities/timezone';\nimport {getUserCurrentTimezone} from 'mattermost-redux/utils/timezone_utils';\nimport {getBool} from 'mattermost-redux/selectors/entities/preferences';\n\nimport {areTimezonesEnabledAndSupported} from 'selectors/general';\n\nimport {Preferences} from 'utils/constants';\n\nimport LocalDateTime from './local_date_time';\n\nfunction mapStateToProps(state, props) {\n    const currentUserId = getCurrentUserId(state);\n\n    let userTimezone;\n    if (props.userTimezone) {\n        userTimezone = props.userTimezone;\n    } else {\n        userTimezone = getUserTimezone(state, currentUserId);\n    }\n\n    return {\n        enableTimezone: areTimezonesEnabledAndSupported(state),\n        useMilitaryTime: getBool(state, Preferences.CATEGORY_DISPLAY_SETTINGS, Preferences.USE_MILITARY_TIME, false),\n        timeZone: getUserCurrentTimezone(userTimezone),\n    };\n}\n\nexport default connect(mapStateToProps)(LocalDateTime);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {FormattedTime} from 'react-intl';\nimport moment from 'moment-timezone';\n\ntype Props = {\n\n    /*\n     * The time to display\n     */\n    eventTime?: number;\n\n    /*\n     * Set to display using 24 hour format\n     */\n    useMilitaryTime?: boolean;\n\n    /*\n     * Current timezone of the user\n     */\n    timeZone?: string;\n\n    /*\n     * Enable timezone feature\n     */\n    enableTimezone?: boolean;\n}\n\nexport default class LocalDateTime extends React.PureComponent<Props> {\n    public render() {\n        const {\n            enableTimezone,\n            eventTime,\n            timeZone,\n            useMilitaryTime,\n        } = this.props;\n\n        const date = eventTime ? new Date(eventTime) : new Date();\n\n        const titleMoment = moment(date);\n        let titleString = titleMoment.toString();\n        if (enableTimezone && timeZone) {\n            titleMoment.tz(timeZone);\n            titleString = titleMoment.toString() + ' (' + titleMoment.tz() + ')';\n        }\n\n        const timezoneProps = enableTimezone && timeZone ? {timeZone} : {};\n\n        return (\n            <time\n                aria-label={date.toString()}\n                className='post__time'\n                dateTime={date.toISOString()}\n                title={titleString}\n            >\n                <FormattedTime\n                    {...timezoneProps}\n                    hour12={!useMilitaryTime}\n                    value={date}\n                />\n            </time>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\ntype Props = {\n    placeholder: {\n        id: string;\n        defaultMessage: string;\n        values?: {string: any};\n    };\n    value?: string;\n};\n\nconst LocalizedInput = React.forwardRef((props: Props, ref?: React.Ref<HTMLInputElement>) => {\n    const {placeholder, ...otherProps} = props;\n\n    return (\n        <FormattedMessage\n            id={placeholder.id}\n            defaultMessage={placeholder.defaultMessage}\n            values={placeholder.values}\n        >\n            {(localizedPlaceholder: (string | JSX.Element)) => (\n                <input\n                    {...otherProps}\n                    ref={ref}\n                    placeholder={localizedPlaceholder as string}\n                />\n            )}\n        </FormattedMessage>\n    );\n});\nLocalizedInput.displayName = 'LocalizedInput';\n\nexport default LocalizedInput;\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\n\nimport {getConfig} from 'mattermost-redux/selectors/entities/general';\nimport {getMyTeams, getJoinableTeamIds, getCurrentTeam} from 'mattermost-redux/selectors/entities/teams';\nimport {getCurrentUser} from 'mattermost-redux/selectors/entities/users';\nimport {haveITeamPermission, haveISystemPermission} from 'mattermost-redux/selectors/entities/roles';\nimport {Permissions} from 'mattermost-redux/constants';\n\nimport {RHSStates} from 'utils/constants';\n\nimport {showMentions, showFlaggedPosts, closeRightHandSide, closeMenu as closeRhsMenu} from 'actions/views/rhs';\nimport {openModal} from 'actions/views/modals';\nimport {getRhsState} from 'selectors/rhs';\n\nimport MainMenu from './main_menu.jsx';\n\nfunction mapStateToProps(state) {\n    const config = getConfig(state);\n    const currentTeam = getCurrentTeam(state);\n    const currentUser = getCurrentUser(state);\n\n    const appDownloadLink = config.AppDownloadLink;\n    const enableCommands = config.EnableCommands === 'true';\n    const enableCustomEmoji = config.EnableCustomEmoji === 'true';\n    const siteName = config.SiteName;\n    const enableIncomingWebhooks = config.EnableIncomingWebhooks === 'true';\n    const enableOAuthServiceProvider = config.EnableOAuthServiceProvider === 'true';\n    const enableOutgoingWebhooks = config.EnableOutgoingWebhooks === 'true';\n    const enableUserCreation = config.EnableUserCreation === 'true';\n    const enableEmailInvitations = config.EnableEmailInvitations === 'true';\n    const enablePluginMarketplace = config.PluginsEnabled === 'true' && config.EnableMarketplace === 'true';\n    const experimentalPrimaryTeam = config.ExperimentalPrimaryTeam;\n    const helpLink = config.HelpLink;\n    const reportAProblemLink = config.ReportAProblemLink;\n\n    let canCreateOrDeleteCustomEmoji = (haveISystemPermission(state, {permission: Permissions.CREATE_EMOJIS}) || haveISystemPermission(state, {permission: Permissions.DELETE_EMOJIS}));\n    if (!canCreateOrDeleteCustomEmoji) {\n        for (const team of getMyTeams(state)) {\n            if (haveITeamPermission(state, {team: team.id, permission: Permissions.CREATE_EMOJIS}) || haveITeamPermission(state, {team: team.id, permission: Permissions.DELETE_EMOJIS})) {\n                canCreateOrDeleteCustomEmoji = true;\n\n                break;\n            }\n        }\n    }\n\n    const joinableTeams = getJoinableTeamIds(state);\n    const moreTeamsToJoin = joinableTeams && joinableTeams.length > 0;\n    const rhsState = getRhsState(state);\n\n    return {\n        appDownloadLink,\n        enableCommands,\n        enableCustomEmoji,\n        enableIncomingWebhooks,\n        enableOAuthServiceProvider,\n        enableOutgoingWebhooks,\n        enableUserCreation,\n        enableEmailInvitations,\n        enablePluginMarketplace,\n        experimentalPrimaryTeam,\n        helpLink,\n        reportAProblemLink,\n        pluginMenuItems: state.plugins.components.MainMenu,\n        canCreateOrDeleteCustomEmoji,\n        moreTeamsToJoin,\n        siteName,\n        teamId: currentTeam.id,\n        teamName: currentTeam.name,\n        teamType: currentTeam.type,\n        currentUser,\n        isMentionSearch: rhsState === RHSStates.MENTION,\n        teamIsGroupConstrained: Boolean(currentTeam.group_constrained),\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            openModal,\n            showMentions,\n            showFlaggedPosts,\n            closeRightHandSide,\n            closeRhsMenu,\n        }, dispatch),\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MainMenu);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {Permissions} from 'mattermost-redux/constants';\nimport {intlShape} from 'react-intl';\n\nimport * as GlobalActions from 'actions/global_actions.jsx';\nimport {Constants, ModalIdentifiers} from 'utils/constants';\nimport {cmdOrCtrlPressed, isKeyPressed, localizeMessage} from 'utils/utils';\nimport {useSafeUrl} from 'utils/url';\nimport * as UserAgent from 'utils/user_agent';\nimport InvitationModal from 'components/invitation_modal';\n\nimport TeamPermissionGate from 'components/permissions_gates/team_permission_gate';\nimport SystemPermissionGate from 'components/permissions_gates/system_permission_gate';\n\nimport LeaveTeamIcon from 'components/widgets/icons/leave_team_icon';\n\nimport LeaveTeamModal from 'components/leave_team_modal';\nimport UserSettingsModal from 'components/user_settings/modal';\nimport TeamMembersModal from 'components/team_members_modal';\nimport TeamSettingsModal from 'components/team_settings_modal';\nimport AboutBuildModal from 'components/about_build_modal';\nimport AddGroupsToTeamModal from 'components/add_groups_to_team_modal';\nimport MarketplaceModal from 'components/plugin_marketplace';\n\nimport Menu from 'components/widgets/menu/menu';\nimport TeamGroupsManageModal from 'components/team_groups_manage_modal';\n\nexport default class MainMenu extends React.PureComponent {\n    static propTypes = {\n        mobile: PropTypes.bool.isRequired,\n        id: PropTypes.string,\n        teamId: PropTypes.string,\n        teamType: PropTypes.string,\n        teamName: PropTypes.string,\n        siteName: PropTypes.string,\n        currentUser: PropTypes.object,\n        appDownloadLink: PropTypes.string,\n        enableCommands: PropTypes.bool.isRequired,\n        enableCustomEmoji: PropTypes.bool.isRequired,\n        canCreateOrDeleteCustomEmoji: PropTypes.bool.isRequired,\n        enableIncomingWebhooks: PropTypes.bool.isRequired,\n        enableOAuthServiceProvider: PropTypes.bool.isRequired,\n        enableOutgoingWebhooks: PropTypes.bool.isRequired,\n        enableUserCreation: PropTypes.bool.isRequired,\n        enableEmailInvitations: PropTypes.bool.isRequired,\n        enablePluginMarketplace: PropTypes.bool.isRequired,\n        experimentalPrimaryTeam: PropTypes.string,\n        helpLink: PropTypes.string,\n        reportAProblemLink: PropTypes.string,\n        moreTeamsToJoin: PropTypes.bool.isRequired,\n        pluginMenuItems: PropTypes.arrayOf(PropTypes.object),\n        isMentionSearch: PropTypes.bool,\n        teamIsGroupConstrained: PropTypes.bool.isRequired,\n        actions: PropTypes.shape({\n            openModal: PropTypes.func.isRequred,\n            showMentions: PropTypes.func,\n            showFlaggedPosts: PropTypes.func,\n            closeRightHandSide: PropTypes.func.isRequired,\n            closeRhsMenu: PropTypes.func.isRequired,\n        }).isRequired,\n    };\n\n    static defaultProps = {\n        teamType: '',\n        mobile: false,\n        pluginMenuItems: [],\n    };\n\n    static contextTypes = {\n        intl: intlShape.isRequired,\n    };\n\n    toggleShortcutsModal = (e) => {\n        e.preventDefault();\n        GlobalActions.toggleShortcutsModal();\n    }\n\n    componentDidMount() {\n        document.addEventListener('keydown', this.handleKeyDown);\n    }\n\n    componentWillUnmount() {\n        document.removeEventListener('keydown', this.handleKeyDown);\n    }\n\n    handleKeyDown = (e) => {\n        if (cmdOrCtrlPressed(e) && e.shiftKey && isKeyPressed(e, Constants.KeyCodes.A)) {\n            this.props.actions.openModal({ModalId: ModalIdentifiers.USER_SETTINGS, dialogType: UserSettingsModal});\n        }\n    }\n\n    handleEmitUserLoggedOutEvent = () => {\n        GlobalActions.emitUserLoggedOutEvent();\n    }\n\n    getFlagged = (e) => {\n        e.preventDefault();\n        this.props.actions.showFlaggedPosts();\n        this.props.actions.closeRhsMenu();\n    }\n\n    searchMentions = (e) => {\n        e.preventDefault();\n\n        if (this.props.isMentionSearch) {\n            this.props.actions.closeRightHandSide();\n        } else {\n            this.props.actions.closeRhsMenu();\n            this.props.actions.showMentions();\n        }\n    }\n\n    render() {\n        const {currentUser, teamIsGroupConstrained} = this.props;\n\n        if (!currentUser) {\n            return null;\n        }\n\n        const {formatMessage} = this.context.intl;\n\n        const pluginItems = this.props.pluginMenuItems.map((item) => {\n            return (\n                <Menu.ItemAction\n                    id={item.id + '_pluginmenuitem'}\n                    key={item.id + '_pluginmenuitem'}\n                    onClick={() => {\n                        if (item.action) {\n                            item.action();\n                        }\n                    }}\n                    text={item.text}\n                    icon={this.props.mobile && item.mobileIcon}\n                />\n            );\n        });\n\n        return (\n            <Menu\n                mobile={this.props.mobile}\n                id={this.props.id}\n                ariaLabel={localizeMessage('navbar_dropdown.menuAriaLabel', 'main menu')}\n            >\n                <Menu.Group>\n                    <Menu.ItemAction\n                        id='recentMentions'\n                        show={this.props.mobile}\n                        onClick={this.searchMentions}\n                        icon={this.props.mobile && <i className='mentions'>{'@'}</i>}\n                        text={localizeMessage('sidebar_right_menu.recentMentions', 'Recent Mentions')}\n                    />\n                    <Menu.ItemAction\n                        id='flaggedPosts'\n                        show={this.props.mobile}\n                        onClick={this.getFlagged}\n                        icon={this.props.mobile && <i className='fa fa-flag'/>}\n                        text={localizeMessage('sidebar_right_menu.flagged', 'Flagged Posts')}\n                    />\n                </Menu.Group>\n                <Menu.Group>\n                    <Menu.ItemToggleModalRedux\n                        id='accountSettings'\n                        modalId={ModalIdentifiers.USER_SETTINGS}\n                        dialogType={UserSettingsModal}\n                        text={localizeMessage('navbar_dropdown.accountSettings', 'Account Settings')}\n                        icon={this.props.mobile && <i className='fa fa-cog'/>}\n                    />\n                </Menu.Group>\n                <Menu.Group>\n                    <TeamPermissionGate\n                        teamId={this.props.teamId}\n                        permissions={[Permissions.MANAGE_TEAM]}\n                    >\n                        <Menu.ItemToggleModalRedux\n                            id='addGroupsToTeam'\n                            show={teamIsGroupConstrained}\n                            modalId={ModalIdentifiers.ADD_GROUPS_TO_TEAM}\n                            dialogType={AddGroupsToTeamModal}\n                            text={localizeMessage('navbar_dropdown.addGroupsToTeam', 'Add Groups to Team')}\n                            icon={this.props.mobile && <i className='fa fa-user-plus'/>}\n                        />\n                    </TeamPermissionGate>\n                    <TeamPermissionGate\n                        teamId={this.props.teamId}\n                        permissions={[Permissions.ADD_USER_TO_TEAM, Permissions.INVITE_GUEST]}\n                    >\n                        <Menu.ItemToggleModalRedux\n                            id='invitePeople'\n                            modalId={ModalIdentifiers.INVITATION}\n                            dialogType={InvitationModal}\n                            text={localizeMessage('navbar_dropdown.invitePeople', 'Invite People')}\n                            extraText={localizeMessage('navbar_dropdown.invitePeopleExtraText', 'Add or invite people to the team')}\n                            icon={this.props.mobile && <i className='fa fa-user-plus'/>}\n                        />\n                    </TeamPermissionGate>\n                </Menu.Group>\n                <Menu.Group>\n                    <TeamPermissionGate\n                        teamId={this.props.teamId}\n                        permissions={[Permissions.MANAGE_TEAM]}\n                    >\n                        <Menu.ItemToggleModalRedux\n                            id='teamSettings'\n                            modalId={ModalIdentifiers.TEAM_SETTINGS}\n                            dialogType={TeamSettingsModal}\n                            text={localizeMessage('navbar_dropdown.teamSettings', 'Team Settings')}\n                            icon={this.props.mobile && <i className='fa fa-globe'/>}\n                        />\n                    </TeamPermissionGate>\n                    <TeamPermissionGate\n                        teamId={this.props.teamId}\n                        permissions={[Permissions.MANAGE_TEAM]}\n                    >\n                        <Menu.ItemToggleModalRedux\n                            id='manageGroups'\n                            show={teamIsGroupConstrained}\n                            modalId={ModalIdentifiers.MANAGE_TEAM_GROUPS}\n                            dialogProps={{\n                                teamID: this.props.teamId,\n                            }}\n                            dialogType={TeamGroupsManageModal}\n                            text={localizeMessage('navbar_dropdown.manageGroups', 'Manage Groups')}\n                            icon={this.props.mobile && <i className='fa fa-user-plus'/>}\n                        />\n                    </TeamPermissionGate>\n                    <TeamPermissionGate\n                        teamId={this.props.teamId}\n                        permissions={[Permissions.REMOVE_USER_FROM_TEAM, Permissions.MANAGE_TEAM_ROLES]}\n                    >\n                        <Menu.ItemToggleModalRedux\n                            id='manageMembers'\n                            modalId={ModalIdentifiers.TEAM_MEMBERS}\n                            dialogType={TeamMembersModal}\n                            text={localizeMessage('navbar_dropdown.manageMembers', 'Manage Members')}\n                            icon={this.props.mobile && <i className='fa fa-users'/>}\n                        />\n                    </TeamPermissionGate>\n                    <TeamPermissionGate\n                        teamId={this.props.teamId}\n                        permissions={[Permissions.REMOVE_USER_FROM_TEAM, Permissions.MANAGE_TEAM_ROLES]}\n                        invert={true}\n                    >\n                        <Menu.ItemToggleModalRedux\n                            id='viewMembers'\n                            modalId={ModalIdentifiers.TEAM_MEMBERS}\n                            dialogType={TeamMembersModal}\n                            text={localizeMessage('navbar_dropdown.viewMembers', 'View Members')}\n                            icon={this.props.mobile && <i className='fa fa-users'/>}\n                        />\n                    </TeamPermissionGate>\n                </Menu.Group>\n                <Menu.Group>\n                    <SystemPermissionGate permissions={[Permissions.CREATE_TEAM]}>\n                        <Menu.ItemLink\n                            id='createTeam'\n                            to='/create_team'\n                            text={localizeMessage('navbar_dropdown.create', 'Create a New Team')}\n                            icon={this.props.mobile && <i className='fa fa-plus-square'/>}\n                        />\n                    </SystemPermissionGate>\n                    <Menu.ItemLink\n                        id='joinTeam'\n                        show={!this.props.experimentalPrimaryTeam && this.props.moreTeamsToJoin}\n                        to='/select_team'\n                        text={localizeMessage('navbar_dropdown.join', 'Join Another Team')}\n                        icon={this.props.mobile && <i className='fa fa-plus-square'/>}\n                    />\n                    <Menu.ItemToggleModalRedux\n                        id='leaveTeam'\n                        show={!teamIsGroupConstrained && this.props.experimentalPrimaryTeam !== this.props.teamName}\n                        modalId={ModalIdentifiers.LEAVE_TEAM}\n                        dialogType={LeaveTeamModal}\n                        text={localizeMessage('navbar_dropdown.leave', 'Leave Team')}\n                        icon={this.props.mobile && <LeaveTeamIcon/>}\n                    />\n                </Menu.Group>\n                <Menu.Group>\n                    {pluginItems}\n                </Menu.Group>\n                <Menu.Group>\n                    <TeamPermissionGate\n                        teamId={this.props.teamId}\n                        permissions={[Permissions.MANAGE_SLASH_COMMANDS, Permissions.MANAGE_OAUTH, Permissions.MANAGE_INCOMING_WEBHOOKS, Permissions.MANAGE_OUTGOING_WEBHOOKS]}\n                    >\n                        <Menu.ItemLink\n                            id='integrations'\n                            show={!this.props.mobile && (this.props.enableIncomingWebhooks || this.props.enableOutgoingWebhooks || this.props.enableCommands || this.props.enableOAuthServiceProvider)}\n                            to={'/' + this.props.teamName + '/integrations'}\n                            text={localizeMessage('navbar_dropdown.integrations', 'Integrations')}\n                        />\n                    </TeamPermissionGate>\n                    <TeamPermissionGate\n                        teamId={this.props.teamId}\n                        permissions={[Permissions.MANAGE_SYSTEM]}\n                    >\n                        <Menu.ItemToggleModalRedux\n                            id='marketplaceModal'\n                            modalId={ModalIdentifiers.PLUGIN_MARKETPLACE}\n                            show={!this.props.mobile && this.props.enablePluginMarketplace}\n                            dialogType={MarketplaceModal}\n                            text={localizeMessage('navbar_dropdown.marketplace', 'Plugin Marketplace')}\n                        />\n                    </TeamPermissionGate>\n                    <Menu.ItemLink\n                        id='customEmojis'\n                        show={!this.props.mobile && this.props.enableCustomEmoji && this.props.canCreateOrDeleteCustomEmoji}\n                        to={'/' + this.props.teamName + '/emoji'}\n                        text={localizeMessage('navbar_dropdown.emoji', 'Custom Emoji')}\n                    />\n                </Menu.Group>\n                <Menu.Group>\n                    <SystemPermissionGate permissions={[Permissions.MANAGE_SYSTEM]}>\n                        <Menu.ItemLink\n                            id='systemConsole'\n                            show={!this.props.mobile}\n                            to='/admin_console'\n                            text={localizeMessage('navbar_dropdown.console', 'System Console')}\n                            icon={this.props.mobile && <i className='fa fa-wrench'/>}\n                        />\n                    </SystemPermissionGate>\n                </Menu.Group>\n                <Menu.Group>\n                    <Menu.ItemExternalLink\n                        id='helpLink'\n                        show={Boolean(this.props.helpLink)}\n                        url={this.props.helpLink}\n                        text={localizeMessage('navbar_dropdown.help', 'Help')}\n                        icon={this.props.mobile && <i className='fa fa-question'/>}\n                    />\n                    <Menu.ItemAction\n                        id='keyboardShortcuts'\n                        show={!this.props.mobile}\n                        onClick={this.toggleShortcutsModal}\n                        text={localizeMessage('navbar_dropdown.keyboardShortcuts', 'Keyboard Shortcuts')}\n                    />\n                    <Menu.ItemExternalLink\n                        id='reportLink'\n                        show={Boolean(this.props.reportAProblemLink)}\n                        url={this.props.reportAProblemLink}\n                        text={localizeMessage('navbar_dropdown.report', 'Report a Problem')}\n                        icon={this.props.mobile && <i className='fa fa-phone'/>}\n                    />\n                    <Menu.ItemExternalLink\n                        id='nativeAppLink'\n                        show={this.props.appDownloadLink && !UserAgent.isMobileApp()}\n                        url={useSafeUrl(this.props.appDownloadLink)}\n                        text={localizeMessage('navbar_dropdown.nativeApps', 'Download Apps')}\n                        icon={this.props.mobile && <i className='fa fa-mobile'/>}\n                    />\n                    <Menu.ItemToggleModalRedux\n                        id='about'\n                        modalId={ModalIdentifiers.ABOUT}\n                        dialogType={AboutBuildModal}\n                        text={formatMessage({id: 'navbar_dropdown.about', defaultMessage: 'About {appTitle}'}, {appTitle: this.props.siteName || 'Mattermost'})}\n                        icon={this.props.mobile && <i className='fa fa-info'/>}\n                    />\n                </Menu.Group>\n                <Menu.Group>\n                    <Menu.ItemAction\n                        id='logout'\n                        onClick={this.handleEmitUserLoggedOutEvent}\n                        text={localizeMessage('navbar_dropdown.logout', 'Logout')}\n                        icon={this.props.mobile && <i className='fa fa-sign-out'/>}\n                    />\n                </Menu.Group>\n            </Menu>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {createSelector} from 'reselect';\n\nimport {Preferences} from 'mattermost-redux/constants';\nimport {getChannelsNameMapInCurrentTeam} from 'mattermost-redux/selectors/entities/channels';\nimport {getAutolinkedUrlSchemes, getConfig} from 'mattermost-redux/selectors/entities/general';\nimport {getBool} from 'mattermost-redux/selectors/entities/preferences';\nimport {getCurrentTeam} from 'mattermost-redux/selectors/entities/teams';\nimport {getCurrentUserMentionKeys} from 'mattermost-redux/selectors/entities/users';\n\nimport {getSiteURL} from 'utils/url';\n\nimport Markdown from './markdown';\n\nfunction makeGetChannelNamesMap() {\n    return createSelector(\n        getChannelsNameMapInCurrentTeam,\n        (state, props) => props && props.channelNamesMap,\n        (channelNamesMap, channelMentions) => {\n            if (channelMentions) {\n                return Object.assign({}, channelMentions, channelNamesMap);\n            }\n\n            return channelNamesMap;\n        }\n    );\n}\n\nfunction makeMapStateToProps() {\n    const getChannelNamesMap = makeGetChannelNamesMap();\n\n    return function mapStateToProps(state, ownProps) {\n        const config = getConfig(state);\n\n        return {\n            autolinkedUrlSchemes: getAutolinkedUrlSchemes(state),\n            channelNamesMap: getChannelNamesMap(state, ownProps),\n            enableFormatting: getBool(state, Preferences.CATEGORY_ADVANCED_SETTINGS, 'formatting', true),\n            mentionKeys: getCurrentUserMentionKeys(state),\n            siteURL: getSiteURL(),\n            team: getCurrentTeam(state),\n            hasImageProxy: config.HasImageProxy === 'true',\n            minimumHashtagLength: parseInt(config.MinimumHashtagLength, 10),\n        };\n    };\n}\n\nexport default connect(makeMapStateToProps)(Markdown);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport messageHtmlToComponent from 'utils/message_html_to_component';\nimport * as TextFormatting from 'utils/text_formatting.jsx';\n\nexport default class Markdown extends React.PureComponent {\n    static propTypes = {\n\n        /*\n         * An object mapping channel names to channels for the current team\n         */\n        channelNamesMap: PropTypes.object.isRequired,\n\n        /*\n         * An array of URL schemes that should be turned into links. Anything that looks\n         * like a link will be turned into a link if this is not provided.\n         */\n        autolinkedUrlSchemes: PropTypes.array,\n\n        /*\n         * Whether or not to do Markdown rendering\n         */\n        enableFormatting: PropTypes.bool.isRequired,\n\n        /*\n         * Whether or not this text is part of the RHS\n         */\n        isRHS: PropTypes.bool,\n\n        /*\n         * An array of words that can be used to mention a user\n         */\n        mentionKeys: PropTypes.arrayOf(PropTypes.object).isRequired,\n\n        /*\n         * The text to be rendered\n         */\n        message: PropTypes.string.isRequired,\n\n        /*\n         * Any additional text formatting options to be used\n         */\n        options: PropTypes.object,\n\n        /*\n         * The root Site URL for the page\n         */\n        siteURL: PropTypes.string.isRequired,\n\n        /*\n         * The current team\n         */\n        team: PropTypes.object.isRequired,\n\n        /**\n         * If an image proxy is enabled.\n         */\n        hasImageProxy: PropTypes.bool.isRequired,\n\n        /**\n         * Minimum number of characters in a hashtag.\n         */\n        minimumHashtagLength: PropTypes.number,\n\n        /**\n         * Whether or not to proxy image URLs\n         */\n        proxyImages: PropTypes.bool,\n\n        /**\n         * Any extra props that should be passed into the image component\n         */\n        imageProps: PropTypes.object,\n\n        /**\n         * prop for passed down to image component for dimensions\n         */\n        imagesMetadata: PropTypes.object,\n\n        /**\n         * Whether or not to place the LinkTooltip component inside links\n         */\n        hasPluginTooltips: PropTypes.bool,\n\n        /**\n         * Post id prop passed down to markdown image\n         */\n        postId: PropTypes.string,\n\n        /**\n         * Post id prop passed down to markdown image\n         */\n        postType: PropTypes.string,\n    };\n\n    static defaultProps = {\n        options: {},\n        isRHS: false,\n        proxyImages: true,\n        imagesMetadata: {},\n        postId: '', // Needed to avoid proptypes console errors for cases like channel header, which doesn't have a proper value\n    };\n\n    render() {\n        if (!this.props.enableFormatting) {\n            return <span>{this.props.message}</span>;\n        }\n\n        const options = Object.assign({\n            autolinkedUrlSchemes: this.props.autolinkedUrlSchemes,\n            siteURL: this.props.siteURL,\n            mentionKeys: this.props.mentionKeys,\n            atMentions: true,\n            channelNamesMap: this.props.channelNamesMap,\n            proxyImages: this.props.hasImageProxy && this.props.proxyImages,\n            team: this.props.team,\n            minimumHashtagLength: this.props.minimumHashtagLength,\n        }, this.props.options);\n\n        const htmlFormattedText = TextFormatting.formatText(this.props.message, options);\n        return messageHtmlToComponent(htmlFormattedText, this.props.isRHS, {\n            imageProps: this.props.imageProps,\n            imagesMetadata: this.props.imagesMetadata,\n            hasPluginTooltips: this.props.hasPluginTooltips,\n            postId: this.props.postId,\n            postType: this.props.postType,\n        });\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport Constants from 'utils/constants.jsx';\n\nimport ExternalImage from 'components/external_image';\nimport SizeAwareImage from 'components/size_aware_image';\nimport ViewImageModal from 'components/view_image';\n\nimport brokenImageIcon from 'images/icons/brokenimage.png';\n\nexport default class MarkdownImage extends React.PureComponent {\n    static defaultProps = {\n        imageMetadata: {},\n    };\n\n    static propTypes = {\n        alt: PropTypes.string,\n        imageMetadata: PropTypes.object,\n        src: PropTypes.string.isRequired,\n        title: PropTypes.string,\n        className: PropTypes.string.isRequired,\n        postId: PropTypes.string.isRequired,\n        imageIsLink: PropTypes.bool.isRequired,\n        onImageLoaded: PropTypes.func,\n        postType: PropTypes.string,\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            showModal: false,\n            loadFailed: false,\n            loaded: false,\n        };\n    }\n\n    showModal = (e) => {\n        if (!this.props.imageIsLink) {\n            e.preventDefault();\n            this.setState({showModal: true});\n        }\n    }\n\n    hideModal = () => {\n        this.setState({showModal: false});\n    }\n\n    handleLoadFail = () => {\n        this.setState({loadFailed: true});\n    }\n\n    isHeaderChangeMessage = () => {\n        return this.props.postType &&\n            this.props.postType === Constants.PostTypes.HEADER_CHANGE;\n    }\n\n    componentDidUpdate(prevProps) {\n        this.onUpdated(prevProps.src);\n    }\n\n    onUpdated = (prevSrc) => {\n        if (this.props.src && this.props.src !== prevSrc) {\n            this.setState({loadFailed: false});\n        }\n    }\n\n    handleImageLoaded = ({height, width}) => {\n        this.setState({\n            loaded: true,\n        }, () => { // Call onImageLoaded prop only after state has already been set\n            if (this.props.onImageLoaded) {\n                this.props.onImageLoaded({height, width});\n            }\n        });\n    }\n\n    render() {\n        const {imageMetadata, src, alt, imageIsLink} = this.props;\n        if (src === '' || this.state.loadFailed) {\n            let className = 'markdown-inline-img broken-image';\n            if (this.isHeaderChangeMessage()) {\n                className += ' broken-image--scaled-down';\n            }\n\n            return (\n                <div style={{display: 'inline-block'}}>\n                    <img\n                        className={className}\n                        alt={alt}\n                        src={brokenImageIcon}\n                    />\n                </div>\n            );\n        }\n        return (\n            <ExternalImage\n                src={src}\n                imageMetadata={imageMetadata}\n            >\n                {(safeSrc) => {\n                    if (!safeSrc) {\n                        return (\n                            <a\n                                className='theme markdown__link'\n                                href={src}\n                                rel='noopener noreferrer'\n                                target='_blank'\n                                title={this.props.title}\n                            >\n                                {alt}\n                            </a>\n                        );\n                    }\n\n                    const getFileExtensionFromUrl = (url) => {\n                        const index = url.lastIndexOf('.');\n                        return index > 0 ? url.substring(index + 1) : null;\n                    };\n                    const extension = getFileExtensionFromUrl(safeSrc);\n\n                    let className = '';\n                    if (this.state.loaded) {\n                        className = imageIsLink || !extension ?\n                            `${this.props.className} markdown-inline-img--hover markdown-inline-img--no-border` :\n                            `${this.props.className} markdown-inline-img--hover cursor--pointer a11y--active`;\n\n                        if (this.isHeaderChangeMessage()) {\n                            className += ' markdown-inline-img--scaled-down';\n                        }\n                    } else {\n                        const loadingClass = this.isHeaderChangeMessage() ?\n                            'markdown-inline-img--scaled-down-loading' : 'markdown-inline-img--loading';\n                        className = `${this.props.className} ${loadingClass}`;\n                    }\n\n                    return (\n                        <>\n                            <SizeAwareImage\n                                alt={alt}\n                                className={className}\n                                src={safeSrc}\n                                dimensions={imageMetadata}\n                                showLoader={false}\n                                onClick={this.showModal}\n                                onImageLoadFail={this.handleLoadFail}\n                                onImageLoaded={this.handleImageLoaded}\n                            />\n                            {!imageIsLink && extension &&\n                            <ViewImageModal\n                                show={this.state.showModal}\n                                onModalDismissed={this.hideModal}\n                                postId={this.props.postId}\n                                startIndex={0}\n                                fileInfos={[{\n                                    has_preview_image: false,\n                                    link: safeSrc,\n                                    extension: imageMetadata.format || extension,\n                                    name: alt,\n                                }]}\n                            />\n                            }\n                        </>\n                    );\n                }}\n            </ExternalImage>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\nimport {createSelector} from 'reselect';\nimport {searchProfilesInCurrentChannel, getProfilesInCurrentChannel} from 'mattermost-redux/selectors/entities/users';\nimport {getMembersInCurrentChannel, getCurrentChannelStats, getCurrentChannel} from 'mattermost-redux/selectors/entities/channels';\nimport {getMembersInCurrentTeam} from 'mattermost-redux/selectors/entities/teams';\nimport {getChannelStats} from 'mattermost-redux/actions/channels';\nimport {searchProfiles} from 'mattermost-redux/actions/users';\nimport {sortByUsername} from 'mattermost-redux/utils/user_utils';\n\nimport {\n    loadProfilesAndTeamMembersAndChannelMembers,\n    loadTeamMembersAndChannelMembersForProfilesList,\n} from 'actions/user_actions.jsx';\nimport {loadStatusesForProfilesList} from 'actions/status_actions.jsx';\nimport {setModalSearchTerm} from 'actions/views/search';\n\nimport MemberListChannel from './member_list_channel.jsx';\n\nconst getUsersAndActionsToDisplay = createSelector(\n    (state, users) => users,\n    getMembersInCurrentTeam,\n    getMembersInCurrentChannel,\n    getCurrentChannel,\n    (users = [], teamMembers = {}, channelMembers = {}, channel = {}) => {\n        const actionUserProps = {};\n        const usersToDisplay = [];\n\n        for (let i = 0; i < users.length; i++) {\n            const user = users[i];\n\n            if (teamMembers[user.id] && channelMembers[user.id] && user.delete_at === 0) {\n                usersToDisplay.push(user);\n\n                actionUserProps[user.id] = {\n                    channel,\n                    teamMember: teamMembers[user.id],\n                    channelMember: channelMembers[user.id],\n                };\n            }\n        }\n\n        return {\n            usersToDisplay: usersToDisplay.sort(sortByUsername),\n            actionUserProps,\n        };\n    }\n);\n\nfunction mapStateToProps(state) {\n    const searchTerm = state.views.search.modalSearch;\n\n    let users;\n    if (searchTerm) {\n        users = searchProfilesInCurrentChannel(state, searchTerm);\n    } else {\n        users = getProfilesInCurrentChannel(state);\n    }\n\n    const stats = getCurrentChannelStats(state) || {member_count: 0};\n\n    return {\n        ...getUsersAndActionsToDisplay(state, users),\n        currentTeamId: state.entities.teams.currentTeamId,\n        currentChannelId: state.entities.channels.currentChannelId,\n        searchTerm,\n        totalChannelMembers: stats.member_count,\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            searchProfiles,\n            getChannelStats,\n            setModalSearchTerm,\n            loadProfilesAndTeamMembersAndChannelMembers,\n            loadStatusesForProfilesList,\n            loadTeamMembersAndChannelMembersForProfilesList,\n        }, dispatch),\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MemberListChannel);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport Constants from 'utils/constants';\nimport * as UserAgent from 'utils/user_agent';\n\nimport ChannelMembersDropdown from 'components/channel_members_dropdown';\nimport SearchableUserList from 'components/searchable_user_list/searchable_user_list_container.jsx';\nimport LoadingScreen from 'components/loading_screen';\nconst USERS_PER_PAGE = 50;\n\nexport default class MemberListChannel extends React.PureComponent {\n    static propTypes = {\n        currentTeamId: PropTypes.string.isRequired,\n        currentChannelId: PropTypes.string.isRequired,\n        searchTerm: PropTypes.string.isRequired,\n        usersToDisplay: PropTypes.arrayOf(PropTypes.object).isRequired,\n        actionUserProps: PropTypes.object.isRequired,\n        totalChannelMembers: PropTypes.number.isRequired,\n        channel: PropTypes.object.isRequired,\n        actions: PropTypes.shape({\n            searchProfiles: PropTypes.func.isRequired,\n            getChannelStats: PropTypes.func.isRequired,\n            setModalSearchTerm: PropTypes.func.isRequired,\n            loadProfilesAndTeamMembersAndChannelMembers: PropTypes.func.isRequired,\n            loadStatusesForProfilesList: PropTypes.func.isRequired,\n            loadTeamMembersAndChannelMembersForProfilesList: PropTypes.func.isRequired,\n        }).isRequired,\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.searchTimeoutId = 0;\n\n        this.state = {\n            loading: true,\n        };\n    }\n\n    componentDidMount() {\n        const {\n            actions,\n            currentChannelId,\n            currentTeamId,\n        } = this.props;\n\n        actions.loadProfilesAndTeamMembersAndChannelMembers(0, Constants.PROFILE_CHUNK_SIZE, currentTeamId, currentChannelId).then(({data}) => {\n            if (data) {\n                this.loadComplete();\n            }\n        });\n\n        actions.getChannelStats(currentChannelId);\n    }\n\n    componentWillUnmount() {\n        this.props.actions.setModalSearchTerm('');\n    }\n\n    componentDidUpdate(prevProps) {\n        if (prevProps.searchTerm !== this.props.searchTerm) {\n            clearTimeout(this.searchTimeoutId);\n            const searchTerm = this.props.searchTerm;\n\n            if (searchTerm === '') {\n                this.loadComplete();\n                this.searchTimeoutId = 0;\n                return;\n            }\n\n            const searchTimeoutId = setTimeout(\n                async () => {\n                    const {data} = await prevProps.actions.searchProfiles(searchTerm, {team_id: this.props.currentTeamId, in_channel_id: this.props.currentChannelId});\n\n                    if (searchTimeoutId !== this.searchTimeoutId) {\n                        return;\n                    }\n\n                    this.props.actions.loadStatusesForProfilesList(data);\n                    this.props.actions.loadTeamMembersAndChannelMembersForProfilesList(data, this.props.currentTeamId, this.props.currentChannelId).then(({data: membersLoaded}) => {\n                        if (membersLoaded) {\n                            this.loadComplete();\n                        }\n                    });\n                },\n                Constants.SEARCH_TIMEOUT_MILLISECONDS\n            );\n\n            this.searchTimeoutId = searchTimeoutId;\n        }\n    }\n\n    loadComplete = () => {\n        this.setState({loading: false});\n    }\n\n    nextPage = (page) => {\n        this.props.actions.loadProfilesAndTeamMembersAndChannelMembers(page + 1, USERS_PER_PAGE);\n    }\n\n    handleSearch = (term) => {\n        this.props.actions.setModalSearchTerm(term);\n    }\n\n    render() {\n        if (this.state.loading) {\n            return (<LoadingScreen/>);\n        }\n        const channelIsArchived = this.props.channel.delete_at !== 0;\n        return (\n            <SearchableUserList\n                users={this.props.usersToDisplay}\n                usersPerPage={USERS_PER_PAGE}\n                total={this.props.totalChannelMembers}\n                nextPage={this.nextPage}\n                search={this.handleSearch}\n                actions={channelIsArchived ? [] : [ChannelMembersDropdown]}\n                actionUserProps={this.props.actionUserProps}\n                focusOnMount={!UserAgent.isMobile()}\n            />\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\n\nimport {getTeamStats} from 'mattermost-redux/actions/teams';\nimport {haveITeamPermission} from 'mattermost-redux/selectors/entities/roles';\nimport {getMembersInCurrentTeam, getCurrentTeamStats} from 'mattermost-redux/selectors/entities/teams';\nimport {getProfilesInCurrentTeam, searchProfilesInCurrentTeam} from 'mattermost-redux/selectors/entities/users';\nimport {Permissions} from 'mattermost-redux/constants';\nimport {searchProfiles} from 'mattermost-redux/actions/users';\n\nimport {loadStatusesForProfilesList} from 'actions/status_actions.jsx';\nimport {loadProfilesAndTeamMembers, loadTeamMembersForProfilesList} from 'actions/user_actions.jsx';\nimport {setModalSearchTerm} from 'actions/views/search';\n\nimport MemberListTeam from './member_list_team.jsx';\n\nfunction mapStateToProps(state, ownProps) {\n    const canManageTeamMembers = haveITeamPermission(state, {team: ownProps.teamId, permission: Permissions.MANAGE_TEAM_ROLES});\n\n    const searchTerm = state.views.search.modalSearch;\n\n    let users;\n    if (searchTerm) {\n        users = searchProfilesInCurrentTeam(state, searchTerm);\n    } else {\n        users = getProfilesInCurrentTeam(state);\n    }\n\n    const stats = getCurrentTeamStats(state) || {active_member_count: 0};\n\n    return {\n        searchTerm,\n        users,\n        teamMembers: getMembersInCurrentTeam(state) || {},\n        currentTeamId: state.entities.teams.currentTeamId,\n        totalTeamMembers: stats.active_member_count,\n        canManageTeamMembers,\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            searchProfiles,\n            getTeamStats,\n            loadProfilesAndTeamMembers,\n            loadStatusesForProfilesList,\n            loadTeamMembersForProfilesList,\n            setModalSearchTerm,\n        }, dispatch),\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MemberListTeam);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport Constants from 'utils/constants';\nimport * as UserAgent from 'utils/user_agent';\n\nimport SearchableUserList from 'components/searchable_user_list/searchable_user_list_container.jsx';\nimport TeamMembersDropdown from 'components/team_members_dropdown';\n\nconst USERS_PER_PAGE = 50;\n\nexport default class MemberListTeam extends React.Component {\n    static propTypes = {\n        searchTerm: PropTypes.string.isRequired,\n        users: PropTypes.arrayOf(PropTypes.object).isRequired,\n        teamMembers: PropTypes.object.isRequired,\n        currentTeamId: PropTypes.string.isRequired,\n        totalTeamMembers: PropTypes.number.isRequired,\n        canManageTeamMembers: PropTypes.bool,\n        actions: PropTypes.shape({\n            searchProfiles: PropTypes.func.isRequired,\n            getTeamStats: PropTypes.func.isRequired,\n            loadProfilesAndTeamMembers: PropTypes.func.isRequired,\n            loadStatusesForProfilesList: PropTypes.func.isRequired,\n            loadTeamMembersForProfilesList: PropTypes.func.isRequired,\n            setModalSearchTerm: PropTypes.func.isRequired,\n        }).isRequired,\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.searchTimeoutId = 0;\n\n        this.state = {\n            loading: true,\n        };\n    }\n\n    componentDidMount() {\n        this.props.actions.loadProfilesAndTeamMembers(0, Constants.PROFILE_CHUNK_SIZE, this.props.currentTeamId).then(({data}) => {\n            if (data) {\n                this.loadComplete();\n            }\n        });\n\n        this.props.actions.getTeamStats(this.props.currentTeamId);\n    }\n\n    componentWillUnmount() {\n        this.props.actions.setModalSearchTerm('');\n    }\n\n    UNSAFE_componentWillReceiveProps(nextProps) { // eslint-disable-line camelcase\n        if (this.props.searchTerm !== nextProps.searchTerm) {\n            clearTimeout(this.searchTimeoutId);\n\n            const searchTerm = nextProps.searchTerm;\n            if (searchTerm === '') {\n                this.loadComplete();\n                this.searchTimeoutId = '';\n                return;\n            }\n\n            const searchTimeoutId = setTimeout(\n                async () => {\n                    const {\n                        loadStatusesForProfilesList,\n                        loadTeamMembersForProfilesList,\n                        searchProfiles,\n                    } = nextProps.actions;\n                    const {data} = await searchProfiles(searchTerm, {team_id: nextProps.currentTeamId});\n\n                    if (searchTimeoutId !== this.searchTimeoutId) {\n                        return;\n                    }\n\n                    this.setState({loading: true});\n\n                    loadStatusesForProfilesList(data);\n                    loadTeamMembersForProfilesList(data, nextProps.currentTeamId).then(({data: membersLoaded}) => {\n                        if (membersLoaded) {\n                            this.loadComplete();\n                        }\n                    });\n                },\n                Constants.SEARCH_TIMEOUT_MILLISECONDS\n            );\n\n            this.searchTimeoutId = searchTimeoutId;\n        }\n    }\n\n    loadComplete = () => {\n        this.setState({loading: false});\n    }\n\n    nextPage = (page) => {\n        this.props.actions.loadProfilesAndTeamMembers(page + 1, USERS_PER_PAGE);\n    }\n\n    search = (term) => {\n        this.props.actions.setModalSearchTerm(term);\n    }\n\n    render() {\n        let teamMembersDropdown = null;\n        if (this.props.canManageTeamMembers) {\n            teamMembersDropdown = [TeamMembersDropdown];\n        }\n\n        const teamMembers = this.props.teamMembers;\n        const users = this.props.users;\n        const actionUserProps = {};\n\n        let usersToDisplay;\n        if (this.state.loading) {\n            usersToDisplay = null;\n        } else {\n            usersToDisplay = [];\n\n            for (let i = 0; i < users.length; i++) {\n                const user = users[i];\n\n                if (teamMembers[user.id] && user.delete_at === 0) {\n                    usersToDisplay.push(user);\n                    actionUserProps[user.id] = {\n                        teamMember: teamMembers[user.id],\n                    };\n                }\n            }\n        }\n\n        return (\n            <SearchableUserList\n                users={usersToDisplay}\n                usersPerPage={USERS_PER_PAGE}\n                total={this.props.totalTeamMembers}\n                nextPage={this.nextPage}\n                search={this.search}\n                actions={teamMembersDropdown}\n                actionUserProps={actionUserProps}\n                focusOnMount={!UserAgent.isMobile()}\n            />\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React, {ReactFragment} from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nimport {isErrorInvalidSlashCommand} from 'utils/post_utils.jsx';\n\ninterface ErrorMessage {\n    message: string | ReactFragment;\n}\n\ninterface MessageSubmitErrorProps {\n    error: ErrorMessage;\n    handleSubmit: (e: React.MouseEvent<HTMLAnchorElement, MouseEvent>) => void;\n    submittedMessage?: string;\n}\n\nclass MessageSubmitError extends React.PureComponent<MessageSubmitErrorProps, {}> {\n    public renderSlashCommandError = (): string | ReactFragment => {\n        if (!this.props.submittedMessage) {\n            return this.props.error.message;\n        }\n\n        const command = this.props.submittedMessage.split(' ')[0];\n        return (\n            <React.Fragment>\n                <FormattedMessage\n                    id='message_submit_error.invalidCommand'\n                    defaultMessage={'Command with a trigger of \\'{command}\\' not found. '}\n                    values={{\n                        command,\n                    }}\n                />\n                <a\n                    href='#'\n                    onClick={this.props.handleSubmit}\n                >\n                    <FormattedMessage\n                        id='message_submit_error.sendAsMessageLink'\n                        defaultMessage='Click here to send as a message.'\n                    />\n                </a>\n            </React.Fragment>\n        );\n    }\n\n    public render(): JSX.Element | null {\n        const error = this.props.error;\n\n        if (!error) {\n            return null;\n        }\n\n        let errorContent = error.message;\n        if (isErrorInvalidSlashCommand(error)) {\n            errorContent = this.renderSlashCommandError();\n        }\n\n        return (\n            <div className='has-error'>\n                <label className='control-label'>\n                    {errorContent}\n                </label>\n            </div>\n        );\n    }\n}\n\nexport default MessageSubmitError;\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\n\nimport {closeModal} from 'actions/views/modals';\n\nimport ModalController from './modal_controller.jsx';\n\nfunction mapStateToProps(state) {\n    return {\n        modals: state.views.modals,\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            closeModal,\n        }, dispatch),\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ModalController);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nexport default class ModalController extends React.PureComponent {\n    static propTypes = {\n\n        /**\n         * Object that has map of modal's id and element\n         */\n        modals: PropTypes.object.isRequired,\n\n        /**\n         * Object with action creators\n         */\n        actions: PropTypes.shape({\n\n            /**\n             * Action creator to close modal\n             */\n            closeModal: PropTypes.func.isRequired,\n        }).isRequired,\n    }\n\n    render() {\n        const {modals, ...props} = this.props;\n        const {modalState} = modals;\n\n        if (!modals) {\n            return <div/>;\n        }\n\n        const modalOutput = [];\n\n        for (const modalId in modalState) {\n            if (modalState.hasOwnProperty(modalId)) {\n                const modal = modalState[modalId];\n                if (modal.open) {\n                    const modalComponent = React.createElement(modal.dialogType, Object.assign({}, modal.dialogProps, {\n                        onHide: props.actions.closeModal.bind(this, modalId),\n                        key: `${modalId}_modal`,\n                    }));\n\n                    modalOutput.push(modalComponent);\n                }\n            }\n        }\n\n        return (\n            <div>{modalOutput}</div>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\nimport {createSelector} from 'reselect';\n\nimport {getChannels, getArchivedChannels, joinChannel} from 'mattermost-redux/actions/channels';\nimport {getOtherChannels, getChannelsInCurrentTeam} from 'mattermost-redux/selectors/entities/channels';\nimport {getCurrentTeam} from 'mattermost-redux/selectors/entities/teams';\nimport {getCurrentUserId} from 'mattermost-redux/selectors/entities/users';\nimport {RequestStatus} from 'mattermost-redux/constants';\n\nimport {getConfig} from 'mattermost-redux/selectors/entities/general';\n\nimport {searchMoreChannels} from 'actions/channel_actions.jsx';\n\nimport MoreChannels from './more_channels.jsx';\n\nconst getNotArchivedOtherChannels = createSelector(\n    getOtherChannels,\n    (channels) => channels && channels.filter((c) => c.delete_at === 0)\n);\n\nconst getArchivedOtherChannels = createSelector(\n    getChannelsInCurrentTeam,\n    (channels) => channels && channels.filter((c) => c.delete_at !== 0)\n);\n\nfunction mapStateToProps(state) {\n    const team = getCurrentTeam(state) || {};\n\n    return {\n        channels: getNotArchivedOtherChannels(state) || [],\n        archivedChannels: getArchivedOtherChannels(state) || [],\n        currentUserId: getCurrentUserId(state),\n        teamId: team.id,\n        teamName: team.name,\n        channelsRequestStarted: state.requests.channels.getChannels.status === RequestStatus.STARTED,\n        canShowArchivedChannels: (getConfig(state).ExperimentalViewArchivedChannels === 'true'),\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            getChannels,\n            getArchivedChannels,\n            joinChannel,\n            searchMoreChannels,\n        }, dispatch),\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MoreChannels);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {Modal} from 'react-bootstrap';\nimport {FormattedMessage} from 'react-intl';\nimport Permissions from 'mattermost-redux/constants/permissions';\n\nimport {browserHistory} from 'utils/browser_history';\n\nimport {getRelativeChannelURL} from 'utils/url';\n\nimport SearchableChannelList from 'components/searchable_channel_list.jsx';\nimport TeamPermissionGate from 'components/permissions_gates/team_permission_gate';\n\nconst CHANNELS_CHUNK_SIZE = 50;\nconst CHANNELS_PER_PAGE = 50;\nconst SEARCH_TIMEOUT_MILLISECONDS = 100;\n\nexport default class MoreChannels extends React.Component {\n    static propTypes = {\n        channels: PropTypes.array.isRequired,\n        archivedChannels: PropTypes.array.isRequired,\n        currentUserId: PropTypes.string.isRequired,\n        teamId: PropTypes.string.isRequired,\n        teamName: PropTypes.string.isRequired,\n        onModalDismissed: PropTypes.func,\n        handleNewChannel: PropTypes.func,\n        channelsRequestStarted: PropTypes.bool,\n        bodyOnly: PropTypes.bool,\n        canShowArchivedChannels: PropTypes.bool,\n        morePublicChannelsModalType: PropTypes.string,\n        actions: PropTypes.shape({\n            getChannels: PropTypes.func.isRequired,\n            getArchivedChannels: PropTypes.func.isRequired,\n            joinChannel: PropTypes.func.isRequired,\n            searchMoreChannels: PropTypes.func.isRequired,\n        }).isRequired,\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.searchTimeoutId = 0;\n\n        this.state = {\n            show: true,\n            shouldShowArchivedChannels: this.props.morePublicChannelsModalType === 'private',\n            search: false,\n            searchedChannels: [],\n            serverError: null,\n            searching: false,\n            searchTerm: '',\n        };\n    }\n\n    componentDidMount() {\n        this.props.actions.getChannels(this.props.teamId, 0, CHANNELS_CHUNK_SIZE * 2);\n        if (this.props.canShowArchivedChannels) {\n            this.props.actions.getArchivedChannels(this.props.teamId, 0, CHANNELS_CHUNK_SIZE * 2);\n        }\n    }\n\n    handleHide = () => {\n        this.setState({show: false});\n\n        if (this.props.bodyOnly) {\n            this.handleExit();\n        }\n    }\n\n    handleExit = () => {\n        if (this.props.onModalDismissed) {\n            this.props.onModalDismissed();\n        }\n    }\n\n    onChange = (force) => {\n        if (this.state.search && !force) {\n            return;\n        }\n\n        this.setState({\n            searchedChannels: [],\n            serverError: null,\n        });\n    }\n\n    nextPage = (page) => {\n        this.props.actions.getChannels(this.props.teamId, page + 1, CHANNELS_PER_PAGE);\n    }\n\n    handleJoin = (channel, done) => {\n        const {actions, currentUserId, teamId, teamName} = this.props;\n        actions.joinChannel(currentUserId, teamId, channel.id).then((result) => {\n            if (result.error) {\n                this.setState({serverError: result.error.message});\n            } else {\n                browserHistory.push(getRelativeChannelURL(teamName, channel.name));\n                this.handleHide();\n            }\n\n            if (done) {\n                done();\n            }\n        });\n    };\n\n    search = (term) => {\n        clearTimeout(this.searchTimeoutId);\n\n        if (term === '') {\n            this.onChange(true);\n            this.setState({search: false, searchedChannels: [], searching: false, searchTerm: term});\n            this.searchTimeoutId = '';\n            return;\n        }\n        this.setState({search: true, searching: true, searchTerm: term});\n\n        const searchTimeoutId = setTimeout(\n            () => {\n                this.props.actions.searchMoreChannels(term, this.state.shouldShowArchivedChannels).\n                    then((result) => {\n                        if (searchTimeoutId !== this.searchTimeoutId) {\n                            return;\n                        }\n\n                        if (result.data) {\n                            this.setSearchResults(result.data);\n                        } else {\n                            this.setState({searchedChannels: [], searching: false});\n                        }\n                    }).\n                    catch(() => {\n                        this.setState({searchedChannels: [], searching: false});\n                    });\n            },\n            SEARCH_TIMEOUT_MILLISECONDS\n        );\n\n        this.searchTimeoutId = searchTimeoutId;\n    };\n\n    setSearchResults = (channels) => {\n        this.setState({searchedChannels: this.state.shouldShowArchivedChannels ? channels.filter((c) => c.delete_at !== 0) : channels.filter((c) => c.delete_at === 0), searching: false});\n    };\n\n    toggleArchivedChannels = (shouldShowArchivedChannels) => {\n        // search again when switching channels to update search results\n        this.search(this.state.searchTerm);\n        this.setState({shouldShowArchivedChannels});\n    };\n\n    render() {\n        const {\n            channels,\n            archivedChannels,\n            teamId,\n            channelsRequestStarted,\n            bodyOnly,\n        } = this.props;\n\n        const {\n            search,\n            searchedChannels,\n            serverError: serverErrorState,\n            show,\n            searching,\n            shouldShowArchivedChannels,\n        } = this.state;\n\n        let activeChannels;\n\n        if (shouldShowArchivedChannels) {\n            activeChannels = search ? searchedChannels : archivedChannels;\n        } else {\n            activeChannels = search ? searchedChannels : channels;\n        }\n\n        let serverError;\n        if (serverErrorState) {\n            serverError = <div className='form-group has-error'><label className='control-label'>{serverErrorState}</label></div>;\n        }\n\n        const createNewChannelButton = (\n            <TeamPermissionGate\n                teamId={teamId}\n                permissions={[Permissions.CREATE_PUBLIC_CHANNEL]}\n            >\n                <button\n                    id='createNewChannel'\n                    type='button'\n                    className='btn btn-primary channel-create-btn'\n                    onClick={this.props.handleNewChannel}\n                >\n                    <FormattedMessage\n                        id='more_channels.create'\n                        defaultMessage='Create New Channel'\n                    />\n                </button>\n            </TeamPermissionGate>\n        );\n\n        const createChannelHelpText = (\n            <TeamPermissionGate\n                teamId={teamId}\n                permissions={[Permissions.CREATE_PUBLIC_CHANNEL, Permissions.CREATE_PRIVATE_CHANNEL]}\n            >\n                <p className='secondary-message'>\n                    <FormattedMessage\n                        id='more_channels.createClick'\n                        defaultMessage=\"Click 'Create New Channel' to make a new one\"\n                    />\n                </p>\n            </TeamPermissionGate>\n        );\n\n        const body = (\n            <React.Fragment>\n                <SearchableChannelList\n                    channels={activeChannels}\n                    channelsPerPage={CHANNELS_PER_PAGE}\n                    nextPage={this.nextPage}\n                    isSearch={search}\n                    search={this.search}\n                    handleJoin={this.handleJoin}\n                    noResultsText={createChannelHelpText}\n                    loading={search ? searching : channelsRequestStarted}\n                    createChannelButton={bodyOnly && createNewChannelButton}\n                    toggleArchivedChannels={this.toggleArchivedChannels}\n                    shouldShowArchivedChannels={this.state.shouldShowArchivedChannels}\n                    canShowArchivedChannels={this.props.canShowArchivedChannels}\n                />\n                {serverError}\n            </React.Fragment>\n        );\n\n        if (bodyOnly) {\n            return body;\n        }\n\n        return (\n            <Modal\n                dialogClassName='a11y__modal more-modal more-modal--action'\n                show={show}\n                onHide={this.handleHide}\n                onExited={this.handleExit}\n                role='dialog'\n                id='moreChannelsModal'\n                aria-labelledby='moreChannelsModalLabel'\n            >\n                <Modal.Header\n                    id='moreChannelsModalHeader'\n                    closeButton={true}\n                >\n                    <Modal.Title\n                        componentClass='h1'\n                        id='moreChannelsModalLabel'\n                    >\n                        <FormattedMessage\n                            id='more_channels.title'\n                            defaultMessage='More Channels'\n                        />\n                    </Modal.Title>\n                    {createNewChannelButton}\n                </Modal.Header>\n                <Modal.Body>\n                    {body}\n                </Modal.Body>\n            </Modal>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport AddIcon from 'components/widgets/icons/fa_add_icon';\n\nexport default class GroupMessageOption extends React.Component {\n    static propTypes = {\n        channel: PropTypes.object.isRequired,\n        isSelected: PropTypes.bool.isRequired,\n        onAdd: PropTypes.func.isRequired,\n    };\n\n    getStyle() {\n        let className = 'mentions__name';\n        if (this.props.isSelected) {\n            className += ' suggestion--selected';\n        }\n        return className;\n    }\n\n    displayName() {\n        return this.props.channel.profiles.map((profile) => '@' + profile.username).join(', ');\n    }\n\n    addValue = () => {\n        this.props.onAdd(this.props.channel.profiles);\n    }\n\n    render() {\n        return (\n            <div\n                key={this.props.channel.id}\n                className={'more-modal__row clickable ' + this.getStyle()}\n                onClick={this.addValue}\n            >\n                <div className='more-modal__gm-icon bg-text-200'>\n                    {this.props.channel.profiles.length}\n                </div>\n                <div className='more-modal__details'>\n                    <div className='more-modal__name'>\n                        {this.displayName()}\n                    </div>\n                </div>\n                <div className='more-modal__actions'>\n                    <div className='more-modal__actions--round'>\n                        <AddIcon/>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\nimport {\n    getProfiles,\n    getProfilesInTeam,\n    getStatusesByIds,\n    getTotalUsersStats,\n    searchProfiles,\n} from 'mattermost-redux/actions/users';\nimport {searchGroupChannels} from 'mattermost-redux/actions/channels';\nimport {\n    getCurrentUserId,\n    getProfiles as selectProfiles,\n    getProfilesInCurrentChannel,\n    getProfilesInCurrentTeam, searchProfiles as searchProfilesSelector,\n    searchProfilesInCurrentTeam,\n    getTotalUsersStats as getTotalUsersStatsSelector,\n} from 'mattermost-redux/selectors/entities/users';\nimport {getChannelsWithUserProfiles} from 'mattermost-redux/selectors/entities/channels';\nimport {getConfig} from 'mattermost-redux/selectors/entities/general';\nimport {getCurrentTeam} from 'mattermost-redux/selectors/entities/teams';\nimport {sortByUsername, filterProfilesMatchingTerm} from 'mattermost-redux/utils/user_utils';\nimport {memoizeResult} from 'mattermost-redux/utils/helpers';\n\nimport {openDirectChannelToUserId, openGroupChannelToUserIds} from 'actions/channel_actions';\nimport {loadStatusesForProfilesList} from 'actions/status_actions.jsx';\nimport {loadProfilesForGroupChannels} from 'actions/user_actions';\nimport {setModalSearchTerm} from 'actions/views/search';\n\nimport MoreDirectChannels from './more_direct_channels.jsx';\n\nfunction mapStateToProps(state, ownProps) {\n    const currentUserId = getCurrentUserId(state);\n    let currentChannelMembers = [];\n    if (ownProps.isExistingChannel) {\n        currentChannelMembers = getProfilesInCurrentChannel(state);\n    }\n\n    const config = getConfig(state);\n    const restrictDirectMessage = config.RestrictDirectMessage;\n\n    const searchTerm = state.views.search.modalSearch;\n\n    let users;\n    if (searchTerm) {\n        if (restrictDirectMessage === 'any') {\n            users = searchProfilesSelector(state, searchTerm, false);\n        } else {\n            users = searchProfilesInCurrentTeam(state, searchTerm, false);\n        }\n    } else if (restrictDirectMessage === 'any') {\n        users = selectProfiles(state);\n    } else {\n        users = getProfilesInCurrentTeam(state);\n    }\n\n    const filteredGroupChannels = filterGroupChannels(getChannelsWithUserProfiles(state), searchTerm);\n\n    const team = getCurrentTeam(state);\n    const stats = getTotalUsersStatsSelector(state) || {total_users_count: 0};\n\n    return {\n        currentTeamId: team.id,\n        currentTeamName: team.name,\n        searchTerm,\n        users: users.sort(sortByUsername),\n        groupChannels: filteredGroupChannels,\n        statuses: state.entities.users.statuses,\n        currentChannelMembers,\n        currentUserId,\n        restrictDirectMessage,\n        totalCount: stats.total_users_count,\n    };\n}\n\nconst filterGroupChannels = memoizeResult((channels, term) => {\n    return channels.filter((channel) => {\n        const matches = filterProfilesMatchingTerm(channel.profiles, term);\n        return matches.length > 0;\n    });\n});\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            getProfiles,\n            getProfilesInTeam,\n            getStatusesByIds,\n            getTotalUsersStats,\n            loadStatusesForProfilesList,\n            loadProfilesForGroupChannels,\n            openDirectChannelToUserId,\n            openGroupChannelToUserIds,\n            searchProfiles,\n            searchGroupChannels,\n            setModalSearchTerm,\n        }, dispatch),\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MoreDirectChannels);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {Modal} from 'react-bootstrap';\nimport {FormattedMessage} from 'react-intl';\nimport {Client4} from 'mattermost-redux/client';\n\nimport {browserHistory} from 'utils/browser_history';\nimport Constants from 'utils/constants';\nimport {displayEntireNameForUser, localizeMessage, isGuest} from 'utils/utils.jsx';\nimport MultiSelect from 'components/multiselect/multiselect';\nimport ProfilePicture from 'components/profile_picture';\nimport AddIcon from 'components/widgets/icons/fa_add_icon';\nimport GuestBadge from 'components/widgets/badges/guest_badge';\nimport BotBadge from 'components/widgets/badges/bot_badge';\n\nimport GroupMessageOption from './group_message_option';\n\nconst USERS_PER_PAGE = 50;\nconst MAX_SELECTABLE_VALUES = Constants.MAX_USERS_IN_GM - 1;\n\nexport default class MoreDirectChannels extends React.Component {\n    static propTypes = {\n\n        currentUserId: PropTypes.string.isRequired,\n        currentTeamId: PropTypes.string.isRequired,\n        currentTeamName: PropTypes.string.isRequired,\n        searchTerm: PropTypes.string.isRequired,\n        users: PropTypes.arrayOf(PropTypes.object).isRequired,\n        groupChannels: PropTypes.arrayOf(PropTypes.object).isRequired,\n        statuses: PropTypes.object.isRequired,\n        totalCount: PropTypes.number,\n\n        /*\n         * List of current channel members of existing channel\n         */\n        currentChannelMembers: PropTypes.arrayOf(PropTypes.object),\n\n        /*\n         * Whether the modal is for existing channel or not\n         */\n        isExistingChannel: PropTypes.bool.isRequired,\n\n        /*\n         * The mode by which direct messages are restricted, if at all.\n         */\n        restrictDirectMessage: PropTypes.string,\n        onModalDismissed: PropTypes.func,\n        onHide: PropTypes.func,\n        bodyOnly: PropTypes.bool,\n        actions: PropTypes.shape({\n            getProfiles: PropTypes.func.isRequired,\n            getProfilesInTeam: PropTypes.func.isRequired,\n            getStatusesByIds: PropTypes.func.isRequired,\n            getTotalUsersStats: PropTypes.func.isRequired,\n            loadStatusesForProfilesList: PropTypes.func.isRequired,\n            loadProfilesForGroupChannels: PropTypes.func.isRequired,\n            openDirectChannelToUserId: PropTypes.func.isRequired,\n            openGroupChannelToUserIds: PropTypes.func.isRequired,\n            searchProfiles: PropTypes.func.isRequired,\n            searchGroupChannels: PropTypes.func.isRequired,\n            setModalSearchTerm: PropTypes.func.isRequired,\n        }).isRequired,\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.searchTimeoutId = 0;\n\n        const values = [];\n\n        if (props.currentChannelMembers) {\n            for (let i = 0; i < props.currentChannelMembers.length; i++) {\n                const user = Object.assign({}, props.currentChannelMembers[i]);\n\n                if (user.id === props.currentUserId) {\n                    continue;\n                }\n\n                values.push(user);\n            }\n        }\n\n        this.state = {\n            values,\n            show: true,\n            search: false,\n            saving: false,\n            loadingUsers: true,\n        };\n    }\n\n    componentDidMount() {\n        this.getUserProfiles();\n        this.props.actions.getTotalUsersStats();\n        this.loadProfilesMissingStatus(this.props.users, this.props.statuses);\n    }\n\n    updateFromProps(prevProps) {\n        if (prevProps.searchTerm !== this.props.searchTerm) {\n            clearTimeout(this.searchTimeoutId);\n\n            const searchTerm = this.props.searchTerm;\n            if (searchTerm === '') {\n                this.resetPaging();\n            } else {\n                const teamId = this.props.restrictDirectMessage === 'any' ? '' : this.props.currentTeamId;\n\n                this.searchTimeoutId = setTimeout(\n                    async () => {\n                        this.setUsersLoadingState(true);\n                        const [{data: profilesData}, {data: groupChannelsData}] = await Promise.all([\n                            this.props.actions.searchProfiles(searchTerm, {team_id: teamId}),\n                            this.props.actions.searchGroupChannels(searchTerm),\n                        ]);\n                        if (profilesData) {\n                            this.props.actions.loadStatusesForProfilesList(profilesData);\n                        }\n                        if (groupChannelsData) {\n                            this.props.actions.loadProfilesForGroupChannels(groupChannelsData);\n                        }\n                        this.resetPaging();\n                        this.setUsersLoadingState(false);\n                    },\n                    Constants.SEARCH_TIMEOUT_MILLISECONDS\n                );\n            }\n        }\n\n        if (\n            prevProps.users.length !== this.props.users.length ||\n            Object.keys(prevProps.statuses).length !== Object.keys(this.props.statuses).length\n        ) {\n            this.loadProfilesMissingStatus(this.props.users, this.props.statuses);\n        }\n    }\n\n    componentDidUpdate(prevProps) {\n        this.updateFromProps(prevProps);\n    }\n\n    loadProfilesMissingStatus = (users = [], statuses = {}) => {\n        const missingStatusByIds = users.\n            filter((user) => !statuses[user.id]).\n            map((user) => user.id);\n\n        if (missingStatusByIds.length > 0) {\n            this.props.actions.getStatusesByIds(missingStatusByIds);\n        }\n    }\n\n    handleHide = () => {\n        this.props.actions.setModalSearchTerm('');\n        this.setState({show: false});\n\n        if (this.props.bodyOnly) {\n            this.handleExit();\n        }\n    }\n\n    setUsersLoadingState = (loadingState) => {\n        this.setState({\n            loadingUsers: loadingState,\n        });\n    }\n\n    handleExit = () => {\n        if (this.exitToChannel) {\n            browserHistory.push(this.exitToChannel);\n        }\n\n        if (this.props.onModalDismissed) {\n            this.props.onModalDismissed();\n        }\n\n        if (this.props.onHide) {\n            this.props.onHide();\n        }\n    }\n\n    handleSubmit = (values = this.state.values) => {\n        const {actions} = this.props;\n        if (this.state.saving) {\n            return;\n        }\n\n        const userIds = values.map((v) => v.id);\n        if (userIds.length === 0) {\n            return;\n        }\n\n        this.setState({saving: true});\n\n        const done = (result) => {\n            const {data, error} = result;\n            this.setState({saving: false});\n\n            if (!error) {\n                this.exitToChannel = '/' + this.props.currentTeamName + '/channels/' + data.name;\n                this.handleHide();\n            }\n        };\n\n        if (userIds.length === 1) {\n            actions.openDirectChannelToUserId(userIds[0]).then(done);\n        } else {\n            actions.openGroupChannelToUserIds(userIds).then(done);\n        }\n    };\n\n    addValue = (value) => {\n        if (Array.isArray(value)) {\n            this.addUsers(value);\n        } else if ('profiles' in value) {\n            this.addUsers(value.profiles);\n        } else {\n            const values = Object.assign([], this.state.values);\n\n            if (values.indexOf(value) === -1) {\n                values.push(value);\n            }\n\n            this.setState({values});\n        }\n    };\n\n    addUsers = (users) => {\n        const values = Object.assign([], this.state.values);\n        const existingUserIds = values.map((user) => user.id);\n        for (const user of users) {\n            if (existingUserIds.indexOf(user.id) !== -1) {\n                continue;\n            }\n            values.push(user);\n        }\n\n        this.setState({values});\n    };\n\n    getUserProfiles = (page) => {\n        const pageNum = page ? page + 1 : 0;\n        if (this.props.restrictDirectMessage === 'any') {\n            this.props.actions.getProfiles(pageNum, USERS_PER_PAGE * 2).then(() => {\n                this.setUsersLoadingState(false);\n            });\n        } else {\n            this.props.actions.getProfilesInTeam(this.props.currentTeamId, pageNum, USERS_PER_PAGE * 2).then(() => {\n                this.setUsersLoadingState(false);\n            });\n        }\n    }\n\n    handlePageChange = (page, prevPage) => {\n        if (page > prevPage) {\n            this.setUsersLoadingState(true);\n            this.getUserProfiles(page);\n        }\n    }\n\n    resetPaging = () => {\n        if (this.refs.multiselect) {\n            this.refs.multiselect.resetPaging();\n        }\n    }\n\n    search = (term) => {\n        this.props.actions.setModalSearchTerm(term);\n    }\n\n    handleDelete = (values) => {\n        this.setState({values});\n    }\n\n    renderAriaLabel = (option) => {\n        if (!option) {\n            return null;\n        }\n        return option.username;\n    }\n\n    renderOption = (option, isSelected, onAdd) => {\n        if (option.type && option.type === 'G') {\n            return (\n                <GroupMessageOption\n                    key={option.id}\n                    channel={option}\n                    isSelected={isSelected}\n                    onAdd={onAdd}\n                />\n            );\n        }\n\n        const displayName = displayEntireNameForUser(option);\n\n        let modalName = displayName;\n        if (option.id === this.props.currentUserId) {\n            modalName = (\n                <FormattedMessage\n                    id='more_direct_channels.directchannel.you'\n                    defaultMessage='{displayname} (you)'\n                    values={{\n                        displayname: displayName,\n                    }}\n                />\n            );\n        } else if (option.delete_at) {\n            modalName = (\n                <FormattedMessage\n                    id='more_direct_channels.directchannel.deactivated'\n                    defaultMessage='{displayname} - Deactivated'\n                    values={{\n                        displayname: displayName,\n                    }}\n                />\n            );\n        }\n\n        var rowSelected = '';\n        if (isSelected) {\n            rowSelected = 'more-modal__row--selected';\n        }\n\n        const status = option.delete_at || option.is_bot ? null : this.props.statuses[option.id];\n        const email = option.is_bot ? null : option.email;\n\n        return (\n            <div\n                key={option.id}\n                ref={isSelected ? 'selected' : option.id}\n                className={'more-modal__row clickable ' + rowSelected}\n                onClick={() => onAdd(option)}\n            >\n                <ProfilePicture\n                    src={Client4.getProfilePictureUrl(option.id, option.last_picture_update)}\n                    status={status}\n                    size='md'\n                />\n                <div\n                    className='more-modal__details'\n                >\n                    <div className='more-modal__name'>\n                        {modalName}\n                        <BotBadge\n                            show={Boolean(option.is_bot)}\n                            className='badge-popoverlist'\n                        />\n                        <GuestBadge\n                            show={isGuest(option)}\n                            className='badge-popoverlist'\n                        />\n                    </div>\n                    <div className='more-modal__description'>\n                        {email}\n                    </div>\n                </div>\n                <div className='more-modal__actions'>\n                    <div className='more-modal__actions--round'>\n                        <AddIcon/>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n    renderValue(props) {\n        return props.data.username;\n    }\n\n    handleSubmitImmediatelyOn = (value) => {\n        return value.id === this.props.currentUserId || Boolean(value.delete_at);\n    }\n\n    render() {\n        let note;\n        if (this.props.currentChannelMembers) {\n            if (this.state.values && this.state.values.length >= MAX_SELECTABLE_VALUES) {\n                note = (\n                    <FormattedMessage\n                        id='more_direct_channels.new_convo_note.full'\n                        defaultMessage={'You\\'ve reached the maximum number of people for this conversation. Consider creating a private channel instead.'}\n                    />\n                );\n            } else if (this.props.isExistingChannel) {\n                note = (\n                    <FormattedMessage\n                        id='more_direct_channels.new_convo_note'\n                        defaultMessage={'This will start a new conversation. If you\\'re adding a lot of people, consider creating a private channel instead.'}\n                    />\n                );\n            }\n        }\n\n        const buttonSubmitText = localizeMessage('multiselect.go', 'Go');\n        const buttonSubmitLoadingText = localizeMessage('multiselect.loading', 'Loading..');\n\n        const numRemainingText = (\n            <FormattedMessage\n                id='multiselect.numPeopleRemaining'\n                defaultMessage='Use  to browse,  to select. You can add {num, number} more {num, plural, one {person} other {people}}. '\n                values={{\n                    num: MAX_SELECTABLE_VALUES - this.state.values.length,\n                }}\n            />\n        );\n\n        let users = this.props.users || [];\n\n        if (this.state.values.length) {\n            users = users.filter((user) => user.delete_at === 0 && user.id !== this.props.currentUserId);\n        } else {\n            const active = [];\n            const inactive = [];\n            for (const user of users) {\n                (user.delete_at ? inactive : active).push(user);\n            }\n            users = active.concat(inactive);\n        }\n\n        const groupChannels = this.props.groupChannels || [];\n\n        const options = [...users, ...groupChannels];\n        const body = (\n            <MultiSelect\n                key='moreDirectChannelsList'\n                ref='multiselect'\n                options={options}\n                optionRenderer={this.renderOption}\n                values={this.state.values}\n                valueRenderer={this.renderValue}\n                ariaLabelRenderer={this.renderAriaLabel}\n                perPage={USERS_PER_PAGE}\n                handlePageChange={this.handlePageChange}\n                handleInput={this.search}\n                handleDelete={this.handleDelete}\n                handleAdd={this.addValue}\n                handleSubmit={this.handleSubmit}\n                noteText={note}\n                maxValues={MAX_SELECTABLE_VALUES}\n                numRemainingText={numRemainingText}\n                buttonSubmitText={buttonSubmitText}\n                buttonSubmitLoadingText={buttonSubmitLoadingText}\n                submitImmediatelyOn={this.handleSubmitImmediatelyOn}\n                saving={this.state.saving}\n                loading={this.state.loadingUsers}\n                users={this.props.users}\n                totalCount={this.props.totalCount}\n                placeholderText={localizeMessage('multiselect.placeholder', 'Search and add members')}\n            />\n        );\n\n        if (this.props.bodyOnly) {\n            return body;\n        }\n\n        return (\n            <Modal\n                dialogClassName='a11y__modal more-modal more-direct-channels'\n                show={this.state.show}\n                onHide={this.handleHide}\n                onExited={this.handleExit}\n                role='dialog'\n                aria-labelledby='moreDmModalLabel'\n                id='moreDmModal'\n            >\n                <Modal.Header closeButton={true}>\n                    <Modal.Title\n                        componentClass='h1'\n                        id='moreDmModalLabel'\n                    >\n                        <FormattedMessage\n                            id='more_direct_channels.title'\n                            defaultMessage='Direct Messages'\n                        />\n                    </Modal.Title>\n                </Modal.Header>\n                <Modal.Body\n                    role='application'\n                >\n                    {body}\n                </Modal.Body>\n                <Modal.Footer className='modal-footer--invisible'>\n                    <button\n                        id='closeModalButton'\n                        type='button'\n                        className='btn btn-link'\n                    >\n                        <FormattedMessage\n                            id='general_button.close'\n                            defaultMessage='Close'\n                        />\n                    </button>\n                </Modal.Footer>\n            </Modal>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {makeGetUsersTypingByChannelAndPost} from 'mattermost-redux/selectors/entities/typing';\n\nimport MsgTyping from './msg_typing';\n\nfunction makeMapStateToProps() {\n    const getUsersTypingByChannelAndPost = makeGetUsersTypingByChannelAndPost();\n\n    return function mapStateToProps(state, ownProps) {\n        const typingUsers = getUsersTypingByChannelAndPost(state, {channelId: ownProps.channelId, postId: ownProps.postId});\n\n        return {\n            typingUsers,\n        };\n    };\n}\n\nexport default connect(makeMapStateToProps)(MsgTyping);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\ntype Props = {\n    typingUsers: string[];\n}\n\nexport default class MsgTyping extends React.Component<Props> {\n    private getTypingText = () => {\n        let users: string[] = [];\n        let numUsers = 0;\n        if (this.props.typingUsers) {\n            users = [...this.props.typingUsers];\n            numUsers = users.length;\n        }\n\n        if (numUsers === 0) {\n            return '';\n        }\n        if (numUsers === 1) {\n            return (\n                <FormattedMessage\n                    id='msg_typing.isTyping'\n                    defaultMessage='{user} is typing...'\n                    values={{\n                        user: users[0],\n                    }}\n                />\n            );\n        }\n        const last = users.pop();\n        return (\n            <FormattedMessage\n                id='msg_typing.areTyping'\n                defaultMessage='{users} and {last} are typing...'\n                values={{\n                    users: (users.join(', ')),\n                    last,\n                }}\n            />\n        );\n    }\n\n    public render() {\n        return (\n            <span className='msg-typing'>{this.getTypingText()}</span>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\nimport ReactSelect from 'react-select';\n\nimport {ActionMeta} from 'react-select/src/types';\nimport {getOptionValue} from 'react-select/src/builtins';\nimport {StateManager} from 'react-select/src/stateManager';\n\nimport {Constants, A11yCustomEventTypes} from 'utils/constants';\nimport SaveButton from 'components/save_button';\n\nimport MultiSelectList from './multiselect_list';\n\nexport type Value = {\n    deleteAt?: number;\n    display_name?: string;\n    id: string;\n    label: string;\n    scheme_id?: string;\n    value: string;\n};\n\nexport type Props = {\n    ariaLabelRenderer: getOptionValue<Value>;\n    buttonSubmitLoadingText?: JSX.Element | string;\n    buttonSubmitText?: JSX.Element | string;\n    handleAdd: (value: Value) => void;\n    handleDelete: (values: Value[]) => void;\n    handleInput: (input: string, multiselect: MultiSelect) => void;\n    handlePageChange?: (newPage: number, currentPage: number) => void;\n    handleSubmit: (value?: Value[]) => void;\n    loading?: boolean;\n    maxValues?: number;\n    noteText?: JSX.Element;\n    numRemainingText?: JSX.Element;\n    optionRenderer: (\n        option: Value,\n        isSelected: boolean,\n        onAdd: (value: Value) => void\n    ) => void;\n    options: Value[];\n    perPage: number;\n    placeholderText?: string;\n    saving?: boolean;\n    submitImmediatelyOn?: (value: Value) => void;\n    totalCount?: number;\n    users?: unknown[];\n    valueRenderer: typeof StateManager;\n    values: Value[];\n}\n\nexport type State = {\n    a11yActive: boolean;\n    input: string;\n    page: number;\n}\n\nconst KeyCodes = Constants.KeyCodes;\n\nexport default class MultiSelect extends React.Component<Props, State> {\n    private listRef = React.createRef<MultiSelectList>()\n    private reactSelectRef = React.createRef<ReactSelect>()\n    private selected: Value | null = null\n\n    public static defaultProps = {\n        ariaLabelRenderer: defaultAriaLabelRenderer,\n    }\n\n    public constructor(props: Props) {\n        super(props);\n\n        this.state = {\n            a11yActive: false,\n            page: 0,\n            input: '',\n        };\n    }\n\n    public componentDidMount() {\n        const inputRef: unknown = this.reactSelectRef.current && this.reactSelectRef.current.select.inputRef;\n\n        document.addEventListener<'keydown'>('keydown', this.handleEnterPress);\n        if (inputRef && typeof (inputRef as HTMLElement).addEventListener === 'function') {\n            (inputRef as HTMLElement).addEventListener(A11yCustomEventTypes.ACTIVATE, this.handleA11yActivateEvent);\n            (inputRef as HTMLElement).addEventListener(A11yCustomEventTypes.DEACTIVATE, this.handleA11yDeactivateEvent);\n\n            this.reactSelectRef.current!.focus(); // known from ternary definition of inputRef\n        }\n    }\n\n    public componentWillUnmount() {\n        const inputRef: unknown = this.reactSelectRef.current && this.reactSelectRef.current.select.inputRef;\n\n        if (inputRef && typeof (inputRef as HTMLElement).addEventListener === 'function') {\n            (inputRef as HTMLElement).removeEventListener(A11yCustomEventTypes.ACTIVATE, this.handleA11yActivateEvent);\n            (inputRef as HTMLElement).removeEventListener(A11yCustomEventTypes.DEACTIVATE, this.handleA11yDeactivateEvent);\n        }\n\n        document.removeEventListener('keydown', this.handleEnterPress);\n    }\n\n    private handleA11yActivateEvent = () => {\n        this.setState({a11yActive: true});\n    }\n\n    private handleA11yDeactivateEvent = () => {\n        this.setState({a11yActive: false});\n    }\n\n    private nextPage = () => {\n        if (this.props.handlePageChange) {\n            this.props.handlePageChange(this.state.page + 1, this.state.page);\n        }\n        if (this.listRef.current) {\n            this.listRef.current.setSelected(0);\n        }\n        this.setState({page: this.state.page + 1});\n    }\n\n    private prevPage = () => {\n        if (this.state.page === 0) {\n            return;\n        }\n\n        if (this.props.handlePageChange) {\n            this.props.handlePageChange(this.state.page - 1, this.state.page);\n        }\n\n        if (this.listRef.current) {\n            this.listRef.current.setSelected(0);\n        }\n        this.setState({page: this.state.page - 1});\n    }\n\n    private resetPaging = () => {\n        this.setState({page: 0});\n    }\n\n    private onSelect = (selected: Value | null) => {\n        this.selected = selected;\n    }\n\n    private onAdd = (value: Value) => {\n        if (this.props.maxValues && this.props.values.length >= this.props.maxValues) {\n            return;\n        }\n\n        for (let i = 0; i < this.props.values.length; i++) {\n            if (this.props.values[i].id === value.id) {\n                return;\n            }\n        }\n\n        this.props.handleAdd(value);\n        this.selected = null;\n\n        if (this.reactSelectRef.current) {\n            this.reactSelectRef.current.select.handleInputChange(\n                {currentTarget: {value: ''}} as React.KeyboardEvent<HTMLInputElement>\n            );\n            this.onInput('');\n            this.reactSelectRef.current.focus();\n        }\n\n        const submitImmediatelyOn = this.props.submitImmediatelyOn;\n        if (submitImmediatelyOn && submitImmediatelyOn(value)) {\n            this.props.handleSubmit([value]);\n        }\n    }\n\n    private onInput = (input: string, change: ActionMeta | { action: string } = {action: ''}) => {\n        if (!change) {\n            return;\n        }\n\n        if (change.action === 'input-blur' || change.action === 'menu-close') {\n            return;\n        }\n\n        if (this.state.input === input) {\n            return;\n        }\n\n        this.setState({input});\n\n        if (this.listRef.current) {\n            if (input === '') {\n                this.listRef.current.setSelected(-1);\n            } else {\n                this.listRef.current.setSelected(0);\n            }\n        }\n        this.selected = null;\n\n        this.props.handleInput(input, this);\n    }\n\n    private onInputKeyDown = (e: React.KeyboardEvent) => {\n        switch (e.key) {\n        case KeyCodes.ENTER[0]:\n            e.preventDefault();\n            break;\n        }\n    }\n\n    private handleEnterPress = (e: KeyboardEvent) => {\n        switch (e.key) {\n        case KeyCodes.ENTER[0]:\n            if (this.selected == null) {\n                this.props.handleSubmit();\n                return;\n            }\n            this.onAdd(this.selected);\n            break;\n        }\n    }\n\n    private handleOnClick = (e: React.MouseEvent<HTMLButtonElement>) => {\n        e.preventDefault();\n        this.props.handleSubmit();\n    }\n\n    private onChange: ReactSelect['onChange'] = (_, change) => {\n        if (change.action !== 'remove-value' && change.action !== 'pop-value') {\n            return;\n        }\n\n        const values = [...this.props.values];\n        for (let i = 0; i < values.length; i++) {\n            // Types of ReactSelect do not match the behavior here,\n            if (values[i].id === (change as any).removedValue.id) {\n                values.splice(i, 1);\n                break;\n            }\n        }\n\n        this.props.handleDelete(values);\n    }\n\n    public render() {\n        const options = Object.assign([...this.props.options]);\n        const {totalCount, users, values} = this.props;\n\n        let numRemainingText;\n        if (this.props.numRemainingText) {\n            numRemainingText = this.props.numRemainingText;\n        } else if (this.props.maxValues != null) {\n            numRemainingText = (\n                <FormattedMessage\n                    id='multiselect.numRemaining'\n                    defaultMessage='You can add {num, number} more. '\n                    values={{\n                        num: this.props.maxValues - this.props.values.length,\n                    }}\n                />\n            );\n        }\n\n        let buttonSubmitText;\n        if (this.props.buttonSubmitText) {\n            buttonSubmitText = this.props.buttonSubmitText;\n        } else if (this.props.maxValues != null) {\n            buttonSubmitText = (\n                <FormattedMessage\n                    id='multiselect.go'\n                    defaultMessage='Go'\n                />\n            );\n        }\n\n        let optionsToDisplay = [];\n        let nextButton;\n        let previousButton;\n        let noteTextContainer;\n\n        if (this.props.noteText) {\n            noteTextContainer = (\n                <div className='multi-select__note'>\n                    <div className='note__icon'>\n                        <FormattedMessage\n                            id='generic_icons.info'\n                            defaultMessage='Info Icon'\n                        >\n                            {(title) => (\n                                <span\n                                    className='fa fa-info'\n                                    title={title as string}\n                                />\n                            )}\n                        </FormattedMessage>\n                    </div>\n                    <div>{this.props.noteText}</div>\n                </div>\n            );\n        }\n\n        const valueMap: Record<string, boolean> = {};\n        for (let i = 0; i < values.length; i++) {\n            valueMap[values[i].id] = true;\n        }\n\n        for (let i = options.length - 1; i >= 0; i--) {\n            if (valueMap[options[i].id]) {\n                options.splice(i, 1);\n            }\n        }\n\n        if (options && options.length > this.props.perPage) {\n            const pageStart = this.state.page * this.props.perPage;\n            const pageEnd = pageStart + this.props.perPage;\n            optionsToDisplay = options.slice(pageStart, pageEnd);\n            if (!this.props.loading) {\n                if (options.length > pageEnd) {\n                    nextButton = (\n                        <button\n                            className='btn btn-link filter-control filter-control__next'\n                            onClick={this.nextPage}\n                        >\n                            <FormattedMessage\n                                id='filtered_user_list.next'\n                                defaultMessage='Next'\n                            />\n                        </button>\n                    );\n                }\n\n                if (this.state.page > 0) {\n                    previousButton = (\n                        <button\n                            className='btn btn-link filter-control filter-control__prev'\n                            onClick={this.prevPage}\n                        >\n                            <FormattedMessage\n                                id='filtered_user_list.prev'\n                                defaultMessage='Previous'\n                            />\n                        </button>\n                    );\n                }\n            }\n        } else {\n            optionsToDisplay = options;\n        }\n\n        let memberCount;\n        if (users && users.length && totalCount) {\n            memberCount = (\n                <FormattedMessage\n                    id='multiselect.numMembers'\n                    defaultMessage='{memberOptions, number} of {totalCount, number} members'\n                    values={{\n                        memberOptions: optionsToDisplay.length,\n                        totalCount: this.props.totalCount,\n                    }}\n                />\n            );\n        }\n\n        return (\n            <div className='filtered-user-list'>\n                <div className='filter-row filter-row--full'>\n                    <div className='multi-select__container'>\n                        <ReactSelect\n                            id='selectItems'\n                            ref={this.reactSelectRef as React.RefObject<any>} // type of ref on @types/react-select is outdated\n                            isMulti={true}\n                            options={this.props.options}\n                            styles={styles}\n                            components={{\n                                Menu: nullComponent,\n                                IndicatorsContainer: nullComponent,\n                                MultiValueLabel: paddedComponent(this.props.valueRenderer),\n                            }}\n                            isClearable={false}\n                            openMenuOnFocus={false}\n                            menuIsOpen={false}\n                            onInputChange={this.onInput}\n                            onKeyDown={this.onInputKeyDown as React.KeyboardEventHandler}\n                            onChange={this.onChange}\n                            value={this.props.values}\n                            placeholder={this.props.placeholderText}\n                            inputValue={this.state.input}\n                            getOptionValue={(option: Value) => option.id}\n                            getOptionLabel={this.props.ariaLabelRenderer}\n                            aria-label={this.props.placeholderText}\n                            className={this.state.a11yActive ? 'multi-select__focused' : ''}\n                        />\n                        <SaveButton\n                            id='saveItems'\n                            saving={this.props.saving}\n                            disabled={this.props.saving}\n                            onClick={this.handleOnClick}\n                            defaultMessage={buttonSubmitText}\n                            savingMessage={this.props.buttonSubmitLoadingText}\n                        />\n                    </div>\n                    <div className='multi-select__help'>\n                        {numRemainingText}\n                        {memberCount}\n                    </div>\n                    <div className='multi-select__help'>\n                        {noteTextContainer}\n                    </div>\n                </div>\n                <MultiSelectList\n                    ref={this.listRef}\n                    options={optionsToDisplay}\n                    optionRenderer={this.props.optionRenderer}\n                    ariaLabelRenderer={this.props.ariaLabelRenderer}\n                    page={this.state.page}\n                    perPage={this.props.perPage}\n                    onPageChange={this.props.handlePageChange}\n                    onAdd={this.onAdd}\n                    onSelect={this.onSelect}\n                    loading={this.props.loading}\n                />\n                <div className='filter-controls'>\n                    {previousButton}\n                    {nextButton}\n                </div>\n            </div>\n        );\n    }\n}\n\nfunction defaultAriaLabelRenderer(option: Value) {\n    if (!option) {\n        return null;\n    }\n    return option.label;\n}\n\nconst nullComponent = () => null;\n\nconst paddedComponent = (WrappedComponent: typeof ReactSelect) => {\n    return (props: Props) => {\n        return (\n            <div style={{paddingRight: '5px', paddingLeft: '5px', borderRight: '1px solid rgba(0, 126, 255, 0.24)'}}>\n                <WrappedComponent {...props}/>\n            </div>\n        );\n    };\n};\n\nconst styles = {\n    container: () => {\n        return {\n            display: 'table-cell',\n            paddingRight: '15px',\n            verticalAlign: 'top',\n            width: '100%',\n        };\n    },\n    control: (base: React.CSSProperties) => {\n        return {\n            ...base,\n            borderRadius: '1px',\n            borderColor: 'hsl(0,0%,80%)',\n            minHeight: '36px',\n            '&:hover': {},\n            boxShadow: '',\n            backgroundColor: 'hsl(0,0%,100%)',\n        };\n    },\n    multiValue: (base: React.CSSProperties): React.CSSProperties => {\n        return {\n            ...base,\n            whiteSpace: 'nowrap',\n            border: '1px solid rgba(0, 126, 255, 0.24)',\n            backgroundColor: 'rgba(0, 126, 255, 0.08)',\n            color: '#007eff',\n        };\n    },\n    multiValueRemove: (base: React.CSSProperties) => {\n        return {\n            ...base,\n            ':hover': {\n                backgroundColor: 'rgba(0, 126, 255, 0.15)',\n            },\n        };\n    },\n};\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nimport {getOptionValue} from 'react-select/src/builtins';\n\nimport Constants from 'utils/constants';\nimport {cmdOrCtrlPressed} from 'utils/utils.jsx';\n\nimport LoadingScreen from 'components/loading_screen';\n\nimport {Value} from './multiselect';\n\nexport type Props = {\n    ariaLabelRenderer: getOptionValue<Value>;\n    loading?: boolean;\n    onAdd: (value: Value) => void;\n    onPageChange?: (newPage: number, currentPage: number) => void;\n    onSelect: (value: Value | null) => void;\n    optionRenderer: (\n        option: Value,\n        isSelected: boolean,\n        onAdd: (value: Value) => void\n    ) => void;\n    options: Value[];\n    page: number;\n    perPage: number;\n}\n\ntype State = {\n    selected: number;\n}\nconst KeyCodes = Constants.KeyCodes;\n\nexport default class MultiSelectList extends React.Component<Props, State> {\n    public static defaultProps = {\n        options: [],\n        perPage: 50,\n        onAction: () => null,\n    };\n\n    private toSelect = -1\n    private listRef = React.createRef<HTMLDivElement>()\n    private selectedRef = React.createRef<HTMLDivElement>()\n\n    public constructor(props: Props) {\n        super(props);\n\n        this.state = {\n            selected: -1,\n        };\n    }\n\n    public componentDidMount() {\n        document.addEventListener('keydown', this.handleArrowPress);\n    }\n\n    public componentWillUnmount() {\n        document.removeEventListener('keydown', this.handleArrowPress);\n    }\n\n    public componentDidUpdate(_: Props, prevState: State) {\n        const options = this.props.options;\n        if (options && options.length > 0 && this.state.selected >= 0) {\n            this.props.onSelect(options[this.state.selected]);\n        }\n\n        if (prevState.selected === this.state.selected) {\n            return;\n        }\n\n        if (this.listRef.current && this.selectedRef.current) {\n            const elemTop = this.selectedRef.current.getBoundingClientRect().top;\n            const elemBottom = this.selectedRef.current.getBoundingClientRect().bottom;\n            const listTop = this.listRef.current.getBoundingClientRect().top;\n            const listBottom = this.listRef.current.getBoundingClientRect().bottom;\n            if (elemBottom > listBottom) {\n                this.selectedRef.current.scrollIntoView(false);\n            } else if (elemTop < listTop) {\n                this.selectedRef.current.scrollIntoView(true);\n            }\n        }\n    }\n\n    // setSelected updates the selected index and is referenced\n    // externally by the MultiSelect component.\n    public setSelected = (selected: number) => {\n        this.setState({selected});\n    }\n\n    private handleArrowPress = (e: KeyboardEvent) => {\n        if (cmdOrCtrlPressed(e) && e.shiftKey) {\n            return;\n        }\n\n        const options = this.props.options;\n        if (options.length === 0) {\n            return;\n        }\n\n        let selected;\n        switch (e.key) {\n        case KeyCodes.DOWN[0]:\n            if (this.state.selected === -1) {\n                selected = 0;\n                break;\n            }\n            selected = Math.min(this.state.selected + 1, options.length - 1);\n            break;\n        case KeyCodes.UP[0]:\n            if (this.state.selected === -1) {\n                selected = 0;\n                break;\n            }\n            selected = Math.max(this.state.selected - 1, 0);\n            break;\n        default:\n            return;\n        }\n\n        e.preventDefault();\n        this.setState({selected});\n        this.props.onSelect(options[selected]);\n    }\n\n    private defaultOptionRenderer = (option: Value, isSelected: boolean, onAdd: Props['onAdd']) => {\n        let rowSelected = '';\n        if (isSelected) {\n            rowSelected = 'more-modal__row--selected';\n        }\n\n        return (\n            <div\n                ref={isSelected ? 'selected' : option.value}\n                className={rowSelected}\n                key={'multiselectoption' + option.value}\n                onClick={() => onAdd(option)}\n            >\n                {option.label}\n            </div>\n        );\n    }\n\n    public render() {\n        const options = this.props.options;\n        let renderOutput;\n\n        if (this.props.loading) {\n            renderOutput = (\n                <div aria-hidden={true}>\n                    <LoadingScreen\n                        position='absolute'\n                        key='loading'\n                    />\n                </div>\n            );\n        } else if (options == null || options.length === 0) {\n            renderOutput = (\n                <div\n                    key='no-users-found'\n                    className='no-channel-message'\n                >\n                    <p className='primary-message'>\n                        <FormattedMessage\n                            id='multiselect.list.notFound'\n                            defaultMessage='No items found'\n                        />\n                    </p>\n                </div>\n            );\n        } else {\n            let renderer: Props['optionRenderer'];\n            if (this.props.optionRenderer) {\n                renderer = this.props.optionRenderer;\n            } else {\n                renderer = this.defaultOptionRenderer;\n            }\n\n            const optionControls = options.map((o, i) => renderer(o, this.state.selected === i, this.props.onAdd));\n\n            const selectedOption = options[this.state.selected];\n            const ariaLabel = this.props.ariaLabelRenderer(selectedOption);\n\n            renderOutput = (\n                <div className='more-modal__list'>\n                    <div\n                        className='sr-only'\n                        aria-live='polite'\n                        aria-atomic='true'\n                    >\n                        {ariaLabel}\n                    </div>\n                    <div\n                        ref='list'\n                        id='multiSelectList'\n                        role='presentation'\n                        aria-hidden={true}\n                    >\n                        {optionControls}\n                    </div>\n                </div>\n            );\n        }\n\n        return (\n            <div\n                className='multi-select__wrapper'\n                aria-live='polite'\n            >\n                {renderOutput}\n            </div>\n        );\n    }\n}\n\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\nimport {withRouter} from 'react-router-dom';\n\nimport {loadProfilesForDirect} from 'mattermost-redux/actions/users';\nimport {fetchMyChannelsAndMembers, viewChannel} from 'mattermost-redux/actions/channels';\nimport {getMyTeamUnreads, getTeamByName, selectTeam} from 'mattermost-redux/actions/teams';\nimport {getTheme} from 'mattermost-redux/selectors/entities/preferences';\nimport {getLicense, getConfig} from 'mattermost-redux/selectors/entities/general';\nimport {getCurrentUser} from 'mattermost-redux/selectors/entities/users';\nimport {getCurrentTeamId, getMyTeams} from 'mattermost-redux/selectors/entities/teams';\nimport {getCurrentChannelId} from 'mattermost-redux/selectors/entities/channels';\n\nimport {setPreviousTeamId} from 'actions/local_storage';\nimport {loadStatusesForChannelAndSidebar} from 'actions/status_actions';\nimport {addUserToTeam} from 'actions/team_actions';\nimport {markChannelAsReadOnFocus} from 'actions/views/channel';\nimport {checkIfMFARequired} from 'utils/route';\n\nimport NeedsTeam from './needs_team.jsx';\n\nfunction mapStateToProps(state, ownProps) {\n    const license = getLicense(state);\n    const config = getConfig(state);\n    const currentUser = getCurrentUser(state);\n\n    return {\n        theme: getTheme(state),\n        mfaRequired: checkIfMFARequired(currentUser, license, config, ownProps.match.url),\n        currentUser,\n        currentTeamId: getCurrentTeamId(state),\n        teamsList: getMyTeams(state),\n        currentChannelId: getCurrentChannelId(state),\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            fetchMyChannelsAndMembers,\n            getMyTeamUnreads,\n            viewChannel,\n            markChannelAsReadOnFocus,\n            getTeamByName,\n            addUserToTeam,\n            setPreviousTeamId,\n            selectTeam,\n            loadStatusesForChannelAndSidebar,\n            loadProfilesForDirect,\n        }, dispatch),\n    };\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(NeedsTeam));\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {Route, Switch} from 'react-router-dom';\nimport iNoBounce from 'inobounce';\n\nimport {startPeriodicStatusUpdates, stopPeriodicStatusUpdates} from 'actions/status_actions.jsx';\nimport {startPeriodicSync, stopPeriodicSync, reconnect} from 'actions/websocket_actions.jsx';\nimport * as GlobalActions from 'actions/global_actions.jsx';\nimport Constants from 'utils/constants';\nimport * as UserAgent from 'utils/user_agent';\nimport * as Utils from 'utils/utils.jsx';\nimport {makeAsyncComponent} from 'components/async_load';\nconst LazyBackstageController = React.lazy(() => import('components/backstage'));\nimport ChannelController from 'components/channel_layout/channel_controller';\n\nconst BackstageController = makeAsyncComponent(LazyBackstageController);\n\nlet wakeUpInterval;\nlet lastTime = Date.now();\nconst WAKEUP_CHECK_INTERVAL = 30000; // 30 seconds\nconst WAKEUP_THRESHOLD = 60000; // 60 seconds\nconst UNREAD_CHECK_TIME_MILLISECONDS = 10000;\n\nexport default class NeedsTeam extends React.Component {\n    static propTypes = {\n        params: PropTypes.object,\n        currentUser: PropTypes.object,\n        currentChannelId: PropTypes.string,\n        currentTeamId: PropTypes.string,\n        actions: PropTypes.shape({\n            fetchMyChannelsAndMembers: PropTypes.func.isRequired,\n            getMyTeamUnreads: PropTypes.func.isRequired,\n            viewChannel: PropTypes.func.isRequired,\n            markChannelAsReadOnFocus: PropTypes.func.isRequired,\n            getTeamByName: PropTypes.func.isRequired,\n            addUserToTeam: PropTypes.func.isRequired,\n            selectTeam: PropTypes.func.isRequired,\n            setPreviousTeamId: PropTypes.func.isRequired,\n            loadStatusesForChannelAndSidebar: PropTypes.func.isRequired,\n            loadProfilesForDirect: PropTypes.func.isRequired,\n        }).isRequired,\n        theme: PropTypes.object.isRequired,\n        mfaRequired: PropTypes.bool.isRequired,\n\n        /*\n         * Object from react-router\n         */\n        match: PropTypes.shape({\n            params: PropTypes.shape({\n                team: PropTypes.string.isRequired,\n            }).isRequired,\n        }).isRequired,\n        history: PropTypes.object.isRequired,\n    };\n\n    constructor(params) {\n        super(params);\n        this.blurTime = new Date().getTime();\n\n        if (this.props.mfaRequired) {\n            this.props.history.push('/mfa/setup');\n            return;\n        }\n\n        clearInterval(wakeUpInterval);\n\n        wakeUpInterval = setInterval(() => {\n            const currentTime = (new Date()).getTime();\n            if (currentTime > (lastTime + WAKEUP_THRESHOLD)) { // ignore small delays\n                console.log('computer woke up - fetching latest'); //eslint-disable-line no-console\n                reconnect(false);\n            }\n            lastTime = currentTime;\n        }, WAKEUP_CHECK_INTERVAL);\n\n        const team = this.updateCurrentTeam(this.props);\n\n        this.state = {\n            team,\n            finishedFetchingChannels: false,\n        };\n\n        if (!team) {\n            this.joinTeam(this.props);\n        }\n    }\n\n    UNSAFE_componentWillReceiveProps(nextProps) { // eslint-disable-line camelcase\n        if (this.props.match.params.team !== nextProps.match.params.team) {\n            const team = this.updateCurrentTeam(nextProps);\n            this.setState({\n                team,\n            });\n            if (!team) {\n                this.joinTeam(nextProps);\n            }\n        }\n    }\n\n    componentDidMount() {\n        startPeriodicStatusUpdates();\n        startPeriodicSync();\n\n        // Set up tracking for whether the window is active\n        window.isActive = true;\n        Utils.applyTheme(this.props.theme);\n\n        if (UserAgent.isIosSafari()) {\n            // Use iNoBounce to prevent scrolling past the boundaries of the page\n            iNoBounce.enable();\n        }\n\n        window.addEventListener('focus', this.handleFocus);\n        window.addEventListener('blur', this.handleBlur);\n        window.addEventListener('keydown', this.onShortcutKeyDown);\n    }\n\n    componentDidUpdate(prevProps) {\n        const {theme} = this.props;\n        if (!Utils.areObjectsEqual(prevProps.theme, theme)) {\n            Utils.applyTheme(theme);\n        }\n    }\n\n    componentWillUnmount() {\n        window.isActive = false;\n        stopPeriodicStatusUpdates();\n        stopPeriodicSync();\n        if (UserAgent.isIosSafari()) {\n            iNoBounce.disable();\n        }\n\n        clearInterval(wakeUpInterval);\n        window.removeEventListener('focus', this.handleFocus);\n        window.removeEventListener('blur', this.handleBlur);\n        window.removeEventListener('keydown', this.onShortcutKeyDown);\n    }\n\n    handleBlur = () => {\n        window.isActive = false;\n        this.blurTime = new Date().getTime();\n        if (this.props.currentUser) {\n            this.props.actions.viewChannel('');\n        }\n    }\n\n    handleFocus = () => {\n        this.props.actions.markChannelAsReadOnFocus(this.props.currentChannelId);\n        window.isActive = true;\n\n        if (Date.now() - this.blurTime > UNREAD_CHECK_TIME_MILLISECONDS) {\n            this.props.actions.fetchMyChannelsAndMembers(this.props.currentTeamId);\n            this.props.actions.loadProfilesForDirect();\n        }\n    }\n\n    joinTeam = async (props) => {\n        const {data: team} = await this.props.actions.getTeamByName(props.match.params.team);\n        if (team) {\n            const {error} = await props.actions.addUserToTeam(team.id, props.currentUser && props.currentUser.id);\n            if (error) {\n                props.history.push('/error?type=team_not_found');\n            } else {\n                this.setState({team});\n                this.initTeam(team);\n            }\n        } else {\n            props.history.push('/error?type=team_not_found');\n        }\n    }\n\n    initTeam = (team) => {\n        // If current team is set, then this is not first load\n        // The first load action pulls team unreads\n        this.props.actions.getMyTeamUnreads();\n        this.props.actions.selectTeam(team);\n        this.props.actions.setPreviousTeamId(team.id);\n        GlobalActions.emitCloseRightHandSide();\n\n        if (Utils.isGuest(this.props.currentUser)) {\n            this.setState({finishedFetchingChannels: false});\n        }\n        this.props.actions.fetchMyChannelsAndMembers(team.id).then(\n            () => {\n                this.setState({\n                    finishedFetchingChannels: true,\n                });\n            }\n        );\n\n        this.props.actions.loadStatusesForChannelAndSidebar();\n        this.props.actions.loadProfilesForDirect();\n\n        return team;\n    }\n\n    updateCurrentTeam = (props) => {\n        // First check to make sure you're in the current team\n        // for the current url.\n        const team = props.teamsList ? props.teamsList.find((teamObj) => teamObj.name === props.match.params.team) : null;\n        if (team) {\n            this.initTeam(team);\n            return team;\n        }\n        return null;\n    }\n\n    onShortcutKeyDown = (e) => {\n        if (e.shiftKey && Utils.cmdOrCtrlPressed(e) && Utils.isKeyPressed(e, Constants.KeyCodes.L)) {\n            const sidebar = document.getElementById('sidebar-right');\n            if (sidebar) {\n                if (sidebar.className.match('sidebar--right sidebar--right--expanded move--left')) {\n                    const replyTextbox = document.getElementById('reply_textbox');\n                    if (replyTextbox) {\n                        replyTextbox.focus();\n                    }\n                } else {\n                    const postTextbox = document.getElementById('post_textbox');\n                    if (postTextbox) {\n                        postTextbox.focus();\n                    }\n                }\n            }\n        }\n    }\n\n    render() {\n        if (this.state.team === null) {\n            return <div/>;\n        }\n        const teamType = this.state.team ? this.state.team.type : '';\n\n        return (\n            <Switch>\n                <Route\n                    path={'/:team/integrations'}\n                    component={BackstageController}\n                />\n                <Route\n                    path={'/:team/emoji'}\n                    component={BackstageController}\n                />\n                <Route\n                    render={(renderProps) => (\n                        <ChannelController\n                            pathName={renderProps.location.pathname}\n                            teamType={teamType}\n                            fetchingChannels={!this.state.finishedFetchingChannels}\n                        />\n                    )}\n                />\n            </Switch>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\n\nimport {createChannel} from 'mattermost-redux/actions/channels';\nimport {getCurrentTeamId} from 'mattermost-redux/selectors/entities/teams';\n\nimport {switchToChannel} from 'actions/views/channel';\n\nimport NewChannelFlow from './new_channel_flow.jsx';\n\nfunction mapStateToProps(state) {\n    return {\n        currentTeamId: getCurrentTeamId(state),\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            createChannel,\n            switchToChannel,\n        }, dispatch),\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NewChannelFlow);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nimport {cleanUpUrlable} from 'utils/url';\nimport * as Utils from 'utils/utils';\nimport Constants from 'utils/constants';\nimport NewChannelModal from 'components/new_channel_modal';\nimport ChangeURLModal from 'components/change_url_modal';\n\nexport const SHOW_NEW_CHANNEL = 1;\nexport const SHOW_EDIT_URL = 2;\nexport const SHOW_EDIT_URL_THEN_COMPLETE = 3;\n\nexport function getChannelTypeFromProps(props) {\n    let channelType = props.channelType || Constants.OPEN_CHANNEL;\n    if (!props.canCreatePublicChannel && channelType === Constants.OPEN_CHANNEL) {\n        channelType = Constants.PRIVATE_CHANNEL;\n    }\n    if (!props.canCreatePrivateChannel && channelType === Constants.PRIVATE_CHANNEL) {\n        channelType = Constants.OPEN_CHANNEL;\n    }\n    return channelType;\n}\n\nexport default class NewChannelFlow extends React.Component {\n    static propTypes = {\n\n        /**\n        * Set whether to show the modal or not\n        */\n        show: PropTypes.bool.isRequired,\n\n        /**\n        * Set to Constants.OPEN_CHANNEL or Constants.PRIVATE_CHANNEL depending on which modal we should show first\n        */\n        channelType: PropTypes.string.isRequired,\n\n        /**\n        * Function to call when modal is dimissed\n        */\n        onModalDismissed: PropTypes.func.isRequired,\n\n        /**\n        * The current team ID\n        */\n        currentTeamId: PropTypes.string.isRequired,\n\n        /**\n         * Permission to create public channel\n         */\n        canCreatePublicChannel: PropTypes.bool.isRequired,\n\n        /**\n         * Permission to create private channel\n         */\n        canCreatePrivateChannel: PropTypes.bool.isRequired,\n\n        actions: PropTypes.shape({\n            createChannel: PropTypes.func.isRequired,\n            switchToChannel: PropTypes.func.isRequired,\n        }),\n    };\n\n    static defaultProps = {\n        show: false,\n        channelType: Constants.OPEN_CHANNEL,\n    };\n\n    static getDerivedStateFromProps(props, state) {\n        // If we are being shown, grab channel type from props and clear\n        if (props.show === true && state.show === false) {\n            return {\n                serverError: '',\n                channelType: getChannelTypeFromProps(props),\n                flowState: SHOW_NEW_CHANNEL,\n                channelDisplayName: '',\n                channelName: '',\n                channelPurpose: '',\n                channelHeader: '',\n                nameModified: false,\n                show: props.show,\n            };\n        }\n\n        return {show: props.show};\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            serverError: '',\n            channelType: getChannelTypeFromProps(props),\n            flowState: SHOW_NEW_CHANNEL,\n            channelDisplayName: '',\n            channelName: '',\n            channelPurpose: '',\n            channelHeader: '',\n            nameModified: false,\n            show: props.show,\n        };\n    }\n\n    onSubmit = () => {\n        if (!this.state.channelDisplayName) {\n            this.setState({serverError: Utils.localizeMessage('channel_flow.invalidName', 'Invalid Channel Name')});\n            return;\n        }\n\n        if (this.state.channelName.length < 2) {\n            this.setState({flowState: SHOW_EDIT_URL_THEN_COMPLETE});\n            return;\n        }\n\n        const {actions, currentTeamId} = this.props;\n        const channel = {\n            team_id: currentTeamId,\n            name: this.state.channelName,\n            display_name: this.state.channelDisplayName,\n            purpose: this.state.channelPurpose,\n            header: this.state.channelHeader,\n            type: this.state.channelType,\n        };\n\n        actions.createChannel(channel).then((result) => {\n            if (result.error) {\n                this.onCreateChannelError(result.error);\n                return;\n            }\n\n            this.props.onModalDismissed();\n            actions.switchToChannel(result.data);\n        });\n    };\n\n    onCreateChannelError = (err) => {\n        if (err.id === 'model.channel.is_valid.2_or_more.app_error') {\n            this.setState({\n                flowState: SHOW_EDIT_URL_THEN_COMPLETE,\n                serverError: (\n                    <FormattedMessage\n                        id='channel_flow.handleTooShort'\n                        defaultMessage='Channel URL must be 2 or more lowercase alphanumeric characters'\n                    />\n                ),\n            });\n        } else if (err.id === 'store.sql_channel.update.exists.app_error') {\n            this.setState({serverError: Utils.localizeMessage('channel_flow.alreadyExist', 'A channel with that URL already exists')});\n        } else {\n            this.setState({serverError: err.message});\n        }\n    };\n\n    typeSwitched = (channelType) => {\n        this.setState({\n            channelType,\n            serverError: '',\n        });\n    };\n\n    urlChangeRequested = (e) => {\n        if (e) {\n            e.preventDefault();\n        }\n        this.setState({flowState: SHOW_EDIT_URL});\n    };\n\n    urlChangeSubmitted = (newURL) => {\n        if (this.state.flowState === SHOW_EDIT_URL_THEN_COMPLETE) {\n            this.setState({channelName: newURL, nameModified: true}, this.onSubmit);\n        } else {\n            this.setState({flowState: SHOW_NEW_CHANNEL, serverError: null, channelName: newURL, nameModified: true});\n        }\n    };\n\n    urlChangeDismissed = () => {\n        this.setState({flowState: SHOW_NEW_CHANNEL});\n    };\n\n    channelDataChanged = (data) => {\n        this.setState({\n            channelDisplayName: data.displayName,\n            channelPurpose: data.purpose,\n            channelHeader: data.header,\n        });\n        if (!this.state.nameModified) {\n            this.setState({channelName: cleanUpUrlable(data.displayName.trim())});\n        }\n    };\n\n    render() {\n        const channelData = {\n            name: this.state.channelName,\n            displayName: this.state.channelDisplayName,\n            purpose: this.state.channelPurpose,\n            header: this.state.channelHeader,\n        };\n\n        let showChannelModal = false;\n        let showChangeURLModal = false;\n\n        let changeURLTitle = '';\n        let changeURLSubmitButtonText = '';\n\n        // Only listen to flow state if we are being shown\n        if (this.props.show) {\n            switch (this.state.flowState) {\n            case SHOW_NEW_CHANNEL:\n                showChannelModal = true;\n                break;\n            case SHOW_EDIT_URL:\n                showChangeURLModal = true;\n                changeURLTitle = (\n                    <FormattedMessage\n                        id='channel_flow.changeUrlTitle'\n                        defaultMessage='Change Channel URL'\n                    />\n                );\n                changeURLSubmitButtonText = changeURLTitle;\n                break;\n            case SHOW_EDIT_URL_THEN_COMPLETE:\n                showChangeURLModal = true;\n                changeURLTitle = (\n                    <FormattedMessage\n                        id='channel_flow.set_url_title'\n                        defaultMessage='Set Channel URL'\n                    />\n                );\n                changeURLSubmitButtonText = (\n                    <FormattedMessage\n                        id='channel_flow.create'\n                        defaultMessage='Create Channel'\n                    />\n                );\n                break;\n            }\n        }\n        return (\n            <span>\n                <NewChannelModal\n                    show={showChannelModal}\n                    channelType={this.state.channelType}\n                    canCreatePublicChannel={this.props.canCreatePublicChannel}\n                    canCreatePrivateChannel={this.props.canCreatePrivateChannel}\n                    channelData={channelData}\n                    serverError={this.state.serverError}\n                    onSubmitChannel={this.onSubmit}\n                    onModalDismissed={this.props.onModalDismissed}\n                    onTypeSwitched={this.typeSwitched}\n                    onChangeURLPressed={this.urlChangeRequested}\n                    onDataChanged={this.channelDataChanged}\n                />\n                <ChangeURLModal\n                    show={showChangeURLModal}\n                    title={changeURLTitle}\n                    submitButtonText={changeURLSubmitButtonText}\n                    currentURL={this.state.channelName}\n                    serverError={this.state.serverError}\n                    onModalSubmit={this.urlChangeSubmitted}\n                    onModalDismissed={this.urlChangeDismissed}\n                />\n            </span>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {Preferences} from 'mattermost-redux/constants';\nimport {getBool} from 'mattermost-redux/selectors/entities/preferences';\nimport {getCurrentTeamId} from 'mattermost-redux/selectors/entities/teams';\n\nimport NewChannelModal from './new_channel_modal.jsx';\n\nfunction mapStateToProps(state) {\n    return {\n        ctrlSend: getBool(state, Preferences.CATEGORY_ADVANCED_SETTINGS, 'send_on_ctrl_enter'),\n        currentTeamId: getCurrentTeamId(state),\n    };\n}\n\nexport default connect(mapStateToProps)(NewChannelModal);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport $ from 'jquery';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {Modal} from 'react-bootstrap';\nimport {FormattedMessage} from 'react-intl';\n\nimport GlobeIcon from 'components/widgets/icons/globe_icon';\nimport LockIcon from 'components/widgets/icons/lock_icon';\nimport LocalizedInput from 'components/localized_input/localized_input';\nimport Constants from 'utils/constants.jsx';\nimport {getShortenedURL} from 'utils/url';\nimport * as UserAgent from 'utils/user_agent';\nimport * as Utils from 'utils/utils.jsx';\nimport {t} from 'utils/i18n.jsx';\n\nexport default class NewChannelModal extends React.PureComponent {\n    static propTypes = {\n\n        /**\n         * Set whether to show the modal or not\n         */\n        show: PropTypes.bool.isRequired,\n\n        /**\n         * Id of the active team\n         */\n        currentTeamId: PropTypes.string.isRequired,\n\n        /**\n         * The type of channel to create, 'O' or 'P'\n         */\n        channelType: PropTypes.string.isRequired,\n\n        /**\n         * The data needed to create the channel\n         */\n        channelData: PropTypes.object.isRequired,\n\n        /**\n         * Set to force form submission on CTRL/CMD + ENTER instead of ENTER\n         */\n        ctrlSend: PropTypes.bool,\n\n        /**\n         * Server error from failed channel creation\n         */\n        serverError: PropTypes.node,\n\n        /**\n         * Function used to submit the channel\n         */\n        onSubmitChannel: PropTypes.func.isRequired,\n\n        /**\n         * Function to call when modal is dimissed\n         */\n        onModalDismissed: PropTypes.func.isRequired,\n\n        /**\n         * Function to call when modal has exited\n         */\n        onModalExited: PropTypes.func,\n\n        /**\n         * Function to call to switch channel type\n         */\n        onTypeSwitched: PropTypes.func.isRequired,\n\n        /**\n         * Function to call when edit URL button is pressed\n         */\n        onChangeURLPressed: PropTypes.func.isRequired,\n\n        /**\n         * Function to call when channel data is modified\n         */\n        onDataChanged: PropTypes.func.isRequired,\n\n        /**\n         * Permission to create public channel\n         */\n        canCreatePublicChannel: PropTypes.bool.isRequired,\n\n        /**\n         * Permission to create private channel\n         */\n        canCreatePrivateChannel: PropTypes.bool.isRequired,\n    }\n\n    static getDerivedStateFromProps(props) {\n        if (props.show === false) {\n            return {displayNameError: ''};\n        }\n\n        return null;\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            displayNameError: '',\n        };\n\n        this.channelHeaderInput = React.createRef();\n        this.channelPurposeInput = React.createRef();\n        this.displayNameInput = React.createRef();\n    }\n\n    componentDidMount() {\n        // ???\n        if (UserAgent.isInternetExplorer() || UserAgent.isEdge()) {\n            $('body').addClass('browser--ie');\n        }\n    }\n\n    onEnterKeyDown = (e) => {\n        const enterPressed = Utils.isKeyPressed(e, Constants.KeyCodes.ENTER);\n        const {ctrlSend} = this.props;\n\n        // Enter pressed alone without required cmd or ctrl key\n        if (ctrlSend && enterPressed && !e.ctrlKey) {\n            e.preventDefault();\n        } else if ((ctrlSend && enterPressed && e.ctrlKey) || (!ctrlSend && enterPressed && !e.shiftKey && !e.altKey)) {\n            this.handleSubmit(e);\n        }\n    }\n\n    handleSubmit = (e) => {\n        e.preventDefault();\n\n        const displayName = this.displayNameInput.current.value.trim();\n        if (displayName.length < Constants.MIN_CHANNELNAME_LENGTH) {\n            this.setState({displayNameError: true});\n            return;\n        }\n\n        this.props.onSubmitChannel();\n    }\n\n    handleChange = () => {\n        const newData = {\n            displayName: this.displayNameInput.current.value,\n            header: this.channelHeaderInput.current.value,\n            purpose: this.channelPurposeInput.current.value,\n        };\n        this.props.onDataChanged(newData);\n    }\n\n    handleOnURLChange = (e) => {\n        e.preventDefault();\n        if (this.props.onChangeURLPressed) {\n            this.props.onChangeURLPressed();\n        }\n    }\n\n    handlePublicTypeSelect = () => {\n        this.props.onTypeSwitched('O');\n    }\n\n    handlePrivateTypeSelect = () => {\n        this.props.onTypeSwitched('P');\n    }\n\n    render() {\n        const {canCreatePublicChannel, canCreatePrivateChannel} = this.props;\n\n        const enableTypeSelection = canCreatePublicChannel && canCreatePrivateChannel;\n        var displayNameError = null;\n        var serverError = null;\n        var displayNameClass = 'form-group';\n\n        if (this.state.displayNameError) {\n            displayNameError = (\n                <p className='input__help error'>\n                    <FormattedMessage\n                        id='channel_modal.displayNameError'\n                        defaultMessage='Channel name must be 2 or more characters'\n                    />\n                    {this.state.displayNameError}\n                </p>\n            );\n            displayNameClass += ' has-error';\n        }\n\n        if (this.props.serverError) {\n            serverError = (\n                <div className='form-group has-error'>\n                    <div className='col-sm-12'>\n                        <p\n                            id='createChannelError'\n                            className='input__help error'\n                        >\n                            {this.props.serverError}\n                        </p>\n                    </div>\n                </div>\n            );\n        }\n\n        const publicChannelDesc = (\n            <div className='flex-parent'>\n                <GlobeIcon className='icon icon__globe icon--body type-icon'/>\n                <FormattedMessage\n                    id='channel_modal.publicName'\n                    defaultMessage='Public'\n                />\n                <FormattedMessage\n                    id='channel_modal.publicHint'\n                    defaultMessage=' - Anyone can join this channel.'\n                />\n            </div>\n        );\n\n        const privateChannelDesc = (\n            <div className='flex-parent'>\n                <LockIcon className='icon icon__lock icon--body type-icon'/>\n                <FormattedMessage\n                    id='channel_modal.privateName'\n                    defaultMessage='Private'\n                />\n                <FormattedMessage\n                    id='channel_modal.privateHint'\n                    defaultMessage=' - Only invited members can join this channel.'\n                />\n            </div>\n        );\n\n        let typeOptions = null;\n        if (enableTypeSelection) {\n            typeOptions = (\n                <fieldset\n                    key='channelType'\n                    className='multi-select__radio'\n                >\n                    <div className='radio'>\n                        <label>\n                            <input\n                                id='public'\n                                type='radio'\n                                name='channelType'\n                                checked={this.props.channelType === 'O'}\n                                onChange={this.handlePublicTypeSelect}\n                                aria-labelledby='channelModalTypeLabel'\n                            />\n                            {publicChannelDesc}\n                        </label>\n                    </div>\n                    <div className='radio'>\n                        <label>\n                            <input\n                                id='private'\n                                type='radio'\n                                name='channelType'\n                                checked={this.props.channelType === 'P'}\n                                onChange={this.handlePrivateTypeSelect}\n                                aria-labelledby='channelModalTypeLabel'\n                            />\n                            {privateChannelDesc}\n                        </label>\n                    </div>\n                </fieldset>\n            );\n        } else {\n            typeOptions = (\n                <div className='type-container multi-select__radio'>\n                    <div className='radio'>\n                        {canCreatePublicChannel ? publicChannelDesc : null}\n                        {canCreatePrivateChannel ? privateChannelDesc : null}\n                    </div>\n                </div>\n            );\n        }\n\n        const prettyTeamURL = getShortenedURL();\n\n        return (\n            <span>\n                <Modal\n                    dialogClassName='a11y__modal new-channel__modal new-channel'\n                    show={this.props.show}\n                    bsSize='large'\n                    onHide={this.props.onModalDismissed}\n                    onExited={this.props.onModalExited}\n                    autoFocus={true}\n                    restoreFocus={true}\n                    role='dialog'\n                    aria-labelledby='newChannelModalLabel'\n                >\n                    <Modal.Header>\n                        <button\n                            type='button'\n                            className='close'\n                            onClick={this.props.onModalDismissed}\n                            aria-label='Close'\n                            title='Close'\n                        >\n                            <span aria-hidden='true'>{''}</span>\n                        </button>\n                        <Modal.Title\n                            componentClass='h1'\n                            id='newChannelModalLabel'\n                        >\n                            <FormattedMessage\n                                id='channel_modal.modalTitle'\n                                defaultMessage='New Channel'\n                            />\n                        </Modal.Title>\n                    </Modal.Header>\n                    <form\n                        role='form'\n                        className='form-horizontal'\n                    >\n                        <Modal.Body>\n                            <div className='form-group'>\n                                <label\n                                    className='col-sm-3 form__label control-label'\n                                    id='channelModalTypeLabel'\n                                >\n                                    <FormattedMessage\n                                        id='channel_modal.type'\n                                        defaultMessage='Type'\n                                    />\n                                </label>\n                                <div className='col-sm-9'>\n                                    {typeOptions}\n                                </div>\n                            </div>\n                            <div className={displayNameClass}>\n                                <label\n                                    className='col-sm-3 form__label control-label'\n                                    htmlFor='newChannelName'\n                                >\n                                    <FormattedMessage\n                                        id='channel_modal.name'\n                                        defaultMessage='Name'\n                                    />\n                                </label>\n                                <div className='col-sm-9'>\n                                    <LocalizedInput\n                                        id='newChannelName'\n                                        onChange={this.handleChange}\n                                        type='text'\n                                        ref={this.displayNameInput}\n                                        className='form-control'\n                                        placeholder={{id: t('channel_modal.nameEx'), defaultMessage: 'E.g.: \"Bugs\", \"Marketing\", \"\"'}}\n                                        maxLength={Constants.MAX_CHANNELNAME_LENGTH}\n                                        value={this.props.channelData.displayName}\n                                        autoFocus={true}\n                                        onKeyDown={this.onEnterKeyDown}\n                                    />\n                                    {displayNameError}\n                                    <p className='input__help dark'>\n                                        {'URL: ' + prettyTeamURL + this.props.channelData.name + ' ('}\n                                        <button\n                                            className='color--link style--none'\n                                            onClick={this.handleOnURLChange}\n                                        >\n                                            <FormattedMessage\n                                                id='channel_modal.edit'\n                                                defaultMessage='Edit'\n                                            />\n                                        </button>\n                                        {')'}\n                                    </p>\n                                </div>\n                            </div>\n                            <div className='form-group'>\n                                <div className='col-sm-3'>\n                                    <label\n                                        className='form__label control-label'\n                                        htmlFor='newChannelPurpose'\n                                    >\n                                        <FormattedMessage\n                                            id='channel_modal.purpose'\n                                            defaultMessage='Purpose'\n                                        />\n                                    </label>\n                                    <label className='form__label light'>\n                                        <FormattedMessage\n                                            id='channel_modal.optional'\n                                            defaultMessage='(optional)'\n                                        />\n                                    </label>\n                                </div>\n                                <div className='col-sm-9'>\n                                    <textarea\n                                        id='newChannelPurpose'\n                                        className='form-control no-resize'\n                                        ref={this.channelPurposeInput}\n                                        rows='4'\n                                        placeholder={Utils.localizeMessage('channel_modal.purposeEx', 'E.g.: \"A channel to file bugs and improvements\"')}\n                                        maxLength='250'\n                                        value={this.props.channelData.purpose}\n                                        onChange={this.handleChange}\n                                    />\n                                    <p className='input__help'>\n                                        <FormattedMessage\n                                            id='channel_modal.descriptionHelp'\n                                            defaultMessage='Describe how this channel should be used.'\n                                        />\n                                    </p>\n                                </div>\n                            </div>\n                            <div className='form-group less'>\n                                <div className='col-sm-3'>\n                                    <label\n                                        className='form__label control-label'\n                                        htmlFor='newChannelHeader'\n                                    >\n                                        <FormattedMessage\n                                            id='channel_modal.header'\n                                            defaultMessage='Header'\n                                        />\n                                    </label>\n                                    <label className='form__label light'>\n                                        <FormattedMessage\n                                            id='channel_modal.optional'\n                                            defaultMessage='(optional)'\n                                        />\n                                    </label>\n                                </div>\n                                <div className='col-sm-9'>\n                                    <textarea\n                                        id='newChannelHeader'\n                                        className='form-control no-resize'\n                                        ref={this.channelHeaderInput}\n                                        rows='4'\n                                        placeholder={Utils.localizeMessage('channel_modal.headerEx', 'E.g.: \"[Link Title](http://example.com)\"')}\n                                        maxLength='1024'\n                                        value={this.props.channelData.header}\n                                        onChange={this.handleChange}\n                                    />\n                                    <p className='input__help'>\n                                        <FormattedMessage\n                                            id='channel_modal.headerHelp'\n                                            defaultMessage='Set text that will appear in the header of the channel beside the channel name. For example, include frequently used links by typing [Link Title](http://example.com).'\n                                        />\n                                    </p>\n                                    {serverError}\n                                </div>\n                            </div>\n                        </Modal.Body>\n                        <Modal.Footer>\n                            <button\n                                id='cancelNewChannel'\n                                type='button'\n                                className='btn btn-link'\n                                onClick={this.props.onModalDismissed}\n                                onBlur={() => document.getElementById('newChannelName').focus()}\n                            >\n                                <FormattedMessage\n                                    id='channel_modal.cancel'\n                                    defaultMessage='Cancel'\n                                />\n                            </button>\n                            <button\n                                id='submitNewChannel'\n                                onClick={this.handleSubmit}\n                                type='submit'\n                                className='btn btn-primary'\n                            >\n                                <FormattedMessage\n                                    id='channel_modal.createNew'\n                                    defaultMessage='Create New Channel'\n                                />\n                            </button>\n                        </Modal.Footer>\n                    </form>\n                </Modal>\n            </span>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\n\nimport {getUnreadsInCurrentTeam} from 'mattermost-redux/selectors/entities/channels';\n\nimport NotifyCounts from './notify_counts.jsx';\n\nfunction mapStateToProps(state) {\n    const {mentionCount, messageCount} = getUnreadsInCurrentTeam(state);\n    return {\n        mentionCount,\n        messageCount,\n    };\n}\n\nexport default connect(mapStateToProps)(NotifyCounts);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nexport default class NotifyCounts extends React.PureComponent {\n    static propTypes = {\n        mentionCount: PropTypes.number.isRequired,\n        messageCount: PropTypes.number.isRequired,\n    }\n    render() {\n        if (this.props.mentionCount) {\n            return <span className='badge badge-notify'>{this.props.mentionCount}</span>;\n        } else if (this.props.messageCount) {\n            return <span className='badge badge-notify'>{''}</span>;\n        }\n        return null;\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {getCurrentUserId} from 'mattermost-redux/selectors/entities/users';\nimport {getTeam} from 'mattermost-redux/selectors/entities/teams';\n\nimport {ErrorPageTypes} from 'utils/constants';\nimport {browserHistory} from 'utils/browser_history';\n\nimport LocalStorageStore from 'stores/local_storage_store';\n\nexport const redirect = (url) => {\n    return (dispatch, getState) => {\n        const sanitizedUrl = url.replace('/_redirect/', '');\n\n        const state = getState();\n        const teamId = LocalStorageStore.getPreviousTeamId(getCurrentUserId(state));\n        const team = getTeam(state, teamId);\n\n        if (!team) {\n            browserHistory.replace(`/error?type=${ErrorPageTypes.TEAM_NOT_FOUND}`);\n            return;\n        }\n\n        browserHistory.push(`/${team.name}/${sanitizedUrl}`);\n    };\n};\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\n\nimport {redirect} from './actions';\nimport PermalinkRedirector from './permalink_redirector';\n\nconst mapStateToProps = (state, ownProps) => {\n    return {\n        params: ownProps.match.params,\n        url: ownProps.match.url,\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        actions: bindActionCreators({\n            redirect,\n        }, dispatch),\n    };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PermalinkRedirector);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nexport default class PermalinkRedirector extends React.PureComponent {\n    static propTypes = {\n        params: PropTypes.object,\n        url: PropTypes.string,\n        actions: PropTypes.shape({\n            redirect: PropTypes.func.isRequired,\n        }).isRequired,\n    };\n\n    componentDidMount() {\n        this.props.actions.redirect(this.props.url, this.props.params);\n    }\n\n    render() {\n        return null;\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {getChannel, selectChannel, joinChannel, getChannelStats} from 'mattermost-redux/actions/channels';\nimport {getPostThread} from 'mattermost-redux/actions/posts';\nimport {getCurrentTeamId} from 'mattermost-redux/selectors/entities/teams';\nimport {getCurrentUserId} from 'mattermost-redux/selectors/entities/users';\n\nimport {loadChannelsForCurrentUser} from 'actions/channel_actions.jsx';\nimport {loadNewDMIfNeeded, loadNewGMIfNeeded} from 'actions/user_actions.jsx';\nimport {browserHistory} from 'utils/browser_history';\nimport {ActionTypes, Constants, ErrorPageTypes} from 'utils/constants';\n\nexport function focusPost(postId, returnTo = '') {\n    return async (dispatch, getState) => {\n        const {data} = await dispatch(getPostThread(postId, false));\n\n        if (!data) {\n            browserHistory.replace(`/error?type=${ErrorPageTypes.PERMALINK_NOT_FOUND}&returnTo=${returnTo}`);\n            return;\n        }\n\n        const state = getState();\n        const channelId = data.posts[data.order[0]].channel_id;\n        let channel = state.entities.channels.channels[channelId];\n        const teamId = getCurrentTeamId(state);\n\n        if (!channel) {\n            const {data: channelData} = await dispatch(getChannel(channelId));\n\n            if (!channelData) {\n                browserHistory.replace(`/error?type=${ErrorPageTypes.PERMALINK_NOT_FOUND}&returnTo=${returnTo}`);\n                return;\n            }\n\n            channel = channelData;\n        }\n\n        const myMember = state.entities.channels.myMembers[channelId];\n\n        if (!myMember) {\n            // If it's a DM or GM channel and we don't have a channel member for it already, user is not a member\n            if (channel.type === Constants.DM_CHANNEL || channel.type === Constants.GM_CHANNEL) {\n                browserHistory.replace(`/error?type=${ErrorPageTypes.PERMALINK_NOT_FOUND}&returnTo=${returnTo}`);\n                return;\n            }\n\n            await dispatch(joinChannel(getCurrentUserId(getState()), null, channelId));\n        }\n\n        if (channel.team_id && channel.team_id !== teamId) {\n            browserHistory.replace(`/error?type=${ErrorPageTypes.PERMALINK_NOT_FOUND}&returnTo=${returnTo}`);\n            return;\n        }\n\n        if (channel && channel.type === Constants.DM_CHANNEL) {\n            loadNewDMIfNeeded(channel.id);\n        } else if (channel && channel.type === Constants.GM_CHANNEL) {\n            loadNewGMIfNeeded(channel.id);\n        }\n\n        dispatch(selectChannel(channelId));\n        dispatch({\n            type: ActionTypes.RECEIVED_FOCUSED_POST,\n            data: postId,\n            channelId,\n        });\n\n        dispatch(loadChannelsForCurrentUser());\n        dispatch(getChannelStats(channelId));\n    };\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\n\nimport {getCurrentChannel} from 'mattermost-redux/selectors/entities/channels';\nimport {getCurrentTeam} from 'mattermost-redux/selectors/entities/teams';\n\nimport {focusPost} from './actions';\nimport PermalinkView from './permalink_view.jsx';\n\nfunction mapStateToProps(state) {\n    const team = getCurrentTeam(state);\n    const channel = getCurrentChannel(state);\n    let channelId = '';\n    let channelName = '';\n    let channelIsArchived;\n    if (channel) {\n        channelId = channel.id;\n        channelName = channel.name;\n        channelIsArchived = channel.delete_at !== 0;\n    }\n\n    let teamName = '';\n    if (team) {\n        teamName = team.name;\n    }\n\n    return {\n        channelId,\n        channelName,\n        teamName,\n        channelIsArchived,\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            focusPost,\n        }, dispatch),\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PermalinkView);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport {FormattedMessage, intlShape} from 'react-intl';\nimport {Link} from 'react-router-dom';\n\nimport ChannelHeader from 'components/channel_header';\nimport PostView from 'components/post_view';\nimport FormattedMarkdownMessage from 'components/formatted_markdown_message';\n\nimport Constants from 'utils/constants.jsx';\nimport * as Utils from 'utils/utils.jsx';\n\nexport default class PermalinkView extends React.PureComponent {\n    static propTypes = {\n        channelId: PropTypes.string,\n        channelName: PropTypes.string,\n        channelIsArchived: PropTypes.bool,\n\n        /*\n         * Object from react-router\n         */\n        match: PropTypes.shape({\n            params: PropTypes.shape({\n                postid: PropTypes.string.isRequired,\n            }).isRequired,\n        }).isRequired,\n        returnTo: PropTypes.string.isRequired,\n        teamName: PropTypes.string,\n        actions: PropTypes.shape({\n            focusPost: PropTypes.func.isRequired,\n        }).isRequired,\n    };\n\n    static contextTypes = {\n        intl: intlShape.isRequired,\n    };\n\n    static getDerivedStateFromProps(props, state) {\n        let updatedState = {postid: props.match.params.postid};\n        if (state.postid !== props.match.params.postid) {\n            updatedState = {...updatedState, valid: false};\n        }\n\n        return updatedState;\n    }\n\n    constructor(props) {\n        super(props);\n        this.state = {valid: false};\n\n        this.permalink = React.createRef();\n    }\n\n    componentDidMount() {\n        this.doPermalinkEvent(this.props);\n        document.body.classList.add('app__body');\n\n        window.addEventListener('keydown', this.onShortcutKeyDown);\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('keydown', this.onShortcutKeyDown);\n    }\n\n    componentDidUpdate() {\n        if (!this.state.valid) {\n            this.doPermalinkEvent(this.props);\n        }\n    }\n\n    doPermalinkEvent = async (props) => {\n        const postId = props.match.params.postid;\n        await this.props.actions.focusPost(postId, this.props.returnTo);\n        this.setState({valid: true});\n    }\n\n    isStateValid = () => {\n        return this.state.valid && this.props.channelId && this.props.teamName;\n    }\n\n    onShortcutKeyDown = (e) => {\n        if (e.shiftKey && Utils.cmdOrCtrlPressed(e) && Utils.isKeyPressed(e, Constants.KeyCodes.L) && this.permalink.current) {\n            this.permalink.current.focus();\n        }\n    }\n\n    render() {\n        const {\n            channelId,\n            channelName,\n            channelIsArchived,\n            match,\n            teamName,\n        } = this.props;\n        const {formatMessage} = this.context.intl;\n\n        if (!this.isStateValid()) {\n            return (\n                <div\n                    id='app-content'\n                    className='app__content'\n                />\n            );\n        }\n\n        return (\n            <div\n                id='app-content'\n                className='app__content'\n            >\n                <ChannelHeader\n                    channelId={channelId}\n                />\n                <PostView\n                    channelId={channelId}\n                    focusedPostId={match.params.postid}\n                />\n                <div\n                    id='archive-link-home'\n                >\n                    <Link\n                        to={'/' + teamName + '/channels/' + channelName}\n                        className='a11y__region'\n                        data-a11y-sort-order='2'\n                        innerRef={this.permalink}\n                    >\n                        {channelIsArchived &&\n                            <FormattedMarkdownMessage\n                                id='center_panel.permalink.archivedChannel'\n                                defaultMessage='You are viewing an **archived channel**. '\n                            />\n                        }\n                        <FormattedMessage\n                            id='center_panel.recent'\n                            defaultMessage='Click here to jump to recent messages. '\n                        />\n                        <i\n                            className='fa fa-arrow-down'\n                            title={formatMessage({id: 'center_panel.recent.icon', defaultMessage: 'Jump to recent messages Icon'})}\n                        />\n                    </Link>\n                </div>\n            </div>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nexport default class ChannelPermissionGate extends React.Component {\n    static defaultProps = {\n        invert: false,\n    }\n\n    static propTypes = {\n\n        /**\n         * Channel to check the permission\n         */\n        channelId: PropTypes.string,\n\n        /**\n         * Team to check the permission\n         */\n        teamId: PropTypes.string,\n\n        /**\n         * Permissions enough to pass the gate (binary OR)\n         */\n        permissions: PropTypes.arrayOf(PropTypes.string).isRequired,\n\n        /**\n         * Has permission\n         */\n        hasPermission: PropTypes.bool.isRequired,\n\n        /**\n         * Invert the permission (used for else)\n         */\n        invert: PropTypes.bool.isRequired,\n\n        /**\n         * Content protected by the permissions gate\n         */\n        children: PropTypes.node.isRequired,\n    };\n\n    render() {\n        if (this.props.hasPermission && !this.props.invert) {\n            return this.props.children;\n        }\n        if (!this.props.hasPermission && this.props.invert) {\n            return this.props.children;\n        }\n        return null;\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\n\nimport {haveIChannelPermission} from 'mattermost-redux/selectors/entities/roles';\n\nimport ChannelPermissionGate from './channel_permission_gate.jsx';\n\nfunction mapStateToProps(state, ownProps) {\n    if (!ownProps.channelId || ownProps.teamId === null || typeof ownProps.teamId === 'undefined') {\n        return {hasPermission: false};\n    }\n\n    for (const permission of ownProps.permissions) {\n        if (haveIChannelPermission(state, {channel: ownProps.channelId, team: ownProps.teamId, permission})) {\n            return {hasPermission: true};\n        }\n    }\n\n    return {hasPermission: false};\n}\n\nexport default connect(mapStateToProps)(ChannelPermissionGate);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\n\nimport {haveISystemPermission} from 'mattermost-redux/selectors/entities/roles';\n\nimport SystemPermissionGate from './system_permission_gate.jsx';\n\nfunction mapStateToProps(state, ownProps) {\n    for (const permission of ownProps.permissions) {\n        if (haveISystemPermission(state, {permission})) {\n            return {hasPermission: true};\n        }\n    }\n\n    return {hasPermission: false};\n}\n\nexport default connect(mapStateToProps)(SystemPermissionGate);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nexport default class SystemPermissionGate extends React.Component {\n    static defaultProps = {\n        invert: false,\n    }\n\n    static propTypes = {\n\n        /**\n         * Permissions enough to pass the gate (binary OR)\n         */\n        permissions: PropTypes.arrayOf(PropTypes.string).isRequired,\n\n        /**\n         * Has permission\n         */\n        hasPermission: PropTypes.bool.isRequired,\n\n        /**\n         * Invert the permission (used for else)\n         */\n        invert: PropTypes.bool.isRequired,\n\n        /**\n         * Content protected by the permissions gate\n         */\n        children: PropTypes.node.isRequired,\n    };\n\n    render() {\n        if (this.props.hasPermission && !this.props.invert) {\n            return this.props.children;\n        }\n        if (!this.props.hasPermission && this.props.invert) {\n            return this.props.children;\n        }\n        return null;\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\n\nimport {haveITeamPermission} from 'mattermost-redux/selectors/entities/roles';\n\nimport TeamPermissionGate from './team_permission_gate.jsx';\n\nfunction mapStateToProps(state, ownProps) {\n    if (!ownProps.teamId) {\n        return {hasPermission: false};\n    }\n\n    for (const permission of ownProps.permissions) {\n        if (haveITeamPermission(state, {team: ownProps.teamId, permission})) {\n            return {hasPermission: true};\n        }\n    }\n\n    return {hasPermission: false};\n}\n\nexport default connect(mapStateToProps)(TeamPermissionGate);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nexport default class TeamPermissionGate extends React.Component {\n    static defaultProps = {\n        invert: false,\n    }\n\n    static propTypes = {\n\n        /**\n         * Team to check the permission\n         */\n        teamId: PropTypes.string,\n\n        /**\n         * Permissions enough to pass the gate (binary OR)\n         */\n        permissions: PropTypes.arrayOf(PropTypes.string).isRequired,\n\n        /**\n         * Has permission\n         */\n        hasPermission: PropTypes.bool.isRequired,\n\n        /**\n         * Invert the permission (used for else)\n         */\n        invert: PropTypes.bool.isRequired,\n\n        /**\n         * Content protected by the permissions gate\n         */\n        children: PropTypes.node.isRequired,\n    };\n\n    render() {\n        if (this.props.hasPermission && !this.props.invert) {\n            return this.props.children;\n        }\n        if (!this.props.hasPermission && this.props.invert) {\n            return this.props.children;\n        }\n        return null;\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\n\nimport {getPlugins, getInstalledPlugins} from 'selectors/views/marketplace';\n\nimport {isModalOpen} from 'selectors/views/modals';\nimport {ModalIdentifiers} from 'utils/constants';\nimport {getSiteURL} from 'utils/url';\n\nimport {closeModal} from 'actions/views/modals';\nimport {fetchPlugins, filterPlugins} from 'actions/marketplace';\n\nimport {MarketplaceModal} from './marketplace_modal';\n\nfunction mapStateToProps(state) {\n    return {\n        show: isModalOpen(state, ModalIdentifiers.PLUGIN_MARKETPLACE),\n        plugins: getPlugins(state),\n        installedPlugins: getInstalledPlugins(state),\n        siteURL: getSiteURL(state),\n        pluginStatuses: state.entities.admin.pluginStatuses,\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            closeModal: () => closeModal(ModalIdentifiers.PLUGIN_MARKETPLACE),\n            fetchPlugins,\n            filterPlugins,\n        }, dispatch),\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MarketplaceModal);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\nimport {getConfig} from 'mattermost-redux/selectors/entities/general';\n\nimport {installPlugin} from 'actions/marketplace';\nimport {closeModal} from 'actions/views/modals';\nimport {ModalIdentifiers} from 'utils/constants';\nimport {getInstalling, getError} from 'selectors/views/marketplace';\nimport {trackEvent} from 'actions/diagnostics_actions.jsx';\n\nimport MarketplaceItem from './marketplace_item';\n\nfunction mapStateToProps(state, props) {\n    const installing = getInstalling(state, props.id);\n    const error = getError(state, props.id);\n    const isDefaultMarketplace = getConfig(state).IsDefaultMarketplace === 'true';\n\n    return {\n        installing,\n        error,\n        isDefaultMarketplace,\n        trackEvent,\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            installPlugin,\n            closeMarketplaceModal: () => closeModal(ModalIdentifiers.PLUGIN_MARKETPLACE),\n        }, dispatch),\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MarketplaceItem);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport {Tooltip, OverlayTrigger} from 'react-bootstrap';\nimport semver from 'semver';\n\nimport {FormattedMessage, FormattedHTMLMessage} from 'react-intl';\n\nimport {Link} from 'react-router-dom';\n\nimport ConfirmModal from 'components/confirm_modal.jsx';\nimport LoadingWrapper from 'components/widgets/loading/loading_wrapper.tsx';\nimport PluginIcon from 'components/widgets/icons/plugin_icon.jsx';\n\nimport {localizeMessage} from 'utils/utils';\nimport {Constants} from 'utils/constants';\n\n// UpdateVersion renders the version text in the update details, linking out to release notes if available.\nexport const UpdateVersion = ({version, releaseNotesUrl}) => {\n    if (!releaseNotesUrl) {\n        return version;\n    }\n\n    return (\n        <a\n            target='_blank'\n            rel='noopener noreferrer'\n            href={releaseNotesUrl}\n        >\n            {version}\n        </a>\n    );\n};\n\nUpdateVersion.propTypes = {\n    version: PropTypes.string.isRequired,\n    releaseNotesUrl: PropTypes.string,\n};\n\n// UpdateDetails renders an inline update prompt for plugins, when available.\nexport const UpdateDetails = ({version, releaseNotesUrl, installedVersion, isInstalling, onUpdate}) => {\n    if (!installedVersion || isInstalling) {\n        return null;\n    }\n\n    var isUpdate = false;\n    try {\n        isUpdate = semver.gt(version, installedVersion);\n    } catch (e) {\n        // If we fail to parse the version, assume not an update;\n    }\n\n    if (!isUpdate) {\n        return null;\n    }\n\n    return (\n        <div className={classNames('update')}>\n            <FormattedMessage\n                id='marketplace_modal.list.update_available'\n                defaultMessage='Update available:'\n            />\n            {' '}\n            <UpdateVersion\n                version={version}\n                releaseNotesUrl={releaseNotesUrl}\n            />\n            {' - '}\n            <b>\n                <a onClick={onUpdate}>\n                    <FormattedMessage\n                        id='marketplace_modal.list.update'\n                        defaultMessage='Update'\n                    />\n                </a>\n            </b>\n        </div>\n    );\n};\n\nUpdateDetails.propTypes = {\n    version: PropTypes.string.isRequired,\n    releaseNotesUrl: PropTypes.string,\n    installedVersion: PropTypes.string,\n    isInstalling: PropTypes.bool.isRequired,\n    onUpdate: PropTypes.func.isRequired,\n};\n\n// UpdateConfirmationModal prompts before allowing upgrade, specially handling major version changes.\nexport const UpdateConfirmationModal = ({show, name, version, installedVersion, releaseNotesUrl, onUpdate, onCancel}) => {\n    if (!installedVersion) {\n        return null;\n    }\n\n    var isUpdate = false;\n    try {\n        isUpdate = semver.gt(version, installedVersion);\n    } catch (e) {\n        // If we fail to parse the version, assume not an update;\n    }\n\n    if (!isUpdate) {\n        return null;\n    }\n\n    const messages = [(\n        <p key='intro'>\n            <FormattedMessage\n                id='marketplace_modal.list.update_confirmation.message.intro'\n                defaultMessage={`Are you sure you want to update the ${name} plugin to ${version}?`}\n                values={{name, version}}\n            />\n        </p>\n    )];\n\n    if (releaseNotesUrl) {\n        messages.push(\n            <p key='current'>\n                <FormattedHTMLMessage\n                    id='marketplace_modal.list.update_confirmation.message.current_with_release_notes'\n                    defaultMessage={`You currently have ${installedVersion} installed. View the <a href=\"${releaseNotesUrl}\" target='_blank' rel='noopener noreferrer'>release notes</a> to learn about the changes included in this update.`}\n                    values={{installedVersion, releaseNotesUrl}}\n                />\n            </p>\n        );\n    } else {\n        messages.push(\n            <p key='current'>\n                <FormattedMessage\n                    id='marketplace_modal.list.update_confirmation.message.current'\n                    defaultMessage={`You currently have ${installedVersion} installed.`}\n                    values={{installedVersion}}\n                />\n            </p>\n        );\n    }\n\n    let sameMajorVersion = false;\n    try {\n        sameMajorVersion = semver.major(version) === semver.major(installedVersion);\n    } catch (e) {\n        // If we fail to parse the version, assume a potentially breaking change.\n        // In practice, this won't happen since we already tried to parse the version above.\n    }\n\n    if (!sameMajorVersion) {\n        if (releaseNotesUrl) {\n            messages.push(\n                <p\n                    className='alert alert-warning'\n                    key='warning'\n                >\n                    <FormattedHTMLMessage\n                        id='marketplace_modal.list.update_confirmation.message.warning_major_version_with_release_notes'\n                        defaultMessage={`This update may contain breaking changes. Consult the <a href=\"${releaseNotesUrl}\" target='_blank' rel='noopener noreferrer'>release notes</a> before upgrading.`}\n                        values={{releaseNotesUrl}}\n                    />\n                </p>\n            );\n        } else {\n            messages.push(\n                <p\n                    className='alert alert-warning'\n                    key='warning'\n                >\n                    <FormattedMessage\n                        id='marketplace_modal.list.update_confirmation.message.warning_major_version'\n                        defaultMessage={'This update may contain breaking changes.'}\n                    />\n                </p>\n            );\n        }\n    }\n\n    return (\n        <ConfirmModal\n            show={show}\n            title={\n                <FormattedMessage\n                    id='marketplace_modal.list.update_confirmation.title'\n                    defaultMessage={'Confirm Plugin Update'}\n                />\n            }\n            message={messages}\n            confirmButtonText={\n                <FormattedMessage\n                    id='marketplace_modal.list.update_confirmation.confirm_button'\n                    defaultMessage='Update'\n                />\n            }\n            onConfirm={onUpdate}\n            onCancel={onCancel}\n        />\n    );\n};\n\nUpdateConfirmationModal.propTypes = {\n    show: PropTypes.bool.isRequired,\n    name: PropTypes.string.isRequired,\n    version: PropTypes.string.isRequired,\n    releaseNotesUrl: PropTypes.string,\n    installedVersion: PropTypes.string,\n    onUpdate: PropTypes.func.isRequired,\n    onCancel: PropTypes.func.isRequired,\n};\n\nexport default class MarketplaceItem extends React.Component {\n    static propTypes = {\n        id: PropTypes.string.isRequired,\n        name: PropTypes.string.isRequired,\n        description: PropTypes.string.isRequired,\n        version: PropTypes.string.isRequired,\n        downloadUrl: PropTypes.string,\n        homepageUrl: PropTypes.string,\n        releaseNotesUrl: PropTypes.string,\n        iconData: PropTypes.string,\n        installedVersion: PropTypes.string.isRequired,\n        installing: PropTypes.bool.isRequired,\n        error: PropTypes.string,\n        isDefaultMarketplace: PropTypes.bool.isRequired,\n        trackEvent: PropTypes.func.isRequired,\n        actions: PropTypes.shape({\n            installPlugin: PropTypes.func.isRequired,\n            closeMarketplaceModal: PropTypes.func.isRequired,\n        }).isRequired,\n    };\n\n    constructor() {\n        super();\n\n        this.state = {\n            showUpdateConfirmationModal: false,\n        };\n    }\n\n    trackEvent = (eventName, allowDetail = true) => {\n        if (this.props.isDefaultMarketplace && allowDetail) {\n            this.props.trackEvent('plugins', eventName, {\n                plugin_id: this.props.id,\n                version: this.props.version,\n                installed_version: this.props.installedVersion,\n            });\n        } else {\n            this.props.trackEvent('plugins', eventName);\n        }\n    }\n\n    onInstall = () => {\n        this.trackEvent('ui_marketplace_download');\n        this.props.actions.installPlugin(this.props.id, this.props.version);\n    }\n\n    showUpdateConfirmationModal = () => {\n        this.setState({showUpdateConfirmationModal: true});\n    }\n\n    hideUpdateConfirmationModal = () => {\n        this.setState({showUpdateConfirmationModal: false});\n    }\n\n    onUpdate = () => {\n        this.trackEvent('ui_marketplace_download_update');\n\n        this.hideUpdateConfirmationModal();\n        this.props.actions.installPlugin(this.props.id, this.props.version);\n    }\n\n    onConfigure = () => {\n        this.trackEvent('ui_marketplace_configure', false);\n\n        this.props.actions.closeMarketplaceModal();\n    }\n\n    getItemButton() {\n        let actionButton = (\n            <FormattedMessage\n                id='marketplace_modal.list.Install'\n                defaultMessage='Install'\n            />\n        );\n        if (this.props.error) {\n            actionButton = (\n                <FormattedMessage\n                    id='marketplace_modal.list.try_again'\n                    defaultMessage='Try Again'\n                />\n            );\n        }\n\n        let button = (\n            <button\n                onClick={this.onInstall}\n                className='btn btn-primary'\n                disabled={this.props.installing || this.props.downloadUrl === ''}\n            >\n                <LoadingWrapper\n                    loading={this.props.installing}\n                    text={localizeMessage('marketplace_modal.installing', 'Installing...')}\n                >\n                    {actionButton}\n                </LoadingWrapper>\n\n            </button>\n        );\n\n        if (this.props.installedVersion !== '' && !this.props.installing && !this.props.error) {\n            button = (\n                <Link\n                    to={'/admin_console/plugins/plugin_' + this.props.id}\n                >\n                    <button\n                        onClick={this.onConfigure}\n                        className='btn btn-outline'\n                    >\n                        <FormattedMessage\n                            id='marketplace_modal.list.configure'\n                            defaultMessage='Configure'\n                        />\n                    </button>\n                </Link>\n            );\n        }\n\n        return button;\n    }\n\n    render() {\n        const ariaLabel = `${this.props.name}, ${this.props.description}`.toLowerCase();\n        let versionLabel = `(${this.props.version})`;\n        if (this.props.installedVersion !== '') {\n            versionLabel = `(${this.props.installedVersion})`;\n        }\n\n        let pluginIcon;\n        if (this.props.iconData) {\n            pluginIcon = (\n                <div className='icon__plugin icon__plugin--background'>\n                    <img src={this.props.iconData}/>\n                </div>\n            );\n        } else {\n            pluginIcon = <PluginIcon className='icon__plugin icon__plugin--background'/>;\n        }\n\n        let localTag;\n        if (!this.props.downloadUrl) {\n            const localTooltip = (\n                <Tooltip id='plugin-marketplace__local-tooltop'>\n                    <FormattedMessage\n                        id='marketplace_modal.list.local.tooltip'\n                        defaultMessage='This plugin is not listed in the marketplace but was installed manually.'\n                    />\n                </Tooltip>\n            );\n\n            localTag = (\n                <OverlayTrigger\n                    delayShow={Constants.OVERLAY_TIME_DELAY}\n                    placement='top'\n                    overlay={localTooltip}\n                >\n                    <span className='tag'>\n                        <FormattedMessage\n                            id='marketplace_modal.list.local'\n                            defaultMessage='LOCAL'\n                        />\n                    </span>\n                </OverlayTrigger>\n            );\n        }\n\n        const pluginDetailsInner = (\n            <>\n                {this.props.name} <span className='light subtitle'>{versionLabel}</span>\n                {localTag}\n                <p className={classNames('more-modal__description', {error_text: this.props.error})}>\n                    {this.props.error ? this.props.error : this.props.description}\n                </p>\n            </>\n        );\n\n        let pluginDetails;\n        if (this.props.homepageUrl) {\n            pluginDetails = (\n                <a\n                    aria-label={ariaLabel}\n                    className='style--none more-modal__row--link'\n                    target='_blank'\n                    rel='noopener noreferrer'\n                    href={this.props.homepageUrl}\n                >\n                    {pluginDetailsInner}\n                </a>\n            );\n        } else {\n            pluginDetails = (\n                <span\n                    aria-label={ariaLabel}\n                    className='style--none'\n                >\n                    {pluginDetailsInner}\n                </span>\n            );\n        }\n\n        return (\n            <>\n                <div\n                    className={classNames('more-modal__row', 'more-modal__row--link', {item_error: this.props.error})}\n                    key={this.props.id}\n                    id={'marketplace-plugin-' + this.props.id}\n                >\n                    {pluginIcon}\n                    <div className='more-modal__details'>\n                        {pluginDetails}\n                        <UpdateDetails\n                            version={this.props.version}\n                            installedVersion={this.props.installedVersion}\n                            releaseNotesUrl={this.props.releaseNotesUrl}\n                            isInstalling={this.props.installing}\n                            onUpdate={this.showUpdateConfirmationModal}\n                        />\n                    </div>\n                    <div className='more-modal__actions'>\n                        {this.getItemButton()}\n                    </div>\n                    <UpdateConfirmationModal\n                        show={this.state.showUpdateConfirmationModal}\n                        name={this.props.name}\n                        version={this.props.version}\n                        installedVersion={this.props.installedVersion}\n                        releaseNotesUrl={this.props.releaseNotesUrl}\n                        onUpdate={this.onUpdate}\n                        onCancel={this.hideUpdateConfirmationModal}\n                    />\n                </div>\n            </>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\nimport debounce from 'lodash/debounce';\nimport {Tabs, Tab, OverlayTrigger, Tooltip} from 'react-bootstrap';\n\nimport FullScreenModal from 'components/widgets/modals/full_screen_modal';\nimport RootPortal from 'components/root_portal';\nimport QuickInput from 'components/quick_input';\nimport LocalizedInput from 'components/localized_input/localized_input';\nimport PluginIcon from 'components/widgets/icons/plugin_icon.jsx';\nimport LoadingScreen from 'components/loading_screen';\nimport FormattedMarkdownMessage from 'components/formatted_markdown_message.jsx';\n\nimport {trackEvent} from 'actions/diagnostics_actions.jsx';\nimport {t} from 'utils/i18n';\nimport {localizeMessage} from 'utils/utils';\nimport Constants from 'utils/constants.jsx';\n\nimport MarketplaceItem from './marketplace_item';\n\nimport './marketplace_modal.scss';\n\nconst MarketplaceTabs = {\n    ALL_PLUGINS: 'allPlugins',\n    INSTALLED_PLUGINS: 'installed',\n};\n\nconst SEARCH_TIMEOUT_MILLISECONDS = 200;\n\n// Plugins renders the list of plugins in a tab.\nexport const Plugins = ({plugins}) => (\n    <div className='more-modal__list'>{plugins.map((p) => (\n        <MarketplaceItem\n            key={p.manifest.id}\n            id={p.manifest.id}\n            name={p.manifest.name}\n            description={p.manifest.description}\n            version={p.manifest.version}\n            isPrepackaged={false}\n            downloadUrl={p.download_url}\n            homepageUrl={p.homepage_url}\n            releaseNotesUrl={p.release_notes_url}\n            iconData={p.icon_data}\n            installedVersion={p.installed_version}\n        />\n    ))}</div>\n);\n\nPlugins.propTypes = {\n    plugins: PropTypes.array.isRequired,\n};\n\n// AllPlugins renders the contents of the all plugins tab.\nexport const AllPlugins = ({plugins}) => {\n    if (plugins.length === 0) {\n        return (\n            <div className='no_plugins_div'>\n                <br/>\n                <PluginIcon className='icon__plugin'/>\n                <div className='margin-top x2 light'>\n                    <FormattedMessage\n                        id='marketplace_modal.no_plugins'\n                        defaultMessage='There are no plugins available at this time.'\n                    />\n                </div>\n            </div>\n        );\n    }\n\n    return <Plugins plugins={plugins}/>;\n};\n\nAllPlugins.propTypes = {\n    plugins: PropTypes.array.isRequired,\n};\n\n// InstalledPlugins renders the contents of the installed plugins tab.\nexport const InstalledPlugins = ({installedPlugins}) => {\n    if (installedPlugins.length === 0) {\n        return (\n            <div className='no_plugins_div'>\n                <br/>\n                <PluginIcon className='icon__plugin'/>\n                <div className='margin-top x2 light'>\n                    <FormattedMessage\n                        id='marketplace_modal.no_plugins_installed'\n                        defaultMessage='You do not have any plugins installed.'\n                    />\n                </div>\n                <button\n                    className='margin-top x3 style--none color--link'\n                    onClick={() => this.changeTab(MarketplaceTabs.ALL_PLUGINS)}\n                >\n                    <FormattedMessage\n                        id='marketplace_modal.install_plugins'\n                        defaultMessage='Install Plugins'\n                    />\n                </button>\n            </div>\n        );\n    }\n\n    return <Plugins plugins={installedPlugins}/>;\n};\n\nInstalledPlugins.propTypes = {\n    installedPlugins: PropTypes.array.isRequired,\n};\n\n// MarketplaceModal is the plugin marketplace.\nexport class MarketplaceModal extends React.Component {\n    static propTypes = {\n        show: PropTypes.bool,\n        plugins: PropTypes.array.isRequired,\n        installedPlugins: PropTypes.array.isRequired,\n        siteURL: PropTypes.string.isRequired,\n        pluginStatuses: PropTypes.object.isRequired,\n        actions: PropTypes.shape({\n            closeModal: PropTypes.func.isRequired,\n            fetchPlugins: PropTypes.func.isRequired,\n            filterPlugins: PropTypes.func.isRequired,\n        }).isRequired,\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            tabKey: MarketplaceTabs.ALL_PLUGINS,\n            loading: true,\n            serverError: null,\n            filter: '',\n        };\n    }\n\n    componentDidMount() {\n        trackEvent('plugins', 'ui_marketplace_opened');\n\n        this.fetchPlugins();\n\n        if (this.refs.filter) {\n            this.refs.filter.focus();\n        }\n    }\n\n    componentDidUpdate(prevProps) {\n        // Automatically refresh the component when a plugin is installed or uninstalled.\n        if (this.props.pluginStatuses !== prevProps.pluginStatuses) {\n            this.fetchPlugins();\n        }\n    }\n\n    fetchPlugins = async () => {\n        const {error} = await this.props.actions.fetchPlugins();\n\n        this.setState({loading: false, serverError: error});\n    }\n\n    close = () => {\n        trackEvent('plugins', 'ui_marketplace_closed');\n        this.props.actions.closeModal();\n    }\n\n    changeTab = (tabKey) => {\n        this.setState({tabKey});\n    }\n\n    onInput = () => {\n        this.setState({filter: this.refs.filter.value});\n\n        this.debouncedSearch();\n    }\n\n    handleClearSearch = () => {\n        this.refs.filter.value = '';\n        this.setState({filter: this.refs.filter.value}, this.doSearch);\n    }\n\n    doSearch = async () => {\n        trackEvent('plugins', 'ui_marketplace_search');\n\n        const {error} = await this.props.actions.filterPlugins(this.state.filter);\n\n        this.setState({serverError: error});\n    }\n\n    debouncedSearch = debounce(this.doSearch, SEARCH_TIMEOUT_MILLISECONDS);\n\n    render() {\n        const searchClearTooltip = (\n            <Tooltip id='searchClearTooltip'>\n                <FormattedMessage\n                    id='search_bar.clear'\n                    defaultMessage='Clear search query'\n                />\n            </Tooltip>\n        );\n\n        const input = (\n            <div className='filter-row filter-row--full'>\n                <div className='col-sm-12'>\n                    <QuickInput\n                        id='searchMarketplaceTextbox'\n                        ref='filter'\n                        className='form-control filter-textbox search_input'\n                        placeholder={{id: t('marketplace_modal.search'), defaultMessage: 'Search Plugins'}}\n                        inputComponent={LocalizedInput}\n                        onInput={this.onInput}\n                        value={this.state.filter}\n                    />\n                    {this.state.filter && this.state.filter.trim() !== '' &&\n                        <div\n                            id='searchClearButton'\n                            className='sidebar__search-clear visible'\n                            onClick={this.handleClearSearch}\n                        >\n                            <OverlayTrigger\n                                delayShow={Constants.OVERLAY_TIME_DELAY}\n                                placement='bottom'\n                                overlay={searchClearTooltip}\n                            >\n                                <span\n                                    className='sidebar__search-clear-x'\n                                    aria-hidden='true'\n                                >\n                                    {''}\n                                </span>\n                            </OverlayTrigger>\n                        </div>\n                    }\n                </div>\n            </div>\n        );\n\n        let errorBanner = null;\n        if (this.state.serverError) {\n            errorBanner = (\n                <div\n                    className='error-bar'\n                    id='error_bar'\n                >\n                    <FormattedMarkdownMessage\n                        id='app.plugin.marketplace_plugins.app_error'\n                        defaultMessage='Error connecting to the marketplace server. Please check your settings in the [System Console]({siteURL}/admin_console/plugins/plugin_management).'\n                        values={{siteURL: this.props.siteURL}}\n                    />\n                </div>\n            );\n        }\n\n        return (\n            <RootPortal>\n                <FullScreenModal\n                    show={this.props.show}\n                    onClose={this.close}\n                >\n                    {errorBanner}\n                    <div\n                        className='modal-marketplace'\n                        id='modal_marketplace'\n                    >\n                        <h1>\n                            <strong>\n                                <FormattedMessage\n                                    id='marketplace_modal.title'\n                                    defaultMessage='Plugin Marketplace'\n                                />\n                            </strong>\n                        </h1>\n                        {input}\n                        <Tabs\n                            id='marketplaceTabs'\n                            className='tabs'\n                            defaultActiveKey='allPlugins'\n                            activeKey={this.state.tabKey}\n                            onSelect={this.changeTab}\n                            unmountOnExit={true}\n                        >\n                            <Tab\n                                eventKey={MarketplaceTabs.ALL_PLUGINS}\n                                title={localizeMessage('marketplace_modal.tabs.all_plugins', 'All Plugins')}\n                            >\n                                {this.state.loading ? <LoadingScreen/> : <AllPlugins plugins={this.props.plugins}/>}\n                            </Tab>\n                            <Tab\n                                eventKey={MarketplaceTabs.INSTALLED_PLUGINS}\n                                title={localizeMessage('marketplace_modal.tabs.installed_plugins', 'Installed') + ` (${this.props.installedPlugins.length})`}\n                            >\n                                <InstalledPlugins installedPlugins={this.props.installedPlugins}/>\n                            </Tab>\n                        </Tabs>\n                    </div>\n                </FullScreenModal>\n            </RootPortal>\n        );\n    }\n}\n","var content = require(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js??ref--6-2!./marketplace_modal.scss\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\nimport {getAllChannelStats} from 'mattermost-redux/selectors/entities/channels';\nimport {getCurrentRelativeTeamUrl} from 'mattermost-redux/selectors/entities/teams';\nimport {getCurrentUserId, getUserStatuses, makeGetProfilesInChannel} from 'mattermost-redux/selectors/entities/users';\n\nimport {openDirectChannelToUserId} from 'actions/channel_actions.jsx';\nimport {loadProfilesAndStatusesInChannel} from 'actions/user_actions.jsx';\nimport {openModal} from 'actions/views/modals';\n\nimport PopoverListMembers from './popover_list_members.jsx';\n\nfunction makeMapStateToProps() {\n    const doGetProfilesInChannel = makeGetProfilesInChannel();\n\n    return function mapStateToProps(state, ownProps) {\n        const stats = getAllChannelStats(state)[ownProps.channel.id] || {};\n        const users = doGetProfilesInChannel(state, ownProps.channel.id, true);\n\n        return {\n            currentUserId: getCurrentUserId(state),\n            memberCount: stats.member_count,\n            users,\n            statuses: getUserStatuses(state),\n            teamUrl: getCurrentRelativeTeamUrl(state),\n        };\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            openModal,\n            loadProfilesAndStatusesInChannel,\n            openDirectChannelToUserId,\n        }, dispatch),\n    };\n}\n\nexport default connect(makeMapStateToProps, mapDispatchToProps)(PopoverListMembers);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {Overlay, OverlayTrigger, Tooltip} from 'react-bootstrap';\nimport {FormattedMessage} from 'react-intl';\n\nimport {browserHistory} from 'utils/browser_history';\nimport {canManageMembers} from 'utils/channel_utils.jsx';\nimport {Constants} from 'utils/constants';\nimport * as Utils from 'utils/utils.jsx';\nimport ChannelInviteModal from 'components/channel_invite_modal';\nimport ChannelMembersModal from 'components/channel_members_modal';\nimport MemberIcon from 'components/widgets/icons/member_icon';\nimport Popover from 'components/widgets/popover';\nimport TeamMembersModal from 'components/team_members_modal';\n\nimport PopoverListMembersItem from './popover_list_members_item';\n\nexport default class PopoverListMembers extends React.Component {\n    static propTypes = {\n        channel: PropTypes.object.isRequired,\n        statuses: PropTypes.object.isRequired,\n        users: PropTypes.array.isRequired,\n        memberCount: PropTypes.number,\n        currentUserId: PropTypes.string.isRequired,\n        teamUrl: PropTypes.string,\n        actions: PropTypes.shape({\n            openModal: PropTypes.func.isRequired,\n            loadProfilesAndStatusesInChannel: PropTypes.func.isRequired,\n            openDirectChannelToUserId: PropTypes.func.isRequired,\n        }).isRequired,\n    };\n\n    constructor(props) {\n        super(props);\n        this.membersList = React.createRef();\n\n        this.state = {\n            showPopover: false,\n            showTeamMembersModal: false,\n            showChannelMembersModal: false,\n            showChannelInviteModal: false,\n            users: props.users,\n            statuses: props.statuses,\n            sortedUsers: this.sortUsers(props.users, props.statuses),\n        };\n    }\n\n    static getDerivedStateFromProps(nextProps, prevState) {\n        if (nextProps.users !== prevState.users || nextProps.statuses !== prevState.statuses) {\n            return {\n                users: nextProps.users,\n                statuses: nextProps.statuses,\n                sortedUsers: Utils.sortUsersByStatusAndDisplayName(nextProps.users, nextProps.statuses),\n            };\n        }\n        return null;\n    }\n\n    sortUsers = (users, statuses) => {\n        return Utils.sortUsersByStatusAndDisplayName(users, statuses);\n    };\n\n    handleShowDirectChannel = (user) => {\n        const {actions} = this.props;\n        const teammateId = user.id;\n\n        if (teammateId) {\n            actions.openDirectChannelToUserId(teammateId).then(({data}) => {\n                if (data) {\n                    browserHistory.push(this.props.teamUrl + '/channels/' + data.name);\n                }\n                this.closePopover();\n            });\n        }\n    };\n\n    closePopover = () => {\n        this.setState({showPopover: false});\n    };\n\n    showMembersModal = (e) => {\n        e.preventDefault();\n\n        this.setState({\n            showPopover: false,\n            showChannelMembersModal: true,\n        });\n    };\n\n    hideChannelMembersModal = () => {\n        this.setState({showChannelMembersModal: false});\n    };\n\n    showChannelInviteModal = () => {\n        this.setState({showChannelInviteModal: true});\n    };\n\n    hideChannelInviteModal = () => {\n        this.setState({showChannelInviteModal: false});\n    };\n\n    hideTeamMembersModal = () => {\n        this.setState({showTeamMembersModal: false});\n    };\n\n    handleGetProfilesInChannel = (e) => {\n        this.setState({popoverTarget: e.target, showPopover: !this.state.showPopover});\n        this.props.actions.loadProfilesAndStatusesInChannel(this.props.channel.id, 0, undefined, 'status'); // eslint-disable-line no-undefined\n    };\n\n    getTargetPopover = () => {\n        this.membersList.current.focus();\n        return this.state.popoverTarget;\n    };\n\n    render() {\n        const isDirectChannel = this.props.channel.type === Constants.DM_CHANNEL;\n\n        const items = this.state.sortedUsers.map((user) => (\n            <PopoverListMembersItem\n                key={user.id}\n                onItemClick={this.handleShowDirectChannel}\n                showMessageIcon={this.props.currentUserId !== user.id && !isDirectChannel}\n                status={this.props.statuses[user.id]}\n                user={user}\n            />\n        ));\n\n        const channelIsArchived = this.props.channel.delete_at !== 0;\n        let popoverButton;\n        if (this.props.channel.type !== Constants.GM_CHANNEL && !channelIsArchived) {\n            let membersName = (\n                <FormattedMessage\n                    id='members_popover.manageMembers'\n                    defaultMessage='Manage Members'\n                />\n            );\n\n            const manageMembers = canManageMembers(this.props.channel);\n            const isDefaultChannel = this.props.channel.name === Constants.DEFAULT_CHANNEL;\n\n            if (isDefaultChannel || !manageMembers) {\n                membersName = (\n                    <FormattedMessage\n                        id='members_popover.viewMembers'\n                        defaultMessage='View Members'\n                    />\n                );\n            }\n\n            popoverButton = (\n                <div\n                    className='more-modal__button'\n                    key={'popover-member-more'}\n                >\n                    <button\n                        className='btn btn-link'\n                        data-testid='membersModal'\n                        onClick={this.showMembersModal}\n                    >\n                        {membersName}\n                    </button>\n                </div>\n            );\n        }\n\n        const count = this.props.memberCount;\n        let countText = '-';\n        if (count > 0) {\n            countText = count.toString();\n        }\n\n        const title = (\n            <FormattedMessage\n                id='members_popover.title'\n                defaultMessage='Channel Members'\n            />\n        );\n\n        let channelMembersModal;\n        if (this.state.showChannelMembersModal) {\n            channelMembersModal = (\n                <ChannelMembersModal\n                    onHide={this.hideChannelMembersModal}\n                    showInviteModal={this.showChannelInviteModal}\n                    channel={this.props.channel}\n                />\n            );\n        }\n\n        let teamMembersModal;\n        if (this.state.showTeamMembersModal) {\n            teamMembersModal = (\n                <TeamMembersModal\n                    onHide={this.hideTeamMembersModal}\n                />\n            );\n        }\n\n        let channelInviteModal;\n        if (this.state.showChannelInviteModal) {\n            channelInviteModal = (\n                <ChannelInviteModal\n                    onHide={this.hideChannelInviteModal}\n                    channel={this.props.channel}\n                />\n            );\n        }\n\n        const channelMembersTooltip = (\n            <Tooltip id='channelMembersTooltip'>\n                <FormattedMessage\n                    id='channel_header.channelMembers'\n                    defaultMessage='Members'\n                />\n            </Tooltip>\n        );\n\n        const ariaLabel = `${Utils.localizeMessage('channel_header.channelMembers', 'Members')}`.toLowerCase();\n\n        return (\n            <div id='channelMember'>\n                <button\n                    id='member_popover'\n                    aria-label={ariaLabel}\n                    className={'style--none member-popover__trigger channel-header__icon wide ' + (this.state.showPopover ? 'active' : '')}\n                    ref='member_popover_target'\n                    onClick={this.handleGetProfilesInChannel}\n                >\n                    <OverlayTrigger\n                        delayShow={Constants.OVERLAY_TIME_DELAY}\n                        placement='bottom'\n                        overlay={channelMembersTooltip}\n                    >\n                        <div>\n                            <span\n                                id='channelMemberCountText'\n                                className='icon__text'\n                            >\n                                {countText}\n                            </span>\n                            <MemberIcon\n                                id='channelMemberIcon'\n                                className='icon icon__members'\n                                aria-hidden='true'\n                            />\n                        </div>\n                    </OverlayTrigger>\n                </button>\n                <Overlay\n                    rootClose={true}\n                    onHide={this.closePopover}\n                    show={this.state.showPopover}\n                    target={this.getTargetPopover}\n                    placement='bottom'\n                >\n                    <Popover\n                        className='member-list__popover'\n                        id='member-list-popover'\n                    >\n                        <div\n                            className='more-modal__header'\n                        >\n                            {title}\n                            {this.props.channel.group_constrained && <div className='subhead'>\n                                <FormattedMessage\n                                    id='channel_header.groupConstrained'\n                                    defaultMessage='Members managed by linked groups.'\n                                />\n                            </div>}\n                        </div>\n                        <div className='more-modal__body'>\n                            <div\n                                tabIndex='-1'\n                                role='presentation'\n                                ref={this.membersList}\n                                className='more-modal__list'\n                            >\n                                {items}\n                            </div>\n                        </div>\n                        {popoverButton}\n                    </Popover>\n                </Overlay>\n                {channelMembersModal}\n                {teamMembersModal}\n                {channelInviteModal}\n            </div>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport {Client4} from 'mattermost-redux/client';\n\nimport ProfilePicture from 'components/profile_picture';\nimport MessageIcon from 'components/widgets/icons/message_icon';\nimport {UserStatuses} from 'utils/constants';\nimport * as Utils from 'utils/utils.jsx';\nimport BotBadge from 'components/widgets/badges/bot_badge';\nimport GuestBadge from 'components/widgets/badges/guest_badge';\n\nexport default class PopoverListMembersItem extends React.PureComponent {\n    static propTypes = {\n        showMessageIcon: PropTypes.bool.isRequired,\n        onItemClick: PropTypes.func.isRequired,\n        status: PropTypes.string.isRequired,\n        user: PropTypes.object.isRequired,\n    };\n\n    static defaultProps = {\n        status: UserStatuses.OFFLINE,\n    };\n\n    handleClick = () => {\n        this.props.onItemClick(this.props.user);\n    };\n\n    render() {\n        if (!this.props.user) {\n            return null;\n        }\n\n        const name = Utils.getDisplayNameByUser(this.props.user);\n        if (!name) {\n            return null;\n        }\n\n        let messageIcon;\n        if (this.props.showMessageIcon) {\n            messageIcon = (\n                <MessageIcon aria-hidden='true'/>\n            );\n        }\n\n        const botClass = this.props.user.is_bot ? ' more-modal__row--bot' : '';\n\n        const status = this.props.user.is_bot ? null : this.props.status;\n\n        return (\n            <div\n                data-testid='popoverListMembersItem'\n                tabIndex='0'\n                aria-label={name.toLowerCase()}\n                className={'more-modal__row' + botClass}\n                onClick={this.handleClick}\n            >\n                <ProfilePicture\n                    src={Client4.getProfilePictureUrl(this.props.user.id, this.props.user.last_picture_update)}\n                    status={status}\n                    size='md'\n                />\n                <div className='more-modal__details d-flex whitespace--nowrap'>\n                    <div className='more-modal__name'>\n                        {name}\n                    </div>\n                    <BotBadge\n                        show={Boolean(this.props.user.is_bot)}\n                        className='badge-popoverlist'\n                    />\n                    <GuestBadge\n                        show={Utils.isGuest(this.props.user)}\n                        className='badge-popoverlist'\n                    />\n                </div>\n                <div className='more-modal__actions'>\n                    {messageIcon}\n                </div>\n            </div>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {Modal} from 'react-bootstrap';\nimport {FormattedMessage} from 'react-intl';\n\ntype Props = {\n    show: boolean;\n    onHide: (event: React.MouseEvent<HTMLButtonElement>) => void;\n}\n\nexport default class PostDeletedModal extends React.Component<Props> {\n    public shouldComponentUpdate(nextProps: Props): boolean {\n        return nextProps.show !== this.props.show;\n    }\n\n    public render(): JSX.Element {\n        return (\n            <Modal\n                dialogClassName='a11y__modal'\n                show={this.props.show}\n                onHide={this.props.onHide}\n                role='dialog'\n                aria-labelledby='postDeletedModalLabel'\n                data-testid='postDeletedModal'\n            >\n                <Modal.Header closeButton={true}>\n                    <Modal.Title\n                        componentClass='h1'\n                        id='postDeletedModalLabel'\n                    >\n                        <FormattedMessage\n                            id='post_delete.notPosted'\n                            defaultMessage='Comment could not be posted'\n                        />\n                    </Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                    <p>\n                        <FormattedMessage\n                            id='post_delete.someone'\n                            defaultMessage='Someone deleted the message on which you tried to post a comment.'\n                        />\n                    </p>\n                </Modal.Body>\n                <Modal.Footer>\n                    <button\n                        type='button'\n                        className='btn btn-primary'\n                        autoFocus={true}\n                        onClick={this.props.onHide}\n                        data-testid='postDeletedModalOkButton'\n                    >\n                        <FormattedMessage\n                            id='post_delete.okay'\n                            defaultMessage='Okay'\n                        />\n                    </button>\n                </Modal.Footer>\n            </Modal>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\n\nimport {getEmojiImageUrl} from 'mattermost-redux/utils/emoji_utils';\n\nimport {getEmojiMap} from 'selectors/emojis';\n\nimport PostEmoji from './post_emoji.tsx';\n\nfunction mapStateToProps(state, ownProps) {\n    const emojiMap = getEmojiMap(state);\n    const emoji = emojiMap.get(ownProps.name);\n\n    return {\n        imageUrl: emoji ? getEmojiImageUrl(emoji) : '',\n    };\n}\n\nexport default connect(mapStateToProps)(PostEmoji);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React, {CSSProperties} from 'react';\n\ninterface PostEmojiProps {\n    name: string;\n    imageUrl: string;\n}\ndeclare module 'react' {\n    interface HTMLAttributes<T> extends AriaAttributes, DOMAttributes<T> {\n        alt?: string;\n    }\n}\n\nexport default class PostEmoji extends React.PureComponent<PostEmojiProps, {}> {\n    public render() {\n        const emojiText = ':' + this.props.name + ':';\n\n        if (!this.props.imageUrl) {\n            return emojiText;\n        }\n\n        return (\n            <span\n                alt={emojiText}\n                className='emoticon'\n                title={emojiText}\n                style={{backgroundImage: 'url(' + this.props.imageUrl + ')'}}\n            />\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {getChannel} from 'mattermost-redux/selectors/entities/channels';\n\nimport PostMarkdown from './post_markdown';\n\nfunction mapStateToProps(state, ownProps) {\n    return {\n        channel: getChannel(state, ownProps.channelId),\n        pluginHooks: state.plugins.components.MessageWillFormat,\n        hasPluginTooltips: Boolean(state.plugins.components.LinkTooltip),\n    };\n}\n\nexport default connect(mapStateToProps)(PostMarkdown);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport Markdown from 'components/markdown';\n\nimport {renderSystemMessage} from './system_message_helpers.jsx';\n\nexport default class PostMarkdown extends React.PureComponent {\n    static propTypes = {\n\n        /*\n         * Any extra props that should be passed into the image component\n         */\n        imageProps: PropTypes.object,\n\n        /*\n         * Whether or not this text is part of the RHS\n         */\n        isRHS: PropTypes.bool,\n\n        /*\n         * The post text to be rendered\n         */\n        message: PropTypes.string.isRequired,\n\n        /*\n         * The optional post for which this message is being rendered\n         */\n        post: PropTypes.object,\n        channel: PropTypes.object,\n\n        options: PropTypes.object,\n\n        pluginHooks: PropTypes.arrayOf(PropTypes.object),\n\n        /**\n         * Whether or not to place the LinkTooltip component inside links\n         */\n        hasPluginTooltips: PropTypes.bool,\n    };\n\n    static defaultProps = {\n        isRHS: false,\n        pluginHooks: [],\n    };\n\n    render() {\n        if (this.props.post) {\n            const renderedSystemMessage = renderSystemMessage(this.props.post, this.props.channel);\n            if (renderedSystemMessage) {\n                return <div>{renderedSystemMessage}</div>;\n            }\n        }\n\n        // Proxy images if we have an image proxy and the server hasn't already rewritten the post's image URLs.\n        const proxyImages = !this.props.post || !this.props.post.message_source || this.props.post.message === this.props.post.message_source;\n        const channelNamesMap = this.props.post && this.props.post.props && this.props.post.props.channel_mentions;\n\n        let {message} = this.props;\n        const {post} = this.props;\n\n        this.props.pluginHooks.forEach((o) => {\n            if (o && o.hook && post) {\n                message = o.hook(post, message);\n            }\n        });\n\n        return (\n            <Markdown\n                imageProps={this.props.imageProps}\n                isRHS={this.props.isRHS}\n                message={message}\n                proxyImages={proxyImages}\n                options={this.props.options}\n                channelNamesMap={channelNamesMap}\n                hasPluginTooltips={this.props.hasPluginTooltips}\n                imagesMetadata={this.props.post && this.props.post.metadata && this.props.post.metadata.images}\n                postId={this.props.post && this.props.post.id}\n            />\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nimport {General, Posts} from 'mattermost-redux/constants';\n\nimport {canManageMembers} from 'utils/channel_utils.jsx';\nimport * as Utils from 'utils/utils.jsx';\n\nimport Markdown from 'components/markdown';\nimport CombinedSystemMessage from 'components/post_view/combined_system_message';\nimport PostAddChannelMember from 'components/post_view/post_add_channel_member';\n\nfunction renderUsername(value) {\n    const username = (value[0] === '@') ? value : `@${value}`;\n\n    const options = {\n        markdown: false,\n    };\n\n    return renderFormattedText(username, options);\n}\n\nfunction renderFormattedText(value, options, post) {\n    return (\n        <Markdown\n            message={value}\n            options={options}\n            postId={post && post.id}\n            postType={post && post.type}\n        />\n    );\n}\n\nfunction renderJoinChannelMessage(post) {\n    const username = renderUsername(post.props.username);\n\n    return (\n        <FormattedMessage\n            id='api.channel.join_channel.post_and_forget'\n            defaultMessage='{username} joined the channel.'\n            values={{username}}\n        />\n    );\n}\n\nfunction renderGuestJoinChannelMessage(post) {\n    const username = renderUsername(post.props.username);\n\n    return (\n        <FormattedMessage\n            id='api.channel.guest_join_channel.post_and_forget'\n            defaultMessage='{username} joined the channel as a guest.'\n            values={{username}}\n        />\n    );\n}\n\nfunction renderLeaveChannelMessage(post) {\n    const username = renderUsername(post.props.username);\n\n    return (\n        <FormattedMessage\n            id='api.channel.leave.left'\n            defaultMessage='{username} has left the channel.'\n            values={{username}}\n        />\n    );\n}\n\nfunction renderAddToChannelMessage(post) {\n    const username = renderUsername(post.props.username);\n    const addedUsername = renderUsername(post.props.addedUsername);\n\n    return (\n        <FormattedMessage\n            id='api.channel.add_member.added'\n            defaultMessage='{addedUsername} added to the channel by {username}.'\n            values={{\n                username,\n                addedUsername,\n            }}\n        />\n    );\n}\n\nfunction renderAddGuestToChannelMessage(post) {\n    const username = renderUsername(post.props.username);\n    const addedUsername = renderUsername(post.props.addedUsername);\n\n    return (\n        <FormattedMessage\n            id='api.channel.add_guest.added'\n            defaultMessage='{addedUsername} added to the channel as a guest by {username}.'\n            values={{\n                username,\n                addedUsername,\n            }}\n        />\n    );\n}\n\nfunction renderRemoveFromChannelMessage(post) {\n    const removedUsername = renderUsername(post.props.removedUsername);\n\n    return (\n        <FormattedMessage\n            id='api.channel.remove_member.removed'\n            defaultMessage='{removedUsername} was removed from the channel'\n            values={{\n                removedUsername,\n            }}\n        />\n    );\n}\n\nfunction renderJoinTeamMessage(post) {\n    const username = renderUsername(post.props.username);\n\n    return (\n        <FormattedMessage\n            id='api.team.join_team.post_and_forget'\n            defaultMessage='{username} joined the team.'\n            values={{username}}\n        />\n    );\n}\n\nfunction renderLeaveTeamMessage(post) {\n    const username = renderUsername(post.props.username);\n\n    return (\n        <FormattedMessage\n            id='api.team.leave.left'\n            defaultMessage='{username} left the team.'\n            values={{username}}\n        />\n    );\n}\n\nfunction renderAddToTeamMessage(post) {\n    const username = renderUsername(post.props.username);\n    const addedUsername = renderUsername(post.props.addedUsername);\n\n    return (\n        <FormattedMessage\n            id='api.team.add_member.added'\n            defaultMessage='{addedUsername} added to the team by {username}.'\n            values={{\n                username,\n                addedUsername,\n            }}\n        />\n    );\n}\n\nfunction renderRemoveFromTeamMessage(post) {\n    const removedUsername = renderUsername(post.props.username);\n\n    return (\n        <FormattedMessage\n            id='api.team.remove_user_from_team.removed'\n            defaultMessage='{removedUsername} was removed from the team.'\n            values={{\n                removedUsername,\n            }}\n        />\n    );\n}\n\nfunction renderHeaderChangeMessage(post) {\n    if (!post.props.username) {\n        return null;\n    }\n\n    const headerOptions = {\n        singleline: true,\n        channelNamesMap: post.props && post.props.channel_mentions,\n    };\n\n    const username = renderUsername(post.props.username);\n    const oldHeader = post.props.old_header ? renderFormattedText(post.props.old_header, headerOptions, post) : null;\n    const newHeader = post.props.new_header ? renderFormattedText(post.props.new_header, headerOptions, post) : null;\n\n    if (post.props.new_header) {\n        if (post.props.old_header) {\n            return (\n                <FormattedMessage\n                    id='api.channel.post_update_channel_header_message_and_forget.updated_from'\n                    defaultMessage='{username} updated the channel header from: {old} to: {new}'\n                    values={{\n                        username,\n                        old: oldHeader,\n                        new: newHeader,\n                    }}\n                />\n            );\n        }\n\n        return (\n            <FormattedMessage\n                id='api.channel.post_update_channel_header_message_and_forget.updated_to'\n                defaultMessage='{username} updated the channel header to: {new}'\n                values={{\n                    username,\n                    new: newHeader,\n                }}\n            />\n        );\n    } else if (post.props.old_header) {\n        return (\n            <FormattedMessage\n                id='api.channel.post_update_channel_header_message_and_forget.removed'\n                defaultMessage='{username} removed the channel header (was: {old})'\n                values={{\n                    username,\n                    old: oldHeader,\n                }}\n            />\n        );\n    }\n\n    return null;\n}\n\nfunction renderDisplayNameChangeMessage(post) {\n    if (!(post.props.username && post.props.old_displayname && post.props.new_displayname)) {\n        return null;\n    }\n\n    const username = renderUsername(post.props.username);\n    const oldDisplayName = post.props.old_displayname;\n    const newDisplayName = post.props.new_displayname;\n\n    return (\n        <FormattedMessage\n            id='api.channel.post_update_channel_displayname_message_and_forget.updated_from'\n            defaultMessage='{username} updated the channel display name from: {old} to: {new}'\n            values={{\n                username,\n                old: oldDisplayName,\n                new: newDisplayName,\n            }}\n        />\n    );\n}\n\nfunction renderConvertChannelToPrivateMessage(post) {\n    if (!(post.props.username)) {\n        return null;\n    }\n\n    const username = renderUsername(post.props.username);\n\n    return (\n        <FormattedMessage\n            id='api.channel.post_convert_channel_to_private.updated_from'\n            defaultMessage='{username} converted the channel from public to private'\n            values={{\n                username,\n            }}\n        />\n    );\n}\n\nfunction renderPurposeChangeMessage(post) {\n    if (!post.props.username) {\n        return null;\n    }\n\n    const username = renderUsername(post.props.username);\n    const oldPurpose = post.props.old_purpose;\n    const newPurpose = post.props.new_purpose;\n\n    if (post.props.new_purpose) {\n        if (post.props.old_purpose) {\n            return (\n                <FormattedMessage\n                    id='app.channel.post_update_channel_purpose_message.updated_from'\n                    defaultMessage='{username} updated the channel purpose from: {old} to: {new}'\n                    values={{\n                        username,\n                        old: oldPurpose,\n                        new: newPurpose,\n                    }}\n                />\n            );\n        }\n\n        return (\n            <FormattedMessage\n                id='app.channel.post_update_channel_purpose_message.updated_to'\n                defaultMessage='{username} updated the channel purpose to: {new}'\n                values={{\n                    username,\n                    new: newPurpose,\n                }}\n            />\n        );\n    } else if (post.props.old_purpose) {\n        return (\n            <FormattedMessage\n                id='app.channel.post_update_channel_purpose_message.removed'\n                defaultMessage='{username} removed the channel purpose (was: {old})'\n                values={{\n                    username,\n                    old: oldPurpose,\n                }}\n            />\n        );\n    }\n\n    return null;\n}\n\nfunction renderChannelDeletedMessage(post) {\n    if (!post.props.username) {\n        return null;\n    }\n\n    const username = renderUsername(post.props.username);\n\n    return (\n        <FormattedMessage\n            id='api.channel.delete_channel.archived'\n            defaultMessage='{username} has archived the channel.'\n            values={{username}}\n        />\n    );\n}\n\nfunction renderMeMessage(post) {\n    return renderFormattedText((post.props && post.props.message) ? post.props.message : post.message);\n}\n\nconst systemMessageRenderers = {\n    [Posts.POST_TYPES.JOIN_CHANNEL]: renderJoinChannelMessage,\n    [Posts.POST_TYPES.GUEST_JOIN_CHANNEL]: renderGuestJoinChannelMessage,\n    [Posts.POST_TYPES.LEAVE_CHANNEL]: renderLeaveChannelMessage,\n    [Posts.POST_TYPES.ADD_TO_CHANNEL]: renderAddToChannelMessage,\n    [Posts.POST_TYPES.ADD_GUEST_TO_CHANNEL]: renderAddGuestToChannelMessage,\n    [Posts.POST_TYPES.REMOVE_FROM_CHANNEL]: renderRemoveFromChannelMessage,\n    [Posts.POST_TYPES.JOIN_TEAM]: renderJoinTeamMessage,\n    [Posts.POST_TYPES.LEAVE_TEAM]: renderLeaveTeamMessage,\n    [Posts.POST_TYPES.ADD_TO_TEAM]: renderAddToTeamMessage,\n    [Posts.POST_TYPES.REMOVE_FROM_TEAM]: renderRemoveFromTeamMessage,\n    [Posts.POST_TYPES.HEADER_CHANGE]: renderHeaderChangeMessage,\n    [Posts.POST_TYPES.DISPLAYNAME_CHANGE]: renderDisplayNameChangeMessage,\n    [Posts.POST_TYPES.CONVERT_CHANNEL]: renderConvertChannelToPrivateMessage,\n    [Posts.POST_TYPES.PURPOSE_CHANGE]: renderPurposeChangeMessage,\n    [Posts.POST_TYPES.CHANNEL_DELETED]: renderChannelDeletedMessage,\n    [Posts.POST_TYPES.ME]: renderMeMessage,\n};\n\nexport function renderSystemMessage(post, channel) {\n    if (post.props && post.props.add_channel_member) {\n        const isUserCanManageMembers = canManageMembers(channel);\n        const isEphemeral = Utils.isPostEphemeral(post);\n\n        if ((channel.type === General.PRIVATE_CHANNEL || channel.type === General.OPEN_CHANNEL) &&\n            isUserCanManageMembers &&\n            isEphemeral\n        ) {\n            const addMemberProps = post.props.add_channel_member;\n            return (\n                <PostAddChannelMember\n                    postId={addMemberProps.post_id}\n                    userIds={addMemberProps.not_in_channel_user_ids}\n                    noGroupsUsernames={addMemberProps.not_in_groups_usernames}\n                    usernames={addMemberProps.not_in_channel_usernames}\n                />\n            );\n        }\n\n        return null;\n    } else if (systemMessageRenderers[post.type]) {\n        return systemMessageRenderers[post.type](post);\n    } else if (post.type === Posts.POST_TYPES.EPHEMERAL_ADD_TO_CHANNEL) {\n        return renderAddToChannelMessage(post);\n    } else if (post.type === Posts.POST_TYPES.COMBINED_USER_ACTIVITY) {\n        const {allUserIds, allUsernames, messageData} = post.props.user_activity;\n\n        return (\n            <CombinedSystemMessage\n                allUserIds={allUserIds}\n                allUsernames={allUsernames}\n                messageData={messageData}\n            />\n        );\n    }\n\n    return null;\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\n\nimport {getConfig} from 'mattermost-redux/selectors/entities/general';\nimport {getUser, getStatusForUserId} from 'mattermost-redux/selectors/entities/users';\n\nimport PostProfilePicture from './post_profile_picture';\n\nfunction mapStateToProps(state, ownProps) {\n    const config = getConfig(state);\n    const user = getUser(state, ownProps.userId);\n\n    return {\n        enablePostIconOverride: config.EnablePostIconOverride === 'true',\n        hasImageProxy: config.HasImageProxy === 'true',\n        status: getStatusForUserId(state, ownProps.userId),\n        isBot: Boolean(user && user.is_bot),\n        user,\n    };\n}\n\nexport default connect(mapStateToProps)(PostProfilePicture);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport ProfilePicture from 'components/profile_picture';\nimport MattermostLogo from 'components/widgets/icons/mattermost_logo';\n\nimport Constants, {UserStatuses} from 'utils/constants';\nimport * as PostUtils from 'utils/post_utils';\nimport * as Utils from 'utils/utils';\n\nexport default class PostProfilePicture extends React.PureComponent {\n    static propTypes = {\n        compactDisplay: PropTypes.bool.isRequired,\n        enablePostIconOverride: PropTypes.bool.isRequired,\n        hasImageProxy: PropTypes.bool.isRequired,\n        isBusy: PropTypes.bool,\n        isRHS: PropTypes.bool,\n        post: PropTypes.object.isRequired,\n        status: PropTypes.string,\n        user: PropTypes.object,\n        isBot: PropTypes.bool,\n        postIconOverrideURL: PropTypes.string,\n    };\n\n    static defaultProps = {\n        status: UserStatuses.OFFLINE,\n    };\n\n    getProfilePictureURL = () => {\n        const {post, user} = this.props;\n\n        if (user && user.id === post.user_id) {\n            return Utils.imageURLForUser(user);\n        } else if (post.user_id) {\n            return Utils.imageURLForUser(post.user_id);\n        }\n\n        return '';\n    };\n\n    getStatus = (fromAutoResponder, fromWebhook, user) => {\n        if (fromAutoResponder || fromWebhook || (user && user.is_bot)) {\n            return '';\n        }\n\n        return this.props.status;\n    };\n\n    getPostIconURL = (defaultURL, fromAutoResponder, fromWebhook) => {\n        const {enablePostIconOverride, hasImageProxy, post} = this.props;\n        const postProps = post.props;\n        let postIconOverrideURL = '';\n        let useUserIcon = '';\n        if (postProps) {\n            postIconOverrideURL = postProps.override_icon_url;\n            useUserIcon = postProps.use_user_icon;\n        }\n\n        if (this.props.compactDisplay) {\n            return '';\n        }\n\n        if (!fromAutoResponder && fromWebhook && !useUserIcon && enablePostIconOverride) {\n            if (postIconOverrideURL && postIconOverrideURL !== '') {\n                return PostUtils.getImageSrc(postIconOverrideURL, hasImageProxy);\n            }\n\n            return Constants.DEFAULT_WEBHOOK_LOGO;\n        }\n\n        return defaultURL;\n    };\n\n    render() {\n        const {\n            compactDisplay,\n            isBusy,\n            isRHS,\n            post,\n            user,\n            isBot,\n        } = this.props;\n\n        const isSystemMessage = PostUtils.isSystemMessage(post);\n        const fromWebhook = PostUtils.isFromWebhook(post);\n\n        if (isSystemMessage && !compactDisplay && !fromWebhook && !isBot) {\n            return <MattermostLogo className='icon'/>;\n        }\n        const fromAutoResponder = PostUtils.fromAutoResponder(post);\n\n        const hasMention = !fromAutoResponder && !fromWebhook;\n        const profileSrc = this.getProfilePictureURL();\n        const src = this.getPostIconURL(profileSrc, fromAutoResponder, fromWebhook);\n\n        const overrideIconEmoji = post.props ? post.props.override_icon_emoji : '';\n        const isEmoji = typeof overrideIconEmoji == 'string' && overrideIconEmoji !== '';\n        const status = this.getStatus(fromAutoResponder, fromWebhook, user);\n\n        return (\n            <ProfilePicture\n                hasMention={hasMention}\n                isBusy={isBusy}\n                isRHS={isRHS}\n                size='md'\n                src={src}\n                profileSrc={profileSrc}\n                isEmoji={isEmoji}\n                status={status}\n                userId={user ? user.id : null}\n                username={user ? user.username : null}\n            />\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {FormattedDate, FormattedMessage} from 'react-intl';\nimport PropTypes from 'prop-types';\n\nimport {Permissions} from 'mattermost-redux/constants';\n\nimport {Constants, ModalIdentifiers} from 'utils/constants';\nimport ChannelInviteModal from 'components/channel_invite_modal';\nimport EditChannelHeaderModal from 'components/edit_channel_header_modal';\nimport ProfilePicture from 'components/profile_picture';\nimport ToggleModalButtonRedux from 'components/toggle_modal_button_redux';\nimport ToggleModalButton from 'components/toggle_modal_button.jsx';\nimport UserProfile from 'components/user_profile';\nimport ChannelPermissionGate from 'components/permissions_gates/channel_permission_gate';\nimport TeamPermissionGate from 'components/permissions_gates/team_permission_gate';\nimport FormattedMarkdownMessage from 'components/formatted_markdown_message';\nimport EditIcon from 'components/widgets/icons/fa_edit_icon';\nimport InvitationModal from 'components/invitation_modal';\nimport AddGroupsToChannelModal from 'components/add_groups_to_channel_modal';\nimport AddGroupsToTeamModal from 'components/add_groups_to_team_modal';\n\nimport {getMonthLong} from 'utils/i18n.jsx';\nimport * as Utils from 'utils/utils.jsx';\n\nexport default class ChannelIntroMessage extends React.PureComponent {\n    static propTypes = {\n        currentUserId: PropTypes.string.isRequired,\n        channel: PropTypes.object.isRequired,\n        fullWidth: PropTypes.bool.isRequired,\n        locale: PropTypes.string.isRequired,\n        channelProfiles: PropTypes.array.isRequired,\n        enableUserCreation: PropTypes.bool,\n        isReadOnly: PropTypes.bool,\n        teamIsGroupConstrained: PropTypes.bool,\n    };\n\n    render() {\n        const {\n            currentUserId,\n            channel,\n            fullWidth,\n            locale,\n            enableUserCreation,\n            isReadOnly,\n            channelProfiles,\n            teamIsGroupConstrained,\n        } = this.props;\n\n        let centeredIntro = '';\n        if (!fullWidth) {\n            centeredIntro = 'channel-intro--centered';\n        }\n\n        if (channel.type === Constants.DM_CHANNEL) {\n            return createDMIntroMessage(channel, centeredIntro);\n        } else if (channel.type === Constants.GM_CHANNEL) {\n            return createGMIntroMessage(channel, centeredIntro, channelProfiles, currentUserId);\n        } else if (channel.name === Constants.DEFAULT_CHANNEL) {\n            return createDefaultIntroMessage(channel, centeredIntro, enableUserCreation, isReadOnly, teamIsGroupConstrained);\n        } else if (channel.name === Constants.OFFTOPIC_CHANNEL) {\n            return createOffTopicIntroMessage(channel, centeredIntro);\n        } else if (channel.type === Constants.OPEN_CHANNEL || channel.type === Constants.PRIVATE_CHANNEL) {\n            return createStandardIntroMessage(channel, centeredIntro, locale);\n        }\n        return null;\n    }\n}\n\nfunction createGMIntroMessage(channel, centeredIntro, profiles, currentUserId) {\n    const channelIntroId = 'channelIntro';\n\n    if (profiles.length > 0) {\n        const pictures = profiles.\n            filter((profile) => profile.id !== currentUserId).\n            map((profile) => (\n                <ProfilePicture\n                    key={'introprofilepicture' + profile.id}\n                    src={Utils.imageURLForUser(profile)}\n                    size='xl'\n                    userId={profile.id}\n                    username={profile.username}\n                />\n            ));\n\n        return (\n            <div\n                id={channelIntroId}\n                className={'channel-intro ' + centeredIntro}\n            >\n                <div className='post-profile-img__container channel-intro-img'>\n                    {pictures}\n                </div>\n                <p className='channel-intro-text'>\n                    <FormattedMarkdownMessage\n                        id='intro_messages.GM'\n                        defaultMessage='This is the start of your group message history with {names}.\\nMessages and files shared here are not shown to people outside this area.'\n                        values={{\n                            names: channel.display_name,\n                        }}\n                    />\n                </p>\n                {createSetHeaderButton(channel)}\n            </div>\n        );\n    }\n\n    return (\n        <div\n            id={channelIntroId}\n            className={'channel-intro ' + centeredIntro}\n        >\n            <p className='channel-intro-text'>\n                <FormattedMessage\n                    id='intro_messages.group_message'\n                    defaultMessage='This is the start of your group message history with these teammates. Messages and files shared here are not shown to people outside this area.'\n                />\n            </p>\n        </div>\n    );\n}\n\nfunction createDMIntroMessage(channel, centeredIntro) {\n    var teammate = Utils.getDirectTeammate(channel.id);\n    const channelIntroId = 'channelIntro';\n\n    if (teammate) {\n        var teammateName = teammate.username;\n        if (teammate.nickname.length > 0) {\n            teammateName = teammate.nickname;\n        }\n\n        return (\n            <div\n                id={channelIntroId}\n                className={'channel-intro ' + centeredIntro}\n            >\n                <div className='post-profile-img__container channel-intro-img'>\n                    <ProfilePicture\n                        src={Utils.imageURLForUser(teammate)}\n                        size='xl'\n                        userId={teammate.id}\n                        username={teammate.username}\n                        hasMention={true}\n                    />\n                </div>\n                <div className='channel-intro-profile d-flex'>\n                    <UserProfile\n                        userId={teammate.id}\n                        disablePopover={false}\n                        hasMention={true}\n                    />\n                </div>\n                <p className='channel-intro-text'>\n                    <FormattedMarkdownMessage\n                        id='intro_messages.DM'\n                        defaultMessage='This is the start of your direct message history with {teammate}.\\nDirect messages and files shared here are not shown to people outside this area.'\n                        values={{\n                            teammate: teammateName,\n                        }}\n                    />\n                </p>\n                {teammate.is_bot ? null : createSetHeaderButton(channel)}\n            </div>\n        );\n    }\n\n    return (\n        <div\n            id={channelIntroId}\n            className={'channel-intro ' + centeredIntro}\n        >\n            <p className='channel-intro-text'>\n                <FormattedMessage\n                    id='intro_messages.teammate'\n                    defaultMessage='This is the start of your direct message history with this teammate. Direct messages and files shared here are not shown to people outside this area.'\n                />\n            </p>\n        </div>\n    );\n}\n\nfunction createOffTopicIntroMessage(channel, centeredIntro) {\n    const isPrivate = channel.type === Constants.PRIVATE_CHANNEL;\n    const children = createSetHeaderButton(channel);\n    let setHeaderButton = null;\n    if (children) {\n        setHeaderButton = (\n            <ChannelPermissionGate\n                teamId={channel.team_id}\n                channelId={channel.id}\n                permissions={[isPrivate ? Permissions.MANAGE_PRIVATE_CHANNEL_PROPERTIES : Permissions.MANAGE_PUBLIC_CHANNEL_PROPERTIES]}\n            >\n                {children}\n            </ChannelPermissionGate>\n        );\n    }\n\n    const channelInviteButton = createInviteChannelButton(channel);\n\n    return (\n        <div\n            id='channelIntro'\n            className={'channel-intro ' + centeredIntro}\n        >\n            <h2 className='channel-intro__title'>\n                <FormattedMessage\n                    id='intro_messages.beginning'\n                    defaultMessage='Beginning of {name}'\n                    values={{\n                        name: channel.display_name,\n                    }}\n                />\n            </h2>\n            <p className='channel-intro__content'>\n                <FormattedMessage\n                    id='intro_messages.offTopic'\n                    defaultMessage='This is the start of {display_name}, a channel for non-work-related conversations.'\n                    values={{\n                        display_name: channel.display_name,\n                    }}\n                />\n            </p>\n            {channelInviteButton}\n            {setHeaderButton}\n        </div>\n    );\n}\n\nexport function createDefaultIntroMessage(channel, centeredIntro, enableUserCreation, isReadOnly, teamIsGroupConstrained) {\n    let teamInviteLink = null;\n\n    if (!isReadOnly && enableUserCreation) {\n        teamInviteLink = (\n            <TeamPermissionGate\n                teamId={channel.team_id}\n                permissions={[Permissions.INVITE_USER]}\n            >\n                <TeamPermissionGate\n                    teamId={channel.team_id}\n                    permissions={[Permissions.ADD_USER_TO_TEAM]}\n                >\n                    {!teamIsGroupConstrained &&\n                    <FormattedMessage\n                        id='intro_messages.inviteOthers'\n                        defaultMessage='Invite others to this team'\n                    >\n                        {(message) => (\n                            <ToggleModalButtonRedux\n                                accessibilityLabel={message}\n                                id='introTextInvite'\n                                className='intro-links color--link cursor--pointer'\n                                modalId={ModalIdentifiers.INVITATION}\n                                dialogType={InvitationModal}\n                            >\n                                <FormattedMessage\n                                    id='generic_icons.add'\n                                    defaultMessage='Add Icon'\n                                >\n                                    {(title) => (\n                                        <i\n                                            className='fa fa-user-plus'\n                                            title={title}\n                                        />\n                                    )}\n                                </FormattedMessage>\n                                {message}\n                            </ToggleModalButtonRedux>\n                        )}\n                    </FormattedMessage>\n                    }\n                    {teamIsGroupConstrained &&\n                    <ToggleModalButton\n                        className='intro-links color--link'\n                        dialogType={AddGroupsToTeamModal}\n                        dialogProps={{channel}}\n                    >\n                        <FormattedMessage\n                            id='generic_icons.add'\n                            defaultMessage='Add Icon'\n                        >\n                            {(title) => (\n                                <i\n                                    className='fa fa-user-plus'\n                                    title={title}\n                                />\n                            )}\n                        </FormattedMessage>\n                        <FormattedMessage\n                            id='intro_messages.addGroupsToTeam'\n                            defaultMessage='Add other groups to this team'\n                        />\n                    </ToggleModalButton>\n                    }\n                </TeamPermissionGate>\n            </TeamPermissionGate>\n        );\n    }\n\n    const isPrivate = channel.type === Constants.PRIVATE_CHANNEL;\n\n    let setHeaderButton = null;\n    if (!isReadOnly) {\n        const children = createSetHeaderButton(channel);\n        if (children) {\n            setHeaderButton = (\n                <ChannelPermissionGate\n                    teamId={channel.team_id}\n                    channelId={channel.id}\n                    permissions={[isPrivate ? Permissions.MANAGE_PRIVATE_CHANNEL_PROPERTIES : Permissions.MANAGE_PUBLIC_CHANNEL_PROPERTIES]}\n                >\n                    {children}\n                </ChannelPermissionGate>\n            );\n        }\n    }\n\n    return (\n        <div\n            id='channelIntro'\n            className={'channel-intro ' + centeredIntro}\n        >\n            <h2 className='channel-intro__title'>\n                <FormattedMessage\n                    id='intro_messages.beginning'\n                    defaultMessage='Beginning of {name}'\n                    values={{\n                        name: channel.display_name,\n                    }}\n                />\n            </h2>\n            <p className='channel-intro__content'>\n                {!isReadOnly &&\n                    <FormattedMarkdownMessage\n                        id='intro_messages.default'\n                        defaultMessage='**Welcome to {display_name}!**\\n \\nPost messages here that you want everyone to see. Everyone automatically becomes a permanent member of this channel when they join the team.'\n                        values={{\n                            display_name: channel.display_name,\n                        }}\n                    />\n                }\n                {isReadOnly &&\n                    <FormattedMarkdownMessage\n                        id='intro_messages.readonly.default'\n                        defaultMessage='**Welcome to {display_name}!**\\n \\nMessages can only be posted by system admins. Everyone automatically becomes a permanent member of this channel when they join the team.'\n                        values={{\n                            display_name: channel.display_name,\n                        }}\n                    />\n                }\n            </p>\n            {teamInviteLink}\n            {setHeaderButton}\n            <br/>\n        </div>\n    );\n}\n\nfunction createStandardIntroMessage(channel, centeredIntro, locale) {\n    var uiName = channel.display_name;\n    var creatorName = Utils.getDisplayNameByUserId(channel.creator_id);\n    var memberMessage;\n    const channelIsArchived = channel.delete_at !== 0;\n\n    if (channelIsArchived) {\n        memberMessage = '';\n    } else if (channel.type === Constants.PRIVATE_CHANNEL) {\n        memberMessage = (\n            <FormattedMessage\n                id='intro_messages.onlyInvited'\n                defaultMessage=' Only invited members can see this private channel.'\n            />\n        );\n    } else {\n        memberMessage = (\n            <FormattedMessage\n                id='intro_messages.anyMember'\n                defaultMessage=' Any member can join and read this channel.'\n            />\n        );\n    }\n\n    const date = (\n        <FormattedDate\n            value={channel.create_at}\n            month={getMonthLong(locale)}\n            day='2-digit'\n            year='numeric'\n        />\n    );\n\n    var createMessage;\n    if (creatorName === '') {\n        if (channel.type === Constants.PRIVATE_CHANNEL) {\n            createMessage = (\n                <FormattedMessage\n                    id='intro_messages.noCreatorPrivate'\n                    defaultMessage='This is the start of the {name} private channel, created on {date}.'\n                    values={{name: (uiName), date}}\n                />\n            );\n        } else if (channel.type === Constants.OPEN_CHANNEL) {\n            createMessage = (\n                <FormattedMessage\n                    id='intro_messages.noCreator'\n                    defaultMessage='This is the start of the {name} channel, created on {date}.'\n                    values={{name: (uiName), date}}\n                />\n            );\n        }\n    } else if (channel.type === Constants.PRIVATE_CHANNEL) {\n        createMessage = (\n            <span>\n                <FormattedMessage\n                    id='intro_messages.creatorPrivate'\n                    defaultMessage='This is the start of the {name} private channel, created by {creator} on {date}.'\n                    values={{\n                        name: (uiName),\n                        creator: (creatorName),\n                        date,\n                    }}\n                />\n            </span>\n        );\n    } else if (channel.type === Constants.OPEN_CHANNEL) {\n        createMessage = (\n            <span>\n                <FormattedMessage\n                    id='intro_messages.creator'\n                    defaultMessage='This is the start of the {name} channel, created by {creator} on {date}.'\n                    values={{\n                        name: (uiName),\n                        creator: (creatorName),\n                        date,\n                    }}\n                />\n            </span>\n        );\n    }\n\n    var purposeMessage = '';\n    if (channel.purpose && channel.purpose !== '') {\n        if (channel.type === Constants.PRIVATE_CHANNEL) {\n            purposeMessage = (\n                <span>\n                    <FormattedMessage\n                        id='intro_messages.purposePrivate'\n                        defaultMessage=\" This private channel's purpose is: {purpose}\"\n                        values={{purpose: channel.purpose}}\n                    />\n                </span>\n            );\n        } else if (channel.type === Constants.OPEN_CHANNEL) {\n            purposeMessage = (\n                <span>\n                    <FormattedMessage\n                        id='intro_messages.purpose'\n                        defaultMessage=\" This channel's purpose is: {purpose}\"\n                        values={{purpose: channel.purpose}}\n                    />\n                </span>\n            );\n        }\n    }\n\n    const isPrivate = channel.type === Constants.PRIVATE_CHANNEL;\n    let setHeaderButton = null;\n    const children = createSetHeaderButton(channel);\n    if (children) {\n        setHeaderButton = (\n            <ChannelPermissionGate\n                teamId={channel.team_id}\n                channelId={channel.id}\n                permissions={[isPrivate ? Permissions.MANAGE_PRIVATE_CHANNEL_PROPERTIES : Permissions.MANAGE_PUBLIC_CHANNEL_PROPERTIES]}\n            >\n                {children}\n            </ChannelPermissionGate>\n        );\n    }\n\n    const channelInviteButton = createInviteChannelButton(channel);\n\n    return (\n        <div\n            id='channelIntro'\n            className={'channel-intro ' + centeredIntro}\n        >\n            <h2 className='channel-intro__title'>\n                <FormattedMessage\n                    id='intro_messages.beginning'\n                    defaultMessage='Beginning of {name}'\n                    values={{\n                        name: (uiName),\n                    }}\n                />\n            </h2>\n            <p className='channel-intro__content'>\n                {createMessage}\n                {memberMessage}\n                {purposeMessage}\n                <br/>\n            </p>\n            {channelInviteButton}\n            {setHeaderButton}\n        </div>\n    );\n}\n\nfunction createInviteChannelButton(channel) {\n    const modal = channel.group_constrained ? AddGroupsToChannelModal : ChannelInviteModal;\n    const channelIsArchived = channel.delete_at !== 0;\n    if (channelIsArchived) {\n        return null;\n    }\n    const isPrivate = channel.type === Constants.PRIVATE_CHANNEL;\n    return (\n        <ChannelPermissionGate\n            channelId={channel.id}\n            teamId={channel.team_id}\n            permissions={[isPrivate ? Permissions.MANAGE_PRIVATE_CHANNEL_MEMBERS : Permissions.MANAGE_PUBLIC_CHANNEL_MEMBERS]}\n        >\n            <ToggleModalButton\n                className='intro-links color--link'\n                dialogType={modal}\n                dialogProps={{channel}}\n            >\n                <FormattedMessage\n                    id='generic_icons.add'\n                    defaultMessage='Add Icon'\n                >\n                    {(title) => (\n                        <i\n                            className='fa fa-user-plus'\n                            title={title}\n                        />\n                    )}\n                </FormattedMessage>\n                {isPrivate && channel.group_constrained &&\n                    <FormattedMessage\n                        id='intro_messages.addGroups'\n                        defaultMessage='Add groups to this private channel'\n                    />}\n                {isPrivate && !channel.group_constrained &&\n                    <FormattedMessage\n                        id='intro_messages.invitePrivate'\n                        defaultMessage='Invite others to this private channel'\n                    />}\n                {!isPrivate &&\n                    <FormattedMessage\n                        id='intro_messages.invite'\n                        defaultMessage='Invite others to this channel'\n                    />}\n            </ToggleModalButton>\n        </ChannelPermissionGate>\n    );\n}\n\nfunction createSetHeaderButton(channel) {\n    const channelIsArchived = channel.delete_at !== 0;\n    if (channelIsArchived) {\n        return null;\n    }\n\n    return (\n        <FormattedMessage\n            id='intro_messages.setHeader'\n            defaultMessage='Set a Header'\n        >\n            {(message) => (\n                <ToggleModalButtonRedux\n                    modalId='editChannelHeaderModal'\n                    accessibilityLabel={message}\n                    className={'intro-links color--link'}\n                    dialogType={EditChannelHeaderModal}\n                    dialogProps={{channel}}\n                >\n                    <EditIcon/>\n                    {message}\n                </ToggleModalButtonRedux>\n            )}\n        </FormattedMessage>\n    );\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\n\nimport {getConfig} from 'mattermost-redux/selectors/entities/general';\nimport {isCurrentChannelReadOnly, getCurrentChannel} from 'mattermost-redux/selectors/entities/channels';\nimport {getCurrentTeam} from 'mattermost-redux/selectors/entities/teams';\nimport {getProfilesInCurrentChannel, getCurrentUserId} from 'mattermost-redux/selectors/entities/users';\nimport {get} from 'mattermost-redux/selectors/entities/preferences';\n\nimport {Preferences} from 'utils/constants';\nimport {getCurrentLocale} from 'selectors/i18n';\n\nimport ChannelIntroMessage from './channel_intro_message.jsx';\n\nfunction mapStateToProps(state) {\n    const config = getConfig(state);\n    const enableUserCreation = config.EnableUserCreation === 'true';\n    const isReadOnly = isCurrentChannelReadOnly(state);\n    const team = getCurrentTeam(state);\n\n    return {\n        currentUserId: getCurrentUserId(state),\n        channel: getCurrentChannel(state),\n        locale: getCurrentLocale(state),\n        channelProfiles: getProfilesInCurrentChannel(state),\n        enableUserCreation,\n        isReadOnly,\n        fullWidth: get(state, Preferences.CATEGORY_DISPLAY_SETTINGS, Preferences.CHANNEL_DISPLAY_MODE, Preferences.CHANNEL_DISPLAY_MODE_DEFAULT) === Preferences.CHANNEL_DISPLAY_MODE_FULL_SCREEN,\n        teamIsGroupConstrained: Boolean(team.group_constrained),\n    };\n}\n\nexport default connect(mapStateToProps)(ChannelIntroMessage);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {intlShape} from 'react-intl';\n\nimport {Posts} from 'mattermost-redux/constants';\n\nimport {t} from 'utils/i18n';\n\nimport Markdown from 'components/markdown';\n\nimport LastUsers from './last_users';\n\nconst {\n    JOIN_CHANNEL, ADD_TO_CHANNEL, REMOVE_FROM_CHANNEL, LEAVE_CHANNEL,\n    JOIN_TEAM, ADD_TO_TEAM, REMOVE_FROM_TEAM, LEAVE_TEAM,\n} = Posts.POST_TYPES;\n\nconst postTypeMessage = {\n    [JOIN_CHANNEL]: {\n        one: {\n            id: t('combined_system_message.joined_channel.one'),\n            defaultMessage: '{firstUser} **joined the channel**.',\n        },\n        one_you: {\n            id: t('combined_system_message.joined_channel.one_you'),\n            defaultMessage: 'You **joined the channel**.',\n        },\n        two: {\n            id: t('combined_system_message.joined_channel.two'),\n            defaultMessage: '{firstUser} and {secondUser} **joined the channel**.',\n        },\n        many_expanded: {\n            id: t('combined_system_message.joined_channel.many_expanded'),\n            defaultMessage: '{users} and {lastUser} **joined the channel**.',\n        },\n    },\n    [ADD_TO_CHANNEL]: {\n        one: {\n            id: t('combined_system_message.added_to_channel.one'),\n            defaultMessage: '{firstUser} **added to the channel** by {actor}.',\n        },\n        one_you: {\n            id: t('combined_system_message.added_to_channel.one_you'),\n            defaultMessage: 'You were **added to the channel** by {actor}.',\n        },\n        two: {\n            id: t('combined_system_message.added_to_channel.two'),\n            defaultMessage: '{firstUser} and {secondUser} **added to the channel** by {actor}.',\n        },\n        many_expanded: {\n            id: t('combined_system_message.added_to_channel.many_expanded'),\n            defaultMessage: '{users} and {lastUser} were **added to the channel** by {actor}.',\n        },\n    },\n    [REMOVE_FROM_CHANNEL]: {\n        one: {\n            id: t('combined_system_message.removed_from_channel.one'),\n            defaultMessage: '{firstUser} was **removed from the channel**.',\n        },\n        one_you: {\n            id: t('combined_system_message.removed_from_channel.one_you'),\n            defaultMessage: 'You were **removed from the channel**.',\n        },\n        two: {\n            id: t('combined_system_message.removed_from_channel.two'),\n            defaultMessage: '{firstUser} and {secondUser} were **removed from the channel**.',\n        },\n        many_expanded: {\n            id: t('combined_system_message.removed_from_channel.many_expanded'),\n            defaultMessage: '{users} and {lastUser} were **removed from the channel**.',\n        },\n    },\n    [LEAVE_CHANNEL]: {\n        one: {\n            id: t('combined_system_message.left_channel.one'),\n            defaultMessage: '{firstUser} **left the channel**.',\n        },\n        one_you: {\n            id: t('combined_system_message.left_channel.one_you'),\n            defaultMessage: 'You **left the channel**.',\n        },\n        two: {\n            id: t('combined_system_message.left_channel.two'),\n            defaultMessage: '{firstUser} and {secondUser} **left the channel**.',\n        },\n        many_expanded: {\n            id: t('combined_system_message.left_channel.many_expanded'),\n            defaultMessage: '{users} and {lastUser} **left the channel**.',\n        },\n    },\n    [JOIN_TEAM]: {\n        one: {\n            id: t('combined_system_message.joined_team.one'),\n            defaultMessage: '{firstUser} **joined the team**.',\n        },\n        one_you: {\n            id: t('combined_system_message.joined_team.one_you'),\n            defaultMessage: 'You **joined the team**.',\n        },\n        two: {\n            id: t('combined_system_message.joined_team.two'),\n            defaultMessage: '{firstUser} and {secondUser} **joined the team**.',\n        },\n        many_expanded: {\n            id: t('combined_system_message.joined_team.many_expanded'),\n            defaultMessage: '{users} and {lastUser} **joined the team**.',\n        },\n    },\n    [ADD_TO_TEAM]: {\n        one: {\n            id: t('combined_system_message.added_to_team.one'),\n            defaultMessage: '{firstUser} **added to the team** by {actor}.',\n        },\n        one_you: {\n            id: t('combined_system_message.added_to_team.one_you'),\n            defaultMessage: 'You were **added to the team** by {actor}.',\n        },\n        two: {\n            id: t('combined_system_message.added_to_team.two'),\n            defaultMessage: '{firstUser} and {secondUser} **added to the team** by {actor}.',\n        },\n        many_expanded: {\n            id: t('combined_system_message.added_to_team.many_expanded'),\n            defaultMessage: '{users} and {lastUser} were **added to the team** by {actor}.',\n        },\n    },\n    [REMOVE_FROM_TEAM]: {\n        one: {\n            id: t('combined_system_message.removed_from_team.one'),\n            defaultMessage: '{firstUser} was **removed from the team**.',\n        },\n        one_you: {\n            id: t('combined_system_message.removed_from_team.one_you'),\n            defaultMessage: 'You were **removed from the team**.',\n        },\n        two: {\n            id: t('combined_system_message.removed_from_team.two'),\n            defaultMessage: '{firstUser} and {secondUser} were **removed from the team**.',\n        },\n        many_expanded: {\n            id: t('combined_system_message.removed_from_team.many_expanded'),\n            defaultMessage: '{users} and {lastUser} were **removed from the team**.',\n        },\n    },\n    [LEAVE_TEAM]: {\n        one: {\n            id: t('combined_system_message.left_team.one'),\n            defaultMessage: '{firstUser} **left the team**.',\n        },\n        one_you: {\n            id: t('combined_system_message.left_team.one_you'),\n            defaultMessage: 'You **left the team**.',\n        },\n        two: {\n            id: t('combined_system_message.left_team.two'),\n            defaultMessage: '{firstUser} and {secondUser} **left the team**.',\n        },\n        many_expanded: {\n            id: t('combined_system_message.left_team.many_expanded'),\n            defaultMessage: '{users} and {lastUser} **left the team**.',\n        },\n    },\n};\n\nexport default class CombinedSystemMessage extends React.PureComponent {\n    static propTypes = {\n        allUserIds: PropTypes.array.isRequired,\n        allUsernames: PropTypes.array.isRequired,\n        currentUserId: PropTypes.string.isRequired,\n        currentUsername: PropTypes.string.isRequired,\n        messageData: PropTypes.array.isRequired,\n        showJoinLeave: PropTypes.bool.isRequired,\n        userProfiles: PropTypes.array.isRequired,\n        actions: PropTypes.shape({\n            getMissingProfilesByIds: PropTypes.func.isRequired,\n            getMissingProfilesByUsernames: PropTypes.func.isRequired,\n        }).isRequired,\n    };\n\n    static defaultProps = {\n        allUserIds: [],\n        allUsernames: [],\n    };\n\n    static contextTypes = {\n        intl: intlShape,\n    };\n\n    componentDidMount() {\n        this.loadUserProfiles(this.props.allUserIds, this.props.allUsernames);\n    }\n\n    componentDidUpdate(prevProps) {\n        const {allUserIds, allUsernames} = this.props;\n        if (allUserIds !== prevProps.allUserIds || allUsernames !== prevProps.allUsernames) {\n            this.loadUserProfiles(allUserIds, allUsernames);\n        }\n    }\n\n    loadUserProfiles = (allUserIds, allUsernames) => {\n        if (allUserIds.length > 0) {\n            this.props.actions.getMissingProfilesByIds(allUserIds);\n        }\n\n        if (allUsernames.length > 0) {\n            this.props.actions.getMissingProfilesByUsernames(allUsernames);\n        }\n    }\n\n    getAllUsernames = () => {\n        const {\n            allUserIds,\n            allUsernames,\n            currentUserId,\n            currentUsername,\n            userProfiles,\n        } = this.props;\n        const {formatMessage} = this.context.intl;\n        const usernames = userProfiles.reduce((acc, user) => {\n            acc[user.id] = user.username;\n            acc[user.username] = user.username;\n            return acc;\n        }, {});\n\n        const currentUserDisplayName = formatMessage({id: t('combined_system_message.you'), defaultMessage: 'You'});\n        if (allUserIds.includes(currentUserId)) {\n            usernames[currentUserId] = currentUserDisplayName;\n        } else if (allUsernames.includes(currentUsername)) {\n            usernames[currentUsername] = currentUserDisplayName;\n        }\n\n        return usernames;\n    }\n\n    getUsernamesByIds = (userIds = []) => {\n        const {currentUserId, currentUsername} = this.props;\n        const allUsernames = this.getAllUsernames();\n\n        const {formatMessage} = this.context.intl;\n        const someone = formatMessage({id: t('channel_loader.someone'), defaultMessage: 'Someone'});\n\n        const usernames = userIds.\n            filter((userId) => {\n                return userId !== currentUserId && userId !== currentUsername;\n            }).\n            map((userId) => {\n                return allUsernames[userId] ? `@${allUsernames[userId]}` : someone;\n            }).filter((username) => {\n                return username && username !== '';\n            });\n\n        if (userIds.includes(currentUserId)) {\n            usernames.unshift(allUsernames[currentUserId]);\n        } else if (userIds.includes(currentUsername)) {\n            usernames.unshift(allUsernames[currentUsername]);\n        }\n\n        return usernames;\n    }\n\n    renderFormattedMessage(postType, userIds, actorId) {\n        const {formatMessage} = this.context.intl;\n        const {currentUserId, currentUsername} = this.props;\n        const usernames = this.getUsernamesByIds(userIds);\n        let actor = actorId ? this.getUsernamesByIds([actorId])[0] : '';\n        if (actor && (actorId === currentUserId || actorId === currentUsername)) {\n            actor = actor.toLowerCase();\n        }\n\n        const firstUser = usernames[0];\n        const secondUser = usernames[1];\n        const numOthers = usernames.length - 1;\n\n        const options = {\n            atMentions: true,\n            mentionKeys: [{key: firstUser}, {key: secondUser}, {key: actor}],\n            mentionHighlight: false,\n            singleline: true,\n        };\n\n        if (numOthers > 1) {\n            return (\n                <LastUsers\n                    actor={actor}\n                    expandedLocale={postTypeMessage[postType].many_expanded}\n                    formatOptions={options}\n                    postType={postType}\n                    usernames={usernames}\n                />\n            );\n        }\n\n        let localeHolder;\n        if (numOthers === 0) {\n            localeHolder = postTypeMessage[postType].one;\n\n            if (\n                (userIds[0] === this.props.currentUserId || userIds[0] === this.props.currentUsername) &&\n                postTypeMessage[postType].one_you\n            ) {\n                localeHolder = postTypeMessage[postType].one_you;\n            }\n        } else if (numOthers === 1) {\n            localeHolder = postTypeMessage[postType].two;\n        }\n\n        const formattedMessage = formatMessage(localeHolder, {firstUser, secondUser, actor});\n\n        return (\n            <Markdown\n                message={formattedMessage}\n                options={options}\n            />\n        );\n    }\n\n    renderMessage(postType, userIds, actorId) {\n        return (\n            <React.Fragment key={postType + actorId}>\n                {this.renderFormattedMessage(postType, userIds, actorId)}\n                <br/>\n            </React.Fragment>\n        );\n    }\n\n    render() {\n        const {\n            currentUserId,\n            messageData,\n        } = this.props;\n\n        const content = [];\n        const removedUserIds = [];\n        for (const message of messageData) {\n            const {\n                postType,\n                actorId,\n            } = message;\n            let userIds = message.userIds;\n\n            if (!this.props.showJoinLeave && actorId !== currentUserId) {\n                const affectsCurrentUser = userIds.indexOf(currentUserId) !== -1;\n\n                if (affectsCurrentUser) {\n                    // Only show the message that the current user was added, etc\n                    userIds = [currentUserId];\n                } else {\n                    // Not something the current user did or was affected by\n                    continue;\n                }\n            }\n\n            if (postType === REMOVE_FROM_CHANNEL) {\n                removedUserIds.push(...userIds);\n                continue;\n            }\n\n            content.push(this.renderMessage(postType, userIds, actorId));\n        }\n\n        if (removedUserIds.length > 0) {\n            const uniqueRemovedUserIds = removedUserIds.filter((id, index, arr) => arr.indexOf(id) === index);\n            content.push(this.renderMessage(REMOVE_FROM_CHANNEL, uniqueRemovedUserIds, currentUserId));\n        }\n\n        return (\n            <React.Fragment>\n                {content}\n            </React.Fragment>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\n\nimport {getMissingProfilesByIds, getMissingProfilesByUsernames} from 'mattermost-redux/actions/users';\nimport {Preferences} from 'mattermost-redux/constants';\nimport {getBool} from 'mattermost-redux/selectors/entities/preferences';\nimport {getCurrentUser, makeGetProfilesByIdsAndUsernames} from 'mattermost-redux/selectors/entities/users';\n\nimport CombinedSystemMessage from './combined_system_message.jsx';\n\nfunction makeMapStateToProps() {\n    const getProfilesByIdsAndUsernames = makeGetProfilesByIdsAndUsernames();\n\n    return (state, ownProps) => {\n        const currentUser = getCurrentUser(state);\n        const {allUserIds, allUsernames} = ownProps;\n\n        return {\n            currentUserId: currentUser.id,\n            currentUsername: currentUser.username,\n            showJoinLeave: getBool(state, Preferences.CATEGORY_ADVANCED_SETTINGS, Preferences.ADVANCED_FILTER_JOIN_LEAVE, true),\n            userProfiles: getProfilesByIdsAndUsernames(state, {allUserIds, allUsernames}),\n        };\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            getMissingProfilesByIds,\n            getMissingProfilesByUsernames,\n        }, dispatch),\n    };\n}\n\nexport default connect(makeMapStateToProps, mapDispatchToProps)(CombinedSystemMessage);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {intlShape} from 'react-intl';\n\nimport {Posts} from 'mattermost-redux/constants';\n\nimport {t} from 'utils/i18n';\n\nimport Markdown from 'components/markdown';\n\nconst typeMessage = {\n    [Posts.POST_TYPES.ADD_TO_CHANNEL]: {\n        id: t('last_users_message.added_to_channel.type'),\n        defaultMessage: 'were **added to the channel** by {actor}.',\n    },\n    [Posts.POST_TYPES.JOIN_CHANNEL]: {\n        id: t('last_users_message.joined_channel.type'),\n        defaultMessage: '**joined the channel**.',\n    },\n    [Posts.POST_TYPES.LEAVE_CHANNEL]: {\n        id: t('last_users_message.left_channel.type'),\n        defaultMessage: '**left the channel**.',\n    },\n    [Posts.POST_TYPES.REMOVE_FROM_CHANNEL]: {\n        id: t('last_users_message.removed_from_channel.type'),\n        defaultMessage: 'were **removed from the channel**.',\n    },\n    [Posts.POST_TYPES.ADD_TO_TEAM]: {\n        id: t('last_users_message.added_to_team.type'),\n        defaultMessage: 'were **added to the team** by {actor}.',\n    },\n    [Posts.POST_TYPES.JOIN_TEAM]: {\n        id: t('last_users_message.joined_team.type'),\n        defaultMessage: '**joined the team**.',\n    },\n    [Posts.POST_TYPES.LEAVE_TEAM]: {\n        id: t('last_users_message.left_team.type'),\n        defaultMessage: '**left the team**.',\n    },\n    [Posts.POST_TYPES.REMOVE_FROM_TEAM]: {\n        id: t('last_users_message.removed_from_team.type'),\n        defaultMessage: 'were **removed from the team**.',\n    },\n};\n\nexport default class LastUsers extends React.PureComponent {\n    static propTypes = {\n        actor: PropTypes.string,\n        expandedLocale: PropTypes.object.isRequired,\n        formatOptions: PropTypes.object.isRequired,\n        postType: PropTypes.string.isRequired,\n        usernames: PropTypes.array.isRequired,\n    };\n\n    static contextTypes = {\n        intl: intlShape,\n    };\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            expand: false,\n        };\n    }\n\n    handleOnClick = (e) => {\n        e.preventDefault();\n\n        this.setState({expand: true});\n    }\n\n    renderMessage = (formattedMessage) => {\n        return (\n            <Markdown\n                message={formattedMessage}\n                options={this.props.formatOptions}\n            />\n        );\n    }\n\n    render() {\n        const {formatMessage} = this.context.intl;\n        const {expand} = this.state;\n        const {\n            actor,\n            expandedLocale,\n            postType,\n            usernames,\n        } = this.props;\n\n        const firstUser = usernames[0];\n        const lastIndex = usernames.length - 1;\n        const lastUser = usernames[lastIndex];\n\n        if (expand) {\n            const formattedMessage = formatMessage(expandedLocale, {\n                users: usernames.slice(0, lastIndex).join(', '),\n                lastUser,\n                actor,\n            });\n\n            return this.renderMessage(formattedMessage);\n        }\n\n        const firstUserMessage = formatMessage(\n            {id: 'last_users_message.first', defaultMessage: '{firstUser} and '},\n            {firstUser}\n        );\n\n        const otherUsersMessage = formatMessage(\n            {id: 'last_users_message.others', defaultMessage: '{numOthers} others '},\n            {numOthers: lastIndex}\n        );\n\n        const actorMessage = formatMessage(\n            {id: typeMessage[postType].id, defaultMessage: typeMessage[postType].defaultMessage},\n            {actor}\n        );\n\n        return (\n            <span>\n                {this.renderMessage(firstUserMessage)}\n                <a onClick={this.handleOnClick}>\n                    {otherUsersMessage}\n                </a>\n                {this.renderMessage(actorMessage)}\n            </span>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\n\nimport {makeGenerateCombinedPost} from 'mattermost-redux/utils/post_list';\n\nimport Post from 'components/post_view/post';\n\nexport function makeMapStateToProps() {\n    const generateCombinedPost = makeGenerateCombinedPost();\n\n    return (state, ownProps) => {\n        return {\n            post: generateCombinedPost(state, ownProps.combinedId),\n            postId: ownProps.combinedId,\n        };\n    };\n}\n\n// Note that this also passes through Post's mapStateToProps\nexport default connect(makeMapStateToProps)(Post);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React, {PureComponent} from 'react';\nimport PropTypes from 'prop-types';\nimport {FormattedMessage} from 'react-intl';\n\nimport * as Utils from 'utils/utils.jsx';\nimport {stripMarkdown} from 'utils/markdown';\n\nimport CommentedOnFilesMessage from 'components/post_view/commented_on_files_message';\n\nexport default class CommentedOn extends PureComponent {\n    static propTypes = {\n        displayName: PropTypes.string,\n        enablePostUsernameOverride: PropTypes.bool,\n        onCommentClick: PropTypes.func.isRequired,\n        post: PropTypes.object.isRequired,\n        actions: PropTypes.shape({\n            showSearchResults: PropTypes.func.isRequired,\n            updateSearchTerms: PropTypes.func.isRequired,\n        }).isRequired,\n    }\n\n    handleOnClick = () => {\n        const {actions} = this.props;\n        const displayName = this.makeUsername();\n        actions.updateSearchTerms(displayName);\n        actions.showSearchResults();\n    }\n\n    makeUsername = () => {\n        const postProps = this.props.post.props;\n        let username = this.props.displayName;\n        if (this.props.enablePostUsernameOverride && postProps && postProps.from_webhook === 'true' && postProps.override_username) {\n            username = postProps.override_username;\n        }\n        return username;\n    }\n\n    makeCommentedOnMessage = () => {\n        const {post} = this.props;\n        let message = '';\n        if (post.message) {\n            message = Utils.replaceHtmlEntities(post.message);\n        } else if (post.file_ids && post.file_ids.length > 0) {\n            message = (\n                <CommentedOnFilesMessage parentPostId={post.id}/>\n            );\n        } else if (post.props && post.props.attachments && post.props.attachments.length > 0) {\n            const attachment = post.props.attachments[0];\n            const webhookMessage = attachment.pretext || attachment.title || attachment.text || attachment.fallback || '';\n            message = Utils.replaceHtmlEntities(webhookMessage);\n        }\n\n        return message;\n    }\n\n    render() {\n        const username = this.makeUsername();\n        const message = this.makeCommentedOnMessage();\n\n        const name = (\n            <a\n                className='theme'\n                onClick={this.handleOnClick}\n            >\n                {username}\n            </a>\n        );\n\n        return (\n            <div\n                data-testid='post-link'\n                className='post__link'\n            >\n                <span>\n                    <FormattedMessage\n                        id='post_body.commentedOn'\n                        defaultMessage=\"Commented on {name}'s message: \"\n                        values={{\n                            name,\n                        }}\n                    />\n                    <a\n                        className='theme'\n                        onClick={this.props.onCommentClick}\n                    >\n                        {stripMarkdown(message)}\n                    </a>\n                </span>\n            </div>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\n\nimport {getConfig} from 'mattermost-redux/selectors/entities/general';\nimport {getUser} from 'mattermost-redux/selectors/entities/users';\n\nimport {showSearchResults, updateSearchTerms} from 'actions/views/rhs';\n\nimport {getDisplayNameByUser} from 'utils/utils.jsx';\n\nimport CommentedOn from './commented_on.jsx';\n\nfunction mapStateToProps(state, ownProps) {\n    let displayName = '';\n    if (ownProps.post) {\n        const user = getUser(state, ownProps.post.user_id);\n        displayName = getDisplayNameByUser(user);\n    }\n\n    const config = getConfig(state);\n    const enablePostUsernameOverride = config.EnablePostUsernameOverride === 'true';\n\n    return {\n        displayName,\n        enablePostUsernameOverride,\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            showSearchResults,\n            updateSearchTerms,\n        }, dispatch),\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CommentedOn);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nexport default class CommentedOnFilesMessage extends React.PureComponent {\n    static propTypes = {\n\n        /*\n         * The id of the post that was commented on\n         */\n        parentPostId: PropTypes.string.isRequired,\n\n        /*\n         * An array of file metadata for the parent post\n         */\n        fileInfos: PropTypes.arrayOf(PropTypes.object),\n    }\n\n    render() {\n        if (!this.props.fileInfos || this.props.fileInfos.length === 0) {\n            return null;\n        }\n\n        let plusMore = null;\n        if (this.props.fileInfos.length > 1) {\n            plusMore = (\n                <FormattedMessage\n                    id='post_body.plusMore'\n                    defaultMessage=' plus {count, number} other {count, plural, one {file} other {files}}'\n                    values={{\n                        count: this.props.fileInfos.length - 1,\n                    }}\n                />\n            );\n        }\n\n        return (\n            <span>\n                {this.props.fileInfos[0].name}\n                {plusMore}\n            </span>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {makeGetFilesForPost} from 'mattermost-redux/selectors/entities/files';\n\nimport CommentedOnFilesMessage from './commented_on_files_message.jsx';\n\nfunction makeMapStateToProps() {\n    const selectFileInfosForPost = makeGetFilesForPost();\n\n    return function mapStateToProps(state, ownProps) {\n        let fileInfos;\n        if (ownProps.parentPostId) {\n            fileInfos = selectFileInfosForPost(state, ownProps.parentPostId);\n        }\n\n        return {\n            fileInfos,\n        };\n    };\n}\n\nexport default connect(makeMapStateToProps)(CommentedOnFilesMessage);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport RecentDate from 'components/recent_date';\n\nimport BasicSeparator from 'components/widgets/separator/basic-separator';\n\nexport default class DateSeparator extends React.PureComponent {\n    static propTypes = {\n        date: PropTypes.oneOfType([\n            PropTypes.number,\n            PropTypes.instanceOf(Date),\n        ]).isRequired,\n        timeZone: PropTypes.string,\n        enableTimezone: PropTypes.bool,\n    }\n\n    render() {\n        const {\n            date,\n            enableTimezone,\n            timeZone,\n        } = this.props;\n        const timezoneProps = enableTimezone && timeZone ? {timeZone} : {};\n\n        return (\n            <BasicSeparator>\n                <RecentDate\n                    {...timezoneProps}\n                    value={date}\n                    weekday='short'\n                    month='short'\n                    day='2-digit'\n                    year='numeric'\n                />\n            </BasicSeparator>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\n\nimport {getCurrentUserId} from 'mattermost-redux/selectors/entities/users';\nimport {getUserTimezone} from 'mattermost-redux/selectors/entities/timezone';\nimport {getUserCurrentTimezone} from 'mattermost-redux/utils/timezone_utils';\n\nimport {areTimezonesEnabledAndSupported} from 'selectors/general';\n\nimport DateSeparator from './date_separator';\n\nfunction mapStateToProps(state, props) {\n    const currentUserId = getCurrentUserId(state);\n\n    let userTimezone;\n    if (props.userTimezone) {\n        userTimezone = props.userTimezone;\n    } else {\n        userTimezone = getUserTimezone(state, currentUserId);\n    }\n\n    return {\n        enableTimezone: areTimezonesEnabledAndSupported(state),\n        timeZone: getUserCurrentTimezone(userTimezone),\n    };\n}\n\nexport default connect(mapStateToProps)(DateSeparator);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nexport default class FailedPostOptions extends React.PureComponent {\n    static propTypes = {\n        post: PropTypes.object.isRequired,\n        actions: PropTypes.shape({\n            createPost: PropTypes.func.isRequired,\n            removePost: PropTypes.func.isRequired,\n        }).isRequired,\n    }\n\n    retryPost = (e) => {\n        e.preventDefault();\n\n        const post = {...this.props.post};\n        Reflect.deleteProperty(post, 'id');\n        this.props.actions.createPost(post);\n    }\n\n    cancelPost = (e) => {\n        e.preventDefault();\n\n        this.props.actions.removePost(this.props.post);\n    }\n\n    render() {\n        return (\n            <span className='pending-post-actions'>\n                <a\n                    className='post-retry'\n                    href='#'\n                    onClick={this.retryPost}\n                >\n                    <FormattedMessage\n                        id='pending_post_actions.retry'\n                        defaultMessage='Retry'\n                    />\n                </a>\n                {' - '}\n                <a\n                    className='post-cancel'\n                    href='#'\n                    onClick={this.cancelPost}\n                >\n                    <FormattedMessage\n                        id='pending_post_actions.cancel'\n                        defaultMessage='Cancel'\n                    />\n                </a>\n            </span>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\nimport {removePost} from 'mattermost-redux/actions/posts';\n\nimport {createPost} from 'actions/post_actions.jsx';\n\nimport FailedPostOptions from './failed_post_options.jsx';\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            createPost,\n            removePost,\n        }, dispatch),\n    };\n}\n\nexport default connect(null, mapDispatchToProps)(FailedPostOptions);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport RecentDate from 'components/recent_date';\n\nexport default class FloatingTimestamp extends React.PureComponent {\n    static propTypes = {\n        isScrolling: PropTypes.bool.isRequired,\n        isMobile: PropTypes.bool,\n        createAt: PropTypes.oneOfType([\n            PropTypes.instanceOf(Date),\n            PropTypes.number,\n        ]).isRequired,\n        isRhsPost: PropTypes.bool,\n    }\n\n    render() {\n        if (!this.props.isMobile) {\n            return null;\n        }\n\n        if (this.props.createAt === 0) {\n            return null;\n        }\n\n        const dateString = (\n            <RecentDate\n                value={this.props.createAt}\n                weekday='short'\n                day='2-digit'\n                month='short'\n                year='numeric'\n            />\n        );\n\n        let className = 'post-list__timestamp';\n        if (this.props.isScrolling) {\n            className += ' scrolling';\n        }\n\n        if (this.props.isRhsPost) {\n            className += ' rhs';\n        }\n\n        return (\n            <div className={className}>\n                <div>\n                    <span>{dateString}</span>\n                </div>\n            </div>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\n\nimport {getPost} from 'mattermost-redux/selectors/entities/posts';\nimport * as PostListUtils from 'mattermost-redux/utils/post_list';\n\nimport FloatingTimestamp from './floating_timestamp';\n\nfunction mapStateToProps(state, ownProps) {\n    let postId = ownProps.postId;\n    if (PostListUtils.isCombinedUserActivityPost(postId)) {\n        const combinedIds = PostListUtils.getPostIdsForCombinedUserActivityPost(postId);\n\n        postId = combinedIds[combinedIds.length - 1];\n    }\n\n    const post = getPost(state, postId);\n\n    return {\n        createAt: post ? post.create_at : 0,\n    };\n}\n\nexport default connect(mapStateToProps)(FloatingTimestamp);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {withRouter} from 'react-router-dom';\nimport {getChannel} from 'mattermost-redux/selectors/entities/channels';\nimport {getUser} from 'mattermost-redux/selectors/entities/users';\nimport {getTeamByName, getTeamMemberships} from 'mattermost-redux/selectors/entities/teams';\n\nimport {Constants} from 'utils/constants';\n\nimport PostView from './post_view.jsx';\n\nexport const isChannelLoading = (params, channel, team, teammate, teamMemberships) => {\n    if (params.postid) {\n        return false;\n    }\n\n    if (channel && team) {\n        if (channel.type !== Constants.DM_CHANNEL && channel.name !== params.identifier) {\n            return true;\n        } else if (channel.type === Constants.DM_CHANNEL && teammate && params.identifier !== `@${teammate.username}`) {\n            return true;\n        }\n\n        const teamId = team.id;\n        if ((channel.team_id && channel.team_id !== teamId) || (teamMemberships && !teamMemberships[teamId])) {\n            return true;\n        }\n\n        return false;\n    }\n\n    return true;\n};\n\nfunction makeMapStateToProps() {\n    return function mapStateToProps(state, ownProps) {\n        const team = getTeamByName(state, ownProps.match.params.team);\n        let teammate;\n\n        const channel = getChannel(state, ownProps.channelId);\n        let lastViewedAt = state.views.channel.lastChannelViewTime[ownProps.channelId];\n        if (channel) {\n            if (channel.type === Constants.DM_CHANNEL && channel.teammate_id) {\n                teammate = getUser(state, channel.teammate_id);\n            }\n            lastViewedAt = channel.last_post_at ? lastViewedAt : channel.last_post_at;\n        }\n\n        const teamMemberships = getTeamMemberships(state);\n        const channelLoading = isChannelLoading(ownProps.match.params, channel, team, teammate, teamMemberships);\n\n        return {\n            lastViewedAt,\n            channelLoading,\n            channel,\n        };\n    };\n}\n\nexport default withRouter(connect(makeMapStateToProps)(PostView));\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport Markdown from 'components/markdown';\n\nexport default class ActionButton extends React.PureComponent {\n    static propTypes = {\n        action: PropTypes.object.isRequired,\n        handleAction: PropTypes.func.isRequired,\n        disabled: PropTypes.bool,\n    }\n\n    render() {\n        const {action, handleAction, disabled} = this.props;\n        return (\n            <button\n                data-action-id={action.id}\n                data-action-cookie={action.cookie}\n                disabled={disabled}\n                key={action.id}\n                onClick={handleAction}\n            >\n                <Markdown\n                    message={action.name}\n                    options={{\n                        mentionHighlight: false,\n                        markdown: false,\n                        autolinkedUrlSchemes: [],\n                    }}\n                />\n            </button>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport MenuActionProvider from 'components/suggestion/menu_action_provider';\nimport GenericUserProvider from 'components/suggestion/generic_user_provider.jsx';\nimport GenericChannelProvider from 'components/suggestion/generic_channel_provider.jsx';\nimport AutocompleteSelector from 'components/autocomplete_selector';\nimport PostContext from 'components/post_view/post_context';\n\nexport default class ActionMenu extends React.PureComponent {\n    static propTypes = {\n        postId: PropTypes.string.isRequired,\n        action: PropTypes.object.isRequired,\n        selected: PropTypes.object,\n        disabled: PropTypes.bool,\n        actions: PropTypes.shape({\n            autocompleteChannels: PropTypes.func.isRequired,\n            selectAttachmentMenuAction: PropTypes.func.isRequired,\n        }).isRequired,\n    }\n\n    constructor(props) {\n        super(props);\n\n        const action = props.action;\n        this.providers = [];\n        if (action) {\n            if (action.data_source === 'users') {\n                this.providers = [new GenericUserProvider()];\n            } else if (action.data_source === 'channels') {\n                this.providers = [new GenericChannelProvider(props.actions.autocompleteChannels)];\n            } else if (action.options) {\n                this.providers = [new MenuActionProvider(action.options)];\n            }\n        }\n\n        let selected;\n        let value = '';\n\n        if (action.default_option && action.options) {\n            selected = action.options.find((option) => option.value === action.default_option);\n            value = selected ? selected.text : '';\n        }\n\n        this.state = {\n            selected,\n            value,\n        };\n    }\n\n    static getDerivedStateFromProps(props, state) {\n        if (props.selected && props.selected !== state.selected) {\n            return {\n                value: props.selected.text,\n                selected: props.selected,\n            };\n        }\n\n        return null;\n    }\n\n    handleSelected = (selected) => {\n        if (!selected) {\n            return;\n        }\n\n        const {action} = this.props;\n\n        let value = '';\n        let text = '';\n        if (action.data_source === 'users') {\n            text = selected.username;\n            value = selected.id;\n        } else if (action.data_source === 'channels') {\n            text = selected.display_name;\n            value = selected.id;\n        } else {\n            text = selected.text;\n            value = selected.value;\n        }\n\n        this.props.actions.selectAttachmentMenuAction(this.props.postId, this.props.action.id, this.props.action.cookie, this.props.action.data_source, text, value);\n\n        this.setState({value: text});\n    }\n\n    render() {\n        const {action, disabled} = this.props;\n\n        return (\n            <PostContext.Consumer>\n                {({handlePopupOpened}) => (\n                    <AutocompleteSelector\n                        providers={this.providers}\n                        onSelected={this.handleSelected}\n                        placeholder={action.name}\n                        inputClassName='post-attachment-dropdown'\n                        value={this.state.value}\n                        toggleFocus={handlePopupOpened}\n                        disabled={disabled}\n                    />\n                )}\n            </PostContext.Consumer>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\n\nimport {autocompleteChannels} from 'actions/channel_actions';\nimport {selectAttachmentMenuAction} from 'actions/views/posts';\n\nimport ActionMenu from './action_menu.jsx';\n\nfunction mapStateToProps(state, ownProps) {\n    const actions = state.views.posts.menuActions[ownProps.postId];\n    const selected = actions && actions[ownProps.action && ownProps.action.id];\n\n    return {\n        selected,\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            selectAttachmentMenuAction,\n            autocompleteChannels,\n        }, dispatch),\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ActionMenu);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\n\nimport {doPostActionWithCookie} from 'mattermost-redux/actions/posts';\n\nimport MessageAttachment from './message_attachment';\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            doPostActionWithCookie,\n        }, dispatch),\n    };\n}\n\nexport default connect(null, mapDispatchToProps)(MessageAttachment);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport truncate from 'lodash/truncate';\n\nimport {isUrlSafe} from 'utils/url';\nimport {handleFormattedTextClick} from 'utils/utils';\nimport {Constants} from 'utils/constants';\n\nimport ExternalImage from 'components/external_image';\nimport Markdown from 'components/markdown';\nimport ShowMore from 'components/post_view/show_more';\nimport SizeAwareImage from 'components/size_aware_image';\n\nimport ActionButton from '../action_button';\nimport ActionMenu from '../action_menu';\nimport LinkOnlyRenderer from 'utils/markdown/link_only_renderer';\n\nexport default class MessageAttachment extends React.PureComponent {\n    static propTypes = {\n\n        /**\n         * The post id\n         */\n        postId: PropTypes.string.isRequired,\n\n        /**\n         * The attachment to render\n         */\n        attachment: PropTypes.object.isRequired,\n\n        /**\n         * Options specific to text formatting\n         */\n        options: PropTypes.object,\n\n        /**\n         * images object for dimensions\n         */\n        imagesMetadata: PropTypes.object,\n\n        actions: PropTypes.shape({\n            doPostActionWithCookie: PropTypes.func.isRequired,\n        }).isRequired,\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            checkOverflow: 0,\n        };\n\n        this.imageProps = {\n            onImageLoaded: this.handleHeightReceived,\n        };\n    }\n\n    componentDidMount() {\n        this.mounted = true;\n    }\n\n    componentWillUnmount() {\n        this.mounted = false;\n    }\n\n    handleHeightReceivedForThumbUrl = ({height}) => {\n        const {attachment} = this.props;\n        if (!this.props.imagesMetadata || (this.props.imagesMetadata && !this.props.imagesMetadata[attachment.thumb_url])) {\n            this.handleHeightReceived(height);\n        }\n    }\n\n    handleHeightReceivedForImageUrl = ({height}) => {\n        const {attachment} = this.props;\n        if (!this.props.imagesMetadata || (this.props.imagesMetadata && !this.props.imagesMetadata[attachment.image_url])) {\n            this.handleHeightReceived(height);\n        }\n    }\n\n    handleHeightReceived = (height) => {\n        if (!this.mounted) {\n            return;\n        }\n\n        if (height > 0) {\n            // Increment checkOverflow to indicate change in height\n            // and recompute textContainer height at ShowMore component\n            // and see whether overflow text of show more/less is necessary or not.\n            this.setState((prevState) => {\n                return {checkOverflow: prevState.checkOverflow + 1};\n            });\n        }\n    };\n\n    renderPostActions = () => {\n        const actions = this.props.attachment.actions;\n        if (!actions || !actions.length) {\n            return '';\n        }\n\n        const content = [];\n\n        actions.forEach((action) => {\n            if (!action.id || !action.name) {\n                return;\n            }\n\n            switch (action.type) {\n            case 'select':\n                content.push(\n                    <ActionMenu\n                        key={action.id}\n                        postId={this.props.postId}\n                        action={action}\n                        disabled={action.disabled}\n                    />\n                );\n                break;\n            case 'button':\n            default:\n                content.push(\n                    <ActionButton\n                        key={action.id}\n                        action={action}\n                        disabled={action.disabled}\n                        handleAction={this.handleAction}\n                    />\n                );\n                break;\n            }\n        });\n\n        return (\n            <div\n                className='attachment-actions'\n            >\n                {content}\n            </div>\n        );\n    };\n\n    handleAction = (e) => {\n        e.preventDefault();\n        const actionId = e.currentTarget.getAttribute('data-action-id');\n        const actionCookie = e.currentTarget.getAttribute('data-action-cookie');\n\n        this.props.actions.doPostActionWithCookie(this.props.postId, actionId, actionCookie);\n    };\n\n    getFieldsTable = () => {\n        const fields = this.props.attachment.fields;\n        if (!fields || !fields.length) {\n            return '';\n        }\n\n        const fieldTables = [];\n\n        let headerCols = [];\n        let bodyCols = [];\n        let rowPos = 0;\n        let lastWasLong = false;\n        let nrTables = 0;\n        const markdown = {markdown: false, mentionHighlight: false};\n\n        fields.forEach((field, i) => {\n            if (rowPos === 2 || !(field.short === true) || lastWasLong) {\n                fieldTables.push(\n                    <table\n                        className='attachment-fields'\n                        key={'attachment__table__' + nrTables}\n                    >\n                        <thead>\n                            <tr>\n                                {headerCols}\n                            </tr>\n                        </thead>\n                        <tbody>\n                            <tr>\n                                {bodyCols}\n                            </tr>\n                        </tbody>\n                    </table>\n                );\n                headerCols = [];\n                bodyCols = [];\n                rowPos = 0;\n                nrTables += 1;\n                lastWasLong = false;\n            }\n            headerCols.push(\n                <th\n                    className='attachment-field__caption'\n                    key={'attachment__field-caption-' + i + '__' + nrTables}\n                    width='50%'\n                >\n                    <Markdown\n                        message={field.title}\n                        options={markdown}\n                    />\n                </th>\n            );\n\n            bodyCols.push(\n                <td\n                    className='attachment-field'\n                    key={'attachment__field-' + i + '__' + nrTables}\n                >\n                    <Markdown message={field.value}/>\n                </td>\n            );\n            rowPos += 1;\n            lastWasLong = !(field.short === true);\n        });\n        if (headerCols.length > 0) { // Flush last fields\n            fieldTables.push(\n                <table\n                    className='attachment-fields'\n                    key={'attachment__table__' + nrTables}\n                >\n                    <thead>\n                        <tr>\n                            {headerCols}\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr>\n                            {bodyCols}\n                        </tr>\n                    </tbody>\n                </table>\n            );\n        }\n        return (\n            <div>\n                {fieldTables}\n            </div>\n        );\n    };\n\n    render() {\n        const {attachment, options} = this.props;\n        let preTextClass = '';\n\n        let preText;\n        if (attachment.pretext) {\n            preTextClass = 'attachment--pretext';\n            preText = (\n                <div className='attachment__thumb-pretext'>\n                    <Markdown message={attachment.pretext}/>\n                </div>\n            );\n        }\n\n        let author = [];\n        if (attachment.author_name || attachment.author_icon) {\n            if (attachment.author_icon) {\n                author.push(\n                    <ExternalImage\n                        key={'attachment__author-icon'}\n                        src={attachment.author_icon}\n                        imageMetadata={this.props.imagesMetadata[attachment.author_icon]}\n                    >\n                        {(iconUrl) => (\n                            <img\n                                alt={'attachment author icon'}\n                                className='attachment__author-icon'\n                                src={iconUrl}\n                                height='14'\n                                width='14'\n                            />\n                        )}\n                    </ExternalImage>\n                );\n            }\n            if (attachment.author_name) {\n                author.push(\n                    <span\n                        className='attachment__author-name'\n                        key={'attachment__author-name'}\n                    >\n                        {attachment.author_name}\n                    </span>\n                );\n            }\n        }\n        if (attachment.author_link && isUrlSafe(attachment.author_link)) {\n            author = (\n                <a\n                    href={attachment.author_link}\n                    target='_blank'\n                    rel='noopener noreferrer'\n                >\n                    {author}\n                </a>\n            );\n        }\n\n        let title;\n        if (attachment.title) {\n            if (attachment.title_link && isUrlSafe(attachment.title_link)) {\n                title = (\n                    <h1 className='attachment__title'>\n                        <a\n                            className='attachment__title-link'\n                            href={attachment.title_link}\n                            target='_blank'\n                            rel='noopener noreferrer'\n                        >\n                            {attachment.title}\n                        </a>\n                    </h1>\n                );\n            } else {\n                title = (\n                    <h1 className='attachment__title'>\n                        <Markdown\n                            message={attachment.title}\n                            options={{\n                                mentionHighlight: false,\n                                renderer: new LinkOnlyRenderer(),\n                                autolinkedUrlSchemes: [],\n                            }}\n                        />\n                    </h1>\n                );\n            }\n        }\n\n        let attachmentText;\n        if (attachment.text) {\n            attachmentText = (\n                <ShowMore\n                    checkOverflow={this.state.checkOverflow}\n                    isAttachmentText={true}\n                    text={attachment.text}\n                >\n                    <Markdown\n                        message={attachment.text || ''}\n                        options={options}\n                        imageProps={this.imageProps}\n                    />\n                </ShowMore>\n            );\n        }\n\n        let image;\n        if (attachment.image_url) {\n            const imageMetadata = this.props.imagesMetadata[attachment.image_url];\n\n            image = (\n                <div className='attachment__image-container'>\n                    <ExternalImage\n                        src={attachment.image_url}\n                        imageMetadata={imageMetadata}\n                    >\n                        {(imageUrl) => (\n                            <SizeAwareImage\n                                className='attachment__image'\n                                onImageLoaded={this.handleHeightReceivedForImageUrl}\n                                src={imageUrl}\n                                dimensions={imageMetadata}\n                            />\n                        )}\n                    </ExternalImage>\n                </div>\n            );\n        }\n\n        let footer;\n        if (attachment.footer) {\n            let footerIcon;\n            if (attachment.footer_icon) {\n                const footerIconMetadata = this.props.imagesMetadata[attachment.footer_icon];\n\n                footerIcon = (\n                    <ExternalImage\n                        src={attachment.footer_icon}\n                        imageMetadata={footerIconMetadata}\n                    >\n                        {(footerIconUrl) => (\n                            <img\n                                alt={'attachment footer icon'}\n                                className='attachment__footer-icon'\n                                src={footerIconUrl}\n                                height='16'\n                                width='16'\n                            />\n                        )}\n                    </ExternalImage>\n                );\n            }\n\n            footer = (\n                <div className='attachment__footer-container'>\n                    {footerIcon}\n                    <span>{truncate(attachment.footer, {length: Constants.MAX_ATTACHMENT_FOOTER_LENGTH, omission: ''})}</span>\n                </div>\n            );\n        }\n\n        let thumb;\n        if (attachment.thumb_url) {\n            const thumbMetadata = this.props.imagesMetadata[attachment.thumb_url];\n\n            thumb = (\n                <div className='attachment__thumb-container'>\n                    <ExternalImage\n                        src={attachment.thumb_url}\n                        imageMetadata={thumbMetadata}\n                    >\n                        {(thumbUrl) => (\n                            <SizeAwareImage\n                                onImageLoaded={this.handleHeightReceivedForThumbUrl}\n                                src={thumbUrl}\n                                dimensions={thumbMetadata}\n                            />\n                        )}\n                    </ExternalImage>\n                </div>\n            );\n        }\n\n        const fields = this.getFieldsTable();\n        const actions = this.renderPostActions();\n\n        let useBorderStyle;\n        if (attachment.color && attachment.color[0] === '#') {\n            useBorderStyle = {borderLeftColor: attachment.color};\n        }\n\n        return (\n            <div\n                className={'attachment ' + preTextClass}\n                ref='attachment'\n            >\n                {preText}\n                <div className='attachment__content'>\n                    <div\n                        className={useBorderStyle ? 'clearfix attachment__container' : 'clearfix attachment__container attachment__container--' + attachment.color}\n                        style={useBorderStyle}\n                    >\n                        {author}\n                        {title}\n                        <div>\n                            <div\n                                className={thumb ? 'attachment__body' : 'attachment__body attachment__body--no_thumb'}\n                                onClick={handleFormattedTextClick}\n                            >\n                                {attachmentText}\n                                {image}\n                                {fields}\n                                {footer}\n                                {actions}\n                            </div>\n                            {thumb}\n                            <div style={style.footer}/>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nconst style = {\n    footer: {clear: 'both'},\n};\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport MessageAttachment from './message_attachment';\n\nexport default class MessageAttachmentList extends React.PureComponent {\n    static propTypes = {\n\n        /**\n         * The post id\n         */\n        postId: PropTypes.string.isRequired,\n\n        /**\n         * Array of attachments to render\n         */\n        attachments: PropTypes.array.isRequired,\n\n        /**\n         * Options specific to text formatting\n         */\n        options: PropTypes.object,\n\n        /**\n         * Images object used for creating placeholders to prevent scroll popup\n         */\n        imagesMetadata: PropTypes.object,\n    }\n\n    static defaultProps = {\n        imagesMetadata: {},\n    }\n\n    render() {\n        const content = [];\n        this.props.attachments.forEach((attachment, i) => {\n            content.push(\n                <MessageAttachment\n                    attachment={attachment}\n                    postId={this.props.postId}\n                    key={'att_' + i}\n                    options={this.props.options}\n                    imagesMetadata={this.props.imagesMetadata}\n                />\n            );\n        });\n\n        return (\n            <div\n                id={`messageAttachmentList_${this.props.postId}`}\n                className='attachment__list'\n            >\n                {content}\n            </div>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nimport NotificationSeparator from 'components/widgets/separator/notification-separator';\n\nexport default class NewMessageSeparator extends React.PureComponent {\n    static propTypes = {\n        separatorId: PropTypes.string.isRequired,\n    }\n\n    render() {\n        return (\n            <NotificationSeparator id={this.props.separatorId}>\n                <FormattedMessage\n                    id='posts_view.newMsg'\n                    defaultMessage='New Messages'\n                />\n\n            </NotificationSeparator>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {createSelector} from 'reselect';\n\nimport {Posts} from 'mattermost-redux/constants';\nimport {getAllPosts, getPostIdsInChannel} from 'mattermost-redux/selectors/entities/posts';\nimport {getCurrentUserId} from 'mattermost-redux/selectors/entities/users';\nimport {makePreparePostIdsForPostList} from 'mattermost-redux/utils/post_list';\n\nimport NewMessagesBelow from './new_messages_below';\n\nexport function makeCountUnreadsBelow() {\n    return createSelector(\n        getAllPosts,\n        getCurrentUserId,\n        (state, postIds) => postIds,\n        (state, postIds, lastViewedBottom) => lastViewedBottom,\n        (allPosts, currentUserId, postIds, lastViewedBottom) => {\n            if (!postIds) {\n                return 0;\n            }\n\n            // Count the number of new posts made by other users that haven't been deleted\n            return postIds.map((id) => allPosts[id]).filter((post) => {\n                return post &&\n                    post.user_id !== currentUserId &&\n                    post.state !== Posts.POST_DELETED &&\n                    post.create_at > lastViewedBottom;\n            }).length;\n        }\n    );\n}\n\nfunction makeMapStateToProps() {\n    const countUnreadsBelow = makeCountUnreadsBelow();\n    const preparePostIdsForPostList = makePreparePostIdsForPostList();\n\n    return (state, ownProps) => {\n        let postIds = getPostIdsInChannel(state, ownProps.channelId);\n\n        if (postIds) {\n            postIds = preparePostIdsForPostList(state, {postIds, lastViewedAt: ownProps.lastViewedBottom, channelId: ownProps.channelId});\n        }\n\n        return {\n            newMessages: countUnreadsBelow(state, postIds, ownProps.lastViewedBottom),\n        };\n    };\n}\n\nexport default connect(makeMapStateToProps)(NewMessagesBelow);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nimport UnreadBelowIcon from 'components/widgets/icons/unread_below_icon';\n\nexport default class NewMessagesBelow extends React.PureComponent {\n    static propTypes = {\n        atBottom: PropTypes.bool,\n        onClick: PropTypes.func.isRequired,\n        newMessages: PropTypes.number,\n    };\n\n    static defaultProps = {\n        newMessages: 0,\n    };\n\n    isVisible() {\n        return this.props.newMessages > 0 && !this.props.atBottom;\n    }\n\n    render() {\n        let className = 'new-messages__button';\n        if (this.isVisible()) {\n            className += ' visible';\n        }\n        return (\n            <div\n                className={className}\n                ref='indicator'\n            >\n                <div onClick={this.props.onClick}>\n                    <FormattedMessage\n                        id='posts_view.newMsgBelow'\n                        defaultMessage='New {count, plural, one {message} other {messages}}'\n                        values={{count: this.props.newMessages}}\n                    />\n                    <UnreadBelowIcon className='icon icon__unread'/>\n                </div>\n            </div>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\n\nimport {Posts} from 'mattermost-redux/constants';\nimport {getPost, makeIsPostCommentMention} from 'mattermost-redux/selectors/entities/posts';\nimport {get} from 'mattermost-redux/selectors/entities/preferences';\nimport {getCurrentUserId} from 'mattermost-redux/selectors/entities/users';\nimport {isSystemMessage} from 'mattermost-redux/utils/post_utils';\n\nimport {markPostAsUnread} from 'actions/post_actions';\nimport {selectPost, selectPostCard} from 'actions/views/rhs';\n\nimport {Preferences} from 'utils/constants';\nimport {makeCreateAriaLabelForPost} from 'utils/post_utils.jsx';\n\nimport Post from './post.jsx';\n\n// isFirstReply returns true when the given post a comment that isn't part of the same thread as the previous post.\nexport function isFirstReply(post, previousPost) {\n    if (post.root_id) {\n        if (previousPost) {\n            // Returns true as long as the previous post is part of a different thread\n            return post.root_id !== previousPost.id && post.root_id !== previousPost.root_id;\n        }\n\n        // The previous post is not a real post\n        return true;\n    }\n\n    // This post is not a reply\n    return false;\n}\n\nfunction makeMapStateToProps() {\n    const isPostCommentMention = makeIsPostCommentMention();\n    const createAriaLabelForPost = makeCreateAriaLabelForPost();\n\n    return (state, ownProps) => {\n        const post = ownProps.post || getPost(state, ownProps.postId);\n        let replyCount = post.reply_count;\n        if (post.root_id !== '') {\n            const rootPost = getPost(state, post.root_id);\n            replyCount = rootPost ? rootPost.reply_count : 0;\n        }\n        let previousPost = null;\n        if (ownProps.previousPostId) {\n            previousPost = getPost(state, ownProps.previousPostId);\n        }\n\n        let consecutivePostByUser = false;\n        let previousPostIsComment = false;\n\n        if (previousPost) {\n            consecutivePostByUser = post.user_id === previousPost.user_id && // The post is by the same user\n                post.create_at - previousPost.create_at <= Posts.POST_COLLAPSE_TIMEOUT && // And was within a short time period\n                !(post.props && post.props.from_webhook) && !(previousPost.props && previousPost.props.from_webhook) && // And neither is from a webhook\n                !isSystemMessage(post) && !isSystemMessage(previousPost); // And neither is a system message\n\n            previousPostIsComment = Boolean(previousPost.root_id);\n        }\n\n        return {\n            post,\n            createAriaLabel: createAriaLabelForPost(state, post),\n            currentUserId: getCurrentUserId(state),\n            isFirstReply: isFirstReply(post, previousPost),\n            consecutivePostByUser,\n            previousPostIsComment,\n            replyCount,\n            isCommentMention: isPostCommentMention(state, post.id),\n            center: get(state, Preferences.CATEGORY_DISPLAY_SETTINGS, Preferences.CHANNEL_DISPLAY_MODE, Preferences.CHANNEL_DISPLAY_MODE_DEFAULT) === Preferences.CHANNEL_DISPLAY_MODE_CENTERED,\n            compactDisplay: get(state, Preferences.CATEGORY_DISPLAY_SETTINGS, Preferences.MESSAGE_DISPLAY, Preferences.MESSAGE_DISPLAY_DEFAULT) === Preferences.MESSAGE_DISPLAY_COMPACT,\n        };\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            selectPost,\n            selectPostCard,\n            markPostAsUnread,\n        }, dispatch),\n    };\n}\n\nexport default connect(makeMapStateToProps, mapDispatchToProps)(Post);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {Posts} from 'mattermost-redux/constants';\nimport {intlShape} from 'react-intl';\nimport {isMeMessage as checkIsMeMessage} from 'mattermost-redux/utils/post_utils';\n\nimport * as PostUtils from 'utils/post_utils.jsx';\nimport {A11yCustomEventTypes} from 'utils/constants';\nimport PostProfilePicture from 'components/post_profile_picture';\nimport PostBody from 'components/post_view/post_body';\nimport PostHeader from 'components/post_view/post_header';\nimport PostContext from 'components/post_view/post_context';\n\nexport default class Post extends React.PureComponent {\n    static propTypes = {\n\n        /**\n         * The post to render\n         */\n        post: PropTypes.object.isRequired,\n\n        /**\n         * The function to create an aria-label\n         */\n        createAriaLabel: PropTypes.func.isRequired,\n\n        /**\n         * The logged in user ID\n         */\n        currentUserId: PropTypes.string.isRequired,\n\n        /**\n         * Set to center the post\n         */\n        center: PropTypes.bool,\n\n        /**\n         * Set to render post compactly\n         */\n        compactDisplay: PropTypes.bool,\n\n        /**\n         * Set to render a preview of the parent post above this reply\n         */\n        isFirstReply: PropTypes.bool,\n\n        /**\n         * Set to highlight the background of the post\n         */\n        shouldHighlight: PropTypes.bool,\n\n        /**\n         * Set to render this post as if it was attached to the previous post\n         */\n        consecutivePostByUser: PropTypes.bool,\n\n        /**\n         * Set if the previous post is a comment\n         */\n        previousPostIsComment: PropTypes.bool,\n\n        /*\n         * Function called when the post options dropdown is opened\n         */\n        togglePostMenu: PropTypes.func,\n\n        /**\n         * Set to render this comment as a mention\n         */\n        isCommentMention: PropTypes.bool,\n\n        /**\n         * The number of replies in the same thread as this post\n         */\n        replyCount: PropTypes.number,\n\n        actions: PropTypes.shape({\n            selectPost: PropTypes.func.isRequired,\n            selectPostCard: PropTypes.func.isRequired,\n            markPostAsUnread: PropTypes.func.isRequired,\n        }).isRequired,\n    }\n\n    static contextTypes = {\n        intl: intlShape.isRequired,\n    };\n\n    static defaultProps = {\n        post: {},\n    };\n\n    constructor(props) {\n        super(props);\n\n        this.postRef = React.createRef();\n\n        this.state = {\n            dropdownOpened: false,\n            hover: false,\n            alt: false,\n            a11yActive: false,\n            currentAriaLabel: '',\n            ariaHidden: true,\n        };\n    }\n\n    componentDidMount() {\n        this.postRef.current.addEventListener(A11yCustomEventTypes.ACTIVATE, this.handleA11yActivateEvent);\n        document.addEventListener('keydown', this.handleAlt);\n        document.addEventListener('keyup', this.handleAlt);\n        this.postRef.current.addEventListener(A11yCustomEventTypes.DEACTIVATE, this.handleA11yDeactivateEvent);\n    }\n    componentWillUnmount() {\n        this.postRef.current.removeEventListener(A11yCustomEventTypes.ACTIVATE, this.handleA11yActivateEvent);\n        document.removeEventListener('keydown', this.handleAlt);\n        document.removeEventListener('keyup', this.handleAlt);\n        this.postRef.current.removeEventListener(A11yCustomEventTypes.DEACTIVATE, this.handleA11yDeactivateEvent);\n    }\n\n    componentDidUpdate() {\n        if (this.state.a11yActive) {\n            this.postRef.current.dispatchEvent(new Event(A11yCustomEventTypes.UPDATE));\n        }\n    }\n\n    handleCommentClick = (e) => {\n        e.preventDefault();\n\n        const post = this.props.post;\n        if (!post) {\n            return;\n        }\n        this.props.actions.selectPost(post);\n    }\n\n    handleCardClick = (post) => {\n        if (!post) {\n            return;\n        }\n        this.props.actions.selectPostCard(post);\n    }\n\n    handlePostClick = (e) => {\n        const post = this.props.post;\n        if (!post) {\n            return;\n        }\n        if (e.altKey) {\n            this.props.actions.markPostAsUnread(post);\n        }\n    }\n\n    handleDropdownOpened = (opened) => {\n        if (this.props.togglePostMenu) {\n            this.props.togglePostMenu(opened);\n        }\n\n        this.setState({\n            dropdownOpened: opened,\n        });\n    }\n\n    hasSameRoot = (props) => {\n        const post = props.post;\n\n        if (props.isFirstReply) {\n            return false;\n        } else if (!post.root_id && !props.previousPostIsComment && props.consecutivePostByUser) {\n            return true;\n        } else if (post.root_id) {\n            return true;\n        }\n\n        return false;\n    }\n\n    getClassName = (post, isSystemMessage, isMeMessage, fromWebhook, fromAutoResponder, fromBot) => {\n        let className = 'post';\n\n        if (post.failed || post.state === Posts.POST_DELETED) {\n            className += ' post--hide-controls';\n        }\n\n        if (this.props.shouldHighlight) {\n            className += ' post--highlight';\n        }\n\n        let rootUser = '';\n        if (this.hasSameRoot(this.props) && !fromBot) {\n            rootUser = 'same--root';\n        } else {\n            rootUser = 'other--root';\n        }\n\n        let currentUserCss = '';\n        if (this.props.currentUserId === post.user_id && !fromWebhook && !isSystemMessage) {\n            currentUserCss = 'current--user';\n        }\n\n        let sameUserClass = '';\n        if (this.props.consecutivePostByUser) {\n            sameUserClass = 'same--user';\n        }\n\n        let postType = '';\n        if (post.root_id && post.root_id.length > 0) {\n            postType = 'post--comment';\n        } else if (this.props.replyCount > 0) {\n            postType = 'post--root';\n            sameUserClass = '';\n            rootUser = '';\n        }\n\n        if (isSystemMessage || isMeMessage) {\n            className += ' post--system';\n            if (isSystemMessage) {\n                currentUserCss = '';\n                postType = '';\n                rootUser = '';\n            }\n        }\n\n        if (fromAutoResponder) {\n            postType = 'post--comment same--root';\n        }\n\n        if (this.props.compactDisplay) {\n            className += ' post--compact';\n        }\n\n        if (this.state.dropdownOpened || this.state.a11yActive) {\n            className += ' post--hovered';\n        }\n\n        if (post.is_pinned) {\n            className += ' post--pinned';\n        }\n\n        if (this.state.alt) {\n            className += ' cursor--pointer';\n        }\n\n        return className + ' ' + sameUserClass + ' ' + rootUser + ' ' + postType + ' ' + currentUserCss;\n    }\n\n    setHover = () => {\n        this.setState({hover: true});\n    }\n\n    unsetHover = () => {\n        this.setState({hover: false});\n    }\n\n    handleAlt = (e) => {\n        this.setState({alt: e.altKey});\n    }\n\n    handleA11yActivateEvent = () => {\n        this.setState({\n            a11yActive: true,\n            ariaHidden: false,\n        });\n    }\n\n    handleA11yDeactivateEvent = () => {\n        this.setState({\n            a11yActive: false,\n            ariaHidden: true,\n        });\n    }\n\n    handlePostFocus = () => {\n        this.setState({currentAriaLabel: this.props.createAriaLabel(this.context.intl)});\n    }\n\n    render() {\n        const {post} = this.props;\n        if (!post.id) {\n            return null;\n        }\n\n        const isSystemMessage = PostUtils.isSystemMessage(post);\n        const isMeMessage = checkIsMeMessage(post);\n        const fromAutoResponder = PostUtils.fromAutoResponder(post);\n        const fromWebhook = post && post.props && post.props.from_webhook === 'true';\n        const fromBot = post && post.props && post.props.from_bot === 'true';\n\n        let profilePic;\n        const hideProfilePicture = this.hasSameRoot(this.props) && this.props.consecutivePostByUser && (!post.root_id && this.props.replyCount === 0) && !fromBot;\n        if (!hideProfilePicture) {\n            profilePic = (\n                <PostProfilePicture\n                    compactDisplay={this.props.compactDisplay}\n                    post={post}\n                    userId={post.user_id}\n                />\n            );\n\n            if (fromAutoResponder) {\n                profilePic = (\n                    <span className='auto-responder'>\n                        {profilePic}\n                    </span>\n                );\n            }\n        }\n\n        let centerClass = '';\n        if (this.props.center) {\n            centerClass = 'center';\n        }\n\n        return (\n            <PostContext.Provider value={{handlePopupOpened: this.handleDropdownOpened}}>\n                <div\n                    ref={this.postRef}\n                    id={'post_' + post.id}\n                    data-testid='postView'\n                    role='listitem'\n                    className={`a11y__section ${this.getClassName(post, isSystemMessage, isMeMessage, fromWebhook, fromAutoResponder, fromBot)}`}\n                    tabIndex='0'\n                    onFocus={this.handlePostFocus}\n                    onBlur={this.removeFocus}\n                    onMouseOver={this.setHover}\n                    onMouseLeave={this.unsetHover}\n                    onTouchStart={this.setHover}\n                    onClick={this.handlePostClick}\n                    aria-label={this.state.currentAriaLabel}\n                    aria-atomic={true}\n                >\n                    <div\n                        role='application'\n                        data-testid='postContent'\n                        className={'post__content ' + centerClass}\n                        aria-hidden={this.state.ariaHidden}\n                    >\n                        <div className='post__img'>\n                            {profilePic}\n                        </div>\n                        <div>\n                            <PostHeader\n                                post={post}\n                                handleCommentClick={this.handleCommentClick}\n                                handleCardClick={this.handleCardClick}\n                                handleDropdownOpened={this.handleDropdownOpened}\n                                compactDisplay={this.props.compactDisplay}\n                                isFirstReply={this.props.isFirstReply}\n                                replyCount={this.props.replyCount}\n                                showTimeWithoutHover={!hideProfilePicture}\n                                hover={this.state.hover || this.state.a11yActive}\n                            />\n                            <PostBody\n                                post={post}\n                                handleCommentClick={this.handleCommentClick}\n                                compactDisplay={this.props.compactDisplay}\n                                isCommentMention={this.props.isCommentMention}\n                                isFirstReply={this.props.isFirstReply}\n                            />\n                        </div>\n                    </div>\n                </div>\n            </PostContext.Provider>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {bindActionCreators} from 'redux';\nimport {connect} from 'react-redux';\nimport {addChannelMember} from 'mattermost-redux/actions/channels';\nimport {removePost} from 'mattermost-redux/actions/posts';\nimport {getPost} from 'mattermost-redux/selectors/entities/posts';\nimport {getChannel} from 'mattermost-redux/selectors/entities/channels';\nimport {getCurrentUser} from 'mattermost-redux/selectors/entities/users';\n\nimport PostAddChannelMember from './post_add_channel_member.jsx';\n\nfunction mapStateToProps(state, ownProps) {\n    const post = getPost(state, ownProps.postId) || {};\n    let channelType = '';\n    if (post && post.channel_id) {\n        const channel = getChannel(state, post.channel_id);\n        if (channel && channel.type) {\n            channelType = channel.type;\n        }\n    }\n\n    return {\n        channelType,\n        currentUser: getCurrentUser(state),\n        post,\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            addChannelMember,\n            removePost,\n        }, dispatch),\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PostAddChannelMember);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nimport {sendAddToChannelEphemeralPost} from 'actions/global_actions.jsx';\nimport {Constants} from 'utils/constants';\nimport {t} from 'utils/i18n';\nimport AtMention from 'components/at_mention';\n\nexport default class PostAddChannelMember extends React.PureComponent {\n    static propTypes = {\n\n        /*\n        * Current user\n        */\n        currentUser: PropTypes.object.isRequired,\n\n        /*\n        * Type of current channel\n        */\n        channelType: PropTypes.string.isRequired,\n\n        /*\n        * ID of ephemeral post (at-mention's \"add to channel\" post)\n        */\n        postId: PropTypes.string.isRequired,\n\n        /*\n        * Ephemeral post (at-mention's \"add to channel\" post)\n        */\n        post: PropTypes.object.isRequired,\n\n        /*\n        * user ids to add to channel\n        */\n        userIds: PropTypes.array.isRequired,\n\n        /*\n        * usernames to add to channel\n        */\n        usernames: PropTypes.array.isRequired,\n\n        noGroupsUsernames: PropTypes.array.isRequired,\n\n        actions: PropTypes.shape({\n\n            /*\n            * Function to add members to channel\n            */\n            addChannelMember: PropTypes.func.isRequired,\n\n            /*\n            * Function to remove post (ephemeral)\n            */\n            removePost: PropTypes.func.isRequired,\n        }).isRequired,\n    }\n\n    handleAddChannelMember = () => {\n        const {currentUser, post, userIds, usernames} = this.props;\n\n        if (post && post.channel_id) {\n            let createAt = post.create_at;\n            userIds.forEach((userId, index) => {\n                createAt++;\n                this.props.actions.addChannelMember(post.channel_id, userId);\n                sendAddToChannelEphemeralPost(currentUser, usernames[index], userId, post.channel_id, post.root_id, createAt);\n            });\n\n            this.props.actions.removePost(post);\n        }\n    }\n\n    generateAtMentions(usernames = []) {\n        if (usernames.length === 1) {\n            return (\n                <AtMention mentionName={usernames[0]}/>\n            );\n        } else if (usernames.length > 1) {\n            function andSeparator(key) {\n                return (\n                    <FormattedMessage\n                        key={key}\n                        id={'post_body.check_for_out_of_channel_mentions.link.and'}\n                        defaultMessage={' and '}\n                    />\n                );\n            }\n\n            function commaSeparator(key) {\n                return <span key={key}>{', '}</span>;\n            }\n\n            return (\n                <span>\n                    {\n                        usernames.map((username) => {\n                            return (\n                                <AtMention\n                                    key={username}\n                                    mentionName={username}\n                                />\n                            );\n                        }).reduce((acc, el, idx, arr) => {\n                            if (idx === 0) {\n                                return [el];\n                            } else if (idx === arr.length - 1) {\n                                return [...acc, andSeparator(idx), el];\n                            }\n\n                            return [...acc, commaSeparator(idx), el];\n                        }, [])\n                    }\n                </span>\n            );\n        }\n\n        return '';\n    }\n\n    render() {\n        const {channelType, postId, usernames, noGroupsUsernames} = this.props;\n        if (!postId || !channelType) {\n            return null;\n        }\n\n        let linkId;\n        let linkText;\n        if (channelType === Constants.PRIVATE_CHANNEL) {\n            linkId = t('post_body.check_for_out_of_channel_mentions.link.private');\n            linkText = 'add them to this private channel';\n        } else if (channelType === Constants.OPEN_CHANNEL) {\n            linkId = t('post_body.check_for_out_of_channel_mentions.link.public');\n            linkText = 'add them to the channel';\n        }\n\n        let outOfChannelMessageID;\n        let outOfChannelMessageText;\n        const outOfChannelAtMentions = this.generateAtMentions(usernames);\n        if (usernames.length === 1) {\n            outOfChannelMessageID = t('post_body.check_for_out_of_channel_mentions.message.one');\n            outOfChannelMessageText = 'did not get notified by this mention because they are not in the channel. Would you like to ';\n        } else if (usernames.length > 1) {\n            outOfChannelMessageID = t('post_body.check_for_out_of_channel_mentions.message.multiple');\n            outOfChannelMessageText = 'did not get notified by this mention because they are not in the channel. Would you like to ';\n        }\n\n        let outOfGroupsMessageID;\n        let outOfGroupsMessageText;\n        const outOfGroupsAtMentions = this.generateAtMentions(noGroupsUsernames);\n        if (noGroupsUsernames.length) {\n            outOfGroupsMessageID = t('post_body.check_for_out_of_channel_groups_mentions.message');\n            outOfGroupsMessageText = 'did not get notified by this mention because they are not in the channel. They cannot be added to the channel because they are not a member of the linked groups. To add them to this channel, they must be added to the linked groups.';\n        }\n\n        var outOfChannelMessage = null;\n        var outOfGroupsMessage = null;\n\n        if (usernames.length) {\n            outOfChannelMessage = (\n                <p>\n                    {outOfChannelAtMentions}\n                    {' '}\n                    <FormattedMessage\n                        id={outOfChannelMessageID}\n                        defaultMessage={outOfChannelMessageText}\n                    />\n                    <a\n                        id='add_channel_member_link'\n                        onClick={this.handleAddChannelMember}\n                    >\n                        <FormattedMessage\n                            id={linkId}\n                            defaultMessage={linkText}\n                        />\n                    </a>\n                    <FormattedMessage\n                        id={'post_body.check_for_out_of_channel_mentions.message_last'}\n                        defaultMessage={'? They will have access to all message history.'}\n                    />\n                </p>\n            );\n        }\n\n        if (noGroupsUsernames.length) {\n            outOfGroupsMessage = (\n                <p>\n                    {outOfGroupsAtMentions}\n                    {' '}\n                    <FormattedMessage\n                        id={outOfGroupsMessageID}\n                        defaultMessage={outOfGroupsMessageText}\n                    />\n                </p>\n            );\n        }\n\n        return (\n            <>\n                {outOfChannelMessage}\n                {outOfGroupsMessage}\n            </>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nexport function getDistanceBW2Points(point1, point2, xAttr = 'x', yAttr = 'y') {\n    return Math.sqrt(Math.pow(point1[xAttr] - point2[xAttr], 2) + Math.pow(point1[yAttr] - point2[yAttr], 2));\n}\n\n/**\n  * Funtion to return nearest point of given pivot point.\n  * It return two points one nearest and other nearest but having both coorditanes smaller than the given point's coordinates.\n  */\nexport function getNearestPoint(pivotPoint, points, xAttr = 'x', yAttr = 'y') {\n    var nearestPoint = {};\n    for (const point of points) {\n        if (typeof nearestPoint[xAttr] === 'undefined' || typeof nearestPoint[yAttr] === 'undefined') {\n            nearestPoint = point;\n        } else if (getDistanceBW2Points(point, pivotPoint, xAttr, yAttr) < getDistanceBW2Points(nearestPoint, pivotPoint, xAttr, yAttr)) {\n        // Check for bestImage\n            nearestPoint = point;\n        }\n    }\n    return nearestPoint;\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\nimport {getConfig} from 'mattermost-redux/selectors/entities/general';\nimport {getOpenGraphMetadataForUrl} from 'mattermost-redux/selectors/entities/posts';\nimport {getBool} from 'mattermost-redux/selectors/entities/preferences';\nimport {getCurrentUserId} from 'mattermost-redux/selectors/entities/users';\n\nimport {editPost} from 'actions/views/posts';\n\nimport {Preferences} from 'utils/constants';\n\nimport PostAttachmentOpenGraph from './post_attachment_opengraph.jsx';\n\nfunction mapStateToProps(state, ownProps) {\n    const config = getConfig(state);\n\n    return {\n        currentUserId: getCurrentUserId(state),\n        enableLinkPreviews: config.EnableLinkPreviews === 'true',\n        openGraphData: getOpenGraphMetadataForUrl(state, ownProps.link),\n        previewEnabled: getBool(state, Preferences.CATEGORY_DISPLAY_SETTINGS, Preferences.LINK_PREVIEW_DISPLAY, true),\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            editPost,\n        }, dispatch),\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PostAttachmentOpenGraph);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport ExternalImage from 'components/external_image';\nimport SizeAwareImage from 'components/size_aware_image';\n\nimport {PostTypes} from 'utils/constants';\nimport {useSafeUrl} from 'utils/url';\nimport {isSystemMessage} from 'utils/post_utils.jsx';\n\nimport {getNearestPoint} from './get_nearest_point';\n\nconst DIMENSIONS_NEAREST_POINT_IMAGE = {\n    height: 80,\n    width: 80,\n};\n\nexport default class PostAttachmentOpenGraph extends React.PureComponent {\n    static propTypes = {\n\n        /**\n         * The link to display the open graph data for\n         */\n        link: PropTypes.string.isRequired,\n\n        /**\n         * The ID of the current user\n         */\n        currentUserId: PropTypes.string,\n\n        /**\n         * The post where this link is included\n         */\n        post: PropTypes.object,\n\n        /**\n         * The open graph data to render\n         */\n        openGraphData: PropTypes.object,\n\n        /**\n         * Whether or not the server has link previews enabled.\n         */\n        enableLinkPreviews: PropTypes.bool.isRequired,\n\n        /**\n         * Whether or not the user has link previews enabled.\n         */\n        previewEnabled: PropTypes.bool.isRequired,\n\n        /**\n         * Whether or not the image in the OpenGraph preview has been collapsed.\n         */\n        isEmbedVisible: PropTypes.bool,\n\n        toggleEmbedVisibility: PropTypes.func.isRequired,\n\n        actions: PropTypes.shape({\n            editPost: PropTypes.func.isRequired,\n        }).isRequired,\n    }\n\n    getImageMetadata = (imageUrl) => {\n        if (!imageUrl) {\n            return null;\n        }\n\n        const imagesMetadata = this.props.post.metadata.images;\n        if (!imagesMetadata) {\n            return null;\n        }\n\n        return imagesMetadata[imageUrl];\n    }\n\n    isLargeImage = (dimensions) => {\n        if (!dimensions) {\n            return false;\n        }\n\n        const {height, width} = dimensions;\n\n        const largeImageMinRatio = 16 / 9;\n        const largeImageMinWidth = 150;\n\n        const imageRatio = width / height;\n\n        return width >= largeImageMinWidth && imageRatio >= largeImageMinRatio;\n    }\n\n    renderImageToggle() {\n        return (\n            <button\n                className={'style--none post__embed-visibility color--link'}\n                data-expanded={this.props.isEmbedVisible}\n                aria-label='Toggle Embed Visibility'\n                onClick={this.props.toggleEmbedVisibility}\n            />\n        );\n    }\n\n    renderLargeImage(imageUrl, imageMetadata) {\n        if (!this.props.isEmbedVisible) {\n            return null;\n        }\n\n        return (\n            <ExternalImage\n                src={imageUrl}\n                imageMetadata={imageMetadata}\n            >\n                {(safeImageUrl) => (\n                    <SizeAwareImage\n                        className='attachment__image attachment__image--opengraph large_image'\n                        src={safeImageUrl}\n                        dimensions={imageMetadata}\n                    />\n                )}\n            </ExternalImage>\n        );\n    }\n\n    renderSmallImage(imageUrl, imageMetadata) {\n        if (!this.props.isEmbedVisible) {\n            return null;\n        }\n\n        return (\n            <div className='attachment__image__container--opengraph'>\n                <ExternalImage\n                    src={imageUrl}\n                    imageMetadata={imageMetadata}\n                >\n                    {(safeImageUrl) => (\n                        <SizeAwareImage\n                            className='attachment__image attachment__image--opengraph'\n                            src={safeImageUrl}\n                            dimensions={imageMetadata}\n                        />\n                    )}\n                </ExternalImage>\n            </div>\n        );\n    }\n\n    truncateText(text) {\n        const maxLength = 300;\n        const ellipsis = '...';\n\n        if (text && text.length > maxLength) {\n            return text.substring(0, maxLength - ellipsis.length) + ellipsis;\n        }\n        return text;\n    }\n\n    handleRemovePreview = async () => {\n        const props = Object.assign({}, this.props.post.props);\n        props[PostTypes.REMOVE_LINK_PREVIEW] = 'true';\n\n        const patchedPost = ({\n            id: this.props.post.id,\n            props,\n        });\n\n        return this.props.actions.editPost(patchedPost);\n    }\n\n    hasPreviewBeenRemoved() {\n        const {post} = this.props;\n\n        if (!post || !post.props) {\n            return false;\n        }\n\n        return post.props[PostTypes.REMOVE_LINK_PREVIEW] === 'true';\n    }\n\n    render() {\n        if (!this.props.previewEnabled || !this.props.enableLinkPreviews) {\n            return null;\n        }\n\n        if (!this.props.post || isSystemMessage(this.props.post)) {\n            return null;\n        }\n\n        if (this.hasPreviewBeenRemoved()) {\n            return null;\n        }\n\n        const data = this.props.openGraphData;\n        if (!data) {\n            return null;\n        }\n\n        const imageUrl = getBestImageUrl(data, this.props.post.metadata.images);\n        const imageMetadata = this.getImageMetadata(imageUrl);\n        const hasLargeImage = this.isLargeImage(imageMetadata);\n\n        let removePreviewButton;\n        if (this.props.currentUserId === this.props.post.user_id) {\n            removePreviewButton = (\n                <button\n                    type='button'\n                    className='btn-close'\n                    aria-label='Close'\n                    onClick={this.handleRemovePreview}\n                    data-testid='removeLinkPreviewButton'\n                >\n                    <span aria-hidden='true'>{''}</span>\n                </button>\n            );\n        }\n\n        let body;\n        if (data.description || imageUrl) {\n            body = (\n                <div className={'attachment__body attachment__body--opengraph'}>\n                    <div>\n                        {this.truncateText(data.description)}\n                        {' '}\n                        {imageUrl && hasLargeImage && this.renderImageToggle()}\n                    </div>\n                    {(imageUrl && hasLargeImage) && this.renderLargeImage(imageUrl, imageMetadata)}\n                </div>\n            );\n        }\n\n        return (\n            <div className='attachment attachment--opengraph'>\n                <div className='attachment__content'>\n                    <div className={'clearfix attachment__container attachment__container--opengraph'}>\n                        <div className={'attachment__body__wrap attachment__body__wrap--opengraph'}>\n                            <span className='sitename'>{this.truncateText(data.site_name)}</span>\n                            {removePreviewButton}\n                            <h1 className={'attachment__title attachment__title--opengraph' + (data.title ? '' : ' is-url')}>\n                                <a\n                                    className='attachment__title-link attachment__title-link--opengraph'\n                                    href={useSafeUrl(data.url || this.props.link)}\n                                    target='_blank'\n                                    rel='noopener noreferrer'\n                                    title={data.title || data.url || this.props.link}\n                                >\n                                    {this.truncateText(data.title || data.url || this.props.link)}\n                                </a>\n                            </h1>\n                            {body}\n                        </div>\n                        {(imageUrl && !hasLargeImage) && this.renderSmallImage(imageUrl, imageMetadata)}\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport function getBestImageUrl(openGraphData, imagesMetadata) {\n    if (!openGraphData || !openGraphData.images || openGraphData.images.length === 0) {\n        return null;\n    }\n\n    // Get the dimensions from the post metadata if they weren't provided by the website as part of the OpenGraph data\n    const images = openGraphData.images.map((image) => {\n        const imageUrl = image.secure_url || image.url;\n\n        if ((image.width && image.height) || !(imagesMetadata && imagesMetadata[imageUrl])) {\n            // The image already includes dimensions or we don't have the missing dimensions\n            return image;\n        }\n\n        return {\n            ...image,\n            height: image.height || imagesMetadata[imageUrl].height,\n            width: image.width || imagesMetadata[imageUrl].width,\n        };\n    });\n\n    const bestImage = getNearestPoint(DIMENSIONS_NEAREST_POINT_IMAGE, images, 'width', 'height');\n    return bestImage.secure_url || bestImage.url;\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {getPost} from 'mattermost-redux/selectors/entities/posts';\nimport {isCurrentChannelReadOnly, getCurrentChannel} from 'mattermost-redux/selectors/entities/channels';\nimport {getUser} from 'mattermost-redux/selectors/entities/users';\nimport {getConfig} from 'mattermost-redux/selectors/entities/general';\n\nimport PostBody from './post_body.jsx';\n\nfunction mapStateToProps(state, ownProps) {\n    let parentPost;\n    let parentPostUser;\n    if (ownProps.post.root_id) {\n        parentPost = getPost(state, ownProps.post.root_id);\n        parentPostUser = parentPost ? getUser(state, parentPost.user_id) : null;\n    }\n\n    const config = getConfig(state);\n    const enablePostUsernameOverride = config.EnablePostUsernameOverride === 'true';\n\n    const currentChannel = getCurrentChannel(state);\n    const channelIsArchived = currentChannel.delete_at !== 0;\n\n    return {\n        parentPost,\n        parentPostUser,\n        pluginPostTypes: state.plugins.postTypes,\n        enablePostUsernameOverride,\n        isReadOnly: isCurrentChannelReadOnly(state) || channelIsArchived,\n    };\n}\n\nexport default connect(mapStateToProps)(PostBody);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {Posts} from 'mattermost-redux/constants';\n\nimport * as PostUtils from 'utils/post_utils.jsx';\nimport * as Utils from 'utils/utils.jsx';\nimport DelayedAction from 'utils/delayed_action';\n\nimport CommentedOn from 'components/post_view/commented_on';\nimport FileAttachmentListContainer from 'components/file_attachment_list';\nimport FailedPostOptions from 'components/post_view/failed_post_options';\nimport PostBodyAdditionalContent from 'components/post_view/post_body_additional_content';\nimport PostMessageView from 'components/post_view/post_message_view';\nimport ReactionList from 'components/post_view/reaction_list';\nimport LoadingSpinner from 'components/widgets/loading/loading_spinner';\n\nconst SENDING_ANIMATION_DELAY = 3000;\n\nexport default class PostBody extends React.PureComponent {\n    static propTypes = {\n\n        /**\n         * The post to render the body of\n         */\n        post: PropTypes.object.isRequired,\n\n        /**\n         * The parent post of the thread this post is in\n         */\n        parentPost: PropTypes.object,\n\n        /**\n         * The poster of the parent post, if exists\n         */\n        parentPostUser: PropTypes.object,\n\n        /**\n         * The function called when the comment icon is clicked\n         */\n        handleCommentClick: PropTypes.func.isRequired,\n\n        /**\n         * Set to render post body compactly\n         */\n        compactDisplay: PropTypes.bool,\n\n        /**\n         * Set to highlight comment as a mention\n         */\n        isCommentMention: PropTypes.bool,\n\n        /**\n         * Set to render a preview of the parent post above this reply\n         */\n        isFirstReply: PropTypes.bool,\n\n        /*\n         * Post type components from plugins\n         */\n        pluginPostTypes: PropTypes.object,\n\n        /**\n         * Flag passed down to PostBodyAdditionalContent for determining if post embed is visible\n         */\n        isEmbedVisible: PropTypes.bool,\n\n        /**\n         * Whether or not the post username can be overridden.\n         */\n        enablePostUsernameOverride: PropTypes.bool.isRequired,\n\n        /**\n         * Set not to allow edits on post\n         */\n        isReadOnly: PropTypes.bool,\n    }\n\n    static defaultProps = {\n        isReadOnly: false,\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.sendingAction = new DelayedAction(\n            () => {\n                const post = this.props.post;\n                if (post && post.id === post.pending_post_id) {\n                    this.setState({sending: true});\n                }\n            }\n        );\n\n        this.state = {sending: false};\n    }\n\n    static getDerivedStateFromProps(props, state) {\n        if (state.sending && props.post && (props.post.id !== props.post.pending_post_id)) {\n            return {\n                sending: false,\n            };\n        }\n\n        return null;\n    }\n\n    componentDidUpdate() {\n        if (this.state.sending === false) {\n            this.sendingAction.cancel();\n        }\n    }\n\n    componentDidMount() {\n        const post = this.props.post;\n        if (post && post.id === post.pending_post_id) {\n            this.sendingAction.fireAfter(SENDING_ANIMATION_DELAY);\n        }\n    }\n\n    componentWillUnmount() {\n        this.sendingAction.cancel();\n    }\n\n    render() {\n        const post = this.props.post;\n        const parentPost = this.props.parentPost;\n\n        let comment;\n        let postClass = '';\n        const isEphemeral = Utils.isPostEphemeral(post);\n        if (this.props.isFirstReply && parentPost && !isEphemeral) {\n            comment = (\n                <CommentedOn\n                    post={parentPost}\n                    onCommentClick={this.props.handleCommentClick}\n                />\n            );\n        }\n\n        let failedOptions;\n        if (this.props.post.failed) {\n            postClass += ' post--fail';\n            failedOptions = <FailedPostOptions post={this.props.post}/>;\n        }\n\n        if (PostUtils.isEdited(this.props.post)) {\n            postClass += ' post--edited';\n        }\n\n        let fileAttachmentHolder = null;\n        if (((post.file_ids && post.file_ids.length > 0) || (post.filenames && post.filenames.length > 0)) && this.props.post.state !== Posts.POST_DELETED) {\n            fileAttachmentHolder = (\n                <FileAttachmentListContainer\n                    post={post}\n                    compactDisplay={this.props.compactDisplay}\n                />\n            );\n        }\n\n        if (this.state.sending) {\n            postClass += ' post-waiting';\n        }\n\n        const messageWrapper = (\n            <React.Fragment>\n                {failedOptions}\n                {this.state.sending && <LoadingSpinner/>}\n                <PostMessageView\n                    post={this.props.post}\n                    compactDisplay={this.props.compactDisplay}\n                    hasMention={true}\n                />\n            </React.Fragment>\n        );\n\n        const hasPlugin = (post.type && this.props.pluginPostTypes.hasOwnProperty(post.type)) ||\n            (post.props && post.props.type && this.props.pluginPostTypes.hasOwnProperty(post.props.type));\n\n        let messageWithAdditionalContent;\n        if (this.props.post.state === Posts.POST_DELETED || hasPlugin) {\n            messageWithAdditionalContent = messageWrapper;\n        } else {\n            messageWithAdditionalContent = (\n                <PostBodyAdditionalContent\n                    post={this.props.post}\n                    isEmbedVisible={this.props.isEmbedVisible}\n                >\n                    {messageWrapper}\n                </PostBodyAdditionalContent>\n            );\n        }\n\n        let mentionHighlightClass = '';\n        if (this.props.isCommentMention) {\n            mentionHighlightClass = 'mention-comment';\n        }\n\n        let ephemeralPostClass = '';\n        if (isEphemeral) {\n            ephemeralPostClass = 'post--ephemeral';\n        }\n\n        return (\n            <div>\n                {comment}\n                <div\n                    id={`${post.id}_message`}\n                    className={`post__body ${mentionHighlightClass} ${ephemeralPostClass} ${postClass}`}\n                >\n                    {messageWithAdditionalContent}\n                    {fileAttachmentHolder}\n                    <ReactionList\n                        post={post}\n                        isReadOnly={this.props.isReadOnly}\n                    />\n                </div>\n            </div>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\n\nimport {toggleEmbedVisibility} from 'actions/post_actions';\n\nimport {isEmbedVisible} from 'selectors/posts';\n\nimport PostBodyAdditionalContent from './post_body_additional_content';\n\nfunction mapStateToProps(state, ownProps) {\n    return {\n        isEmbedVisible: isEmbedVisible(state, ownProps.post.id),\n        pluginPostWillRenderEmbedComponents: state.plugins.components.PostWillRenderEmbedComponent,\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            toggleEmbedVisibility,\n        }, dispatch),\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PostBodyAdditionalContent);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport MessageAttachmentList from 'components/post_view/message_attachments/message_attachment_list';\nimport PostAttachmentOpenGraph from 'components/post_view/post_attachment_opengraph';\nimport PostImage from 'components/post_view/post_image';\nimport YoutubeVideo from 'components/youtube_video';\n\nexport default class PostBodyAdditionalContent extends React.PureComponent {\n    static propTypes = {\n\n        /**\n         * The post to render the content of\n         */\n        post: PropTypes.object.isRequired,\n\n        /**\n         * Plugin post will render embed\n         */\n        pluginPostWillRenderEmbedComponents: PropTypes.arrayOf(PropTypes.object),\n\n        /**\n         * The post's message\n         */\n        children: PropTypes.element,\n\n        /**\n         * Flag passed down to PostBodyAdditionalContent for determining if post embed is visible\n         */\n        isEmbedVisible: PropTypes.bool,\n\n        /**\n         * Options specific to text formatting\n         */\n        options: PropTypes.object,\n\n        actions: PropTypes.shape({\n            toggleEmbedVisibility: PropTypes.func.isRequired,\n        }).isRequired,\n    }\n\n    toggleEmbedVisibility = () => {\n        this.props.actions.toggleEmbedVisibility(this.props.post.id);\n    }\n\n    getEmbed = () => {\n        const {metadata} = this.props.post;\n        if (!metadata || !metadata.embeds || metadata.embeds.length === 0) {\n            return null;\n        }\n\n        return metadata.embeds[0];\n    }\n\n    isEmbedToggleable = (embed) => {\n        const postWillRenderEmbedComponents = this.props.pluginPostWillRenderEmbedComponents || [];\n        for (const c of postWillRenderEmbedComponents) {\n            if (c.match(embed)) {\n                return Boolean(c.toggleable);\n            }\n        }\n\n        return embed.type === 'image' || (embed.type === 'opengraph' && YoutubeVideo.isYoutubeLink(embed.url));\n    }\n\n    renderEmbed = (embed) => {\n        const postWillRenderEmbedComponents = this.props.pluginPostWillRenderEmbedComponents || [];\n        for (const c of postWillRenderEmbedComponents) {\n            if (c.match(embed)) {\n                const Component = c.component;\n                return this.props.isEmbedVisible && <Component embed={embed}/>;\n            }\n        }\n\n        switch (embed.type) {\n        case 'image':\n            if (!this.props.isEmbedVisible) {\n                return null;\n            }\n\n            return (\n                <PostImage\n                    imageMetadata={this.props.post.metadata.images[embed.url]}\n                    link={embed.url}\n                    post={this.props.post}\n                />\n            );\n\n        case 'message_attachment': {\n            let attachments = [];\n            if (this.props.post.props && this.props.post.props.attachments) {\n                attachments = this.props.post.props.attachments;\n            }\n\n            return (\n                <MessageAttachmentList\n                    attachments={attachments}\n                    postId={this.props.post.id}\n                    options={this.props.options}\n                    imagesMetadata={this.props.post.metadata.images}\n                />\n            );\n        }\n\n        case 'opengraph':\n            if (YoutubeVideo.isYoutubeLink(embed.url)) {\n                if (!this.props.isEmbedVisible) {\n                    return null;\n                }\n\n                return (\n                    <YoutubeVideo\n                        link={embed.url}\n                        show={this.props.isEmbedVisible}\n                    />\n                );\n            }\n\n            return (\n                <PostAttachmentOpenGraph\n                    link={embed.url}\n                    isEmbedVisible={this.props.isEmbedVisible}\n                    post={this.props.post}\n                    toggleEmbedVisibility={this.toggleEmbedVisibility}\n                />\n            );\n\n        default:\n            return null;\n        }\n    }\n\n    renderToggle = (prependToggle) => {\n        return (\n            <button\n                key='toggle'\n                className={`style--none post__embed-visibility color--link ${prependToggle ? 'pull-left' : ''}`}\n                data-expanded={this.props.isEmbedVisible}\n                aria-label='Toggle Embed Visibility'\n                onClick={this.toggleEmbedVisibility}\n            />\n        );\n    }\n\n    render() {\n        const embed = this.getEmbed();\n\n        if (embed) {\n            const toggleable = this.isEmbedToggleable(embed);\n            const prependToggle = (/^\\s*https?:\\/\\/.*$/).test(this.props.post.message);\n\n            return (\n                <div>\n                    {(toggleable && prependToggle) && this.renderToggle(true)}\n                    {this.props.children}\n                    {(toggleable && !prependToggle) && this.renderToggle(false)}\n                    {this.renderEmbed(embed)}\n                </div>\n            );\n        }\n\n        return this.props.children;\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\n\nconst PostContext = React.createContext({\n\n    // Post component event handler that should be\n    // called when any child component opens/closes a\n    // popup type component.\n    handlePopupOpened: null,\n});\n\nexport default PostContext;\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\n\nimport {flagPost, unflagPost} from 'actions/post_actions.jsx';\n\nimport PostFlagIcon from './post_flag_icon';\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            flagPost,\n            unflagPost,\n        }, dispatch),\n    };\n}\n\nexport default connect(null, mapDispatchToProps)(PostFlagIcon);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {OverlayTrigger, Tooltip} from 'react-bootstrap';\nimport {FormattedMessage} from 'react-intl';\n\nimport FlagIcon from 'components/widgets/icons/flag_icon';\nimport FlagIconFilled from 'components/widgets/icons/flag_icon_filled';\nimport Constants, {Locations, A11yCustomEventTypes} from 'utils/constants';\nimport {localizeMessage} from 'utils/utils.jsx';\nimport {t} from 'utils/i18n';\n\nexport default class PostFlagIcon extends React.PureComponent {\n    static propTypes = {\n        location: PropTypes.oneOf([Locations.CENTER, Locations.RHS_ROOT, Locations.RHS_COMMENT, Locations.SEARCH]).isRequired,\n        postId: PropTypes.string.isRequired,\n        isFlagged: PropTypes.bool.isRequired,\n        isEphemeral: PropTypes.bool,\n        actions: PropTypes.shape({\n            flagPost: PropTypes.func.isRequired,\n            unflagPost: PropTypes.func.isRequired,\n        }).isRequired,\n    };\n\n    static defaultProps = {\n        isEphemeral: false,\n        location: Locations.CENTER,\n    };\n\n    constructor() {\n        super();\n\n        this.buttonRef = React.createRef();\n\n        this.state = {\n            a11yActive: false,\n        };\n    }\n\n    componentDidMount() {\n        if (this.buttonRef.current) {\n            this.buttonRef.current.addEventListener(A11yCustomEventTypes.ACTIVATE, this.handleA11yActivateEvent);\n            this.buttonRef.current.addEventListener(A11yCustomEventTypes.DEACTIVATE, this.handleA11yDeactivateEvent);\n        }\n    }\n    componentWillUnmount() {\n        if (this.buttonRef.current) {\n            this.buttonRef.current.removeEventListener(A11yCustomEventTypes.ACTIVATE, this.handleA11yActivateEvent);\n            this.buttonRef.current.removeEventListener(A11yCustomEventTypes.DEACTIVATE, this.handleA11yDeactivateEvent);\n        }\n    }\n\n    componentDidUpdate() {\n        if (this.state.a11yActive && this.buttonRef.current) {\n            this.buttonRef.current.dispatchEvent(new Event(A11yCustomEventTypes.UPDATE));\n        }\n    }\n\n    handlePress = (e) => {\n        e.preventDefault();\n\n        const {\n            actions,\n            isFlagged,\n            postId,\n        } = this.props;\n\n        if (isFlagged) {\n            actions.unflagPost(postId);\n        } else {\n            actions.flagPost(postId);\n        }\n    }\n\n    handleA11yActivateEvent = () => {\n        this.setState({a11yActive: true});\n    }\n\n    handleA11yDeactivateEvent = () => {\n        this.setState({a11yActive: false});\n    }\n\n    render() {\n        if (this.props.isEphemeral) {\n            return null;\n        }\n\n        const isFlagged = this.props.isFlagged;\n\n        const flagVisible = isFlagged ? 'visible' : '';\n\n        let flagIcon;\n        if (isFlagged) {\n            flagIcon = <FlagIconFilled className='icon'/>;\n        } else {\n            flagIcon = <FlagIcon className='icon'/>;\n        }\n\n        return (\n            <button\n                ref={this.buttonRef}\n                id={`${this.props.location}_flagIcon_${this.props.postId}`}\n                aria-label={isFlagged ? localizeMessage('flag_post.unflag', 'Unflag').toLowerCase() : localizeMessage('flag_post.flag', 'Flag for follow up').toLowerCase()}\n                className={'style--none flag-icon__container ' + flagVisible}\n                onClick={this.handlePress}\n            >\n                <OverlayTrigger\n                    key={'flagtooltipkey' + flagVisible}\n                    delayShow={Constants.OVERLAY_TIME_DELAY}\n                    placement='top'\n                    overlay={\n                        <Tooltip id='flagTooltip'>\n                            <FormattedMessage\n                                id={isFlagged ? t('flag_post.unflag') : t('flag_post.flag')}\n                                defaultMessage={isFlagged ? 'Unflag' : 'Flag for follow up'}\n                            />\n                        </Tooltip>\n                    }\n                >\n                    {flagIcon}\n                </OverlayTrigger>\n            </button>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {getConfig} from 'mattermost-redux/selectors/entities/general';\nimport {getUser} from 'mattermost-redux/selectors/entities/users';\n\nimport {isGuest} from 'utils/utils.jsx';\n\nimport PostHeader from './post_header.jsx';\n\nfunction mapStateToProps(state, ownProps) {\n    const config = getConfig(state);\n    const enablePostUsernameOverride = config.EnablePostUsernameOverride === 'true';\n    const user = getUser(state, ownProps.post.user_id);\n    const isBot = Boolean(user && user.is_bot);\n\n    return {\n        enablePostUsernameOverride,\n        isBot,\n        isGuest: Boolean(user && isGuest(user)),\n    };\n}\n\nexport default connect(mapStateToProps)(PostHeader);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nimport Constants from 'utils/constants';\nimport * as PostUtils from 'utils/post_utils.jsx';\nimport PostInfo from 'components/post_view/post_info';\nimport UserProfile from 'components/user_profile';\nimport BotBadge from 'components/widgets/badges/bot_badge';\nimport Badge from 'components/widgets/badges/badge';\n\nexport default class PostHeader extends React.PureComponent {\n    static propTypes = {\n\n        /*\n         * The post to render the header for\n         */\n        post: PropTypes.object.isRequired,\n\n        /*\n         * Function called when the comment icon is clicked\n         */\n        handleCommentClick: PropTypes.func.isRequired,\n\n        /*\n         * Function called when the card icon is clicked\n         */\n        handleCardClick: PropTypes.func.isRequired,\n\n        /*\n         * Function called when the post options dropdown is opened\n         */\n        handleDropdownOpened: PropTypes.func.isRequired,\n\n        /*\n         * Set to render compactly\n         */\n        compactDisplay: PropTypes.bool,\n\n        /*\n         * The number of replies in the same thread as this post\n         */\n        replyCount: PropTypes.number,\n\n        /**\n         * Set to indicate that this is previous post was not a reply to the same thread\n         */\n        isFirstReply: PropTypes.bool,\n\n        /**\n         * Set to mark post as being hovered over\n         */\n        hover: PropTypes.bool.isRequired,\n\n        /*\n         * Set to render the post time when not hovering\n         */\n        showTimeWithoutHover: PropTypes.bool,\n\n        /**\n         * Whether or not the post username can be overridden.\n         */\n        enablePostUsernameOverride: PropTypes.bool.isRequired,\n\n        /**\n         * If the user that made the post is a bot.\n         */\n        isBot: PropTypes.bool.isRequired,\n\n        /**\n         * If the user that made the post is a guest.\n         */\n        isGuest: PropTypes.bool.isRequired,\n    }\n\n    render() {\n        const {post} = this.props;\n        const isSystemMessage = PostUtils.isSystemMessage(post);\n        const fromAutoResponder = PostUtils.fromAutoResponder(post);\n        const fromWebhook = post && post.props && post.props.from_webhook === 'true';\n\n        let userProfile = (\n            <UserProfile\n                userId={post.user_id}\n                hasMention={true}\n            />\n        );\n        let indicator;\n        let colon;\n\n        if (fromWebhook && !this.props.isBot) {\n            if (post.props.override_username && this.props.enablePostUsernameOverride) {\n                userProfile = (\n                    <UserProfile\n                        userId={post.user_id}\n                        hideStatus={true}\n                        overwriteName={post.props.override_username}\n                    />\n                );\n            } else {\n                userProfile = (\n                    <UserProfile\n                        userId={post.user_id}\n                        hideStatus={true}\n                    />\n                );\n            }\n\n            indicator = (<BotBadge/>);\n        } else if (fromAutoResponder) {\n            userProfile = (\n                <UserProfile\n                    userId={post.user_id}\n                    hideStatus={true}\n                    hasMention={true}\n                />\n            );\n\n            indicator = (\n                <Badge>\n                    <FormattedMessage\n                        id='post_info.auto_responder'\n                        defaultMessage='AUTOMATIC REPLY'\n                    />\n                </Badge>\n            );\n        } else if (isSystemMessage && this.props.isBot) {\n            userProfile = (\n                <UserProfile\n                    userId={post.user_id}\n                    hideStatus={true}\n                />\n            );\n        } else if (isSystemMessage) {\n            userProfile = (\n                <UserProfile\n                    overwriteName={\n                        <FormattedMessage\n                            id='post_info.system'\n                            defaultMessage='System'\n                        />\n                    }\n                    overwriteImage={Constants.SYSTEM_MESSAGE_PROFILE_IMAGE}\n                    disablePopover={true}\n                />\n            );\n        }\n\n        if (this.props.compactDisplay) {\n            colon = (<strong className='colon'>{':'}</strong>);\n        }\n\n        return (\n            <div className='post__header'>\n                <div className='col col__name'>\n                    {userProfile}\n                    {colon}\n                    {indicator}\n                </div>\n                <div className='col'>\n                    <PostInfo\n                        post={post}\n                        handleCommentClick={this.props.handleCommentClick}\n                        handleCardClick={this.props.handleCardClick}\n                        handleDropdownOpened={this.props.handleDropdownOpened}\n                        compactDisplay={this.props.compactDisplay}\n                        replyCount={this.props.replyCount}\n                        isFirstReply={this.props.isFirstReply}\n                        showTimeWithoutHover={this.props.showTimeWithoutHover}\n                        hover={this.props.hover}\n                    />\n                </div>\n            </div>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PostImage from './post_image.jsx';\n\nexport default PostImage;\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport ExternalImage from 'components/external_image';\nimport SizeAwareImage from 'components/size_aware_image';\nimport ViewImageModal from 'components/view_image';\n\nexport default class PostImage extends React.PureComponent {\n    static propTypes = {\n        imageMetadata: PropTypes.object.isRequired,\n        link: PropTypes.string.isRequired,\n        post: PropTypes.object.isRequired,\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            showModal: false,\n        };\n    }\n\n    showModal = (e) => {\n        e.preventDefault();\n\n        this.setState({showModal: true});\n    }\n\n    hideModal = () => {\n        this.setState({showModal: false});\n    }\n\n    render() {\n        return (\n            <div className='post__embed-container'>\n                <ExternalImage\n                    src={this.props.link}\n                    imageMetadata={this.props.imageMetadata}\n                >\n                    {(safeLink) => (\n                        <React.Fragment>\n                            <SizeAwareImage\n                                className='img-div attachment__image cursor--pointer'\n                                src={safeLink}\n                                dimensions={this.props.imageMetadata}\n                                showLoader={true}\n                                onClick={this.showModal}\n                            />\n                            <ViewImageModal\n                                show={this.state.showModal}\n                                onModalDismissed={this.hideModal}\n                                post={this.props.post}\n                                startIndex={0}\n                                fileInfos={[{\n                                    has_preview_image: false,\n                                    link: safeLink,\n                                    extension: this.props.imageMetadata.format,\n                                }]}\n                            />\n                        </React.Fragment>\n                    )}\n                </ExternalImage>\n            </div>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\nimport {removePost} from 'mattermost-redux/actions/posts';\nimport {isCurrentChannelReadOnly} from 'mattermost-redux/selectors/entities/channels';\nimport {getCurrentTeamId} from 'mattermost-redux/selectors/entities/teams';\nimport {get} from 'mattermost-redux/selectors/entities/preferences';\nimport {getConfig} from 'mattermost-redux/selectors/entities/general';\n\nimport {Preferences} from 'utils/constants';\nimport {getSelectedPostCard} from 'selectors/rhs.jsx';\n\nimport PostInfo from './post_info.jsx';\n\nfunction mapStateToProps(state, ownProps) {\n    const selectedCard = getSelectedPostCard(state);\n    const config = getConfig(state);\n    const channel = state.entities.channels.channels[ownProps.post.channel_id];\n    const channelIsArchived = channel ? channel.delete_at !== 0 : null;\n    const enableEmojiPicker = config.EnableEmojiPicker === 'true' && !channelIsArchived;\n    const teamId = getCurrentTeamId(state);\n\n    return {\n        teamId,\n        isFlagged: get(state, Preferences.CATEGORY_FLAGGED_POST, ownProps.post.id, null) != null,\n        isMobile: state.views.channel.mobileView,\n        isCardOpen: selectedCard && selectedCard.id === ownProps.post.id,\n        enableEmojiPicker,\n        isReadOnly: isCurrentChannelReadOnly(state) || channelIsArchived,\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            removePost,\n        }, dispatch),\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PostInfo);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\nimport {OverlayTrigger, Tooltip} from 'react-bootstrap';\n\nimport {Posts} from 'mattermost-redux/constants';\nimport * as ReduxPostUtils from 'mattermost-redux/utils/post_utils';\n\nimport * as PostUtils from 'utils/post_utils.jsx';\nimport * as Utils from 'utils/utils.jsx';\nimport Constants from 'utils/constants';\nimport CommentIcon from 'components/common/comment_icon.jsx';\nimport DotMenu from 'components/dot_menu';\nimport PostFlagIcon from 'components/post_view/post_flag_icon';\nimport PostReaction from 'components/post_view/post_reaction';\nimport PostTime from 'components/post_view/post_time';\nimport InfoSmallIcon from 'components/widgets/icons/info_small_icon';\n\nexport default class PostInfo extends React.PureComponent {\n    static propTypes = {\n\n        /*\n         * The post to render the info for\n         */\n        post: PropTypes.object.isRequired,\n\n        /*\n         * The id of the team which belongs the post\n         */\n        teamId: PropTypes.string,\n\n        /*\n         * Function called when the comment icon is clicked\n         */\n        handleCommentClick: PropTypes.func.isRequired,\n\n        /*\n         * Function called when the card icon is clicked\n         */\n        handleCardClick: PropTypes.func.isRequired,\n\n        /*\n         * Funciton called when the post options dropdown is opened\n         */\n        handleDropdownOpened: PropTypes.func.isRequired,\n\n        /*\n         * Set to mark the post as flagged\n         */\n        isFlagged: PropTypes.bool,\n\n        /*\n         * Set to mark the post as open the extra info in the rhs\n         */\n        isCardOpen: PropTypes.bool,\n\n        /*\n         * The number of replies in the same thread as this post\n         */\n        replyCount: PropTypes.number,\n\n        /**\n         * Set to indicate that this is previous post was not a reply to the same thread\n         */\n        isFirstReply: PropTypes.bool,\n\n        /**\n         * Set to render in mobile view\n         */\n        isMobile: PropTypes.bool,\n\n        /**\n         * Set to render in compact view\n         */\n        compactDisplay: PropTypes.bool,\n\n        /**\n         * Set to mark post as being hovered over\n         */\n        hover: PropTypes.bool.isRequired,\n\n        /**\n         * Set to render the post time when not hovering\n         */\n        showTimeWithoutHover: PropTypes.bool.isRequired,\n\n        /**\n         * Whether to show the emoji picker.\n         */\n        enableEmojiPicker: PropTypes.bool.isRequired,\n\n        /**\n         * Set not to allow edits on post\n         */\n        isReadOnly: PropTypes.bool,\n\n        actions: PropTypes.shape({\n\n            /*\n             * Function to remove the post\n             */\n            removePost: PropTypes.func.isRequired,\n        }).isRequired,\n    };\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            showEmojiPicker: false,\n        };\n    }\n\n    toggleEmojiPicker = () => {\n        const showEmojiPicker = !this.state.showEmojiPicker;\n\n        this.setState({showEmojiPicker});\n        this.props.handleDropdownOpened(showEmojiPicker || this.state.showDotMenu);\n    };\n\n    removePost = () => {\n        this.props.actions.removePost(this.props.post);\n    };\n\n    createRemovePostButton = () => {\n        return (\n            <button\n                className='post__remove theme color--link style--none'\n                type='button'\n                onClick={this.removePost}\n            >\n                {''}\n            </button>\n        );\n    };\n\n    handleDotMenuOpened = (open) => {\n        this.setState({showDotMenu: open});\n        this.props.handleDropdownOpened(open || this.state.showEmojiPicker);\n    };\n\n    getDotMenu = () => {\n        return this.refs.dotMenu;\n    };\n\n    buildOptions = (post, isSystemMessage, fromAutoResponder) => {\n        if (!PostUtils.shouldShowDotMenu(post)) {\n            return null;\n        }\n\n        const {isMobile, isReadOnly} = this.props;\n        const hover = this.props.hover || this.state.showEmojiPicker || this.state.showDotMenu;\n\n        const showCommentIcon = fromAutoResponder ||\n        (!isSystemMessage && (isMobile || hover || (!post.root_id && Boolean(this.props.replyCount)) || this.props.isFirstReply));\n        const commentIconExtraClass = isMobile ? '' : 'pull-right';\n        let commentIcon;\n        if (showCommentIcon) {\n            commentIcon = (\n                <CommentIcon\n                    handleCommentClick={this.props.handleCommentClick}\n                    commentCount={this.props.replyCount}\n                    postId={post.id}\n                    extraClass={commentIconExtraClass}\n                />\n            );\n        }\n\n        const showReactionIcon = !isSystemMessage && hover && !isReadOnly && this.props.enableEmojiPicker;\n        let postReaction;\n        if (showReactionIcon) {\n            postReaction = (\n                <PostReaction\n                    channelId={post.channel_id}\n                    postId={post.id}\n                    teamId={this.props.teamId}\n                    getDotMenuRef={this.getDotMenu}\n                    showEmojiPicker={this.state.showEmojiPicker}\n                    toggleEmojiPicker={this.toggleEmojiPicker}\n                />\n            );\n        }\n\n        const showDotMenuIcon = isMobile || hover;\n        let dotMenu;\n        if (showDotMenuIcon) {\n            dotMenu = (\n                <DotMenu\n                    post={post}\n                    commentCount={this.props.replyCount}\n                    isFlagged={this.props.isFlagged}\n                    handleCommentClick={this.props.handleCommentClick}\n                    handleDropdownOpened={this.handleDotMenuOpened}\n                    handleAddReactionClick={this.toggleEmojiPicker}\n                    isReadOnly={isReadOnly}\n                    enableEmojiPicker={this.props.enableEmojiPicker}\n                />\n            );\n        }\n\n        return (\n            <div\n                ref='dotMenu'\n                className={'col col__reply'}\n            >\n                {dotMenu}\n                {postReaction}\n                {commentIcon}\n            </div>\n        );\n    };\n\n    render() {\n        const post = this.props.post;\n\n        const isEphemeral = Utils.isPostEphemeral(post);\n        const isSystemMessage = PostUtils.isSystemMessage(post);\n        const fromAutoResponder = PostUtils.fromAutoResponder(post);\n\n        const showFlagIcon = !isEphemeral && !post.failed && !isSystemMessage && (this.props.hover || this.props.isFlagged);\n        let postFlagIcon;\n        if (showFlagIcon) {\n            postFlagIcon = (\n                <PostFlagIcon\n                    postId={post.id}\n                    isFlagged={this.props.isFlagged}\n                    isEphemeral={isEphemeral}\n                />\n            );\n        }\n\n        let postInfoIcon;\n        if (post.props && post.props.card) {\n            postInfoIcon = (\n                <OverlayTrigger\n                    delayShow={Constants.OVERLAY_TIME_DELAY}\n                    placement='top'\n                    overlay={\n                        <Tooltip>\n                            <FormattedMessage\n                                id='post_info.info.view_additional_info'\n                                defaultMessage='View additional info'\n                            />\n                        </Tooltip>\n                    }\n                >\n                    <button\n                        className={'card-icon__container icon--show style--none ' + (this.props.isCardOpen ? 'active' : '')}\n                        onClick={(e) => {\n                            e.preventDefault();\n                            this.props.handleCardClick(this.props.post);\n                        }}\n                    >\n                        <InfoSmallIcon\n                            className='icon icon__info'\n                            aria-hidden='true'\n                        />\n                    </button>\n                </OverlayTrigger>\n            );\n        }\n\n        let options;\n        if (isEphemeral) {\n            options = (\n                <div className='col col__remove'>\n                    {this.createRemovePostButton()}\n                </div>\n            );\n        } else if (!post.failed) {\n            options = this.buildOptions(post, isSystemMessage, fromAutoResponder);\n        }\n\n        let visibleMessage;\n        if (isEphemeral && !this.props.compactDisplay && post.state !== Posts.POST_DELETED) {\n            visibleMessage = (\n                <span className='post__visibility'>\n                    <FormattedMessage\n                        id='post_info.message.visible'\n                        defaultMessage='(Only visible to you)'\n                    />\n                </span>\n            );\n        }\n\n        let pinnedBadge;\n        if (post.is_pinned) {\n            pinnedBadge = (\n                <span className='post__pinned-badge'>\n                    <FormattedMessage\n                        id='post_info.pinned'\n                        defaultMessage='Pinned'\n                    />\n                </span>\n            );\n        }\n\n        const showPostTime = this.props.hover || this.props.showTimeWithoutHover;\n        let postTime;\n        if (showPostTime) {\n            // timestamp should not be a permalink if the post has been deleted, is ephemeral message, is pending, or is combined activity\n            const isPermalink = !(isEphemeral || Posts.POST_DELETED === post.state || ReduxPostUtils.isPostPendingOrFailed(post) || post.type === Posts.POST_TYPES.COMBINED_USER_ACTIVITY);\n\n            postTime = (\n                <PostTime\n                    isPermalink={isPermalink}\n                    eventTime={post.create_at}\n                    postId={post.id}\n                />\n            );\n        }\n\n        return (\n            <div className='post__header--info'>\n                <div className='col'>\n                    {postTime}\n                    {pinnedBadge}\n                    {postInfoIcon}\n                    {postFlagIcon}\n                    {visibleMessage}\n                </div>\n                {options}\n            </div>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\nimport {withRouter} from 'react-router-dom';\nimport {getRecentPostsChunkInChannel, makeGetPostsChunkAroundPost, getUnreadPostsChunk, getPost} from 'mattermost-redux/selectors/entities/posts';\nimport {memoizeResult} from 'mattermost-redux/utils/helpers';\nimport {markChannelAsRead, markChannelAsViewed} from 'mattermost-redux/actions/channels';\nimport {makePreparePostIdsForPostList} from 'mattermost-redux/utils/post_list';\n\nimport {getLatestPostId, makeCreateAriaLabelForPost} from 'utils/post_utils.jsx';\nimport {\n    checkAndSetMobileView,\n    loadPosts,\n    loadUnreads,\n    loadPostsAround,\n    syncPostsInChannel,\n    loadLatestPosts,\n} from 'actions/views/channel';\n\nimport PostList from './post_list.jsx';\n\nconst isFirstLoad = (state, channelId) => !state.entities.posts.postsInChannel[channelId];\nconst memoizedGetLatestPostId = memoizeResult((postIds) => getLatestPostId(postIds));\n\n// This function is added as a fail safe for the channel sync issue we have.\n// When the user switches to a team for the first time we show the channel of previous team and then settle for the right channel after that\n// This causes the scroll correction etc an issue because post_list is not mounted for new channel instead it is updated\n\nfunction makeMapStateToProps() {\n    const getPostsChunkAroundPost = makeGetPostsChunkAroundPost();\n    const preparePostIdsForPostList = makePreparePostIdsForPostList();\n    const createAriaLabelForPost = makeCreateAriaLabelForPost();\n\n    return function mapStateToProps(state, ownProps) {\n        let latestPostTimeStamp = 0;\n        let postIds;\n        let chunk;\n        let atLatestPost = false;\n        let atOldestPost = false;\n        let formattedPostIds;\n        let latestAriaLabelFunc;\n        const lastViewedAt = state.views.channel.lastChannelViewTime[ownProps.channelId];\n\n        if (ownProps.match.params.postid) {\n            chunk = getPostsChunkAroundPost(state, ownProps.match.params.postid, ownProps.channelId);\n        } else if (ownProps.unreadChunkTimeStamp) {\n            chunk = getUnreadPostsChunk(state, ownProps.channelId, ownProps.unreadChunkTimeStamp);\n        } else {\n            chunk = getRecentPostsChunkInChannel(state, ownProps.channelId);\n        }\n\n        if (chunk) {\n            postIds = chunk.order;\n            atLatestPost = chunk.recent;\n            atOldestPost = chunk.oldest;\n        }\n\n        if (postIds) {\n            formattedPostIds = preparePostIdsForPostList(state, {postIds, lastViewedAt, indicateNewMessages: true, channelId: ownProps.channelId});\n            if (postIds.length) {\n                const latestPostId = memoizedGetLatestPostId(postIds);\n                const latestPost = getPost(state, latestPostId);\n                latestPostTimeStamp = latestPost.create_at;\n                latestAriaLabelFunc = createAriaLabelForPost(state, latestPost);\n            }\n        }\n\n        return {\n            lastViewedAt,\n            isFirstLoad: isFirstLoad(state, ownProps.channelId),\n            formattedPostIds,\n            atLatestPost,\n            atOldestPost,\n            focusedPostId: ownProps.match.params.postid,\n            latestPostTimeStamp,\n            postListIds: postIds,\n            latestAriaLabelFunc,\n        };\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            loadUnreads,\n            loadPosts,\n            loadLatestPosts,\n            loadPostsAround,\n            checkAndSetMobileView,\n            syncPostsInChannel,\n            markChannelAsViewed,\n            markChannelAsRead,\n        }, dispatch),\n    };\n}\n\nexport default withRouter(connect(makeMapStateToProps, mapDispatchToProps)(PostList));\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport LoadingScreen from 'components/loading_screen';\nimport {PostRequestTypes} from 'utils/constants';\n\nimport {getOldestPostId, getLatestPostId} from 'utils/post_utils.jsx';\n\nimport VirtPostList from './post_list_virtualized.jsx';\n\nconst MAX_NUMBER_OF_AUTO_RETRIES = 3;\nexport const MAX_EXTRA_PAGES_LOADED = 10;\n\nexport default class PostList extends React.PureComponent {\n    static propTypes = {\n\n        /**\n         *  Array of formatted post ids in the channel\n         *  This will be different from postListIds because of grouping and filtering of posts\n         *  This array should be used for making Before and After API calls\n         */\n        formattedPostIds: PropTypes.array,\n\n        /**\n         *  Array of post ids in the channel, ordered from newest to oldest\n         */\n        postListIds: PropTypes.array,\n\n        /**\n         * The channel the posts are in\n         */\n        channelId: PropTypes.string,\n\n        /*\n         * To get posts for perma view\n         */\n        focusedPostId: PropTypes.string,\n\n        /*\n         * Used for determining if we are not at the recent most chunk in channel\n         */\n        atLatestPost: PropTypes.bool,\n\n        /*\n         * Used for determining if we are at the channels oldest post\n         */\n        atOldestPost: PropTypes.bool,\n\n        /*\n         * Used for loading posts using unread API\n         */\n        isFirstLoad: PropTypes.bool,\n\n        /*\n         * Used for syncing posts and is also passed down to virt list for newMessages indicator\n         */\n        latestPostTimeStamp: PropTypes.number,\n\n        latestAriaLabelFunc: PropTypes.func,\n\n        /*\n         * Used for passing down to virt list so it can change the chunk of posts selected\n         */\n        changeUnreadChunkTimeStamp: PropTypes.func.isRequired,\n\n        prevChannelId: PropTypes.string.isRequired,\n        actions: PropTypes.shape({\n\n            /*\n             * Used for getting permalink view posts\n             */\n            loadPostsAround: PropTypes.func.isRequired,\n\n            /*\n             * Used for geting unreads posts\n             */\n            loadUnreads: PropTypes.func.isRequired,\n\n            /*\n             * Used for getting posts using BEFORE_ID and AFTER_ID\n             */\n            loadPosts: PropTypes.func.isRequired,\n\n            /*\n             * Used to set mobile view on resize\n             */\n            checkAndSetMobileView: PropTypes.func.isRequired,\n\n            /*\n             * Used to loading posts since a timestamp to sync the posts\n             */\n            syncPostsInChannel: PropTypes.func.isRequired,\n\n            /*\n             * Used to loading posts if it not first visit, permalink or there exists any postListIds\n             * This happens when previous channel visit has a chunk which is not the latest set of posts\n             */\n            loadLatestPosts: PropTypes.func.isRequired,\n\n            markChannelAsViewed: PropTypes.func.isRequred,\n\n            markChannelAsRead: PropTypes.func.isRequred,\n        }).isRequired,\n    }\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            loadingNewerPosts: false,\n            loadingOlderPosts: false,\n            autoRetryEnable: true,\n        };\n\n        this.autoRetriesCount = 0;\n        this.loadingMorePosts = null;\n        this.actionsForPostList = {\n            loadOlderPosts: this.getPostsBefore,\n            loadNewerPosts: this.getPostsAfter,\n            checkAndSetMobileView: props.actions.checkAndSetMobileView,\n            canLoadMorePosts: this.canLoadMorePosts,\n            changeUnreadChunkTimeStamp: props.changeUnreadChunkTimeStamp,\n        };\n    }\n\n    componentDidMount() {\n        this.mounted = true;\n        if (this.props.channelId) {\n            this.postsOnLoad(this.props.channelId);\n        }\n    }\n\n    componentDidUpdate(prevProps) {\n        if (this.props.channelId !== prevProps.channelId) {\n            this.postsOnLoad(this.props.channelId);\n        }\n    }\n\n    componentWillUnmount() {\n        this.mounted = false;\n    }\n\n    postsOnLoad = async (channelId) => {\n        if (this.props.focusedPostId) {\n            await this.props.actions.loadPostsAround(channelId, this.props.focusedPostId);\n        } else if (this.props.isFirstLoad) {\n            await this.props.actions.loadUnreads(channelId);\n        } else if (this.props.latestPostTimeStamp) {\n            await this.props.actions.syncPostsInChannel(channelId, this.props.latestPostTimeStamp, false);\n        } else {\n            await this.props.actions.loadLatestPosts(channelId);\n        }\n\n        if (!this.props.focusedPostId) {\n            this.markChannelAsReadAndViewed();\n        }\n\n        this.setState({\n            loadingOlderPosts: false,\n            loadingNewerPosts: false,\n        });\n    }\n\n    callLoadPosts = async (channelId, postId, type) => {\n        const {error} = await this.props.actions.loadPosts({\n            channelId,\n            postId,\n            type,\n        });\n\n        if (type === PostRequestTypes.BEFORE_ID) {\n            this.setState({loadingOlderPosts: false});\n        } else {\n            this.setState({loadingNewerPosts: false});\n        }\n\n        if (error) {\n            if (this.autoRetriesCount < MAX_NUMBER_OF_AUTO_RETRIES) {\n                this.autoRetriesCount++;\n                await this.callLoadPosts(channelId, postId, type);\n            } else if (this.mounted) {\n                this.setState({autoRetryEnable: false});\n            }\n        } else {\n            if (this.mounted) {\n                this.setState({autoRetryEnable: true});\n            }\n\n            if (!this.state.autoRetryEnable) {\n                this.autoRetriesCount = 0;\n            }\n        }\n\n        return {error};\n    }\n\n    markChannelAsReadAndViewed = () => {\n        const currentChannelId = this.props.channelId;\n        const prevChannelId = this.props.prevChannelId;\n\n        // Mark previous and next channel as read\n        // Posts are marked as read from here to not cause a race when loading posts\n        // marking channel as read and viewed after calling for posts in channel\n        this.props.actions.markChannelAsViewed(currentChannelId, prevChannelId);\n        this.props.actions.markChannelAsRead(currentChannelId, prevChannelId);\n    }\n\n    getOldestVisiblePostId = () => {\n        return getOldestPostId(this.props.postListIds);\n    }\n\n    getLatestVisiblePostId = () => {\n        return getLatestPostId(this.props.postListIds);\n    }\n\n    canLoadMorePosts = async (type = PostRequestTypes.BEFORE_ID) => {\n        if (!this.props.postListIds) {\n            return;\n        }\n\n        if (this.state.loadingOlderPosts || this.state.loadingNewerPosts) {\n            return;\n        }\n\n        if (this.extraPagesLoaded > MAX_EXTRA_PAGES_LOADED) {\n            // Prevent this from loading a lot of pages in a channel with only hidden messages\n            // Enable load more messages manual link\n            if (this.state.autoRetryEnable) {\n                this.setState({autoRetryEnable: false});\n            }\n            return;\n        }\n\n        if (!this.props.atOldestPost && type === PostRequestTypes.BEFORE_ID) {\n            const oldestPostId = this.getOldestVisiblePostId();\n            await this.getPostsBefore(oldestPostId);\n        } else if (!this.props.atLatestPost) {\n            // if all olderPosts are loaded load new ones\n            const latestPostId = this.getLatestVisiblePostId();\n            await this.getPostsAfter(latestPostId);\n        }\n\n        this.extraPagesLoaded += 1;\n    }\n\n    getPostsBefore = async () => {\n        if (this.state.loadingOlderPosts) {\n            return;\n        }\n        const oldestPostId = this.getOldestVisiblePostId();\n        this.setState({loadingOlderPosts: true});\n        await this.callLoadPosts(this.props.channelId, oldestPostId, PostRequestTypes.BEFORE_ID);\n    }\n\n    getPostsAfter = async () => {\n        if (this.state.loadingNewerPosts) {\n            return;\n        }\n        const latestPostId = this.getLatestVisiblePostId();\n        this.setState({loadingNewerPosts: true});\n        await this.callLoadPosts(this.props.channelId, latestPostId, PostRequestTypes.AFTER_ID);\n    }\n\n    render() {\n        if (!this.props.postListIds) {\n            return (\n                <LoadingScreen\n                    position='absolute'\n                    key='loading'\n                />\n            );\n        }\n\n        return (\n            <div\n                ref='postlist'\n                className='post-list-holder-by-time'\n                key={'postlist-' + this.props.channelId}\n            >\n                <div className='post-list__table'>\n                    <div\n                        id='virtualizedPostListContent'\n                        ref='postListContent'\n                        className='post-list__content'\n                    >\n                        <VirtPostList\n                            loadingNewerPosts={this.state.loadingNewerPosts}\n                            loadingOlderPosts={this.state.loadingOlderPosts}\n                            atOldestPost={this.props.atOldestPost}\n                            atLatestPost={this.props.atLatestPost}\n                            focusedPostId={this.props.focusedPostId}\n                            channelId={this.props.channelId}\n                            autoRetryEnable={this.state.autoRetryEnable}\n                            actions={this.actionsForPostList}\n                            postListIds={this.props.formattedPostIds}\n                            latestPostTimeStamp={this.props.latestPostTimeStamp}\n                            latestAriaLabelFunc={this.props.latestAriaLabelFunc}\n                        />\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport AutoSizer from 'react-virtualized-auto-sizer';\nimport {DynamicSizeList} from 'react-window';\nimport {intlShape} from 'react-intl';\nimport {isDateLine, isStartOfNewMessages} from 'mattermost-redux/utils/post_list';\n\nimport EventEmitter from 'mattermost-redux/utils/event_emitter';\n\nimport Constants, {PostListRowListIds, EventTypes, PostRequestTypes} from 'utils/constants';\nimport DelayedAction from 'utils/delayed_action';\nimport {getPreviousPostId, getLatestPostId} from 'utils/post_utils.jsx';\nimport * as Utils from 'utils/utils.jsx';\n\nimport FloatingTimestamp from 'components/post_view/floating_timestamp';\nimport NewMessagesBelow from 'components/post_view/new_messages_below';\nimport PostListRow from 'components/post_view/post_list_row';\nimport ScrollToBottomArrows from 'components/post_view/scroll_to_bottom_arrows';\n\nconst OVERSCAN_COUNT_BACKWARD = window.OVERSCAN_COUNT_BACKWARD || 80; // Exposing the value for PM to test will be removed soon\nconst OVERSCAN_COUNT_FORWARD = window.OVERSCAN_COUNT_FORWARD || 80; // Exposing the value for PM to test will be removed soon\nconst HEIGHT_TRIGGER_FOR_MORE_POSTS = window.HEIGHT_TRIGGER_FOR_MORE_POSTS || 1000; // Exposing the value for PM to test will be removed soon\nconst BUFFER_TO_BE_CONSIDERED_BOTTOM = 10;\n\nconst MAXIMUM_POSTS_FOR_SLICING = {\n    channel: 50,\n    permalink: 100,\n};\n\nconst postListStyle = {\n    padding: '14px 0px 7px',\n};\n\nconst virtListStyles = {\n    position: 'absolute',\n    bottom: '0',\n    maxHeight: '100%',\n};\n\nexport default class PostList extends React.PureComponent {\n    static propTypes = {\n\n        /**\n         * Array of Ids in the channel including date separators, new message indicator, more messages loader,\n         * manual load messages trigger and postId in the order of newest to oldest for populating virtual list rows\n         */\n        postListIds: PropTypes.array.isRequired,\n\n        /**\n         * Set to focus this post\n         */\n        focusedPostId: PropTypes.string,\n\n        /**\n         * The current channel id\n         */\n        channelId: PropTypes.string.isRequired,\n\n        /**\n         * Used for disabling auto retry of posts and enabling manual link for loading posts\n         */\n        autoRetryEnable: PropTypes.bool,\n\n        /**\n         * used for populating header, scroll correction and disabling triggering loadOlderPosts\n         */\n        atOldestPost: PropTypes.bool,\n\n        /**\n         * used for disabling triggering loadNewerPosts\n         */\n        atLatestPost: PropTypes.bool,\n\n        latestPostTimeStamp: PropTypes.number,\n\n        latestAriaLabelFunc: PropTypes.func,\n\n        actions: PropTypes.shape({\n\n            /**\n             * Function to get older posts in the channel\n             */\n            loadOlderPosts: PropTypes.func.isRequired,\n\n            /**\n             * Function to get newer posts in the channel\n             */\n            loadNewerPosts: PropTypes.func.isRequired,\n\n            /**\n             * Function used for autoLoad of posts incase screen is not filled with posts\n             */\n            canLoadMorePosts: PropTypes.func.isRequired,\n\n            /**\n             * Function to check and set if app is in mobile view\n             */\n            checkAndSetMobileView: PropTypes.func.isRequired,\n\n            /**\n             * Function to change the post selected for postList\n             */\n            changeUnreadChunkTimeStamp: PropTypes.func.isRequired,\n        }).isRequired,\n    }\n\n    static contextTypes = {\n        intl: intlShape.isRequired,\n    };\n\n    constructor(props) {\n        super(props);\n\n        const channelIntroMessage = PostListRowListIds.CHANNEL_INTRO_MESSAGE;\n        const isMobile = Utils.isMobile();\n        this.state = {\n            isScrolling: false,\n            isMobile,\n            atBottom: false,\n            lastViewedBottom: Date.now(),\n            postListIds: [channelIntroMessage],\n            topPostId: '',\n            postMenuOpened: false,\n            dynamicListStyle: {\n                willChange: 'transform',\n            },\n        };\n\n        this.listRef = React.createRef();\n        this.postListRef = React.createRef();\n        if (isMobile) {\n            this.scrollStopAction = new DelayedAction(this.handleScrollStop);\n        }\n\n        this.initRangeToRender = this.props.focusedPostId ? [0, MAXIMUM_POSTS_FOR_SLICING.permalink] : [0, MAXIMUM_POSTS_FOR_SLICING.channel];\n\n        let postIndex = 0;\n        if (props.focusedPostId) {\n            postIndex = this.props.postListIds.findIndex((postId) => postId === this.props.focusedPostId);\n        } else {\n            postIndex = this.getNewMessagesSeparatorIndex(props.postListIds);\n        }\n\n        const maxPostsForSlicing = props.focusedPostId ? MAXIMUM_POSTS_FOR_SLICING.permalink : MAXIMUM_POSTS_FOR_SLICING.channel;\n        this.initRangeToRender = [\n            Math.max(postIndex - 30, 0),\n            Math.max(postIndex + 30, Math.min(props.postListIds.length - 1, maxPostsForSlicing)),\n        ];\n    }\n\n    componentDidMount() {\n        this.mounted = true;\n        this.props.actions.checkAndSetMobileView();\n\n        window.addEventListener('resize', this.handleWindowResize);\n\n        EventEmitter.addListener(EventTypes.POST_LIST_SCROLL_TO_BOTTOM, this.scrollToLatestMessages);\n    }\n\n    getSnapshotBeforeUpdate(prevProps) {\n        if (this.postListRef && this.postListRef.current) {\n            const postsAddedAtTop = this.props.postListIds && this.props.postListIds.length !== prevProps.postListIds.length && this.props.postListIds[0] === prevProps.postListIds[0];\n            const channelHeaderAdded = this.props.atOldestPost !== prevProps.atOldestPost;\n            if ((postsAddedAtTop || channelHeaderAdded) && !this.state.atBottom) {\n                const postListNode = this.postListRef.current;\n                const previousScrollTop = postListNode.parentElement.scrollTop;\n                const previousScrollHeight = postListNode.scrollHeight;\n\n                return {\n                    previousScrollTop,\n                    previousScrollHeight,\n                };\n            }\n        }\n        return null;\n    }\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        if (!this.postListRef.current || !snapshot) {\n            return;\n        }\n\n        const postlistScrollHeight = this.postListRef.current.scrollHeight;\n        const postsAddedAtTop = this.props.postListIds.length !== prevProps.postListIds.length && this.props.postListIds[0] === prevProps.postListIds[0];\n        const channelHeaderAdded = this.props.atOldestPost !== prevProps.atOldestPost;\n        if ((postsAddedAtTop || channelHeaderAdded) && !this.state.atBottom) {\n            const scrollValue = snapshot.previousScrollTop + (postlistScrollHeight - snapshot.previousScrollHeight);\n            if (scrollValue !== 0 && (scrollValue - snapshot.previousScrollTop) !== 0) {\n                //true as third param so chrome can use animationFrame when correcting scroll\n                this.listRef.current.scrollTo(scrollValue, scrollValue - snapshot.previousScrollTop, true);\n            }\n        }\n    }\n\n    componentWillUnmount() {\n        this.mounted = false;\n        window.removeEventListener('resize', this.handleWindowResize);\n\n        EventEmitter.removeListener(EventTypes.POST_LIST_SCROLL_TO_BOTTOM, this.scrollToLatestMessages);\n    }\n\n    static getDerivedStateFromProps(props) {\n        const postListIds = props.postListIds;\n        let newPostListIds;\n\n        if (props.atOldestPost) {\n            newPostListIds = [...postListIds, PostListRowListIds.CHANNEL_INTRO_MESSAGE];\n        } else if (props.autoRetryEnable) {\n            newPostListIds = [...postListIds, PostListRowListIds.OLDER_MESSAGES_LOADER];\n        } else {\n            newPostListIds = [...postListIds, PostListRowListIds.LOAD_OLDER_MESSAGES_TRIGGER];\n        }\n\n        if (!props.atLatestPost) {\n            if (props.autoRetryEnable) {\n                newPostListIds = [PostListRowListIds.NEWER_MESSAGES_LOADER, ...newPostListIds];\n            } else {\n                newPostListIds = [PostListRowListIds.LOAD_NEWER_MESSAGES_TRIGGER, ...newPostListIds];\n            }\n        }\n\n        return {\n            postListIds: newPostListIds,\n        };\n    }\n\n    getNewMessagesSeparatorIndex = (postListIds) => {\n        return postListIds.findIndex(\n            (item) => item.indexOf(PostListRowListIds.START_OF_NEW_MESSAGES) === 0\n        );\n    }\n\n    handleWindowResize = () => {\n        this.props.actions.checkAndSetMobileView();\n        const isMobile = Utils.isMobile();\n        if (isMobile !== this.state.isMobile) {\n            const dynamicListStyle = this.state.dynamicListStyle;\n            if (this.state.postMenuOpened) {\n                if (!isMobile && dynamicListStyle.willChange === 'unset') {\n                    dynamicListStyle.willChange = 'transform';\n                } else if (isMobile && dynamicListStyle.willChange === 'transform') {\n                    dynamicListStyle.willChange = 'unset';\n                }\n            }\n\n            this.setState({\n                isMobile,\n                dynamicListStyle,\n            });\n            this.scrollStopAction = new DelayedAction(this.handleScrollStop);\n        }\n    }\n\n    togglePostMenu = (opened) => {\n        const dynamicListStyle = this.state.dynamicListStyle;\n        if (this.state.isMobile) {\n            dynamicListStyle.willChange = opened ? 'unset' : 'transform';\n        }\n\n        this.setState({\n            postMenuOpened: opened,\n            dynamicListStyle,\n        });\n    };\n\n    renderRow = ({data, itemId, style}) => {\n        const index = data.indexOf(itemId);\n        let className = '';\n        const basePaddingClass = 'post-row__padding';\n        const previousItemId = (index !== -1 && index < data.length - 1) ? data[index + 1] : '';\n        const nextItemId = (index > 0 && index < data.length) ? data[index - 1] : '';\n\n        if (isDateLine(nextItemId) || isStartOfNewMessages(nextItemId)) {\n            className += basePaddingClass + ' bottom';\n        }\n\n        if (isDateLine(previousItemId) || isStartOfNewMessages(previousItemId)) {\n            if (className.includes(basePaddingClass)) {\n                className += ' top';\n            } else {\n                className += basePaddingClass + ' top';\n            }\n        }\n\n        return (\n            <div\n                style={style}\n                className={className}\n            >\n                <PostListRow\n                    listId={itemId}\n                    previousListId={getPreviousPostId(data, index)}\n                    shouldHighlight={itemId === this.props.focusedPostId}\n                    loadOlderPosts={this.props.actions.loadOlderPosts}\n                    loadNewerPosts={this.props.actions.loadNewerPosts}\n                    togglePostMenu={this.togglePostMenu}\n                />\n            </div>\n        );\n    };\n\n    itemKey = (index) => {\n        const {postListIds} = this.state;\n        return postListIds[index] ? postListIds[index] : index;\n    }\n\n    onScroll = ({scrollDirection, scrollOffset, scrollUpdateWasRequested, clientHeight, scrollHeight}) => {\n        const didUserScrollBackwards = scrollDirection === 'backward' && !scrollUpdateWasRequested;\n        const didUserScrollForwards = scrollDirection === 'forward' && !scrollUpdateWasRequested;\n        const isOffsetWithInRange = scrollOffset < HEIGHT_TRIGGER_FOR_MORE_POSTS;\n        const offsetFromBottom = (scrollHeight - clientHeight) - scrollOffset < HEIGHT_TRIGGER_FOR_MORE_POSTS;\n\n        if (didUserScrollBackwards && isOffsetWithInRange && !this.props.atOldestPost) {\n            this.props.actions.loadOlderPosts();\n        } else if (didUserScrollForwards && offsetFromBottom && !this.props.atLatestPost) {\n            this.props.actions.loadNewerPosts();\n        }\n\n        if (this.state.isMobile) {\n            if (!this.state.isScrolling) {\n                this.setState({\n                    isScrolling: true,\n                });\n            }\n\n            if (this.scrollStopAction) {\n                this.scrollStopAction.fireAfter(Constants.SCROLL_DELAY);\n            }\n        }\n\n        if (scrollUpdateWasRequested) { //if scroll change is programatically requested i.e by calling scrollTo\n            //This is a private method on virtlist\n            const postsRenderedRange = this.listRef.current._getRangeToRender(); //eslint-disable-line no-underscore-dangle\n\n            // postsRenderedRange[3] is the visibleStopIndex which is post at the bottom of the screen\n            if (postsRenderedRange[3] <= 1 && !this.props.atLatestPost) {\n                this.props.actions.canLoadMorePosts(PostRequestTypes.AFTER_ID);\n            }\n        }\n\n        this.checkBottom(scrollOffset, scrollHeight, clientHeight);\n    }\n\n    checkBottom = (scrollOffset, scrollHeight, clientHeight) => {\n        this.updateAtBottom(this.isAtBottom(scrollOffset, scrollHeight, clientHeight));\n    }\n\n    isAtBottom = (scrollOffset, scrollHeight, clientHeight) => {\n        // Calculate how far the post list is from being scrolled to the bottom\n        const offsetFromBottom = scrollHeight - clientHeight - scrollOffset;\n\n        return offsetFromBottom <= BUFFER_TO_BE_CONSIDERED_BOTTOM && scrollHeight > 0;\n    }\n\n    updateAtBottom = (atBottom) => {\n        if (atBottom !== this.state.atBottom) {\n            // Update lastViewedBottom when the list reaches or leaves the bottom\n            let lastViewedBottom = Date.now();\n            if (this.props.latestPostTimeStamp > lastViewedBottom) {\n                lastViewedBottom = this.props.latestPostTimeStamp;\n            }\n\n            this.setState({\n                atBottom,\n                lastViewedBottom,\n            });\n        }\n    }\n\n    handleScrollStop = () => {\n        if (this.mounted) {\n            this.setState({\n                isScrolling: false,\n            });\n        }\n    }\n\n    updateFloatingTimestamp = (visibleTopItem) => {\n        if (!this.state.isMobile) {\n            return;\n        }\n\n        if (!this.props.postListIds) {\n            return;\n        }\n\n        this.setState({\n            topPostId: getLatestPostId(this.props.postListIds.slice(visibleTopItem)),\n        });\n    }\n\n    onItemsRendered = ({visibleStartIndex}) => {\n        this.updateFloatingTimestamp(visibleStartIndex);\n    }\n\n    initScrollToIndex = () => {\n        if (this.props.focusedPostId) {\n            const index = this.state.postListIds.findIndex(\n                (item) => item === this.props.focusedPostId\n            );\n            return {\n                index,\n                position: 'center',\n            };\n        }\n\n        const newMessagesSeparatorIndex = this.state.postListIds.findIndex(\n            (item) => item.indexOf(PostListRowListIds.START_OF_NEW_MESSAGES) === 0\n        );\n\n        if (newMessagesSeparatorIndex > 0) {\n            // if there is a dateLine above START_OF_NEW_MESSAGES then scroll to date line\n            if (isDateLine(this.state.postListIds[newMessagesSeparatorIndex + 1])) {\n                return {\n                    index: newMessagesSeparatorIndex + 1,\n                    position: 'start',\n                };\n            }\n            return {\n                index: newMessagesSeparatorIndex,\n                position: 'start',\n            };\n        }\n\n        this.setState({atBottom: true});\n        return {\n            index: 0,\n            position: 'end',\n        };\n    }\n\n    scrollToLatestMessages = () => {\n        if (this.props.atLatestPost) {\n            this.scrollToBottom();\n        } else {\n            this.props.actions.changeUnreadChunkTimeStamp('');\n        }\n    }\n\n    scrollToBottom = () => {\n        this.listRef.current.scrollToItem(0, 'end');\n    }\n\n    render() {\n        const channelId = this.props.channelId;\n        let ariaLabel;\n        if (this.props.latestAriaLabelFunc && this.props.postListIds.indexOf(PostListRowListIds.START_OF_NEW_MESSAGES) >= 0) {\n            ariaLabel = this.props.latestAriaLabelFunc(this.context.intl);\n        }\n        const {dynamicListStyle} = this.state;\n\n        let newMessagesBelow = null;\n        if (!this.props.focusedPostId) {\n            newMessagesBelow = (\n                <NewMessagesBelow\n                    atBottom={this.state.atBottom}\n                    lastViewedBottom={this.state.lastViewedBottom}\n                    postIds={this.state.postListIds}\n                    onClick={this.scrollToLatestMessages}\n                    channelId={channelId}\n                />\n            );\n        }\n\n        return (\n            <div\n                role='list'\n                className='a11y__region'\n                data-a11y-sort-order='1'\n                data-a11y-focus-child={true}\n                data-a11y-order-reversed={true}\n                data-a11y-loop-navigation={false}\n                aria-label={Utils.localizeMessage('accessibility.sections.centerContent', 'message list main region')}\n            >\n                {this.state.isMobile && (\n                    <React.Fragment>\n                        <FloatingTimestamp\n                            isScrolling={this.state.isScrolling}\n                            isMobile={true}\n                            postId={this.state.topPostId}\n                        />\n                        <ScrollToBottomArrows\n                            isScrolling={this.state.isScrolling}\n                            atBottom={this.state.atBottom}\n                            onClick={this.scrollToBottom}\n                        />\n                    </React.Fragment>\n                )}\n                {newMessagesBelow}\n                <div\n                    role='presentation'\n                    className='post-list-holder-by-time'\n                    key={'postlist-' + channelId}\n                >\n                    <div\n                        role='presentation'\n                        className='post-list__table'\n                    >\n                        <div\n                            id='postListContent'\n                            className='post-list__content'\n                        >\n                            <span\n                                className='sr-only'\n                                aria-live='polite'\n                            >\n                                {ariaLabel}\n                            </span>\n                            <AutoSizer>\n                                {({height, width}) => (\n                                    <DynamicSizeList\n                                        ref={this.listRef}\n                                        height={height}\n                                        width={width}\n                                        className='post-list__dynamic'\n                                        itemCount={this.state.postListIds.length}\n                                        itemData={this.state.postListIds}\n                                        itemKey={this.itemKey}\n                                        overscanCountForward={OVERSCAN_COUNT_FORWARD}\n                                        overscanCountBackward={OVERSCAN_COUNT_BACKWARD}\n                                        onScroll={this.onScroll}\n                                        onItemsRendered={this.onItemsRendered}\n                                        initScrollToIndex={this.initScrollToIndex}\n                                        canLoadMorePosts={this.props.actions.canLoadMorePosts}\n                                        skipResizeClass='col__reply'\n                                        innerRef={this.postListRef}\n                                        style={{...virtListStyles, ...dynamicListStyle}}\n                                        innerListStyle={postListStyle}\n                                        initRangeToRender={this.initRangeToRender}\n                                        loaderId={PostListRowListIds.OLDER_MESSAGES_LOADER}\n                                        correctScrollToBottom={this.props.atLatestPost}\n                                    >\n                                        {this.renderRow}\n                                    </DynamicSizeList>\n                                )}\n                            </AutoSizer>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\n\nimport PostListRow from './post_list_row.jsx';\n\nfunction mapStateToProps(state, ownProps) {\n    return {\n        post: ownProps.post,\n        channel: ownProps.channel,\n    };\n}\n\nexport default connect(mapStateToProps)(PostListRow);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nimport * as PostListUtils from 'mattermost-redux/utils/post_list';\n\nimport CombinedUserActivityPost from 'components/post_view/combined_user_activity_post';\nimport Post from 'components/post_view/post';\nimport DateSeparator from 'components/post_view/date_separator';\nimport NewMessageSeparator from 'components/post_view/new_message_separator/new_message_separator';\nimport ChannelIntroMessage from 'components/post_view/channel_intro_message/';\nimport {PostListRowListIds} from 'utils/constants';\n\nexport default class PostListRow extends React.PureComponent {\n    static propTypes = {\n        listId: PropTypes.string.isRequired,\n        previousListId: PropTypes.string,\n        fullWidth: PropTypes.bool,\n        shouldHighlight: PropTypes.bool,\n        loadOlderPosts: PropTypes.func,\n        loadNewerPosts: PropTypes.func,\n        togglePostMenu: PropTypes.func,\n    }\n\n    render() {\n        const {listId, previousListId} = this.props;\n\n        if (PostListUtils.isDateLine(listId)) {\n            const date = PostListUtils.getDateForDateLine(listId);\n\n            return (\n                <DateSeparator\n                    key={date}\n                    date={date}\n                />\n            );\n        }\n\n        if (PostListUtils.isStartOfNewMessages(listId)) {\n            return (\n                <NewMessageSeparator separatorId={listId}/>\n            );\n        }\n\n        if (listId === PostListRowListIds.CHANNEL_INTRO_MESSAGE) {\n            return (\n                <ChannelIntroMessage/>\n            );\n        }\n\n        if (listId === PostListRowListIds.LOAD_OLDER_MESSAGES_TRIGGER || listId === PostListRowListIds.LOAD_NEWER_MESSAGES_TRIGGER) {\n            return (\n                <button\n                    className='more-messages-text theme style--none color--link'\n                    onClick={listId === PostListRowListIds.LOAD_OLDER_MESSAGES_TRIGGER ? this.props.loadOlderPosts : this.props.loadNewerPosts}\n                >\n                    <FormattedMessage\n                        id='posts_view.loadMore'\n                        defaultMessage='Load more messages'\n                    />\n                </button>\n            );\n        }\n\n        if (listId === PostListRowListIds.OLDER_MESSAGES_LOADER || listId === PostListRowListIds.NEWER_MESSAGES_LOADER) {\n            return (\n                <div\n                    className='loading-screen'\n                >\n                    <div className='loading__content'>\n                        <div className='round round-1'/>\n                        <div className='round round-2'/>\n                        <div className='round round-3'/>\n                    </div>\n                </div>\n            );\n        }\n\n        const postProps = {\n            previousPostId: previousListId,\n            shouldHighlight: this.props.shouldHighlight,\n            togglePostMenu: this.props.togglePostMenu,\n        };\n\n        if (PostListUtils.isCombinedUserActivityPost(listId)) {\n            return (\n                <CombinedUserActivityPost\n                    combinedId={listId}\n                    {...postProps}\n                />\n            );\n        }\n\n        return (\n            <Post\n                postId={listId}\n                {...postProps}\n            />\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {Preferences} from 'mattermost-redux/constants';\nimport {getTheme, getBool} from 'mattermost-redux/selectors/entities/preferences';\n\nimport {getIsRhsExpanded, getIsRhsOpen} from 'selectors/rhs';\n\nimport PostMessageView from './post_message_view.jsx';\n\nfunction mapStateToProps(state) {\n    return {\n        enableFormatting: getBool(state, Preferences.CATEGORY_ADVANCED_SETTINGS, 'formatting', true),\n        isRHSExpanded: getIsRhsExpanded(state),\n        isRHSOpen: getIsRhsOpen(state),\n        pluginPostTypes: state.plugins.postTypes,\n        theme: getTheme(state),\n    };\n}\n\nexport default connect(mapStateToProps)(PostMessageView);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\nimport {Posts} from 'mattermost-redux/constants';\n\nimport * as PostUtils from 'utils/post_utils';\nimport * as Utils from 'utils/utils';\n\nimport PostMarkdown from 'components/post_markdown';\nimport Pluggable from 'plugins/pluggable';\nimport ShowMore from 'components/post_view/show_more';\n\nexport default class PostMessageView extends React.PureComponent {\n    static propTypes = {\n\n        /*\n         * The post to render the message for\n         */\n        post: PropTypes.object.isRequired,\n\n        /*\n         * Set to enable Markdown formatting\n         */\n        enableFormatting: PropTypes.bool,\n\n        /*\n         * Options specific to text formatting\n         */\n        options: PropTypes.object,\n\n        /**\n         * Set to render post body compactly\n         */\n        compactDisplay: PropTypes.bool,\n\n        /**\n         * Flags if the post_message_view is for the RHS (Reply).\n         */\n        isRHS: PropTypes.bool,\n\n        /**\n         * Whether or not the RHS is visible\n         */\n        isRHSOpen: PropTypes.bool,\n\n        /**\n         * Whether or not the RHS is expanded\n         */\n        isRHSExpanded: PropTypes.bool,\n\n        /*\n         * Logged in user's theme\n         */\n        theme: PropTypes.object.isRequired,\n\n        /*\n         * Post type components from plugins\n         */\n        pluginPostTypes: PropTypes.object,\n    };\n\n    static defaultProps = {\n        options: {},\n        isRHS: false,\n        pluginPostTypes: {},\n    };\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            collapse: true,\n            hasOverflow: false,\n            checkOverflow: 0,\n        };\n\n        this.imageProps = {\n            onImageLoaded: this.handleHeightReceived,\n        };\n    }\n\n    handleHeightReceived = (height) => {\n        if (height > 0) {\n            // Increment checkOverflow to indicate change in height\n            // and recompute textContainer height at ShowMore component\n            // and see whether overflow text of show more/less is necessary or not.\n            this.setState((prevState) => {\n                return {checkOverflow: prevState.checkOverflow + 1};\n            });\n        }\n    };\n\n    renderDeletedPost() {\n        return (\n            <p>\n                <FormattedMessage\n                    id='post_body.deleted'\n                    defaultMessage='(message deleted)'\n                />\n            </p>\n        );\n    }\n\n    renderEditedIndicator() {\n        if (!PostUtils.isEdited(this.props.post)) {\n            return null;\n        }\n\n        return (\n            <span\n                id={`postEdited_${this.props.post.id}`}\n                className='post-edited__indicator'\n            >\n                <FormattedMessage\n                    id='post_message_view.edited'\n                    defaultMessage='(edited)'\n                />\n            </span>\n        );\n    }\n\n    render() {\n        const {\n            post,\n            enableFormatting,\n            options,\n            pluginPostTypes,\n            compactDisplay,\n            isRHS,\n            theme,\n        } = this.props;\n\n        if (post.state === Posts.POST_DELETED) {\n            return this.renderDeletedPost();\n        }\n\n        if (!enableFormatting) {\n            return <span>{post.message}</span>;\n        }\n\n        const postType = post.props && post.props.type ? post.props.type : post.type;\n\n        if (pluginPostTypes.hasOwnProperty(postType)) {\n            const PluginComponent = pluginPostTypes[postType].component;\n            return (\n                <PluginComponent\n                    post={post}\n                    compactDisplay={compactDisplay}\n                    isRHS={isRHS}\n                    theme={theme}\n                />\n            );\n        }\n\n        let message = post.message;\n        const isEphemeral = Utils.isPostEphemeral(post);\n        if (compactDisplay && isEphemeral) {\n            const visibleMessage = Utils.localizeMessage('post_info.message.visible.compact', ' (Only visible to you)');\n            message = message.concat(visibleMessage);\n        }\n\n        const id = isRHS ? `rhsPostMessageText_${post.id}` : `postMessageText_${post.id}`;\n\n        return (\n            <ShowMore\n                checkOverflow={this.state.checkOverflow}\n                text={message}\n            >\n                <div\n                    aria-readonly='true'\n                    tabIndex='0'\n                    id={id}\n                    className='post-message__text'\n                    onClick={Utils.handleFormattedTextClick}\n                >\n                    <PostMarkdown\n                        message={message}\n                        imageProps={this.imageProps}\n                        isRHS={isRHS}\n                        options={options}\n                        post={post}\n                        channelId={post.channel_id}\n                    />\n                </div>\n                {this.renderEditedIndicator()}\n                <Pluggable\n                    pluggableName='PostMessageAttachment'\n                    postId={post.id}\n                    onHeightChange={this.handleHeightReceived}\n                />\n            </ShowMore>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\n\nimport {addReaction} from 'actions/post_actions.jsx';\n\nimport PostReaction from './post_reaction';\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            addReaction,\n        }, dispatch),\n    };\n}\n\nexport default connect(null, mapDispatchToProps)(PostReaction);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {OverlayTrigger, Tooltip} from 'react-bootstrap';\nimport {FormattedMessage} from 'react-intl';\n\nimport Permissions from 'mattermost-redux/constants/permissions';\n\nimport {Locations} from 'utils/constants';\nimport {localizeMessage} from 'utils/utils.jsx';\n\nimport ChannelPermissionGate from 'components/permissions_gates/channel_permission_gate';\nimport EmojiIcon from 'components/widgets/icons/emoji_icon';\nimport EmojiPickerOverlay from 'components/emoji_picker/emoji_picker_overlay.jsx';\n\nconst TOP_OFFSET = -7;\n\nexport default class PostReaction extends React.PureComponent {\n    static propTypes = {\n        channelId: PropTypes.string,\n        postId: PropTypes.string.isRequired,\n        teamId: PropTypes.string.isRequired,\n        getDotMenuRef: PropTypes.func.isRequired,\n        location: PropTypes.oneOf([Locations.CENTER, Locations.RHS_ROOT, Locations.RHS_COMMENT]).isRequired,\n        showEmojiPicker: PropTypes.bool.isRequired,\n        toggleEmojiPicker: PropTypes.func.isRequired,\n        actions: PropTypes.shape({\n            addReaction: PropTypes.func.isRequired,\n        }).isRequired,\n    };\n\n    static defaultProps = {\n        location: Locations.CENTER,\n        showEmojiPicker: false,\n    };\n\n    handleAddEmoji = (emoji) => {\n        this.setState({showEmojiPicker: false});\n        const emojiName = emoji.name || emoji.aliases[0];\n        this.props.actions.addReaction(this.props.postId, emojiName);\n        this.props.toggleEmojiPicker();\n    };\n\n    render() {\n        const {\n            channelId,\n            location,\n            postId,\n            showEmojiPicker,\n            teamId,\n        } = this.props;\n\n        let spaceRequiredAbove;\n        let spaceRequiredBelow;\n        if (location === Locations.RHS_ROOT || location === Locations.RHS_COMMENT) {\n            spaceRequiredAbove = EmojiPickerOverlay.RHS_SPACE_REQUIRED_ABOVE;\n            spaceRequiredBelow = EmojiPickerOverlay.RHS_SPACE_REQUIRED_BELOW;\n        }\n\n        return (\n            <ChannelPermissionGate\n                channelId={channelId}\n                teamId={teamId}\n                permissions={[Permissions.ADD_REACTION]}\n            >\n                <div>\n                    <EmojiPickerOverlay\n                        show={showEmojiPicker}\n                        target={this.props.getDotMenuRef}\n                        onHide={this.props.toggleEmojiPicker}\n                        onEmojiClose={this.props.toggleEmojiPicker}\n                        onEmojiClick={this.handleAddEmoji}\n                        topOffset={TOP_OFFSET}\n                        spaceRequiredAbove={spaceRequiredAbove}\n                        n={true}\n                        spaceRequiredBelow={spaceRequiredBelow}\n                    />\n                    <OverlayTrigger\n                        className='hidden-xs'\n                        delayShow={500}\n                        placement='top'\n                        overlay={\n                            <Tooltip\n                                id='reaction-icon-tooltip'\n                                className='hidden-xs'\n                            >\n                                <FormattedMessage\n                                    id='post_info.tooltip.add_reactions'\n                                    defaultMessage='Add Reaction'\n                                />\n                            </Tooltip>\n                        }\n                    >\n                        <button\n                            id={`${location}_reaction_${postId}`}\n                            aria-label={localizeMessage('post_info.tooltip.add_reactions', 'Add Reaction').toLowerCase()}\n                            className='reacticon__container color--link style--none'\n                            onClick={this.props.toggleEmojiPicker}\n                        >\n                            <EmojiIcon className='icon icon--emoji'/>\n                        </button>\n                    </OverlayTrigger>\n                </div>\n            </ChannelPermissionGate>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {getCurrentRelativeTeamUrl} from 'mattermost-redux/selectors/entities/teams';\n\nimport PostTime from './post_time.jsx';\n\nfunction mapStateToProps(state) {\n    return {\n        teamUrl: getCurrentRelativeTeamUrl(state),\n    };\n}\n\nexport default connect(mapStateToProps)(PostTime);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {Link} from 'react-router-dom';\n\nimport * as GlobalActions from 'actions/global_actions.jsx';\nimport {isMobile} from 'utils/user_agent';\nimport {Locations} from 'utils/constants';\nimport {isMobile as isMobileView} from 'utils/utils.jsx';\nimport LocalDateTime from 'components/local_date_time';\n\nexport default class PostTime extends React.PureComponent {\n    static propTypes = {\n\n        /*\n         * If true, time will be rendered as a permalink to the post\n         */\n        isPermalink: PropTypes.bool.isRequired,\n\n        /*\n         * The time to display\n         */\n        eventTime: PropTypes.number.isRequired,\n\n        location: PropTypes.oneOf([Locations.CENTER, Locations.RHS_ROOT, Locations.RHS_COMMENT, Locations.SEARCH]).isRequired,\n\n        /*\n         * The post id of posting being rendered\n         */\n        postId: PropTypes.string,\n        teamUrl: PropTypes.string,\n    };\n\n    static defaultProps = {\n        eventTime: 0,\n        location: Locations.CENTER,\n    };\n\n    handleClick = () => {\n        if (isMobileView()) {\n            GlobalActions.emitCloseRightHandSide();\n        }\n    };\n\n    render() {\n        const localDateTime = (\n            <LocalDateTime\n                eventTime={this.props.eventTime}\n            />\n        );\n        if (isMobile() || !this.props.isPermalink) {\n            return (\n                <div\n                    role='presentation'\n                    className='post__permalink'\n                >\n                    {localDateTime}\n                </div>\n            );\n        }\n\n        const {\n            location,\n            postId,\n            teamUrl,\n        } = this.props;\n\n        return (\n            <Link\n                role='presentation'\n                id={`${location}_time_${postId}`}\n                to={`${teamUrl}/pl/${postId}`}\n                className='post__permalink'\n                onClick={this.handleClick}\n            >\n                {localDateTime}\n            </Link>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport LoadingScreen from 'components/loading_screen';\n\nimport PostList from './post_list';\n\nexport default class PostView extends React.PureComponent {\n    static propTypes = {\n        lastViewedAt: PropTypes.number,\n        channelLoading: PropTypes.bool,\n        channelId: PropTypes.string,\n        focusedPostId: PropTypes.string,\n        prevChannelId: PropTypes.string.isRequired,\n    }\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            unreadChunkTimeStamp: props.lastViewedAt,\n            loaderForChangeOfPostsChunk: false,\n            channelLoading: props.channelLoading,\n        };\n    }\n\n    static getDerivedStateFromProps(props, state) {\n        if (state.unreadChunkTimeStamp === null && props.lastViewedAt) {\n            return {\n                unreadChunkTimeStamp: props.lastViewedAt,\n            };\n        }\n        if (props.channelLoading !== state.channelLoading) {\n            return {\n                unreadChunkTimeStamp: props.lastViewedAt,\n                channelLoading: props.channelLoading,\n            };\n        }\n        return null;\n    }\n\n    changeUnreadChunkTimeStamp = (unreadChunkTimeStamp) => {\n        this.setState({\n            unreadChunkTimeStamp,\n            loaderForChangeOfPostsChunk: true,\n        }, () => {\n            window.requestAnimationFrame(() => {\n                this.setState({\n                    loaderForChangeOfPostsChunk: false,\n                });\n            });\n        });\n    }\n\n    render() {\n        if (this.props.channelLoading || this.state.loaderForChangeOfPostsChunk) {\n            return (\n                <div id='post-list'>\n                    <LoadingScreen\n                        position='absolute'\n                        key='loading'\n                    />\n                </div>\n            );\n        }\n\n        return (\n            <div id='post-list'>\n                <PostList\n                    unreadChunkTimeStamp={this.state.unreadChunkTimeStamp}\n                    channelId={this.props.channelId}\n                    changeUnreadChunkTimeStamp={this.changeUnreadChunkTimeStamp}\n                    focusedPostId={this.props.focusedPostId}\n                    prevChannelId={this.props.prevChannelId}\n                />\n            </div>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\n\nimport {removeReaction} from 'mattermost-redux/actions/posts';\nimport {getMissingProfilesByIds} from 'mattermost-redux/actions/users';\nimport {getCurrentUserId, makeGetProfilesForReactions, getCurrentUser} from 'mattermost-redux/selectors/entities/users';\nimport {getChannel} from 'mattermost-redux/selectors/entities/channels';\nimport {getCustomEmojisByName} from 'mattermost-redux/selectors/entities/emojis';\nimport {getEmojiImageUrl} from 'mattermost-redux/utils/emoji_utils';\nimport {haveIChannelPermission} from 'mattermost-redux/selectors/entities/roles';\nimport Permissions from 'mattermost-redux/constants/permissions';\nimport Constants from 'mattermost-redux/constants/general';\nimport {getConfig, getLicense} from 'mattermost-redux/selectors/entities/general';\n\nimport {addReaction} from 'actions/post_actions.jsx';\n\nimport * as Emoji from 'utils/emoji.jsx';\n\nimport Reaction from './reaction.jsx';\n\nfunction makeMapStateToProps() {\n    const getProfilesForReactions = makeGetProfilesForReactions();\n\n    return function mapStateToProps(state, ownProps) {\n        const config = getConfig(state);\n        const license = getLicense(state);\n        const me = getCurrentUser(state);\n\n        const profiles = getProfilesForReactions(state, ownProps.reactions);\n        let emoji;\n        if (Emoji.EmojiIndicesByAlias.has(ownProps.emojiName)) {\n            emoji = Emoji.Emojis[Emoji.EmojiIndicesByAlias.get(ownProps.emojiName)];\n        } else {\n            const emojis = getCustomEmojisByName(state);\n            emoji = emojis.get(ownProps.emojiName);\n        }\n\n        let emojiImageUrl = '';\n        if (emoji) {\n            emojiImageUrl = getEmojiImageUrl(emoji);\n        }\n        const channel = getChannel(state, ownProps.post.channel_id) || {};\n        const channelIsArchived = channel.delete_at !== 0;\n        const teamId = channel.team_id;\n\n        let canAddReaction = false;\n        let canRemoveReaction = false;\n\n        if (!channelIsArchived) {\n            canAddReaction = checkReactionAction(state, teamId, ownProps.post.channel_id, channel.name, config, license, me, Permissions.REMOVE_REACTION);\n            canRemoveReaction = checkReactionAction(state, teamId, ownProps.post.channel_id, channel.name, config, license, me, Permissions.ADD_REACTION);\n        }\n\n        return {\n            profiles,\n            otherUsersCount: ownProps.reactions.length - profiles.length,\n            currentUserId: getCurrentUserId(state),\n            reactionCount: ownProps.reactions.length,\n            canAddReaction,\n            canRemoveReaction,\n            emojiImageUrl,\n        };\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            addReaction,\n            removeReaction,\n            getMissingProfilesByIds,\n        }, dispatch),\n    };\n}\n\nfunction checkReactionAction(state, teamId, channelId, channelName, config, license, user, permission) {\n    if (!haveIChannelPermission(state, {team: teamId, channel: channelId, permission})) {\n        return false;\n    }\n\n    if (channelName === Constants.DEFAULT_CHANNEL && config.ExperimentalTownSquareIsReadOnly === 'true' && license.IsLicensed === 'true' && !user.roles.includes('system_admin')) {\n        return false;\n    }\n\n    return true;\n}\n\nexport default connect(makeMapStateToProps, mapDispatchToProps)(Reaction);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {OverlayTrigger, Tooltip} from 'react-bootstrap';\nimport {FormattedMessage} from 'react-intl';\n\nimport * as Utils from 'utils/utils.jsx';\n\nexport default class Reaction extends React.PureComponent {\n    static propTypes = {\n\n        /*\n         * The post to render the reaction for\n         */\n        post: PropTypes.object.isRequired,\n\n        /*\n         * The user id of the logged in user\n         */\n        currentUserId: PropTypes.string.isRequired,\n\n        /*\n         * The name of the emoji for the reaction\n         */\n        emojiName: PropTypes.string.isRequired,\n\n        /*\n         * The number of reactions to this post for this emoji\n         */\n        reactionCount: PropTypes.number.isRequired,\n\n        /*\n         * Array of users who reacted to this post\n         */\n        profiles: PropTypes.array.isRequired,\n\n        /*\n         * The number of users not in the profile list who have reacted with this emoji\n         */\n        otherUsersCount: PropTypes.number.isRequired,\n\n        /*\n         * Array of reactions by user\n         */\n        reactions: PropTypes.arrayOf(PropTypes.object).isRequired,\n\n        /*\n         * True if the user has the permission to add a reaction in this channel\n         */\n        canAddReaction: PropTypes.bool.isRequired,\n\n        /*\n         * True if user has the permission to remove his own reactions in this channel\n         */\n        canRemoveReaction: PropTypes.bool.isRequired,\n\n        /*\n         * The URL of the emoji image\n         */\n        emojiImageUrl: PropTypes.string.isRequired,\n\n        actions: PropTypes.shape({\n\n            /*\n             * Function to add a reaction to a post\n             */\n            addReaction: PropTypes.func.isRequired,\n\n            /*\n             * Function to get non-loaded profiles by id\n             */\n            getMissingProfilesByIds: PropTypes.func.isRequired,\n\n            /*\n             * Function to remove a reaction from a post\n             */\n            removeReaction: PropTypes.func.isRequired,\n        }),\n    }\n\n    handleAddReaction = (e) => {\n        e.preventDefault();\n        const {actions, post, emojiName} = this.props;\n        actions.addReaction(post.id, emojiName);\n    }\n\n    handleRemoveReaction = (e) => {\n        e.preventDefault();\n        this.props.actions.removeReaction(this.props.post.id, this.props.emojiName);\n    }\n\n    loadMissingProfiles = async () => {\n        const ids = this.props.reactions.map((reaction) => reaction.user_id);\n        this.props.actions.getMissingProfilesByIds(ids);\n    }\n\n    getSortedUsers = (getDisplayName) => {\n        // Sort users by who reacted first with \"you\" being first if the current user reacted\n        let currentUserReacted = false;\n        const sortedReactions = this.props.reactions.sort((a, b) => a.create_at - b.create_at);\n        const users = sortedReactions.reduce((accumulator, current) => {\n            if (current.user_id === this.props.currentUserId) {\n                currentUserReacted = true;\n            } else {\n                const user = this.props.profiles.find((u) => u.id === current.user_id);\n                if (user) {\n                    accumulator.push(getDisplayName(user));\n                }\n            }\n            return accumulator;\n        }, []);\n\n        if (currentUserReacted) {\n            users.unshift(Utils.localizeMessage('reaction.you', 'You'));\n        }\n\n        return {currentUserReacted, users};\n    }\n\n    render() {\n        if (!this.props.emojiImageUrl) {\n            return null;\n        }\n\n        const {currentUserReacted, users} = this.getSortedUsers(Utils.getDisplayNameByUser);\n\n        const otherUsersCount = this.props.otherUsersCount;\n        let names;\n        if (otherUsersCount > 0) {\n            if (users.length > 0) {\n                names = (\n                    <FormattedMessage\n                        id='reaction.usersAndOthersReacted'\n                        defaultMessage='{users} and {otherUsers, number} other {otherUsers, plural, one {user} other {users}}'\n                        values={{\n                            users: users.join(', '),\n                            otherUsers: otherUsersCount,\n                        }}\n                    />\n                );\n            } else {\n                names = (\n                    <FormattedMessage\n                        id='reaction.othersReacted'\n                        defaultMessage='{otherUsers, number} {otherUsers, plural, one {user} other {users}}'\n                        values={{\n                            otherUsers: otherUsersCount,\n                        }}\n                    />\n                );\n            }\n        } else if (users.length > 1) {\n            names = (\n                <FormattedMessage\n                    id='reaction.usersReacted'\n                    defaultMessage='{users} and {lastUser}'\n                    values={{\n                        users: users.slice(0, -1).join(', '),\n                        lastUser: users[users.length - 1],\n                    }}\n                />\n            );\n        } else {\n            names = users[0];\n        }\n\n        let reactionVerb;\n        if (users.length + otherUsersCount > 1) {\n            if (currentUserReacted) {\n                reactionVerb = (\n                    <FormattedMessage\n                        id='reaction.reactionVerb.youAndUsers'\n                        defaultMessage='reacted'\n                    />\n                );\n            } else {\n                reactionVerb = (\n                    <FormattedMessage\n                        id='reaction.reactionVerb.users'\n                        defaultMessage='reacted'\n                    />\n                );\n            }\n        } else if (currentUserReacted) {\n            reactionVerb = (\n                <FormattedMessage\n                    id='reaction.reactionVerb.you'\n                    defaultMessage='reacted'\n                />\n            );\n        } else {\n            reactionVerb = (\n                <FormattedMessage\n                    id='reaction.reactionVerb.user'\n                    defaultMessage='reacted'\n                />\n            );\n        }\n\n        const tooltip = (\n            <FormattedMessage\n                id='reaction.reacted'\n                defaultMessage='{users} {reactionVerb} with {emoji}'\n                values={{\n                    users: <b>{names}</b>,\n                    reactionVerb,\n                    emoji: <b>{':' + this.props.emojiName + ':'}</b>,\n                }}\n            />\n        );\n\n        let handleClick;\n        let clickTooltip;\n        let className = 'post-reaction';\n        const emojiNameWithSpaces = this.props.emojiName.replace(/_/g, ' ');\n        let ariaLabelEmoji = `${Utils.localizeMessage('reaction.reactWidth.ariaLabel', 'react with')} ${emojiNameWithSpaces}`;\n        if (currentUserReacted) {\n            if (this.props.canRemoveReaction) {\n                handleClick = this.handleRemoveReaction;\n                ariaLabelEmoji = `${Utils.localizeMessage('reaction.removeReact.ariaLabel', 'remove reaction')} ${emojiNameWithSpaces}`;\n                clickTooltip = (\n                    <FormattedMessage\n                        id='reaction.clickToRemove'\n                        defaultMessage='(click to remove)'\n                    />\n                );\n            } else {\n                className += ' post-reaction--read-only';\n            }\n\n            className += ' post-reaction--current-user';\n        } else if (!currentUserReacted && this.props.canAddReaction) {\n            handleClick = this.handleAddReaction;\n            clickTooltip = (\n                <FormattedMessage\n                    id='reaction.clickToAdd'\n                    defaultMessage='(click to add)'\n                />\n            );\n        } else {\n            className += ' post-reaction--read-only';\n        }\n\n        return (\n            <button\n                id={`postReaction-${this.props.post.id}-${this.props.emojiName}`}\n                aria-label={ariaLabelEmoji}\n                className={`style--none ${className}`}\n                onClick={handleClick}\n            >\n                <OverlayTrigger\n                    delayShow={500}\n                    placement='top'\n                    shouldUpdatePosition={true}\n                    overlay={\n                        <Tooltip id={`${this.props.post.id}-${this.props.emojiName}-reaction`}>\n                            {tooltip}\n                            <br/>\n                            {clickTooltip}\n                        </Tooltip>\n                    }\n                    onEnter={this.loadMissingProfiles}\n                >\n                    <span>\n                        <span\n                            className='post-reaction__emoji emoticon'\n                            style={{backgroundImage: 'url(' + this.props.emojiImageUrl + ')'}}\n                        />\n                        <span\n                            className='post-reaction__count'\n                        >\n                            {this.props.reactionCount}\n                        </span>\n                    </span>\n                </OverlayTrigger>\n            </button>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\n\nimport {getChannel} from 'mattermost-redux/selectors/entities/channels';\nimport {makeGetReactionsForPost} from 'mattermost-redux/selectors/entities/posts';\nimport {getConfig} from 'mattermost-redux/selectors/entities/general';\n\nimport {addReaction} from 'actions/post_actions.jsx';\n\nimport ReactionList from './reaction_list.jsx';\n\nfunction makeMapStateToProps() {\n    const getReactionsForPost = makeGetReactionsForPost();\n\n    return function mapStateToProps(state, ownProps) {\n        const config = getConfig(state);\n        const enableEmojiPicker = config.EnableEmojiPicker === 'true' && !ownProps.isReadOnly;\n\n        const channel = getChannel(state, ownProps.post.channel_id) || {};\n        const teamId = channel.team_id;\n\n        return {\n            teamId,\n            reactions: getReactionsForPost(state, ownProps.post.id),\n            enableEmojiPicker,\n        };\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            addReaction,\n        }, dispatch),\n    };\n}\n\nexport default connect(makeMapStateToProps, mapDispatchToProps)(ReactionList);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {OverlayTrigger, Tooltip} from 'react-bootstrap';\nimport {FormattedMessage} from 'react-intl';\nimport Permissions from 'mattermost-redux/constants/permissions';\n\nimport Constants from 'utils/constants';\nimport Reaction from 'components/post_view/reaction';\nimport EmojiPickerOverlay from 'components/emoji_picker/emoji_picker_overlay.jsx';\nimport ChannelPermissionGate from 'components/permissions_gates/channel_permission_gate';\nimport {localizeMessage} from 'utils/utils.jsx';\n\nconst DEFAULT_EMOJI_PICKER_RIGHT_OFFSET = 15;\nconst EMOJI_PICKER_WIDTH_OFFSET = 260;\n\nexport default class ReactionList extends React.PureComponent {\n    static propTypes = {\n\n        /**\n         * The post to render reactions for\n         */\n        post: PropTypes.object.isRequired,\n\n        /*\n         * The id of the team which belongs the post\n         */\n        teamId: PropTypes.string,\n\n        /**\n         * The reactions to render\n         */\n        reactions: PropTypes.object,\n\n        /**\n         * Whether to show the emoji picker.\n         */\n        enableEmojiPicker: PropTypes.bool.isRequired,\n\n        actions: PropTypes.shape({\n\n            /**\n             * Function to add a reaction to the post\n             */\n            addReaction: PropTypes.func.isRequired,\n        }),\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            showEmojiPicker: false,\n        };\n    }\n\n    getTarget = () => {\n        return this.refs.addReactionButton;\n    }\n\n    handleEmojiClick = (emoji) => {\n        this.setState({showEmojiPicker: false});\n        const emojiName = emoji.name || emoji.aliases[0];\n        this.props.actions.addReaction(this.props.post.id, emojiName);\n    }\n\n    hideEmojiPicker = () => {\n        this.setState({showEmojiPicker: false});\n    }\n\n    toggleEmojiPicker = () => {\n        this.setState({showEmojiPicker: !this.state.showEmojiPicker});\n    }\n\n    render() {\n        const reactionsByName = new Map();\n        const emojiNames = [];\n\n        if (this.props.reactions) {\n            for (const reaction of Object.values(this.props.reactions)) {\n                const emojiName = reaction.emoji_name;\n\n                if (reactionsByName.has(emojiName)) {\n                    reactionsByName.get(emojiName).push(reaction);\n                } else {\n                    emojiNames.push(emojiName);\n                    reactionsByName.set(emojiName, [reaction]);\n                }\n            }\n        }\n\n        if (reactionsByName.size === 0) {\n            return null;\n        }\n\n        const reactions = emojiNames.map((emojiName) => {\n            return (\n                <Reaction\n                    key={emojiName}\n                    post={this.props.post}\n                    emojiName={emojiName}\n                    reactions={reactionsByName.get(emojiName) || []}\n                />\n            );\n        });\n\n        const addReactionButton = this.getTarget();\n        let rightOffset = DEFAULT_EMOJI_PICKER_RIGHT_OFFSET;\n        if (addReactionButton) {\n            rightOffset = window.innerWidth - addReactionButton.getBoundingClientRect().right - EMOJI_PICKER_WIDTH_OFFSET;\n\n            if (rightOffset < 0) {\n                rightOffset = DEFAULT_EMOJI_PICKER_RIGHT_OFFSET;\n            }\n        }\n\n        let emojiPicker = null;\n        if (this.props.enableEmojiPicker) {\n            const addReactionTooltip = (\n                <Tooltip id='addReactionTooltip'>\n                    <FormattedMessage\n                        id='reaction_list.addReactionTooltip'\n                        defaultMessage='Add reaction'\n                    />\n                </Tooltip>\n            );\n\n            emojiPicker = (\n                <span className='emoji-picker__container'>\n                    <EmojiPickerOverlay\n                        show={this.state.showEmojiPicker}\n                        target={this.getTarget}\n                        onHide={this.hideEmojiPicker}\n                        onEmojiClose={this.hideEmojiPicker}\n                        onEmojiClick={this.handleEmojiClick}\n                        rightOffset={rightOffset}\n                        topOffset={-5}\n                    />\n                    <OverlayTrigger\n                        placement='top'\n                        delayShow={Constants.OVERLAY_TIME_DELAY}\n                        overlay={addReactionTooltip}\n                    >\n                        <ChannelPermissionGate\n                            channelId={this.props.post.channel_id}\n                            teamId={this.props.teamId}\n                            permissions={[Permissions.ADD_REACTION]}\n                        >\n                            <button\n                                aria-label={localizeMessage('reaction.add.ariaLabel', 'add reaction')}\n                                className='style--none post-reaction'\n                                onClick={this.toggleEmojiPicker}\n                            >\n                                <span\n                                    id={`addReaction-${this.props.post.id}`}\n                                    className='post-reaction__add'\n                                    ref='addReactionButton'\n                                >\n                                    {'+'}\n                                </span>\n                            </button>\n                        </ChannelPermissionGate>\n                    </OverlayTrigger>\n                </span>\n            );\n        }\n\n        let addReactionClassName = 'post-add-reaction';\n        if (this.state.showEmojiPicker) {\n            addReactionClassName += ' post-add-reaction-emoji-picker-open';\n        }\n\n        return (\n            <div\n                aria-label={localizeMessage('reaction.container.ariaLabel', 'reactions')}\n                className='post-reaction-list'\n            >\n                {reactions}\n                <div className={addReactionClassName}>\n                    {emojiPicker}\n                </div>\n            </div>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport $ from 'jquery';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport ScrollToBottomIcon from 'components/widgets/icons/scroll_to_bottom_icon';\n\nexport default class ScrollToBottomArrows extends React.PureComponent {\n    static propTypes = {\n        isScrolling: PropTypes.bool.isRequired,\n        atBottom: PropTypes.bool.isRequired,\n        onClick: PropTypes.func.isRequired,\n    };\n\n    render() {\n        // only show on mobile\n        if ($(window).width() > 768) {\n            return null;\n        }\n\n        let className = 'post-list__arrows';\n        if (this.props.isScrolling && !this.props.atBottom) {\n            className += ' scrolling';\n        }\n\n        return (\n            <div\n                className={className}\n                onClick={this.props.onClick}\n            >\n                <ScrollToBottomIcon/>\n            </div>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {get} from 'mattermost-redux/selectors/entities/preferences';\n\nimport {getIsRhsExpanded, getIsRhsOpen} from 'selectors/rhs';\nimport {Preferences} from 'utils/constants';\n\nimport ShowMore from './show_more';\n\nfunction mapStateToProps(state) {\n    return {\n        isRHSExpanded: getIsRhsExpanded(state),\n        isRHSOpen: getIsRhsOpen(state),\n        compactDisplay: get(state, Preferences.CATEGORY_DISPLAY_SETTINGS, Preferences.MESSAGE_DISPLAY, Preferences.MESSAGE_DISPLAY_DEFAULT) === Preferences.MESSAGE_DISPLAY_COMPACT,\n    };\n}\n\nexport default connect(mapStateToProps)(ShowMore);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport {localizeMessage} from 'utils/utils.jsx';\n\nconst MAX_POST_HEIGHT = 600;\nconst MAX_ATTACHMENT_TEXT_HEIGHT = 200;\nconst MARGIN_CHANGE_FOR_COMPACT_POST = 22;\n\nexport default class ShowMore extends React.PureComponent {\n    static propTypes = {\n        children: PropTypes.node,\n        checkOverflow: PropTypes.number,\n        isAttachmentText: PropTypes.bool,\n        isRHSExpanded: PropTypes.bool.isRequired,\n        isRHSOpen: PropTypes.bool.isRequired,\n        text: PropTypes.string,\n        compactDisplay: PropTypes.bool.isRequired,\n    }\n    constructor(props) {\n        super(props);\n        this.maxHeight = this.props.isAttachmentText ? MAX_ATTACHMENT_TEXT_HEIGHT : MAX_POST_HEIGHT;\n        this.state = {\n            isCollapsed: true,\n            isOverflow: false,\n        };\n    }\n\n    componentDidMount() {\n        this.checkTextOverflow();\n\n        window.addEventListener('resize', this.handleResize);\n    }\n\n    componentDidUpdate(prevProps) {\n        if (\n            this.props.text !== prevProps.text ||\n            this.props.isRHSExpanded !== prevProps.isRHSExpanded ||\n            this.props.isRHSOpen !== prevProps.isRHSOpen ||\n            this.props.checkOverflow !== prevProps.checkOverflow\n        ) {\n            this.checkTextOverflow();\n        }\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('resize', this.handleResize);\n        if (this.overflowRef) {\n            window.cancelAnimationFrame(this.overflowRef);\n        }\n    }\n\n    toggleCollapse = (e) => {\n        e.preventDefault();\n        this.setState((prevState) => {\n            return {\n                isCollapsed: !prevState.isCollapsed,\n            };\n        });\n    };\n\n    checkTextOverflow = () => {\n        if (this.overflowRef) {\n            window.cancelAnimationFrame(this.overflowRef);\n        }\n        this.overflowRef = window.requestAnimationFrame(() => {\n            const textContainer = this.refs.textContainer;\n            let isOverflow = false;\n\n            if (textContainer && textContainer.scrollHeight > this.maxHeight) {\n                isOverflow = true;\n            }\n\n            if (isOverflow !== this.state.isOverflow) {\n                this.setState({\n                    isOverflow,\n                });\n            }\n        });\n    };\n\n    handleResize = () => {\n        this.checkTextOverflow();\n    };\n\n    render() {\n        const {\n            isCollapsed,\n            isOverflow,\n        } = this.state;\n\n        const {\n            children,\n            isAttachmentText,\n            compactDisplay,\n        } = this.props;\n\n        let className = 'post-message';\n        let collapsedMaxHeightStyle;\n        if (isCollapsed) {\n            collapsedMaxHeightStyle = this.maxHeight;\n            className += ' post-message--collapsed';\n        } else {\n            className += ' post-message--expanded';\n        }\n\n        let collapseGradientClass = 'post-collapse__gradient';\n        let collapseShowMoreClass = 'post-collapse__show-more';\n        if (isAttachmentText) {\n            collapseGradientClass = 'post-attachment-collapse__gradient';\n            collapseShowMoreClass = 'post-attachment-collapse__show-more';\n        }\n\n        let attachmentTextOverflow = null;\n        if (isOverflow) {\n            if (!isAttachmentText && isCollapsed && compactDisplay) {\n                collapsedMaxHeightStyle -= MARGIN_CHANGE_FOR_COMPACT_POST;\n            }\n\n            let showIcon = 'fa fa-angle-up';\n            let showText = localizeMessage('post_info.message.show_less', 'Show Less');\n            if (isCollapsed) {\n                showIcon = 'fa fa-angle-down';\n                showText = localizeMessage('post_info.message.show_more', 'Show More');\n            }\n\n            attachmentTextOverflow = (\n                <div className='post-collapse'>\n                    <div\n                        id='collapseGradient'\n                        className={collapseGradientClass}\n                    />\n                    <div className={collapseShowMoreClass}>\n                        <div className='post-collapse__show-more-line'/>\n                        <button\n                            id='showMoreButton'\n                            className='post-collapse__show-more-button'\n                            onClick={this.toggleCollapse}\n                        >\n                            <span className={showIcon}/>\n                            {showText}\n                        </button>\n                        <div className='post-collapse__show-more-line'/>\n                    </div>\n                </div>\n            );\n\n            className += ' post-message--overflow';\n        }\n\n        return (\n            <div className={className}>\n                <div\n                    style={{maxHeight: collapsedMaxHeightStyle}}\n                    className='post-message__text-container'\n                    ref='textContainer'\n                >\n                    {children}\n                </div>\n                {attachmentTextOverflow}\n            </div>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {OverlayTrigger} from 'react-bootstrap';\n\nimport ProfilePopover from 'components/profile_popover';\nimport StatusIcon from 'components/status_icon';\nimport Avatar from 'components/widgets/users/avatar';\n\ninterface MMOverlayTrigger extends OverlayTrigger {\n    hide?: () => void;\n}\n\ntype Props = {\n    hasMention?: boolean;\n    isBusy?: boolean;\n    isEmoji?: boolean;\n    isRHS?: boolean;\n    profileSrc?: string;\n    size: string;\n    src: string;\n    status?: string;\n    userId?: string;\n    username?: string;\n    wrapperClass?: string;\n}\n\nexport default class ProfilePicture extends React.PureComponent<Props> {\n    public overlay!: MMOverlayTrigger;\n\n    public static defaultProps = {\n        size: 'md',\n        isRHS: false,\n        isEmoji: false,\n        hasMention: false,\n        wrapperClass: '',\n    };\n\n    public hideProfilePopover = () => {\n        if (this.overlay) {\n            this.overlay.hide!();\n        }\n    }\n\n    public setOverlayRef = (ref: OverlayTrigger) => {\n        this.overlay = ref;\n    }\n\n    public render() {\n        // profileSrc will, if possible, be the original user profile picture even if the icon\n        // for the post is overriden, so that the popup shows the user identity\n        const profileSrc = (typeof this.props.profileSrc === 'string' && this.props.profileSrc !== '') ?\n            this.props.profileSrc :\n            this.props.src;\n\n        const profileIconClass = `profile-icon ${this.props.isEmoji ? 'emoji' : ''}`;\n\n        if (this.props.userId) {\n            return (\n                <OverlayTrigger\n                    ref={this.setOverlayRef}\n                    trigger='click'\n                    placement='right'\n                    rootClose={true}\n                    overlay={\n                        <ProfilePopover\n                            className='user-profile-popover'\n                            userId={this.props.userId}\n                            src={profileSrc}\n                            isBusy={this.props.isBusy}\n                            hide={this.hideProfilePopover}\n                            isRHS={this.props.isRHS}\n                            hasMention={this.props.hasMention}\n                        />\n                    }\n                >\n                    <button\n                        className={`status-wrapper style--none ${this.props.wrapperClass}`}\n                        tabIndex={-1}\n                    >\n                        <span className={profileIconClass}>\n                            <Avatar\n                                username={this.props.username}\n                                size={this.props.size}\n                                url={this.props.src}\n                            />\n                        </span>\n                        <StatusIcon status={this.props.status}/>\n                    </button>\n                </OverlayTrigger>\n            );\n        }\n        return (\n            <span className='status-wrapper'>\n                <span className={profileIconClass}>\n                    <Avatar\n                        size={this.props.size}\n                        url={this.props.src}\n                    />\n                </span>\n                <StatusIcon status={this.props.status}/>\n            </span>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\n\nimport {getCurrentUserId, getStatusForUserId, getUser} from 'mattermost-redux/selectors/entities/users';\nimport {\n    getCurrentTeam,\n    getCurrentRelativeTeamUrl,\n    getTeamMember,\n} from 'mattermost-redux/selectors/entities/teams';\nimport {\n    getCurrentChannel,\n    getChannelMembersInChannels,\n    canManageAnyChannelMembersInCurrentTeam,\n} from 'mattermost-redux/selectors/entities/channels';\n\nimport {openDirectChannelToUserId} from 'actions/channel_actions.jsx';\nimport {getMembershipForCurrentEntities} from 'actions/views/profile_popover';\nimport {openModal} from 'actions/views/modals';\n\nimport {areTimezonesEnabledAndSupported} from 'selectors/general';\nimport {getSelectedPost, getRhsState} from 'selectors/rhs';\n\nimport ProfilePopover from './profile_popover.jsx';\n\nfunction mapStateToProps(state, ownProps) {\n    const userId = ownProps.userId;\n    const team = getCurrentTeam(state);\n    const teamMember = getTeamMember(state, team.id, userId);\n\n    let isTeamAdmin = false;\n    if (teamMember && teamMember.scheme_admin) {\n        isTeamAdmin = true;\n    }\n\n    const selectedPost = getSelectedPost(state);\n    const currentChannel = getCurrentChannel(state);\n\n    let channelId;\n    if (selectedPost.exists === false) {\n        channelId = currentChannel.id;\n    } else {\n        channelId = selectedPost.channel_id;\n    }\n\n    const channelMember = getChannelMembersInChannels(state)[channelId][userId];\n\n    let isChannelAdmin = false;\n    if (getRhsState(state) !== 'search' && channelMember != null && channelMember.scheme_admin) {\n        isChannelAdmin = true;\n    }\n\n    return {\n        currentTeamId: team.id,\n        currentUserId: getCurrentUserId(state),\n        enableTimezone: areTimezonesEnabledAndSupported(state),\n        isTeamAdmin,\n        isChannelAdmin,\n        isInCurrentTeam: Boolean(teamMember) && teamMember.delete_at === 0,\n        canManageAnyChannelMembersInCurrentTeam: canManageAnyChannelMembersInCurrentTeam(state),\n        status: getStatusForUserId(state, userId),\n        teamUrl: getCurrentRelativeTeamUrl(state),\n        user: getUser(state, userId),\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            openDirectChannelToUserId,\n            openModal,\n            getMembershipForCurrentEntities,\n        }, dispatch),\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProfilePopover);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {OverlayTrigger, Tooltip} from 'react-bootstrap';\nimport {FormattedMessage, intlShape, injectIntl} from 'react-intl';\n\nimport EventEmitter from 'mattermost-redux/utils/event_emitter';\n\nimport LocalDateTime from 'components/local_date_time';\nimport UserSettingsModal from 'components/user_settings/modal';\nimport {browserHistory} from 'utils/browser_history';\nimport * as GlobalActions from 'actions/global_actions.jsx';\nimport Constants, {ModalIdentifiers, UserStatuses} from 'utils/constants';\nimport * as Utils from 'utils/utils.jsx';\nimport Pluggable from 'plugins/pluggable';\n\nimport AddUserToChannelModal from 'components/add_user_to_channel_modal';\nimport ToggleModalButtonRedux from 'components/toggle_modal_button_redux';\nimport Avatar from 'components/widgets/users/avatar';\nimport Popover from 'components/widgets/popover';\n\n/**\n * The profile popover, or hovercard, that appears with user information when clicking\n * on the username or profile picture of a user.\n */\nclass ProfilePopover extends React.PureComponent {\n    static getComponentName() {\n        return 'ProfilePopover';\n    }\n\n    static propTypes = {\n\n        /**\n         * Source URL from the image to display in the popover\n         */\n        src: PropTypes.string.isRequired,\n\n        /**\n         * User the popover is being opened for\n         */\n        user: PropTypes.object,\n\n        /**\n         * Status for the user, either 'offline', 'away', 'dnd' or 'online'\n         */\n        status: PropTypes.string,\n\n        hideStatus: PropTypes.bool,\n\n        /**\n         * Function to call to hide the popover\n         */\n        hide: PropTypes.func,\n\n        /**\n         * Set to true if the popover was opened from the right-hand\n         * sidebar (comment thread, search results, etc.)\n         */\n        isRHS: PropTypes.bool,\n\n        currentTeamId: PropTypes.string.isRequired,\n\n        /**\n         * @internal\n         */\n        currentUserId: PropTypes.string.isRequired,\n\n        /**\n         * @internal\n         */\n        hasMention: PropTypes.bool,\n\n        /**\n         * @internal\n         */\n        isInCurrentTeam: PropTypes.bool.isRequired,\n\n        /**\n         * @internal\n         */\n        teamUrl: PropTypes.string.isRequired,\n\n        /**\n         * @internal\n         */\n        isTeamAdmin: PropTypes.bool.isRequired,\n\n        /**\n         * @internal\n         */\n        isChannelAdmin: PropTypes.bool.isRequired,\n\n        /**\n         * @internal\n         */\n        canManageAnyChannelMembersInCurrentTeam: PropTypes.bool.isRequired,\n\n        /**\n         * @internal\n         */\n        actions: PropTypes.shape({\n            getMembershipForCurrentEntities: PropTypes.func.isRequired,\n            openDirectChannelToUserId: PropTypes.func.isRequired,\n            openModal: PropTypes.func.isRequired,\n        }).isRequired,\n\n        /**\n         * react-intl helper object\n         */\n        intl: intlShape.isRequired,\n\n        ...Popover.propTypes,\n    }\n\n    static defaultProps = {\n        isRHS: false,\n        hasMention: false,\n        status: UserStatuses.OFFLINE,\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            loadingDMChannel: -1,\n        };\n    }\n\n    componentDidMount() {\n        this.props.actions.getMembershipForCurrentEntities(this.props.userId);\n    }\n\n    handleShowDirectChannel = (e) => {\n        const {actions} = this.props;\n        e.preventDefault();\n\n        if (!this.props.user) {\n            return;\n        }\n\n        const user = this.props.user;\n\n        if (this.state.loadingDMChannel !== -1) {\n            return;\n        }\n\n        this.setState({loadingDMChannel: user.id});\n\n        actions.openDirectChannelToUserId(user.id).then((result) => {\n            if (!result.error) {\n                if (Utils.isMobile()) {\n                    GlobalActions.emitCloseRightHandSide();\n                }\n                this.setState({loadingDMChannel: -1});\n                if (this.props.hide) {\n                    this.props.hide();\n                }\n                browserHistory.push(`${this.props.teamUrl}/messages/@${user.username}`);\n            }\n        });\n    }\n\n    handleMentionKeyClick = (e) => {\n        e.preventDefault();\n\n        if (!this.props.user) {\n            return;\n        }\n        if (this.props.hide) {\n            this.props.hide();\n        }\n        EventEmitter.emit('mention_key_click', this.props.user.username, this.props.isRHS);\n    }\n\n    handleEditAccountSettings = (e) => {\n        e.preventDefault();\n\n        if (!this.props.user) {\n            return;\n        }\n        if (this.props.hide) {\n            this.props.hide();\n        }\n        this.props.actions.openModal({ModalId: ModalIdentifiers.USER_SETTINGS, dialogType: UserSettingsModal});\n    }\n\n    render() {\n        if (!this.props.user) {\n            return null;\n        }\n\n        const popoverProps = Object.assign({}, this.props);\n        delete popoverProps.user;\n        delete popoverProps.userId;\n        delete popoverProps.src;\n        delete popoverProps.status;\n        delete popoverProps.hideStatus;\n        delete popoverProps.isBusy;\n        delete popoverProps.hide;\n        delete popoverProps.isRHS;\n        delete popoverProps.hasMention;\n        delete popoverProps.dispatch;\n        delete popoverProps.enableTimezone;\n        delete popoverProps.currentUserId;\n        delete popoverProps.currentTeamId;\n        delete popoverProps.teamUrl;\n        delete popoverProps.actions;\n        delete popoverProps.isTeamAdmin;\n        delete popoverProps.isChannelAdmin;\n        delete popoverProps.canManageAnyChannelMembersInCurrentTeam;\n        delete popoverProps.intl;\n\n        const {formatMessage} = this.props.intl;\n\n        var dataContent = [];\n        dataContent.push(\n            <Avatar\n                size='xxl'\n                username={this.props.user.username}\n                url={this.props.src}\n                key='user-popover-image'\n            />,\n        );\n\n        const fullname = Utils.getFullName(this.props.user);\n\n        if (fullname || this.props.user.position) {\n            dataContent.push(\n                <hr\n                    key='user-popover-hr'\n                    className='divider divider--expanded'\n                />,\n            );\n        }\n\n        if (fullname) {\n            dataContent.push(\n                <OverlayTrigger\n                    delayShow={Constants.OVERLAY_TIME_DELAY}\n                    placement='top'\n                    overlay={<Tooltip id='fullNameTooltip'>{fullname}</Tooltip>}\n                    key='user-popover-fullname'\n                >\n                    <div\n                        className='overflow--ellipsis text-nowrap'\n                    >\n                        <strong>{fullname}</strong>\n                    </div>\n                </OverlayTrigger>,\n            );\n        }\n\n        if (this.props.user.is_bot) {\n            dataContent.push(\n                <div\n                    key='bot-description'\n                    className='overflow--ellipsis text-nowrap'\n                >\n                    {this.props.user.bot_description}\n                </div>,\n            );\n        }\n\n        if (this.props.user.position) {\n            const position = this.props.user.position.substring(0, Constants.MAX_POSITION_LENGTH);\n            dataContent.push(\n                <OverlayTrigger\n                    delayShow={Constants.OVERLAY_TIME_DELAY}\n                    placement='top'\n                    overlay={<Tooltip id='positionTooltip'>{position}</Tooltip>}\n                    key='user-popover-position'\n                >\n                    <div\n                        className='overflow--ellipsis text-nowrap padding-bottom padding-top half'\n                    >\n                        {position}\n                    </div>\n                </OverlayTrigger>,\n            );\n        }\n\n        const email = this.props.user.email;\n        if (email && !this.props.user.is_bot) {\n            dataContent.push(\n                <hr\n                    key='user-popover-hr2'\n                    className='divider divider--expanded'\n                />,\n            );\n\n            dataContent.push(\n                <div\n                    data-toggle='tooltip'\n                    title={email}\n                    key='user-popover-email'\n                >\n                    <a\n                        href={'mailto:' + email}\n                        className='text-nowrap text-lowercase user-popover__email padding-bottom half'\n                    >\n                        {email}\n                    </a>\n                </div>,\n            );\n        }\n\n        dataContent.push(\n            <Pluggable\n                key='profilePopoverPluggable2'\n                pluggableName='PopoverUserAttributes'\n                user={this.props.user}\n                hide={this.props.hide}\n                status={this.props.hideStatus ? null : this.props.status}\n            />,\n        );\n\n        if (this.props.enableTimezone && this.props.user.timezone) {\n            dataContent.push(\n                <div\n                    key='user-popover-local-time'\n                    className='padding-bottom half'\n                >\n                    <FormattedMessage\n                        id='user_profile.account.localTime'\n                        defaultMessage='Local Time: '\n                    />\n                    <LocalDateTime userTimezone={this.props.user.timezone}/>\n                </div>,\n            );\n        }\n\n        if (this.props.user.id === this.props.currentUserId) {\n            dataContent.push(\n                <div\n                    data-toggle='tooltip'\n                    key='user-popover-settings'\n                    className='popover__row first'\n                >\n                    <a\n                        href='#'\n                        onClick={this.handleEditAccountSettings}\n                    >\n                        <i\n                            className='fa fa-pencil-square-o'\n                            title={formatMessage({id: 'generic_icons.edit', defaultMessage: 'Edit Icon'})}\n                        />\n                        <FormattedMessage\n                            id='user_profile.account.editSettings'\n                            defaultMessage='Edit Account Settings'\n                        />\n                    </a>\n                </div>,\n            );\n        }\n\n        if (this.props.user.id !== this.props.currentUserId) {\n            dataContent.push(\n                <div\n                    data-toggle='tooltip'\n                    key='user-popover-dm'\n                    className='popover__row first'\n                >\n                    <a\n                        href='#'\n                        className='text-nowrap user-popover__email'\n                        onClick={this.handleShowDirectChannel}\n                    >\n                        <i\n                            className='fa fa-paper-plane'\n                            title={formatMessage({id: 'user_profile.send.dm.icon', defaultMessage: 'Send Message Icon'})}\n                        />\n                        <FormattedMessage\n                            id='user_profile.send.dm'\n                            defaultMessage='Send Message'\n                        />\n                    </a>\n                </div>,\n            );\n\n            if (this.props.canManageAnyChannelMembersInCurrentTeam && this.props.isInCurrentTeam) {\n                const addToChannelMessage = formatMessage({id: 'user_profile.add_user_to_channel', defaultMessage: 'Add to a Channel'});\n                dataContent.push(\n                    <div\n                        data-toggle='tooltip'\n                        className='popover__row first'\n                        key='user-popover-add-to-channel'\n                    >\n                        <a\n                            href='#'\n                            className='text-nowrap'\n                        >\n                            <ToggleModalButtonRedux\n                                accessibilityLabel={addToChannelMessage}\n                                ref='addUserToChannelModalButton'\n                                modalId={ModalIdentifiers.ADD_USER_TO_CHANNEL}\n                                role='menuitem'\n                                dialogType={AddUserToChannelModal}\n                                dialogProps={{user: this.props.user}}\n                                onClick={this.props.hide}\n                            >\n                                <i\n                                    className='fa fa-user-plus'\n                                    title={formatMessage({id: 'user_profile.add_user_to_channel.icon', defaultMessage: 'Add User to Channel Icon'})}\n                                />\n                                {addToChannelMessage}\n                            </ToggleModalButtonRedux>\n                        </a>\n                    </div>,\n                );\n            }\n        }\n\n        dataContent.push(\n            <Pluggable\n                key='profilePopoverPluggable3'\n                pluggableName='PopoverUserActions'\n                user={this.props.user}\n                hide={this.props.hide}\n                status={this.props.hideStatus ? null : this.props.status}\n            />,\n        );\n\n        let roleTitle;\n        if (this.props.user.is_bot) {\n            roleTitle = <span className='user-popover__role'>{Utils.localizeMessage('bots.is_bot', 'BOT')}</span>;\n        } else if (Utils.isGuest(this.props.user)) {\n            roleTitle = <span className='user-popover__role'>{Utils.localizeMessage('post_info.guest', 'GUEST')}</span>;\n        } else if (Utils.isSystemAdmin(this.props.user.roles)) {\n            roleTitle = <span className='user-popover__role'>{Utils.localizeMessage('admin.permissions.roles.system_admin.name', 'System Admin')}</span>;\n        } else if (this.props.isTeamAdmin) {\n            roleTitle = <span className='user-popover__role'>{Utils.localizeMessage('admin.permissions.roles.team_admin.name', 'Team Admin')}</span>;\n        } else if (this.props.isChannelAdmin) {\n            roleTitle = <span className='user-popover__role'>{Utils.localizeMessage('admin.permissions.roles.channel_admin.name', 'Channel Admin')}</span>;\n        }\n\n        let title = `@${this.props.user.username}`;\n        if (this.props.hasMention) {\n            title = <a onClick={this.handleMentionKeyClick}>{title}</a>;\n        }\n\n        title = (\n            <span data-testid={`profilePopoverTitle_${this.props.user.username}`}>\n                <span className='user-popover__username'>\n                    {title}\n                </span>\n                {roleTitle}\n            </span>\n        );\n\n        return (\n            <Popover\n                {...popoverProps}\n                title={title}\n                id='user-profile-popover'\n            >\n                {dataContent}\n            </Popover>\n        );\n    }\n}\n\ndelete ProfilePopover.propTypes.id;\n\nexport default injectIntl(ProfilePopover);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\n// A component that can be used to make controlled inputs that function properly in certain\n// environments (ie. IE11) where typing quickly would sometimes miss inputs\nexport default class QuickInput extends React.PureComponent {\n    static propTypes = {\n\n        /**\n         * Whether to delay updating the value of the textbox from props. Should only be used\n         * on textboxes that to properly compose CJK characters as the user types.\n         */\n        delayInputUpdate: PropTypes.bool,\n\n        /**\n         * An optional React component that will be used instead of an HTML input when rendering\n         */\n        inputComponent: PropTypes.elementType,\n\n        /**\n         * The string value displayed in this input\n         */\n        value: PropTypes.string.isRequired,\n    };\n\n    static defaultProps = {\n        delayInputUpdate: false,\n        value: '',\n    };\n\n    componentDidUpdate(prevProps) {\n        if (prevProps.value !== this.props.value) {\n            if (this.props.delayInputUpdate) {\n                requestAnimationFrame(this.updateInputFromProps);\n            } else {\n                this.updateInputFromProps();\n            }\n        }\n    }\n\n    updateInputFromProps = () => {\n        if (!this.input || this.input.value === this.props.value) {\n            return;\n        }\n\n        this.input.value = this.props.value;\n    }\n\n    get value() {\n        return this.input.value;\n    }\n\n    set value(value) {\n        this.input.value = value;\n    }\n\n    focus() {\n        this.input.focus();\n    }\n\n    blur() {\n        this.input.blur();\n    }\n\n    getInput = () => {\n        return this.input;\n    };\n\n    setInput = (input) => {\n        this.input = input;\n    }\n\n    render() {\n        const {value, inputComponent, ...props} = this.props;\n\n        Reflect.deleteProperty(props, 'delayInputUpdate');\n\n        return React.createElement(\n            inputComponent || 'input',\n            {\n                ...props,\n                ref: this.setInput,\n                defaultValue: value, // Only set the defaultValue since the real one will be updated using componentDidUpdate\n            }\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\n\nimport {joinChannelById, switchToChannel} from 'actions/views/channel';\n\nimport QuickSwitchModal from './quick_switch_modal.jsx';\n\nfunction mapStateToProps() {\n    return {\n        showTeamSwitcher: false,\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            joinChannelById,\n            switchToChannel,\n        }, dispatch),\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(QuickSwitchModal);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {Modal} from 'react-bootstrap';\nimport {FormattedMessage} from 'react-intl';\n\nimport {browserHistory} from 'utils/browser_history';\nimport Constants from 'utils/constants';\nimport * as Utils from 'utils/utils.jsx';\nimport * as UserAgent from 'utils/user_agent';\nimport {t} from 'utils/i18n';\nimport SuggestionBox from 'components/suggestion/suggestion_box.jsx';\nimport SuggestionList from 'components/suggestion/suggestion_list.jsx';\nimport SwitchChannelProvider from 'components/suggestion/switch_channel_provider.jsx';\nimport SwitchTeamProvider from 'components/suggestion/switch_team_provider.jsx';\n\nconst CHANNEL_MODE = 'channel';\nconst TEAM_MODE = 'team';\n\nexport default class QuickSwitchModal extends React.PureComponent {\n    static propTypes = {\n\n        /**\n         * The function called to hide the modal\n         */\n        onHide: PropTypes.func.isRequired,\n\n        /**\n         * Set to show team switcher\n         */\n        showTeamSwitcher: PropTypes.bool,\n\n        actions: PropTypes.shape({\n            joinChannelById: PropTypes.func.isRequired,\n            switchToChannel: PropTypes.func.isRequired,\n        }).isRequired,\n    };\n\n    constructor(props) {\n        super(props);\n\n        this.channelProviders = [new SwitchChannelProvider()];\n        this.teamProviders = [new SwitchTeamProvider()];\n\n        this.switchBox = null;\n\n        this.state = {\n            text: '',\n            mode: CHANNEL_MODE,\n        };\n    }\n\n    focusTextbox = () => {\n        if (this.switchBox == null) {\n            return;\n        }\n\n        const textbox = this.switchBox.getTextbox();\n        if (document.activeElement !== textbox) {\n            textbox.focus();\n            Utils.placeCaretAtEnd(textbox);\n        }\n    };\n\n    setSwitchBoxRef = (input) => {\n        this.switchBox = input;\n        this.focusTextbox();\n    };\n\n    onShow = () => {\n        this.setState({\n            text: '',\n        });\n    };\n\n    onHide = () => {\n        this.focusPostTextbox();\n        this.setState({\n            text: '',\n        });\n        this.props.onHide();\n    };\n\n    focusPostTextbox = () => {\n        if (!UserAgent.isMobile()) {\n            setTimeout(() => {\n                const textbox = document.querySelector('#post_textbox');\n                if (textbox) {\n                    textbox.focus();\n                }\n            });\n        }\n    };\n\n    onChange = (e) => {\n        this.setState({text: e.target.value});\n    };\n\n    handleKeyDown = (e) => {\n        if (Utils.isKeyPressed(e, Constants.KeyCodes.TAB)) {\n            e.preventDefault();\n            this.switchMode();\n        }\n    };\n\n    handleSubmit = async (selected) => {\n        if (!selected) {\n            return;\n        }\n\n        if (this.state.mode === CHANNEL_MODE) {\n            const {joinChannelById, switchToChannel} = this.props.actions;\n            const selectedChannel = selected.channel;\n\n            if (selected.type === Constants.MENTION_MORE_CHANNELS && selectedChannel.type === Constants.OPEN_CHANNEL) {\n                await joinChannelById(selectedChannel.id);\n            }\n            switchToChannel(selectedChannel).then((result) => {\n                if (result.data) {\n                    this.onHide();\n                }\n            });\n        } else {\n            browserHistory.push('/' + selected.name);\n            this.onHide();\n        }\n    };\n\n    enableChannelProvider = () => {\n        this.channelProviders[0].disableDispatches = false;\n        this.teamProviders[0].disableDispatches = true;\n    };\n\n    enableTeamProvider = () => {\n        this.teamProviders[0].disableDispatches = false;\n        this.channelProviders[0].disableDispatches = true;\n    };\n\n    switchMode = () => {\n        if (this.state.mode === CHANNEL_MODE && this.props.showTeamSwitcher) {\n            this.enableTeamProvider();\n            this.setState({mode: TEAM_MODE});\n        } else if (this.state.mode === TEAM_MODE) {\n            this.enableChannelProvider();\n            this.setState({mode: CHANNEL_MODE});\n        }\n    };\n\n    handleOnClick = (e) => {\n        e.preventDefault();\n        const mode = e.currentTarget.getAttribute('data-mode');\n        this.enableChannelProvider();\n        this.setState({mode});\n        this.focusTextbox();\n    }\n\n    render() {\n        let providers = this.channelProviders;\n        let header;\n        let renderDividers = true;\n\n        let channelShortcut = t('quick_switch_modal.channelsShortcut.windows');\n        let defaultChannelShortcut = 'CTRL+K';\n        if (Utils.isMac()) {\n            channelShortcut = t('quick_switch_modal.channelsShortcut.mac');\n            defaultChannelShortcut = 'CMD+K';\n        }\n\n        let teamShortcut = t('quick_switch_modal.teamsShortcut.windows');\n        let defaultTeamShortcut = 'CTRL+ALT+K';\n        if (Utils.isMac()) {\n            teamShortcut = t('quick_switch_modal.teamsShortcut.mac');\n            defaultTeamShortcut = 'CMD+ALT+K';\n        }\n\n        if (this.props.showTeamSwitcher) {\n            let channelsActiveClass = '';\n            let teamsActiveClass = '';\n            if (this.state.mode === TEAM_MODE) {\n                providers = this.teamProviders;\n                renderDividers = false;\n                teamsActiveClass = 'active';\n            } else {\n                channelsActiveClass = 'active';\n            }\n\n            header = (\n                <div className='nav nav-tabs'>\n                    <li className={channelsActiveClass}>\n                        <a\n                            data-mode={'channel'}\n                            href='#'\n                            onClick={this.handleOnClick}\n                        >\n                            <FormattedMessage\n                                id='quick_switch_modal.channels'\n                                defaultMessage='Channels'\n                            />\n                            <span className='small'>\n                                <FormattedMessage\n                                    id={channelShortcut}\n                                    defaultMessage={defaultChannelShortcut}\n                                />\n                            </span>\n                        </a>\n                    </li>\n                    <li className={teamsActiveClass}>\n                        <a\n                            data-mode={'team'}\n                            href='#'\n                            onClick={this.handleOnClick}\n                        >\n                            <FormattedMessage\n                                id='quick_switch_modal.teams'\n                                defaultMessage='Teams'\n                            />\n                            <span className='small'>\n                                <FormattedMessage\n                                    id={teamShortcut}\n                                    defaultMessage={defaultTeamShortcut}\n                                />\n                            </span>\n                        </a>\n                    </li>\n                </div>\n            );\n        }\n\n        let help;\n        if (Utils.isMobile()) {\n            help = (\n                <FormattedMessage\n                    id='quick_switch_modal.help_mobile'\n                    defaultMessage='Type to find a channel.'\n                />\n            );\n        } else if (this.props.showTeamSwitcher) {\n            help = (\n                <FormattedMessage\n                    id='quick_switch_modal.help'\n                    defaultMessage='Start typing then use TAB to toggle channels/teams,  to browse,  to select, and ESC to dismiss.'\n                />\n            );\n        } else {\n            help = (\n                <FormattedMessage\n                    id='quick_switch_modal.help_no_team'\n                    defaultMessage='Type to find a channel. Use  to browse,  to select, ESC to dismiss.'\n                />\n            );\n        }\n\n        return (\n            <Modal\n                dialogClassName='a11y__modal channel-switch__modal'\n                ref='modal'\n                show={true}\n                onHide={this.onHide}\n                enforceFocus={false}\n                restoreFocus={false}\n                role='dialog'\n                aria-labelledby='quickSwitchModalLabel'\n                animation={false}\n            >\n                <Modal.Header\n                    id='quickSwitchModalLabel'\n                    closeButton={true}\n                />\n                <Modal.Body>\n                    {header}\n                    <div\n                        id='quickSwitchHint'\n                        className='modal__hint'\n                    >\n                        {help}\n                    </div>\n                    <div className='channel-switch__suggestion-box'>\n                        <SuggestionBox\n                            id='quickSwitchInput'\n                            ref={this.setSwitchBoxRef}\n                            className='form-control focused'\n                            onChange={this.onChange}\n                            value={this.state.text}\n                            onKeyDown={this.handleKeyDown}\n                            onItemSelected={this.handleSubmit}\n                            listComponent={SuggestionList}\n                            maxLength='64'\n                            providers={providers}\n                            listStyle='bottom'\n                            completeOnTab={false}\n                            spellCheck='false'\n                            renderDividers={renderDividers}\n                            delayInputUpdate={true}\n                            openWhenEmpty={true}\n                        />\n                    </div>\n                </Modal.Body>\n            </Modal>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {FormattedDate, FormattedMessage, DateSource} from 'react-intl';\n\ntype Props = {\n    value: DateSource;\n    children?(val: string): React.ReactElement | null;\n}\n\nexport default class RecentDate extends React.PureComponent<Props> {\n    public render() {\n        const {value, ...otherProps} = this.props;\n        const date = new Date(value);\n\n        if (isToday(date)) {\n            return (\n                <FormattedMessage\n                    id='date_separator.today'\n                    defaultMessage='Today'\n                />\n            );\n        } else if (isYesterday(date)) {\n            return (\n                <FormattedMessage\n                    id='date_separator.yesterday'\n                    defaultMessage='Yesterday'\n                />\n            );\n        }\n\n        return (\n            <FormattedDate\n                {...otherProps}\n                value={value}\n                weekday='short'\n                month='short'\n                day='2-digit'\n                year='numeric'\n            />\n        );\n    }\n}\n\nexport function isSameDay(a: Date, b: Date) {\n    return a.getDate() === b.getDate() && a.getMonth() === b.getMonth() && a.getFullYear() === b.getFullYear();\n}\n\nexport function isToday(date: Date) {\n    const now = new Date();\n\n    return isSameDay(date, now);\n}\n\nexport function isYesterday(date: Date) {\n    const yesterday = new Date();\n    yesterday.setDate(yesterday.getDate() - 1);\n\n    return isSameDay(date, yesterday);\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {getCurrentUserId, getUser} from 'mattermost-redux/selectors/entities/users';\n\nimport RemovedFromChannelModal from './removed_from_channel_modal';\n\nfunction mapStateToProps(state, ownProps) {\n    const remover = getUser(state, ownProps.removerId);\n    return {\n        currentUserId: getCurrentUserId(state),\n        remover: remover && remover.username,\n    };\n}\n\nexport default connect(mapStateToProps)(RemovedFromChannelModal);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport {Modal} from 'react-bootstrap';\nimport {FormattedMessage} from 'react-intl';\n\nexport default class RemovedFromChannelModal extends React.PureComponent {\n    static propTypes = {\n        currentUserId: PropTypes.string.isRequired,\n        onHide: PropTypes.func.isRequired,\n        channelName: PropTypes.string,\n        remover: PropTypes.string,\n    };\n\n    constructor(props) {\n        super(props);\n\n        this.state = {show: true};\n    }\n\n    onHide = () => {\n        this.setState({show: false});\n    }\n\n    render() {\n        let channelName = (\n            <FormattedMessage\n                id='removed_channel.channelName'\n                defaultMessage='the channel'\n            />\n        );\n        if (this.props.channelName) {\n            channelName = this.props.channelName;\n        }\n\n        let remover = (\n            <FormattedMessage\n                id='removed_channel.someone'\n                defaultMessage='Someone'\n            />\n        );\n        if (this.props.remover) {\n            remover = this.props.remover;\n        }\n\n        if (this.props.currentUserId === '') {\n            return null;\n        }\n\n        return (\n            <Modal\n                dialogClassName='a11y__modal'\n                show={this.state.show}\n                onHide={this.onHide}\n                onExited={this.props.onHide}\n                role='dialog'\n                aria-labelledby='removeFromChannelModalLabel'\n            >\n                <Modal.Header closeButton={true}>\n                    <Modal.Title\n                        componentClass='h1'\n                        id='removeFromChannelModalLabel'\n                    >\n                        <FormattedMessage\n                            id='removed_channel.from'\n                            defaultMessage='Removed from '\n                        />\n                        <span className='name'>\n                            {channelName}\n                        </span>\n                    </Modal.Title>\n                </Modal.Header>\n                <Modal.Body ref='modalBody'>\n                    <p>\n                        <FormattedMessage\n                            id='removed_channel.remover'\n                            defaultMessage='{remover} removed you from {channel}'\n                            values={{\n                                remover,\n                                channel: (channelName),\n                            }}\n                        />\n                    </p>\n                </Modal.Body>\n                <Modal.Footer>\n                    <button\n                        type='button'\n                        className='btn btn-primary'\n                        onClick={this.onHide}\n                        id='removedChannelBtn'\n                    >\n                        <FormattedMessage\n                            id='removed_channel.okay'\n                            defaultMessage='Okay'\n                        />\n                    </button>\n                </Modal.Footer>\n            </Modal>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {bindActionCreators} from 'redux';\nimport {connect} from 'react-redux';\nimport {createSelector} from 'reselect';\nimport {patchChannel} from 'mattermost-redux/actions/channels';\nimport {getTeam} from 'mattermost-redux/selectors/entities/teams';\n\nimport {getSiteURL} from 'utils/url';\n\nimport RenameChannelModal from './rename_channel_modal.jsx';\n\nconst mapStateToProps = createSelector(\n    (state) => {\n        const currentTeamId = state.entities.teams.currentTeamId;\n        const team = getTeam(state, currentTeamId);\n        const currentTeamUrl = `${getSiteURL()}/${team.name}`;\n        return {\n            currentTeamUrl,\n            team,\n        };\n    },\n    (teamInfo) => ({...teamInfo})\n);\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: {\n            patchChannel: bindActionCreators(patchChannel, dispatch),\n        },\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(RenameChannelModal);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {Modal, OverlayTrigger, Tooltip} from 'react-bootstrap';\nimport {defineMessages, FormattedMessage, injectIntl, intlShape} from 'react-intl';\n\nimport LocalizedInput from 'components/localized_input/localized_input';\nimport {browserHistory} from 'utils/browser_history';\nimport Constants from 'utils/constants.jsx';\nimport {cleanUpUrlable, getShortenedURL} from 'utils/url';\nimport * as Utils from 'utils/utils.jsx';\nimport {t} from 'utils/i18n';\n\nconst holders = defineMessages({\n    required: {\n        id: t('rename_channel.required'),\n        defaultMessage: 'This field is required',\n    },\n    maxLength: {\n        id: t('rename_channel.maxLength'),\n        defaultMessage: 'This field must be less than {maxLength, number} characters',\n    },\n    lowercase: {\n        id: t('rename_channel.lowercase'),\n        defaultMessage: 'Must be lowercase alphanumeric characters',\n    },\n    url: {\n        id: t('rename_channel.url'),\n        defaultMessage: 'URL',\n    },\n    defaultError: {\n        id: t('rename_channel.defaultError'),\n        defaultMessage: ' - Cannot be changed for the default channel',\n    },\n    displayNameHolder: {\n        id: t('rename_channel.displayNameHolder'),\n        defaultMessage: 'Enter display name',\n    },\n    handleHolder: {\n        id: t('rename_channel.handleHolder'),\n        defaultMessage: 'lowercase alphanumeric characters',\n    },\n});\n\nexport class RenameChannelModal extends React.PureComponent {\n    static propTypes = {\n\n        /**\n         * react-intl helper object\n         */\n        intl: intlShape.isRequired,\n\n        /**\n         * Function that is called when modal is hidden\n         */\n        onHide: PropTypes.func.isRequired,\n\n        /**\n         * Object with info about current channel\n         */\n        channel: PropTypes.object.isRequired,\n\n        /**\n         * Object with info about current team\n         */\n        team: PropTypes.object.isRequired,\n\n        /**\n         * String with the current team URL\n         */\n        currentTeamUrl: PropTypes.string.isRequired,\n\n        /*\n         * Object with redux action creators\n         */\n        actions: PropTypes.shape({\n\n            /*\n             * Action creator to patch current channel\n             */\n            patchChannel: PropTypes.func.isRequired,\n        }).isRequired,\n    };\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            displayName: props.channel.display_name,\n            channelName: props.channel.name,\n            serverError: '',\n            nameError: '',\n            displayNameError: '',\n            invalid: false,\n            show: true,\n        };\n    }\n\n    setError = (err) => {\n        this.setState({serverError: err.message});\n    }\n\n    unsetError = () => {\n        this.setState({serverError: ''});\n    }\n\n    handleEntering = () => {\n        Utils.placeCaretAtEnd(this.textbox);\n    }\n\n    handleHide = (e) => {\n        if (e) {\n            e.preventDefault();\n        }\n\n        this.setState({\n            serverError: '',\n            nameError: '',\n            displayNameError: '',\n            invalid: false,\n            show: false,\n        });\n    }\n\n    handleSubmit = async (e) => {\n        if (e) {\n            e.preventDefault();\n        }\n\n        const channel = Object.assign({}, this.props.channel);\n        const oldName = channel.name;\n        const oldDisplayName = channel.display_name;\n        const state = {serverError: ''};\n        const {formatMessage} = this.props.intl;\n        const {actions: {patchChannel}} = this.props;\n\n        channel.display_name = this.state.displayName.trim();\n        if (!channel.display_name) {\n            state.displayNameError = formatMessage(holders.required);\n            state.invalid = true;\n        } else if (channel.display_name.length > Constants.MAX_CHANNELNAME_LENGTH) {\n            state.displayNameError = formatMessage(holders.maxLength, {maxLength: Constants.MAX_CHANNELNAME_LENGTH});\n            state.invalid = true;\n        } else if (channel.display_name.length < Constants.MIN_CHANNELNAME_LENGTH) {\n            state.displayNameError = (\n                <FormattedMessage\n                    id='rename_channel.minLength'\n                    defaultMessage='Channel name must be {minLength, number} or more characters'\n                    values={{\n                        minLength: Constants.MIN_CHANNELNAME_LENGTH,\n                    }}\n                />\n            );\n            state.invalid = true;\n        } else {\n            state.displayNameError = '';\n        }\n\n        channel.name = this.state.channelName.trim();\n        if (!channel.name) {\n            state.nameError = formatMessage(holders.required);\n            state.invalid = true;\n        } else if (channel.name.length > Constants.MAX_CHANNELNAME_LENGTH) {\n            state.nameError = formatMessage(holders.maxLength, {maxLength: Constants.MAX_CHANNELNAME_LENGTH});\n            state.invalid = true;\n        } else {\n            const cleanedName = cleanUpUrlable(channel.name);\n            if (cleanedName === channel.name) {\n                state.nameError = '';\n            } else {\n                state.nameError = formatMessage(holders.lowercase);\n                state.invalid = true;\n            }\n        }\n\n        this.setState(state);\n\n        if (state.invalid) {\n            return;\n        }\n        if (oldName === channel.name && oldDisplayName === channel.display_name) {\n            this.onSaveSuccess();\n            return;\n        }\n\n        const {data, error} = await patchChannel(channel.id, channel);\n\n        if (data) {\n            this.onSaveSuccess();\n        } else if (error) {\n            this.setError(error);\n        }\n    }\n\n    onSaveSuccess = () => {\n        this.handleHide();\n        this.unsetError();\n        browserHistory.push('/' + this.props.team.name + '/channels/' + this.state.channelName);\n    }\n\n    handleCancel = (e) => {\n        this.setState({\n            displayName: this.props.channel.display_name,\n            channelName: this.props.channel.name,\n        });\n\n        this.handleHide(e);\n    }\n\n    onNameChange = (e) => {\n        this.setState({channelName: e.target.value});\n    }\n\n    onDisplayNameChange = (e) => {\n        this.setState({displayName: e.target.value});\n    }\n\n    getTextbox = (node) => {\n        this.textbox = node;\n    }\n\n    render() {\n        let displayNameError = null;\n        let displayNameClass = 'form-group';\n        if (this.state.displayNameError) {\n            displayNameError = <label className='control-label'>{this.state.displayNameError}</label>;\n            displayNameClass += ' has-error';\n        }\n\n        let nameError = null;\n        let nameClass = 'form-group';\n        if (this.state.nameError) {\n            nameError = <label className='control-label'>{this.state.nameError}</label>;\n            nameClass += ' has-error';\n        }\n\n        let serverError = null;\n        if (this.state.serverError) {\n            serverError = <div className='form-group has-error'><label className='control-label'>{this.state.serverError}</label></div>;\n        }\n\n        const {formatMessage} = this.props.intl;\n\n        let urlInputLabel = formatMessage(holders.url);\n        const handleInputClass = 'form-control';\n        let readOnlyHandleInput = false;\n        if (this.props.channel.name === Constants.DEFAULT_CHANNEL) {\n            urlInputLabel += formatMessage(holders.defaultError);\n            readOnlyHandleInput = true;\n        }\n\n        const fullUrl = this.props.currentTeamUrl + '/channels';\n        const shortUrl = getShortenedURL(fullUrl, 35);\n        const urlTooltip = (\n            <Tooltip id='urlTooltip'>{fullUrl}</Tooltip>\n        );\n\n        return (\n            <Modal\n                dialogClassName='a11y__modal'\n                show={this.state.show}\n                onHide={this.handleCancel}\n                onEntering={this.handleEntering}\n                onExited={this.props.onHide}\n                role='dialog'\n                aria-labelledby='renameChannelModalLabel'\n            >\n                <Modal.Header closeButton={true}>\n                    <Modal.Title\n                        componentClass='h1'\n                        id='renameChannelModalLabel'\n                    >\n                        <FormattedMessage\n                            id='rename_channel.title'\n                            defaultMessage='Rename Channel'\n                        />\n                    </Modal.Title>\n                </Modal.Header>\n                <form role='form'>\n                    <Modal.Body>\n                        <div className={displayNameClass}>\n                            <label className='control-label'>\n                                <FormattedMessage\n                                    id='rename_channel.displayName'\n                                    defaultMessage='Display Name'\n                                />\n                            </label>\n                            <LocalizedInput\n                                onChange={this.onDisplayNameChange}\n                                type='text'\n                                ref={this.getTextbox}\n                                id='display_name'\n                                className='form-control'\n                                placeholder={holders.displayNameHolder}\n                                value={this.state.displayName}\n                                maxLength={Constants.MAX_CHANNELNAME_LENGTH}\n                            />\n                            {displayNameError}\n                        </div>\n                        <div className={nameClass}>\n                            <label className='control-label'>{urlInputLabel}</label>\n\n                            <div className='input-group input-group--limit'>\n                                <OverlayTrigger\n                                    delayShow={Constants.OVERLAY_TIME_DELAY}\n                                    placement='top'\n                                    overlay={urlTooltip}\n                                >\n                                    <span className='input-group-addon'>{shortUrl}</span>\n                                </OverlayTrigger>\n                                <LocalizedInput\n                                    onChange={this.onNameChange}\n                                    type='text'\n                                    className={handleInputClass}\n                                    id='channel_name'\n                                    placeholder={holders.handleHolder}\n                                    value={this.state.channelName}\n                                    maxLength={Constants.MAX_CHANNELNAME_LENGTH}\n                                    readOnly={readOnlyHandleInput}\n                                />\n                            </div>\n                            {nameError}\n                        </div>\n                        {serverError}\n                    </Modal.Body>\n                    <Modal.Footer>\n                        <button\n                            type='button'\n                            className='btn btn-link'\n                            onClick={this.handleCancel}\n                        >\n                            <FormattedMessage\n                                id='rename_channel.cancel'\n                                defaultMessage='Cancel'\n                            />\n                        </button>\n                        <button\n                            onClick={this.handleSubmit}\n                            type='submit'\n                            id='save-button'\n                            className='btn btn-primary'\n                        >\n                            <FormattedMessage\n                                id='rename_channel.save'\n                                defaultMessage='Save'\n                            />\n                        </button>\n                    </Modal.Footer>\n                </form>\n            </Modal>\n        );\n    }\n}\n\nexport default injectIntl(RenameChannelModal);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\nimport {savePreferences} from 'mattermost-redux/actions/preferences';\nimport {setStatus} from 'mattermost-redux/actions/users';\nimport {Preferences} from 'mattermost-redux/constants';\nimport {get} from 'mattermost-redux/selectors/entities/preferences';\nimport {getStatusForUserId} from 'mattermost-redux/selectors/entities/users';\n\nimport {autoResetStatus} from 'actions/user_actions.jsx';\n\nimport ResetStatusModal from './reset_status_modal.jsx';\n\nfunction mapStateToProps(state) {\n    const {currentUserId} = state.entities.users;\n    return {\n        autoResetPref: get(state, Preferences.CATEGORY_AUTO_RESET_MANUAL_STATUS, currentUserId, ''),\n        currentUserStatus: getStatusForUserId(state, currentUserId),\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            autoResetStatus,\n            setStatus,\n            savePreferences,\n        }, dispatch),\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ResetStatusModal);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\nimport {Preferences} from 'mattermost-redux/constants';\n\nimport ConfirmModal from 'components/confirm_modal.jsx';\nimport {toTitleCase} from 'utils/utils.jsx';\nimport {UserStatuses} from 'utils/constants';\nimport {t} from 'utils/i18n';\n\nexport default class ResetStatusModal extends React.PureComponent {\n    static propTypes = {\n\n        /*\n         * The user's preference for whether their status is automatically reset\n         */\n        autoResetPref: PropTypes.string,\n\n        /*\n         * Props value is used to update currentUserStatus\n         */\n        currentUserStatus: PropTypes.string,\n\n        /*\n         * Props value is used to reset status from status_dropdown\n         */\n        newStatus: PropTypes.string,\n\n        /**\n         * Function called when modal is dismissed\n         */\n        onHide: PropTypes.func,\n        actions: PropTypes.shape({\n\n            /*\n             * Function to get and then reset the user's status if needed\n             */\n            autoResetStatus: PropTypes.func.isRequired,\n\n            /*\n             * Function to set the status for a user\n             */\n            setStatus: PropTypes.func.isRequired,\n\n            /*\n             * Function to save user preferences\n             */\n            savePreferences: PropTypes.func.isRequired,\n        }).isRequired,\n    };\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            show: false,\n            currentUserStatus: {},\n            newStatus: props.newStatus || 'online',\n        };\n    }\n\n    componentDidMount() {\n        this.props.actions.autoResetStatus().then(\n            (status) => {\n                const statusIsManual = status.manual;\n                const autoResetPrefNotSet = this.props.autoResetPref === '';\n\n                this.setState({\n                    currentUserStatus: status, // Set in state until status refactor where we store 'manual' field in redux\n                    show: Boolean(status.status === UserStatuses.OUT_OF_OFFICE || (statusIsManual && autoResetPrefNotSet)),\n                });\n            }\n        );\n    }\n\n    hideModal = () => {\n        this.setState({show: false});\n    };\n\n    onConfirm = (checked) => {\n        this.hideModal();\n\n        const newStatus = {...this.state.currentUserStatus};\n        newStatus.status = this.state.newStatus;\n        this.props.actions.setStatus(newStatus);\n\n        if (checked) {\n            const pref = {category: Preferences.CATEGORY_AUTO_RESET_MANUAL_STATUS, user_id: newStatus.user_id, name: newStatus.user_id, value: 'true'};\n            this.props.actions.savePreferences(pref.user_id, [pref]);\n        }\n    };\n\n    onCancel = (checked) => {\n        this.hideModal();\n\n        if (checked) {\n            const status = {...this.state.currentUserStatus};\n            const pref = {category: Preferences.CATEGORY_AUTO_RESET_MANUAL_STATUS, user_id: status.user_id, name: status.user_id, value: 'false'};\n            this.props.actions.savePreferences(pref.user_id, [pref]);\n        }\n    };\n\n    renderModalMessage = () => {\n        if (this.props.currentUserStatus === UserStatuses.OUT_OF_OFFICE) {\n            return (\n                <FormattedMessage\n                    id={`modal.manual_status.auto_responder.message_${this.state.newStatus}`}\n                    defaultMessage='Would you like to switch your status to \"{status}\" and disable Automatic Replies?'\n                    values={{\n                        status: toTitleCase(this.state.newStatus),\n                    }}\n                />\n            );\n        }\n\n        return (\n            <FormattedMessage\n                id={`modal.manual_status.message_${this.state.newStatus}`}\n                defaultMessage='Would you like to switch your status to \"{status}\"?'\n                values={{\n                    status: toTitleCase(this.state.newStatus),\n                }}\n            />\n        );\n    };\n\n    render() {\n        const userStatus = this.state.currentUserStatus.status || '';\n        const userStatusId = 'modal.manual_status.title_' + userStatus;\n        const manualStatusTitle = (\n            <FormattedMessage\n                id={userStatusId}\n                defaultMessage='Your status is set to \"{status}\"'\n                values={{\n                    status: toTitleCase(userStatus),\n                }}\n            />\n        );\n\n        const manualStatusMessage = this.renderModalMessage();\n\n        const manualStatusButton = (\n            <FormattedMessage\n                id={`modal.manual_status.button_${this.state.newStatus}`}\n                defaultMessage='Yes, set my status to \"{status}\"'\n                values={{\n                    status: toTitleCase(this.state.newStatus),\n                }}\n            />\n        );\n        const manualStatusId = 'modal.manual_status.cancel_' + userStatus;\n        const manualStatusCancel = (\n            <FormattedMessage\n                id={manualStatusId}\n                defaultMessage='No, keep it as \"{status}\"'\n                values={{\n                    status: toTitleCase(userStatus),\n                }}\n            />\n        );\n\n        const manualStatusCheckbox = (\n            <FormattedMessage\n                id='modal.manual_status.ask'\n                defaultMessage='Do not ask me again'\n            />\n        );\n\n        const showCheckbox = this.props.currentUserStatus !== UserStatuses.OUT_OF_OFFICE;\n\n        return (\n            <ConfirmModal\n                show={this.state.show}\n                title={manualStatusTitle}\n                message={manualStatusMessage}\n                confirmButtonText={manualStatusButton}\n                onConfirm={this.onConfirm}\n                cancelButtonText={manualStatusCancel}\n                onCancel={this.onCancel}\n                onExited={this.props.onHide}\n                showCheckbox={showCheckbox}\n                checkboxText={manualStatusCheckbox}\n            />\n        );\n    }\n}\n\nt('modal.manual_status.auto_responder.message_');\nt('modal.manual_status.auto_responder.message_away');\nt('modal.manual_status.auto_responder.message_dnd');\nt('modal.manual_status.auto_responder.message_offline');\nt('modal.manual_status.auto_responder.message_online');\nt('modal.manual_status.button_');\nt('modal.manual_status.button_away');\nt('modal.manual_status.button_dnd');\nt('modal.manual_status.button_offline');\nt('modal.manual_status.button_online');\nt('modal.manual_status.cancel_');\nt('modal.manual_status.cancel_away');\nt('modal.manual_status.cancel_dnd');\nt('modal.manual_status.cancel_offline');\nt('modal.manual_status.cancel_ooo');\nt('modal.manual_status.message_');\nt('modal.manual_status.message_away');\nt('modal.manual_status.message_dnd');\nt('modal.manual_status.message_offline');\nt('modal.manual_status.message_online');\nt('modal.manual_status.title_');\nt('modal.manual_status.title_away');\nt('modal.manual_status.title_dnd');\nt('modal.manual_status.title_offline');\nt('modal.manual_status.title_ooo');\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {bindActionCreators} from 'redux';\nimport {connect} from 'react-redux';\n\nimport {getConfig} from 'mattermost-redux/selectors/entities/general';\nimport {shouldShowTermsOfService} from 'mattermost-redux/selectors/entities/users';\n\nimport {loadMeAndConfig} from 'actions/views/root';\n\nimport Root from './root.jsx';\n\nfunction mapStateToProps(state) {\n    const config = getConfig(state);\n    const showTermsOfService = shouldShowTermsOfService(state);\n\n    return {\n        diagnosticsEnabled: config.DiagnosticsEnabled === 'true',\n        noAccounts: config.NoAccounts === 'true',\n        diagnosticId: config.DiagnosticId,\n        showTermsOfService,\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            loadMeAndConfig,\n        }, dispatch),\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Root);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport $ from 'jquery';\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport FastClick from 'fastclick';\nimport {Route, Switch, Redirect} from 'react-router-dom';\nimport {setUrl} from 'mattermost-redux/actions/general';\nimport {setSystemEmojis} from 'mattermost-redux/actions/emojis';\nimport {getConfig} from 'mattermost-redux/selectors/entities/general';\n\nimport * as UserAgent from 'utils/user_agent';\nimport {EmojiIndicesByAlias} from 'utils/emoji.jsx';\nimport {trackLoadTime} from 'actions/diagnostics_actions.jsx';\nimport * as GlobalActions from 'actions/global_actions.jsx';\nimport BrowserStore from 'stores/browser_store.jsx';\nimport {loadRecentlyUsedCustomEmojis} from 'actions/emoji_actions.jsx';\nimport {initializePlugins} from 'plugins';\nimport 'plugins/export.js';\nimport Constants, {StoragePrefixes} from 'utils/constants';\nimport {HFTRoute, LoggedInHFTRoute} from 'components/header_footer_template_route';\nimport IntlProvider from 'components/intl_provider';\nimport NeedsTeam from 'components/needs_team';\nimport PermalinkRedirector from 'components/permalink_redirector';\nimport {makeAsyncComponent} from 'components/async_load';\nconst LazyErrorPage = React.lazy(() => import('components/error_page'));\nconst LazyLoginController = React.lazy(() => import('components/login/login_controller'));\nconst LazyAdminConsole = React.lazy(() => import('components/admin_console'));\nconst LazyLoggedIn = React.lazy(() => import('components/logged_in'));\nconst LazyPasswordResetSendLink = React.lazy(() => import('components/password_reset_send_link'));\nconst LazyPasswordResetForm = React.lazy(() => import('components/password_reset_form'));\nconst LazySignupController = React.lazy(() => import('components/signup/signup_controller'));\nconst LazySignupEmail = React.lazy(() => import('components/signup/signup_email'));\nconst LazyTermsOfService = React.lazy(() => import('components/terms_of_service'));\nconst LazyShouldVerifyEmail = React.lazy(() => import('components/should_verify_email'));\nconst LazyDoVerifyEmail = React.lazy(() => import('components/do_verify_email'));\nconst LazyClaimController = React.lazy(() => import('components/claim'));\nconst LazyHelpController = React.lazy(() => import('components/help/help_controller'));\nconst LazyGetIosApp = React.lazy(() => import('components/get_ios_app'));\nconst LazyGetAndroidApp = React.lazy(() => import('components/get_android_app'));\nconst LazySelectTeam = React.lazy(() => import('components/select_team'));\nconst LazyAuthorize = React.lazy(() => import('components/authorize'));\nconst LazyCreateTeam = React.lazy(() => import('components/create_team'));\nconst LazyMfa = React.lazy(() => import('components/mfa/mfa_controller'));\n\nimport store from 'stores/redux_store.jsx';\nimport {getSiteURL} from 'utils/url';\nimport {enableDevModeFeatures, isDevMode} from 'utils/utils';\nimport A11yController from 'utils/a11y_controller';\n\nconst CreateTeam = makeAsyncComponent(LazyCreateTeam);\nconst ErrorPage = makeAsyncComponent(LazyErrorPage);\nconst TermsOfService = makeAsyncComponent(LazyTermsOfService);\nconst LoginController = makeAsyncComponent(LazyLoginController);\nconst AdminConsole = makeAsyncComponent(LazyAdminConsole);\nconst LoggedIn = makeAsyncComponent(LazyLoggedIn);\nconst PasswordResetSendLink = makeAsyncComponent(LazyPasswordResetSendLink);\nconst PasswordResetForm = makeAsyncComponent(LazyPasswordResetForm);\nconst SignupController = makeAsyncComponent(LazySignupController);\nconst SignupEmail = makeAsyncComponent(LazySignupEmail);\nconst ShouldVerifyEmail = makeAsyncComponent(LazyShouldVerifyEmail);\nconst DoVerifyEmail = makeAsyncComponent(LazyDoVerifyEmail);\nconst ClaimController = makeAsyncComponent(LazyClaimController);\nconst HelpController = makeAsyncComponent(LazyHelpController);\nconst GetIosApp = makeAsyncComponent(LazyGetIosApp);\nconst GetAndroidApp = makeAsyncComponent(LazyGetAndroidApp);\nconst SelectTeam = makeAsyncComponent(LazySelectTeam);\nconst Authorize = makeAsyncComponent(LazyAuthorize);\nconst Mfa = makeAsyncComponent(LazyMfa);\n\nconst LoggedInRoute = ({component: Component, ...rest}) => (\n    <Route\n        {...rest}\n        render={(props) => (\n            <LoggedIn {...props}>\n                <Component {...props}/>\n            </LoggedIn>\n        )}\n    />\n);\n\nexport default class Root extends React.Component {\n    static propTypes = {\n        diagnosticsEnabled: PropTypes.bool,\n        diagnosticId: PropTypes.string,\n        noAccounts: PropTypes.bool,\n        showTermsOfService: PropTypes.bool,\n        actions: PropTypes.shape({\n            loadMeAndConfig: PropTypes.func.isRequired,\n        }).isRequired,\n    }\n\n    constructor(props) {\n        super(props);\n        this.currentCategoryFocus = 0;\n        this.currentSidebarFocus = 0;\n\n        // Redux\n        setUrl(getSiteURL());\n\n        setSystemEmojis(EmojiIndicesByAlias);\n\n        // Force logout of all tabs if one tab is logged out\n        $(window).bind('storage', (e) => {\n            // when one tab on a browser logs out, it sets __logout__ in localStorage to trigger other tabs to log out\n            if (e.originalEvent.key === StoragePrefixes.LOGOUT && e.originalEvent.storageArea === localStorage && e.originalEvent.newValue) {\n                // make sure it isn't this tab that is sending the logout signal (only necessary for IE11)\n                if (BrowserStore.isSignallingLogout(e.originalEvent.newValue)) {\n                    return;\n                }\n\n                console.log('detected logout from a different tab'); //eslint-disable-line no-console\n                GlobalActions.emitUserLoggedOutEvent('/', false, false);\n            }\n\n            if (e.originalEvent.key === StoragePrefixes.LOGIN && e.originalEvent.storageArea === localStorage && e.originalEvent.newValue) {\n                // make sure it isn't this tab that is sending the logout signal (only necessary for IE11)\n                if (BrowserStore.isSignallingLogin(e.originalEvent.newValue)) {\n                    return;\n                }\n\n                console.log('detected login from a different tab'); //eslint-disable-line no-console\n                location.reload();\n            }\n        });\n\n        // Prevent drag and drop files from navigating away from the app\n        document.addEventListener('drop', (e) => {\n            e.preventDefault();\n            e.stopPropagation();\n        });\n\n        document.addEventListener('dragover', (e) => {\n            e.preventDefault();\n            e.stopPropagation();\n        });\n\n        // Fastclick\n        FastClick.attach(document.body);\n\n        this.state = {\n            configLoaded: false,\n        };\n\n        // Keyboard navigation for accessibility\n        if (!UserAgent.isInternetExplorer()) {\n            this.a11yController = new A11yController();\n        }\n    }\n\n    onConfigLoaded = () => {\n        if (isDevMode()) {\n            enableDevModeFeatures();\n        }\n\n        const segmentKey = Constants.DIAGNOSTICS_SEGMENT_KEY;\n        const diagnosticId = this.props.diagnosticId;\n\n        /*eslint-disable */\n        if (segmentKey != null && segmentKey !== '' && !segmentKey.startsWith('placeholder') && this.props.diagnosticsEnabled) {\n            !function(){var analytics=global.window.analytics=global.window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error(\"Segment snippet included twice.\");else{analytics.invoked=!0;analytics.methods=[\"trackSubmit\",\"trackClick\",\"trackLink\",\"trackForm\",\"pageview\",\"identify\",\"group\",\"track\",\"ready\",\"alias\",\"page\",\"once\",\"off\",\"on\"];analytics.factory=function(t){return function(...args){var e=Array.prototype.slice.call(args);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t){var e=document.createElement(\"script\");e.type=\"text/javascript\";e.async=!0;e.src=(\"https:\"===document.location.protocol ? \"https://\":\"http://\")+\"cdn.segment.com/analytics.js/v1/\"+t+\"/analytics.min.js\";var n=document.getElementsByTagName(\"script\")[0];n.parentNode.insertBefore(e,n)};analytics.SNIPPET_VERSION=\"3.0.1\";\n                analytics.load(segmentKey);\n\n                analytics.identify(diagnosticId, {}, {\n                    context: {\n                        ip: '0.0.0.0',\n                    },\n                    page: {\n                        path: '',\n                        referrer: '',\n                        search: '',\n                        title: '',\n                        url: '',\n                    },\n                    anonymousId: '00000000000000000000000000',\n                });\n\n                analytics.page('ApplicationLoaded', {\n                        path: '',\n                        referrer: '',\n                        search: '',\n                        title: '',\n                        url: '',\n                    },\n                    {\n                        context: {\n                            ip: '0.0.0.0'\n                        },\n                        anonymousId: '00000000000000000000000000'\n                    });\n            }}();\n        }\n        /*eslint-enable */\n\n        if (this.props.location.pathname === '/' && this.props.noAccounts) {\n            this.props.history.push('/signup_user_complete');\n        }\n\n        initializePlugins().then(() => {\n            this.setState({configLoaded: true});\n        });\n\n        loadRecentlyUsedCustomEmojis()(store.dispatch, store.getState);\n\n        const iosDownloadLink = getConfig(store.getState()).IosAppDownloadLink;\n        const androidDownloadLink = getConfig(store.getState()).AndroidAppDownloadLink;\n\n        const toResetPasswordScreen = this.props.location.pathname === '/reset_password_complete';\n\n        // redirect to the mobile landing page if the user hasn't seen it before\n        if (iosDownloadLink && UserAgent.isIosWeb() && !BrowserStore.hasSeenLandingPage() && !toResetPasswordScreen) {\n            this.props.history.push('/get_ios_app?redirect_to=' + encodeURIComponent(this.props.location.pathname) + encodeURIComponent(this.props.location.search));\n            BrowserStore.setLandingPageSeen(true);\n        } else if (androidDownloadLink && UserAgent.isAndroidWeb() && !BrowserStore.hasSeenLandingPage() && !toResetPasswordScreen) {\n            this.props.history.push('/get_android_app?redirect_to=' + encodeURIComponent(this.props.location.pathname) + encodeURIComponent(this.props.location.search));\n            BrowserStore.setLandingPageSeen(true);\n        }\n    }\n\n    redirectIfNecessary = (props) => {\n        if (props.location.pathname === '/') {\n            if (this.props.noAccounts) {\n                this.props.history.push('/signup_user_complete');\n            } else if (props.showTermsOfService) {\n                this.props.history.push('/terms_of_service');\n            }\n        }\n    }\n\n    UNSAFE_componentWillReceiveProps(newProps) { // eslint-disable-line camelcase\n        this.redirectIfNecessary(newProps);\n    }\n\n    componentDidMount() {\n        this.props.actions.loadMeAndConfig().then((response) => {\n            if (this.props.location.pathname === '/' && response[2] && response[2].data) {\n                GlobalActions.redirectUserToDefaultTeam();\n            }\n            this.onConfigLoaded();\n        });\n        trackLoadTime();\n    }\n\n    componentWillUnmount() {\n        $(window).unbind('storage');\n    }\n\n    render() {\n        if (!this.state.configLoaded) {\n            return <div/>;\n        }\n\n        return (\n            <IntlProvider>\n                <Switch>\n                    <Route\n                        path={'/error'}\n                        component={ErrorPage}\n                    />\n                    <HFTRoute\n                        path={'/login'}\n                        component={LoginController}\n                    />\n                    <HFTRoute\n                        path={'/reset_password'}\n                        component={PasswordResetSendLink}\n                    />\n                    <HFTRoute\n                        path={'/reset_password_complete'}\n                        component={PasswordResetForm}\n                    />\n                    <HFTRoute\n                        path={'/signup_user_complete'}\n                        component={SignupController}\n                    />\n                    <HFTRoute\n                        path={'/signup_email'}\n                        component={SignupEmail}\n                    />\n                    <HFTRoute\n                        path={'/should_verify_email'}\n                        component={ShouldVerifyEmail}\n                    />\n                    <HFTRoute\n                        path={'/do_verify_email'}\n                        component={DoVerifyEmail}\n                    />\n                    <HFTRoute\n                        path={'/claim'}\n                        component={ClaimController}\n                    />\n                    <HFTRoute\n                        path={'/help'}\n                        component={HelpController}\n                    />\n                    <LoggedInRoute\n                        path={'/terms_of_service'}\n                        component={TermsOfService}\n                    />\n                    <Route\n                        path={'/get_ios_app'}\n                        component={GetIosApp}\n                    />\n                    <Route\n                        path={'/get_android_app'}\n                        component={GetAndroidApp}\n                    />\n                    <LoggedInRoute\n                        path={'/admin_console'}\n                        component={AdminConsole}\n                    />\n                    <LoggedInHFTRoute\n                        path={'/select_team'}\n                        component={SelectTeam}\n                    />\n                    <LoggedInHFTRoute\n                        path={'/oauth/authorize'}\n                        component={Authorize}\n                    />\n                    <LoggedInHFTRoute\n                        path={'/create_team'}\n                        component={CreateTeam}\n                    />\n                    <LoggedInRoute\n                        path={'/mfa'}\n                        component={Mfa}\n                    />\n                    <LoggedInRoute\n                        path={['/_redirect/integrations*', '/_redirect/pl/:postid']}\n                        component={PermalinkRedirector}\n                    />\n                    <LoggedInRoute\n                        path={'/:team'}\n                        component={NeedsTeam}\n                    />\n                    <Redirect\n                        to={{\n                            ...this.props.location,\n                            pathname: '/login',\n                        }}\n                    />\n                </Switch>\n            </IntlProvider>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\n\nexport default class RootPortal extends React.Component {\n    static propTypes = {\n        children: PropTypes.node,\n    }\n\n    constructor(props) {\n        super(props);\n        this.el = document.createElement('div');\n    }\n\n    componentDidMount() {\n        document.getElementById('root-portal').appendChild(this.el);\n    }\n\n    componentWillUnmount() {\n        document.getElementById('root-portal').removeChild(this.el);\n    }\n\n    render() {\n        return ReactDOM.createPortal(\n            this.props.children,\n            this.el,\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {intlShape} from 'react-intl';\n\nimport LoadingWrapper from 'components/widgets/loading/loading_wrapper';\n\ntype Props = {\n    saving: boolean;\n    disabled?: boolean;\n    id?: string;\n    onClick?: (e: React.MouseEvent<HTMLButtonElement>) => void;\n    savingMessage?: React.ReactNode;\n    defaultMessage?: React.ReactNode;\n    btnClass?: string;\n    extraClasses?: string;\n}\n\nexport default class SaveButton extends React.PureComponent<Props> {\n    public static defaultProps: Partial<Props> = {\n        disabled: false,\n        btnClass: 'btn-primary',\n        extraClasses: '',\n    }\n\n    public static contextTypes = {\n        intl: intlShape,\n    };\n\n    public render() {\n        const {formatMessage} = this.context.intl;\n        const {\n            saving,\n            disabled,\n            savingMessage,\n            defaultMessage,\n            btnClass,\n            extraClasses,\n            ...props\n        } = this.props;\n\n        let className = 'save-button btn';\n        if (!disabled || saving) {\n            className += ' ' + btnClass;\n        }\n\n        if (extraClasses) {\n            className += ' ' + extraClasses;\n        }\n\n        const savingMessageComponent = savingMessage || formatMessage({id: 'save_button.saving', defaultMessage: 'Saving'});\n        const defaultMessageComponent = defaultMessage || formatMessage({id: 'save_button.save', defaultMessage: 'Save'});\n\n        return (\n            <button\n                type='submit'\n                id='saveSetting'\n                className={className}\n                disabled={disabled}\n                {...props}\n            >\n                <LoadingWrapper\n                    loading={saving}\n                    text={savingMessageComponent}\n                >\n                    <span>{defaultMessageComponent}</span>\n                </LoadingWrapper>\n            </button>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\n\nimport {\n    updateSearchTerms,\n    showSearchResults,\n    showMentions,\n    showFlaggedPosts,\n    closeRightHandSide,\n} from 'actions/views/rhs';\nimport {autocompleteChannelsForSearch} from 'actions/channel_actions';\nimport {getRhsState, getSearchTerms, getIsSearchingTerm} from 'selectors/rhs';\nimport {RHSStates} from 'utils/constants';\n\nimport SearchBar from './search_bar.jsx';\n\nfunction mapStateToProps(state) {\n    const rhsState = getRhsState(state);\n\n    return {\n        isSearchingTerm: getIsSearchingTerm(state),\n        searchTerms: getSearchTerms(state),\n        isMentionSearch: rhsState === RHSStates.MENTION,\n        isFlaggedPosts: rhsState === RHSStates.FLAG,\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            updateSearchTerms,\n            showSearchResults,\n            showMentions,\n            showFlaggedPosts,\n            closeRightHandSide,\n            autocompleteChannelsForSearch,\n        }, dispatch),\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SearchBar);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {OverlayTrigger, Tooltip} from 'react-bootstrap';\nimport {FormattedMessage} from 'react-intl';\n\nimport Constants from 'utils/constants';\nimport * as Utils from 'utils/utils.jsx';\nimport SearchChannelProvider from 'components/suggestion/search_channel_provider.jsx';\nimport SearchSuggestionList from 'components/suggestion/search_suggestion_list.jsx';\nimport SuggestionDate from 'components/suggestion/suggestion_date.jsx';\nimport SearchUserProvider from 'components/suggestion/search_user_provider.jsx';\nimport SearchDateProvider from 'components/suggestion/search_date_provider.jsx';\nimport SuggestionBox from 'components/suggestion/suggestion_box.jsx';\nimport HeaderIconWrapper from 'components/channel_header/components/header_icon_wrapper';\nimport SearchHint from 'components/search_hint/search_hint';\nimport FlagIcon from 'components/widgets/icons/flag_icon';\nimport MentionsIcon from 'components/widgets/icons/mentions_icon';\nimport SearchIcon from 'components/widgets/icons/search_icon';\nimport LoadingSpinner from 'components/widgets/loading/loading_spinner';\nimport Popover from 'components/widgets/popover';\n\nconst {KeyCodes} = Constants;\n\nexport default class SearchBar extends React.Component {\n    static propTypes = {\n        isSearchingTerm: PropTypes.bool,\n        searchTerms: PropTypes.string,\n        isMentionSearch: PropTypes.bool,\n        isFlaggedPosts: PropTypes.bool,\n        showMentionFlagBtns: PropTypes.bool,\n        isFocus: PropTypes.bool,\n        actions: PropTypes.shape({\n            updateSearchTerms: PropTypes.func,\n            showSearchResults: PropTypes.func,\n            showMentions: PropTypes.func,\n            showFlaggedPosts: PropTypes.func,\n            closeRightHandSide: PropTypes.func,\n            autocompleteChannelsForSearch: PropTypes.func.isRequired,\n        }),\n    };\n\n    static defaultProps = {\n        showMentionFlagBtns: true,\n        isFocus: false,\n    };\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            focused: false,\n        };\n\n        this.suggestionProviders = [new SearchChannelProvider(props.actions.autocompleteChannelsForSearch), new SearchUserProvider(), new SearchDateProvider()];\n    }\n\n    componentDidMount() {\n        if (Utils.isMobile()) {\n            setTimeout(() => {\n                const element = document.querySelector('.app__body .sidebar--menu');\n                if (element) {\n                    element.classList.remove('visible');\n                }\n            });\n        }\n    }\n\n    handleClose = () => {\n        this.props.actions.closeRightHandSide();\n    }\n\n    handleKeyDown = (e) => {\n        if (Utils.isKeyPressed(e, KeyCodes.ESCAPE)) {\n            e.stopPropagation();\n            e.preventDefault();\n        }\n    }\n\n    handleChange = (e) => {\n        var term = e.target.value;\n        this.props.actions.updateSearchTerms(term);\n    }\n\n    handleUserBlur = () => {\n        // add time out so that the pinned and member buttons are clickable\n        // when focus is released from the search box.\n        setTimeout(() => {\n            this.setState({focused: false});\n        }, 200);\n    }\n\n    handleClear = () => {\n        this.props.actions.updateSearchTerms('');\n    }\n\n    handleUserFocus = () => {\n        this.setState({focused: true});\n    }\n\n    handleSearch = async (terms) => {\n        if (terms.length) {\n            const {error} = await this.props.actions.showSearchResults();\n\n            if (!error) {\n                this.handleSearchOnSuccess();\n            }\n        }\n    }\n\n    handleSearchOnSuccess = () => {\n        if (Utils.isMobile() && this.search) {\n            this.search.value = '';\n        }\n    }\n\n    handleSubmit = (e) => {\n        e.preventDefault();\n        const terms = this.props.searchTerms.trim();\n\n        if (terms.length === 0) {\n            return;\n        }\n\n        this.handleSearch(terms);\n\n        this.search.blur();\n    }\n\n    searchMentions = (e) => {\n        e.preventDefault();\n        if (this.props.isMentionSearch) {\n            // Close\n            this.props.actions.closeRightHandSide();\n        } else {\n            this.props.actions.showMentions();\n        }\n    }\n\n    getFlagged = (e) => {\n        e.preventDefault();\n        if (this.props.isFlaggedPosts) {\n            this.props.actions.closeRightHandSide();\n        } else {\n            this.props.actions.showFlaggedPosts();\n        }\n    }\n\n    renderHintPopover() {\n        if (Utils.isMobile()) {\n            return null;\n        }\n\n        let helpClass = 'search-help-popover';\n        if (!this.props.searchTerms && this.state.focused) {\n            helpClass += ' visible';\n        }\n\n        return (\n            <Popover\n                id='searchbar-help-popup'\n                placement='bottom'\n                className={helpClass}\n            >\n                <SearchHint withTitle={true}/>\n            </Popover>\n        );\n    }\n\n    getSearch = (node) => {\n        this.search = node;\n    }\n\n    render() {\n        let mentionBtn;\n        let flagBtn;\n        if (this.props.showMentionFlagBtns) {\n            var mentionBtnClass = this.props.isMentionSearch ? 'active' : '';\n\n            mentionBtn = (\n                <HeaderIconWrapper\n                    iconComponent={\n                        <MentionsIcon\n                            className='icon icon__mentions'\n                            aria-hidden='true'\n                        />\n                    }\n                    ariaLabel={true}\n                    buttonClass={'channel-header__icon style--none ' + mentionBtnClass}\n                    buttonId={'channelHeaderMentionButton'}\n                    onClick={this.searchMentions}\n                    tooltipKey={'recentMentions'}\n                />\n            );\n\n            var flagBtnClass = this.props.isFlaggedPosts ? 'active' : '';\n\n            flagBtn = (\n                <HeaderIconWrapper\n                    iconComponent={\n                        <FlagIcon className='icon icon__flag'/>\n                    }\n                    ariaLabel={true}\n                    buttonClass={'channel-header__icon style--none ' + flagBtnClass}\n                    buttonId={'channelHeaderFlagButton'}\n                    onClick={this.getFlagged}\n                    tooltipKey={'flaggedPosts'}\n                />\n            );\n        }\n\n        const showClear = !this.props.isSearchingTerm && this.props.searchTerms && this.props.searchTerms.trim() !== '';\n\n        let searchFormClass = 'search__form';\n        if (this.state.focused) {\n            searchFormClass += ' focused';\n        }\n\n        const searchClearTooltip = (\n            <Tooltip id='searchClearTooltip'>\n                <FormattedMessage\n                    id='search_bar.clear'\n                    defaultMessage='Clear search query'\n                />\n            </Tooltip>\n        );\n\n        return (\n            <div className='sidebar-right__table'>\n                <div className='sidebar-collapse__container'>\n                    <div\n                        id='sidebarCollapse'\n                        className='sidebar-collapse'\n                        onClick={this.handleClose}\n                    >\n                        <FormattedMessage\n                            id='generic_icons.back'\n                            defaultMessage='Back Icon'\n                        >\n                            {(title) => (\n                                <span\n                                    className='fa fa-2x fa-angle-left'\n                                    title={title}\n                                />\n                            )}\n                        </FormattedMessage>\n                    </div>\n                </div>\n                <div\n                    id='searchFormContainer'\n                    className='search-form__container'\n                >\n                    <form\n                        role='application'\n                        className={searchFormClass}\n                        onSubmit={this.handleSubmit}\n                        style={style.searchForm}\n                        autoComplete='off'\n                    >\n                        <SearchIcon\n                            className='search__icon'\n                            aria-hidden='true'\n                        />\n                        <SuggestionBox\n                            ref={this.getSearch}\n                            id='searchBox'\n                            tabIndex='0'\n                            className='search-bar a11y__region'\n                            data-a11y-sort-order='8'\n                            aria-describedby='searchbar-help-popup'\n                            aria-label={Utils.localizeMessage('search_bar.search', 'Search')}\n                            placeholder={Utils.localizeMessage('search_bar.search', 'Search')}\n                            value={this.props.searchTerms}\n                            onFocus={this.handleUserFocus}\n                            onBlur={this.handleUserBlur}\n                            onChange={this.handleChange}\n                            onKeyDown={this.handleKeyDown}\n                            listComponent={SearchSuggestionList}\n                            dateComponent={SuggestionDate}\n                            providers={this.suggestionProviders}\n                            type='search'\n                            autoFocus={this.props.isFocus && this.props.searchTerms === ''}\n                            delayInputUpdate={true}\n                            renderDividers={true}\n                        />\n                        {showClear &&\n                            <div\n                                id='searchClearButton'\n                                className='sidebar__search-clear visible'\n                                onClick={this.handleClear}\n                            >\n                                <OverlayTrigger\n                                    delayShow={Constants.OVERLAY_TIME_DELAY}\n                                    placement='bottom'\n                                    overlay={searchClearTooltip}\n                                >\n                                    <span\n                                        className='sidebar__search-clear-x'\n                                        aria-hidden='true'\n                                    >\n                                        {''}\n                                    </span>\n                                </OverlayTrigger>\n                            </div>}\n                        {this.props.isSearchingTerm && <LoadingSpinner/>}\n                        {this.renderHintPopover()}\n                    </form>\n                </div>\n                {mentionBtn}\n                {flagBtn}\n            </div>\n        );\n    }\n}\n\nconst style = {\n    searchForm: {overflow: 'visible'},\n};\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React, {PureComponent} from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nimport FormattedMarkdownMessage from 'components/formatted_markdown_message.jsx';\n\ntype Props = {\n    withTitle?: boolean;\n}\n\nexport default class SearchHint extends PureComponent<Props> {\n    public render() {\n        return (\n            <React.Fragment>\n                {this.props.withTitle &&\n                <h4>\n                    <FormattedMessage\n                        id='search_bar.usage.title'\n                        defaultMessage='Search Options'\n                    />\n                </h4>\n                }\n                <FormattedMarkdownMessage\n                    id='search_bar.usage.tips'\n                    defaultMessage='* Use **\"quotation marks\"** to search for phrases\\n* Use **from:** to find posts from specific users\\n * Use **in:** to find posts in specific channels\\n* Use **on:** to find posts on a specific date\\n* Use **before:** to find posts before a specific date\\n* Use **after:** to find posts after a specific date\\n* Use **dash** \"-\" to exclude search terms and modifiers'\n                />\n            </React.Fragment>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport $ from 'jquery';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport {FormattedMessage} from 'react-intl';\n\nimport LoadingScreen from 'components/loading_screen';\nimport LoadingWrapper from 'components/widgets/loading/loading_wrapper';\nimport QuickInput from 'components/quick_input';\nimport * as UserAgent from 'utils/user_agent';\nimport {localizeMessage} from 'utils/utils.jsx';\nimport LocalizedInput from 'components/localized_input/localized_input';\n\nimport ArchiveIcon from 'components/widgets/icons/archive_icon';\n\nimport {t} from 'utils/i18n';\n\nimport MenuWrapper from './widgets/menu/menu_wrapper';\nimport Menu from './widgets/menu/menu';\n\nconst NEXT_BUTTON_TIMEOUT_MILLISECONDS = 500;\n\nexport default class SearchableChannelList extends React.Component {\n    static getDerivedStateFromProps(props, state) {\n        return {isSearch: props.isSearch, page: props.isSearch && !state.isSearch ? 0 : state.page};\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.nextTimeoutId = 0;\n\n        this.state = {\n            joiningChannel: '',\n            page: 0,\n            nextDisabled: false,\n        };\n    }\n\n    componentDidMount() {\n        // only focus the search box on desktop so that we don't cause the keyboard to open on mobile\n        if (!UserAgent.isMobile() && this.refs.filter) {\n            this.refs.filter.focus();\n        }\n    }\n\n    handleJoin(channel) {\n        this.setState({joiningChannel: channel.id});\n        this.props.handleJoin(\n            channel,\n            () => {\n                this.setState({joiningChannel: ''});\n            }\n        );\n    }\n\n    createChannelRow = (channel) => {\n        const ariaLabel = `${channel.display_name}, ${channel.purpose}`.toLowerCase();\n        let archiveIcon;\n        const {shouldShowArchivedChannels} = this.props;\n\n        if (shouldShowArchivedChannels) {\n            archiveIcon = (\n                <div className='more-modal__icon-container'>\n                    <ArchiveIcon className='icon icon__archive'/>\n                </div>\n            );\n        }\n\n        return (\n            <div\n                className='more-modal__row'\n                key={channel.id}\n                id={`ChannelRow-${channel.name}`}\n            >\n                <div className='more-modal__details'>\n                    <button\n                        onClick={this.handleJoin.bind(this, channel)}\n                        aria-label={ariaLabel}\n                        className='style--none more-modal__name'\n                    >\n                        {archiveIcon}\n                        {channel.display_name}\n                    </button>\n                    <p className='more-modal__description'>{channel.purpose}</p>\n                </div>\n                <div className='more-modal__actions'>\n                    <button\n                        onClick={this.handleJoin.bind(this, channel)}\n                        className='btn btn-primary'\n                        disabled={this.state.joiningChannel}\n                    >\n                        <LoadingWrapper\n                            loading={this.state.joiningChannel === channel.id}\n                            text={localizeMessage('more_channels.joining', 'Joining...')}\n                        >\n                            <FormattedMessage\n                                id={shouldShowArchivedChannels ? 'more_channels.view' : 'more_channels.join'}\n                                defaultMessage={shouldShowArchivedChannels ? 'View' : 'Join'}\n                            />\n                        </LoadingWrapper>\n                    </button>\n                </div>\n            </div>\n        );\n    }\n\n    nextPage = (e) => {\n        e.preventDefault();\n        this.setState({page: this.state.page + 1, nextDisabled: true});\n        this.nextTimeoutId = setTimeout(() => this.setState({nextDisabled: false}), NEXT_BUTTON_TIMEOUT_MILLISECONDS);\n        this.props.nextPage(this.state.page + 1);\n        $(ReactDOM.findDOMNode(this.refs.channelListScroll)).scrollTop(0);\n    }\n\n    previousPage = (e) => {\n        e.preventDefault();\n        this.setState({page: this.state.page - 1});\n        $(ReactDOM.findDOMNode(this.refs.channelListScroll)).scrollTop(0);\n    }\n\n    doSearch = () => {\n        const term = this.refs.filter.value;\n        this.props.search(term);\n        if (term === '') {\n            this.setState({page: 0});\n        }\n    }\n    toggleArchivedChannelsOn = () => {\n        this.props.toggleArchivedChannels(true);\n    }\n    toggleArchivedChannelsOff = () => {\n        this.props.toggleArchivedChannels(false);\n    }\n\n    render() {\n        const channels = this.props.channels;\n        let listContent;\n        let nextButton;\n        let previousButton;\n\n        if (this.props.loading && channels.length === 0) {\n            listContent = <LoadingScreen style={{marginTop: '50%'}}/>;\n        } else if (channels.length === 0) {\n            listContent = (\n                <div className='no-channel-message'>\n                    <p className='primary-message'>\n                        <FormattedMessage\n                            id='more_channels.noMore'\n                            defaultMessage='No more channels to join'\n                        />\n                    </p>\n                    {this.props.noResultsText}\n                </div>\n            );\n        } else {\n            const pageStart = this.state.page * this.props.channelsPerPage;\n            const pageEnd = pageStart + this.props.channelsPerPage;\n            const channelsToDisplay = this.props.channels.slice(pageStart, pageEnd);\n            listContent = channelsToDisplay.map(this.createChannelRow);\n\n            if (channelsToDisplay.length >= this.props.channelsPerPage && pageEnd < this.props.channels.length) {\n                nextButton = (\n                    <button\n                        className='btn btn-link filter-control filter-control__next'\n                        onClick={this.nextPage}\n                        disabled={this.state.nextDisabled}\n                    >\n                        <FormattedMessage\n                            id='more_channels.next'\n                            defaultMessage='Next'\n                        />\n                    </button>\n                );\n            }\n\n            if (this.state.page > 0) {\n                previousButton = (\n                    <button\n                        className='btn btn-link filter-control filter-control__prev'\n                        onClick={this.previousPage}\n                    >\n                        <FormattedMessage\n                            id='more_channels.prev'\n                            defaultMessage='Previous'\n                        />\n                    </button>\n                );\n            }\n        }\n\n        let input = (\n            <div className='filter-row filter-row--full'>\n                <div className='col-sm-12'>\n                    <QuickInput\n                        id='searchChannelsTextbox'\n                        ref='filter'\n                        className='form-control filter-textbox'\n                        placeholder={{id: t('filtered_channels_list.search'), defaultMessage: 'Search channels'}}\n                        inputComponent={LocalizedInput}\n                        onInput={this.doSearch}\n                    />\n                </div>\n            </div>\n        );\n\n        if (this.props.createChannelButton) {\n            input = (\n                <div className='channel_search'>\n                    <div className='search_input'>\n                        <QuickInput\n                            id='searchChannelsTextbox'\n                            ref='filter'\n                            className='form-control filter-textbox'\n                            placeholder={{id: t('filtered_channels_list.search'), defaultMessage: 'Search channels'}}\n                            inputComponent={LocalizedInput}\n                            onInput={this.doSearch}\n                        />\n                    </div>\n                    <div className='create_button'>\n                        {this.props.createChannelButton}\n                    </div>\n                </div>\n            );\n        }\n\n        let channelDropdown;\n\n        if (this.props.canShowArchivedChannels) {\n            channelDropdown = (\n                <div className='more-modal__dropdown'>\n                    <MenuWrapper id='channelsMoreDropdown'>\n                        <a>\n                            <span>{this.props.shouldShowArchivedChannels ? localizeMessage('more_channels.show_archived_channels', 'Show: Archived Channels') : localizeMessage('more_channels.show_public_channels', 'Show: Public Channels')}</span>\n                            <span className='caret'/>\n                        </a>\n                        <Menu\n                            openLeft={false}\n                            ariaLabel={localizeMessage('team_members_dropdown.menuAriaLabel', 'Team member role change')}\n                        >\n                            <Menu.ItemAction\n                                id='channelsMoreDropdownPublic'\n                                onClick={this.toggleArchivedChannelsOff}\n                                text={localizeMessage('suggestion.search.public', 'Public Channels')}\n                            />\n                            <Menu.ItemAction\n                                id='channelsMoreDropdownArchived'\n                                onClick={this.toggleArchivedChannelsOn}\n                                text={localizeMessage('suggestion.archive', 'Archived Channels')}\n                            />\n                        </Menu>\n                    </MenuWrapper>\n                </div>\n            );\n        }\n\n        return (\n            <div className='filtered-user-list'>\n                {input}\n                {channelDropdown}\n                <div\n                    role='application'\n                    ref='channelList'\n                    className='more-modal__list'\n                >\n                    <div\n                        id='moreChannelsList'\n                        ref='channelListScroll'\n                    >\n                        {listContent}\n                    </div>\n                </div>\n                <div className='filter-controls'>\n                    {previousButton}\n                    {nextButton}\n                </div>\n            </div>\n        );\n    }\n}\n\nSearchableChannelList.defaultProps = {\n    channels: [],\n    isSearch: false,\n};\n\nSearchableChannelList.propTypes = {\n    channels: PropTypes.arrayOf(PropTypes.object),\n    channelsPerPage: PropTypes.number,\n    nextPage: PropTypes.func.isRequired,\n    isSearch: PropTypes.bool,\n    search: PropTypes.func.isRequired,\n    handleJoin: PropTypes.func.isRequired,\n    noResultsText: PropTypes.object,\n    loading: PropTypes.bool,\n    createChannelButton: PropTypes.element,\n    toggleArchivedChannels: PropTypes.func.isRequired,\n    shouldShowArchivedChannels: PropTypes.bool.isRequired,\n    canShowArchivedChannels: PropTypes.bool.isRequired,\n};\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport $ from 'jquery';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport {FormattedMessage} from 'react-intl';\n\nimport QuickInput from 'components/quick_input';\nimport UserList from 'components/user_list.jsx';\nimport LocalizedInput from 'components/localized_input/localized_input';\n\nimport {t} from 'utils/i18n';\n\nconst NEXT_BUTTON_TIMEOUT = 500;\n\nexport default class SearchableUserList extends React.Component {\n    static propTypes = {\n        users: PropTypes.arrayOf(PropTypes.object),\n        usersPerPage: PropTypes.number,\n        total: PropTypes.number,\n        extraInfo: PropTypes.object,\n        nextPage: PropTypes.func.isRequired,\n        previousPage: PropTypes.func.isRequired,\n        search: PropTypes.func.isRequired,\n        actions: PropTypes.arrayOf(PropTypes.func),\n        actionProps: PropTypes.object,\n        actionUserProps: PropTypes.object,\n        focusOnMount: PropTypes.bool,\n        renderCount: PropTypes.func,\n        filter: PropTypes.string,\n        renderFilterRow: PropTypes.func,\n\n        page: PropTypes.number.isRequired,\n        term: PropTypes.string.isRequired,\n        onTermChange: PropTypes.func.isRequired,\n\n        // the type of user list row to render\n        rowComponentType: PropTypes.func,\n    };\n\n    static defaultProps = {\n        users: [],\n        usersPerPage: 50, // eslint-disable-line no-magic-numbers\n        extraInfo: {},\n        actions: [],\n        actionProps: {},\n        actionUserProps: {},\n        showTeamToggle: false,\n        focusOnMount: false,\n    };\n\n    constructor(props) {\n        super(props);\n\n        this.nextTimeoutId = 0;\n\n        this.state = {\n            nextDisabled: false,\n        };\n    }\n\n    componentDidMount() {\n        this.focusSearchBar();\n    }\n\n    componentDidUpdate(prevProps) {\n        if (this.props.page !== prevProps.page || this.props.term !== prevProps.term) {\n            this.refs.userList.scrollToTop();\n        }\n    }\n\n    componentWillUnmount() {\n        clearTimeout(this.nextTimeoutId);\n    }\n\n    nextPage = (e) => {\n        e.preventDefault();\n\n        this.setState({nextDisabled: true});\n        this.nextTimeoutId = setTimeout(() => this.setState({nextDisabled: false}), NEXT_BUTTON_TIMEOUT);\n\n        this.props.nextPage();\n        $(ReactDOM.findDOMNode(this.refs.channelListScroll)).scrollTop(0);\n    }\n\n    previousPage = (e) => {\n        e.preventDefault();\n\n        this.props.previousPage();\n        $(ReactDOM.findDOMNode(this.refs.channelListScroll)).scrollTop(0);\n    }\n\n    focusSearchBar = () => {\n        if (this.props.focusOnMount) {\n            this.refs.filter.focus();\n        }\n    }\n\n    handleInput = (e) => {\n        this.props.onTermChange(e.target.value);\n        this.props.search(e.target.value);\n    }\n\n    renderCount = (users) => {\n        if (!users) {\n            return null;\n        }\n\n        if (this.props.filter) {\n            return null;\n        }\n\n        const count = users.length;\n        const total = this.props.total;\n        const isSearch = Boolean(this.props.term);\n\n        let startCount;\n        let endCount;\n        if (isSearch) {\n            startCount = -1;\n            endCount = -1;\n        } else {\n            startCount = this.props.page * this.props.usersPerPage;\n            endCount = Math.min(startCount + this.props.usersPerPage, total);\n        }\n\n        if (this.props.renderCount) {\n            return this.props.renderCount(count, this.props.total, startCount, endCount, isSearch);\n        }\n\n        if (this.props.total) {\n            if (isSearch) {\n                return (\n                    <FormattedMessage\n                        id='filtered_user_list.countTotal'\n                        defaultMessage='{count, number} {count, plural, one {member} other {members}} of {total, number} total'\n                        values={{\n                            count,\n                            total,\n                        }}\n                    />\n                );\n            }\n\n            return (\n                <FormattedMessage\n                    id='filtered_user_list.countTotalPage'\n                    defaultMessage='{startCount, number} - {endCount, number} {count, plural, one {member} other {members}} of {total, number} total'\n                    values={{\n                        count,\n                        startCount: startCount + 1,\n                        endCount,\n                        total,\n                    }}\n                />\n            );\n        }\n\n        return null;\n    }\n\n    render() {\n        let nextButton;\n        let previousButton;\n        let usersToDisplay;\n\n        if (this.props.term || !this.props.users) {\n            usersToDisplay = this.props.users;\n        } else if (!this.props.term) {\n            const pageStart = this.props.page * this.props.usersPerPage;\n            const pageEnd = pageStart + this.props.usersPerPage;\n            usersToDisplay = this.props.users.slice(pageStart, pageEnd);\n\n            if (pageEnd < this.props.users.length) {\n                nextButton = (\n                    <button\n                        id='searchableUserListNextBtn'\n                        className='btn btn-link filter-control filter-control__next'\n                        onClick={this.nextPage}\n                        disabled={this.state.nextDisabled}\n                    >\n                        <FormattedMessage\n                            id='filtered_user_list.next'\n                            defaultMessage='Next'\n                        />\n                    </button>\n                );\n            }\n\n            if (this.props.page > 0) {\n                previousButton = (\n                    <button\n                        id='searchableUserListPrevBtn'\n                        className='btn btn-link filter-control filter-control__prev'\n                        onClick={this.previousPage}\n                    >\n                        <FormattedMessage\n                            id='filtered_user_list.prev'\n                            defaultMessage='Previous'\n                        />\n                    </button>\n                );\n            }\n        }\n\n        let filterRow;\n        if (this.props.renderFilterRow) {\n            filterRow = this.props.renderFilterRow(this.handleInput);\n        } else {\n            filterRow = (\n                <div className='col-xs-12'>\n                    <label\n                        className='hidden-label'\n                        htmlFor='searchUsersInput'\n                    >\n                        <FormattedMessage\n                            id='filtered_user_list.search'\n                            defaultMessage='Search users'\n                        />\n                    </label>\n                    <QuickInput\n                        id='searchUsersInput'\n                        ref='filter'\n                        className='form-control filter-textbox'\n                        placeholder={{id: t('filtered_user_list.search'), defaultMessage: 'Search users'}}\n                        inputComponent={LocalizedInput}\n                        value={this.props.term}\n                        onInput={this.handleInput}\n                    />\n                </div>\n            );\n        }\n\n        return (\n            <div className='filtered-user-list'>\n                <div className='filter-row'>\n                    {filterRow}\n                    <div className='col-sm-12'>\n                        <span\n                            id='searchableUserListTotal'\n                            className='member-count pull-left'\n                            aria-live='polite'\n                        >\n                            {this.renderCount(usersToDisplay)}\n                        </span>\n                    </div>\n                </div>\n                <div className='more-modal__list'>\n                    <UserList\n                        ref='userList'\n                        users={usersToDisplay}\n                        extraInfo={this.props.extraInfo}\n                        actions={this.props.actions}\n                        actionProps={this.props.actionProps}\n                        actionUserProps={this.props.actionUserProps}\n                        rowComponentType={this.props.rowComponentType}\n                    />\n                </div>\n                <div className='filter-controls'>\n                    {previousButton}\n                    {nextButton}\n                </div>\n            </div>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport SearchableUserList from './searchable_user_list.jsx';\n\nexport default class SearchableUserListContainer extends React.Component {\n    static propTypes = {\n        users: PropTypes.arrayOf(PropTypes.object),\n        usersPerPage: PropTypes.number,\n        total: PropTypes.number,\n        extraInfo: PropTypes.object,\n        nextPage: PropTypes.func.isRequired,\n        search: PropTypes.func.isRequired,\n        actions: PropTypes.arrayOf(PropTypes.func),\n        actionProps: PropTypes.object,\n        actionUserProps: PropTypes.object,\n        focusOnMount: PropTypes.bool,\n    };\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            term: '',\n            page: 0,\n        };\n    }\n\n    handleTermChange = (term) => {\n        this.setState({term});\n    }\n\n    nextPage = () => {\n        this.setState({page: this.state.page + 1});\n\n        this.props.nextPage(this.state.page + 1);\n    }\n\n    previousPage = () => {\n        this.setState({page: this.state.page - 1});\n    }\n\n    search = (term) => {\n        this.props.search(term);\n\n        if (term !== '') {\n            this.setState({page: 0});\n        }\n    }\n\n    render() {\n        return (\n            <SearchableUserList\n                {...this.props}\n                nextPage={this.nextPage}\n                previousPage={this.previousPage}\n                search={this.search}\n                page={this.state.page}\n                term={this.state.term}\n                onTermChange={this.handleTermChange}\n            />\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nimport SaveButton from 'components/save_button';\nimport Constants from 'utils/constants';\nimport {isKeyPressed} from 'utils/utils.jsx';\n\nexport default class SettingItemMax extends React.PureComponent {\n    static defaultProps = {\n        infoPosition: 'bottom',\n        saving: false,\n        section: '',\n        containerStyle: '',\n    };\n\n    static propTypes = {\n\n        /**\n         * Array of inputs selection\n         */\n        inputs: PropTypes.node,\n\n        /**\n         * Styles for main component\n         */\n        containerStyle: PropTypes.string,\n\n        /**\n         * Client error\n         */\n        clientError: PropTypes.oneOfType([\n            PropTypes.string,\n            PropTypes.object,\n        ]),\n\n        /**\n         * Server error\n         */\n        serverError: PropTypes.string,\n\n        /**\n         * Settings extra information\n         */\n        extraInfo: PropTypes.element,\n\n        /**\n         * Info position\n         */\n        infoPosition: PropTypes.string,\n\n        /**\n         * Settings or tab section\n         */\n        section: PropTypes.string,\n\n        /**\n         * Function to update section\n         */\n        updateSection: PropTypes.func,\n\n        /**\n         * setting to submit\n         */\n        setting: PropTypes.string,\n\n        /**\n         * Function to submit setting\n         */\n        submit: PropTypes.func,\n\n        /**\n         * Extra information on submit\n         */\n        submitExtra: PropTypes.node,\n\n        /**\n         * Indicates whether setting is on saving\n         */\n        saving: PropTypes.bool,\n\n        /**\n         * Settings title\n         */\n        title: PropTypes.node,\n\n        /**\n         * Settings width\n         */\n        width: PropTypes.string,\n\n        /**\n         * Text of cancel button\n         */\n        cancelButtonText: PropTypes.node,\n\n        /**\n         * Avoid submitting when using SHIFT + ENTER\n         */\n        shiftEnter: PropTypes.bool,\n\n        /**\n         * Text of save button\n         */\n        saveButtonText: PropTypes.string,\n    }\n\n    constructor(props) {\n        super(props);\n        this.settingList = React.createRef();\n    }\n\n    componentDidMount() {\n        if (this.settingList.current) {\n            const focusableElements = this.settingList.current.querySelectorAll('.btn:not(.save-button):not(.btn-cancel), input.form-control, select, textarea, [tabindex]:not([tabindex=\"-1\"])');\n            if (focusableElements.length > 0) {\n                focusableElements[0].focus();\n            } else {\n                this.settingList.current.focus();\n            }\n        }\n\n        document.addEventListener('keydown', this.onKeyDown);\n    }\n\n    componentWillUnmount() {\n        document.removeEventListener('keydown', this.onKeyDown);\n    }\n\n    onKeyDown = (e) => {\n        if (this.props.shiftEnter && e.keyCode === Constants.KeyCodes.ENTER && e.shiftKey) {\n            return;\n        }\n        if (isKeyPressed(e, Constants.KeyCodes.ENTER) && this.props.submit && e.target.tagName !== 'SELECT' && e.target.parentElement && e.target.parentElement.className !== 'react-select__input' && !e.target.classList.contains('btn-cancel') && this.settingList.current && this.settingList.current.contains(e.target)) {\n            this.handleSubmit(e);\n        }\n    }\n\n    handleSubmit = (e) => {\n        e.preventDefault();\n\n        if (this.props.setting) {\n            this.props.submit(this.props.setting);\n        } else {\n            this.props.submit();\n        }\n    }\n\n    handleUpdateSection = (e) => {\n        this.props.updateSection(this.props.section);\n        e.preventDefault();\n    }\n\n    render() {\n        let clientError = null;\n        if (this.props.clientError) {\n            clientError = (\n                <div className='form-group'>\n                    <label\n                        id='clientError'\n                        className='col-sm-12 has-error'\n                    >\n                        {this.props.clientError}\n                    </label>\n                </div>\n            );\n        }\n\n        let serverError = null;\n        if (this.props.serverError) {\n            serverError = (\n                <div className='form-group'>\n                    <label\n                        id='serverError'\n                        className='col-sm-12 has-error'\n                    >\n                        {this.props.serverError}\n                    </label>\n                </div>\n            );\n        }\n\n        let extraInfo = null;\n        let hintClass = 'setting-list__hint';\n        if (this.props.infoPosition === 'top') {\n            hintClass = 'padding-bottom x2';\n        }\n\n        if (this.props.extraInfo) {\n            extraInfo = (\n                <div\n                    id='extraInfo'\n                    className={hintClass}\n                >\n                    {this.props.extraInfo}\n                </div>\n            );\n        }\n\n        let submit = '';\n        if (this.props.submit) {\n            submit = (\n                <SaveButton\n                    defaultMessage={this.props.saveButtonText}\n                    saving={this.props.saving}\n                    disabled={this.props.saving}\n                    onClick={this.handleSubmit}\n                />\n            );\n        }\n\n        const inputs = this.props.inputs;\n        let widthClass;\n        if (this.props.width === 'full') {\n            widthClass = 'col-sm-12';\n        } else if (this.props.width === 'medium') {\n            widthClass = 'col-sm-10 col-sm-offset-2';\n        } else {\n            widthClass = 'col-sm-9 col-sm-offset-3';\n        }\n\n        let title;\n        if (this.props.title) {\n            title = (\n                <li\n                    id='settingTitle'\n                    className='col-sm-12 section-title'\n                >\n                    {this.props.title}\n                </li>\n            );\n        }\n\n        let listContent = (\n            <li\n                className='setting-list-item'\n                role='presentation'\n            >\n                {inputs}\n                {extraInfo}\n            </li>\n        );\n\n        if (this.props.infoPosition === 'top') {\n            listContent = (\n                <li role='presentation'>\n                    {extraInfo}\n                    {inputs}\n                </li>\n            );\n        }\n\n        let cancelButtonText;\n        if (this.props.cancelButtonText) {\n            cancelButtonText = this.props.cancelButtonText;\n        } else {\n            cancelButtonText = (\n                <FormattedMessage\n                    id='setting_item_max.cancel'\n                    defaultMessage='Cancel'\n                />\n            );\n        }\n\n        return (\n            <ul\n                className={`section-max form-horizontal ${this.props.containerStyle}`}\n            >\n                {title}\n                <li className={widthClass}>\n                    <ul\n                        tabIndex='-1'\n                        ref={this.settingList}\n                        role='presentation'\n                        className='setting-list'\n                    >\n                        {listContent}\n                        <li className='setting-list-item'>\n                            <hr/>\n                            {this.props.submitExtra}\n                            {serverError}\n                            {clientError}\n                            {submit}\n                            <button\n                                id={'cancelSetting'}\n                                className='btn btn-sm btn-cancel cursor--pointer style--none'\n                                onClick={this.handleUpdateSection}\n                            >\n                                {cancelButtonText}\n                            </button>\n                        </li>\n                    </ul>\n                </li>\n            </ul>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\n\nimport {getPreviousActiveSection} from 'selectors/views/settings';\nimport {updateActiveSection} from 'actions/views/settings';\n\nimport SettingItemMin from './setting_item_min.jsx';\n\nfunction mapStateToProps(state) {\n    return {\n        previousActiveSection: getPreviousActiveSection(state),\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            updateActiveSection,\n        }, dispatch),\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SettingItemMin);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nimport {isMobile} from 'utils/utils.jsx';\nimport EditIcon from 'components/widgets/icons/fa_edit_icon';\n\nexport default class SettingItemMin extends React.PureComponent {\n    static defaultProps = {\n        section: '',\n    };\n\n    static propTypes = {\n\n        /**\n         * Settings title\n         */\n        title: PropTypes.node,\n\n        /**\n         * Option to disable opening the setting\n         */\n        disableOpen: PropTypes.bool,\n\n        /**\n         * Settings or tab section\n         */\n        section: PropTypes.string,\n\n        /**\n         * Function to update section\n         */\n        updateSection: PropTypes.func,\n\n        /**\n         * Settings description\n         */\n        describe: PropTypes.node,\n\n        /**\n         * Shows the previous active section for focusing\n         */\n        previousActiveSection: PropTypes.string,\n\n        /**\n         * Actions\n         */\n        actions: PropTypes.shape({\n\n            /**\n             * Update the active section for focusing\n             */\n            updateActiveSection: PropTypes.func.isRequired,\n        }).isRequired,\n    };\n\n    componentDidMount() {\n        if (this.props.previousActiveSection === this.props.section) {\n            this.edit.focus();\n        }\n    }\n\n    getEdit = (node) => {\n        this.edit = node;\n    }\n\n    handleUpdateSection = (e) => {\n        e.preventDefault();\n        this.props.actions.updateActiveSection(this.props.section);\n        this.props.updateSection(this.props.section);\n    }\n\n    render() {\n        let editButton = null;\n        let describeSection = null;\n\n        if (!this.props.disableOpen && isMobile()) {\n            editButton = (\n                <div className='section-min__edit'>\n                    <button\n                        id={this.props.section + 'Edit'}\n                        className='color--link cursor--pointer style--none'\n                        onClick={this.handleUpdateSection}\n                        ref={this.getEdit}\n                        aria-labelledby={this.props.section + 'Title ' + this.props.section + 'Edit'}\n                    >\n                        <EditIcon/>\n                        {this.props.describe}\n                    </button>\n                </div>\n            );\n        } else if (!this.props.disableOpen) {\n            editButton = (\n                <div className='section-min__edit'>\n                    <button\n                        id={this.props.section + 'Edit'}\n                        className='color--link cursor--pointer style--none text-left'\n                        onClick={this.handleUpdateSection}\n                        ref={this.getEdit}\n                        aria-labelledby={this.props.section + 'Title ' + this.props.section + 'Edit'}\n                    >\n                        <EditIcon/>\n                        <FormattedMessage\n                            id='setting_item_min.edit'\n                            defaultMessage='Edit'\n                        />\n                    </button>\n                </div>\n            );\n\n            describeSection = (\n                <div\n                    id={this.props.section + 'Desc'}\n                    className='section-min__describe'\n                >\n                    {this.props.describe}\n                </div>\n            );\n        }\n\n        return (\n            <div\n                className='section-min'\n                onClick={this.handleUpdateSection}\n            >\n                <div className='d-flex'>\n                    <div\n                        id={this.props.section + 'Title'}\n                        className='section-min__title'\n                    >\n                        {this.props.title}\n                    </div>\n                    {editButton}\n                </div>\n                {describeSection}\n            </div>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React, {Component} from 'react';\nimport {FormattedMessage} from 'react-intl';\nimport {OverlayTrigger, Tooltip} from 'react-bootstrap';\n\nimport {Constants} from 'utils/constants';\nimport {fileSizeToString, localizeMessage} from 'utils/utils.jsx';\nimport * as FileUtils from 'utils/file_utils.jsx';\n\nimport LoadingWrapper from 'components/widgets/loading/loading_wrapper';\nimport FormError from 'components/form_error';\n\nimport FormattedMarkdownMessage from 'components/formatted_markdown_message.jsx';\n\nexport default class SettingPicture extends Component {\n    static defaultProps = {\n        imageContext: 'profile',\n    };\n\n    static propTypes = {\n        clientError: PropTypes.string,\n        serverError: PropTypes.string,\n        src: PropTypes.string,\n        defaultImageSrc: PropTypes.string,\n        file: PropTypes.object,\n        loadingPicture: PropTypes.bool,\n        submitActive: PropTypes.bool,\n        onRemove: PropTypes.func,\n        onSetDefault: PropTypes.func,\n        onSubmit: PropTypes.func,\n        title: PropTypes.string,\n        onFileChange: PropTypes.func,\n        updateSection: PropTypes.func,\n        imageContext: PropTypes.string,\n        maxFileSize: PropTypes.number,\n    };\n\n    constructor(props) {\n        super(props);\n\n        this.settingList = React.createRef();\n        this.selectInput = React.createRef();\n        this.confirmButton = React.createRef();\n\n        this.state = {\n            image: null,\n            removeSrc: false,\n            setDefaultSrc: false,\n        };\n    }\n\n    focusFirstElement() {\n        if (this.settingList.current) {\n            this.settingList.current.focus();\n        }\n    }\n\n    componentDidMount() {\n        this.focusFirstElement();\n\n        if (this.selectInput.current) {\n            this.selectInput.current.addEventListener('input', this.handleFileSelected);\n        }\n    }\n\n    componentDidUpdate(prevProps) {\n        if (prevProps.file !== this.props.file) {\n            this.setPicture(this.props.file);\n        }\n    }\n\n    componentWillUnmount() {\n        if (this.previewBlob) {\n            URL.revokeObjectURL(this.previewBlob);\n        }\n\n        if (this.selectInput.current) {\n            this.selectInput.current.removeEventListener('input', this.handleFileSelected);\n        }\n    }\n\n    handleCancel = (e) => {\n        this.setState({removeSrc: false, setDefaultSrc: false});\n        this.props.updateSection(e);\n    }\n\n    handleFileSelected = () => {\n        if (this.confirmButton.current) {\n            this.confirmButton.current.focus();\n        }\n    }\n\n    handleSave = (e) => {\n        e.preventDefault();\n        if (this.state.removeSrc) {\n            this.props.onRemove();\n        } else if (this.state.setDefaultSrc) {\n            this.props.onSetDefault();\n        } else {\n            this.props.onSubmit();\n        }\n    }\n\n    handleRemoveSrc = (e) => {\n        e.preventDefault();\n        this.setState({removeSrc: true});\n        this.focusFirstElement();\n    }\n\n    handleSetDefaultSrc = (e) => {\n        e.preventDefault();\n        this.setState({setDefaultSrc: true});\n        this.focusFirstElement();\n    }\n\n    handleFileChange = (e) => {\n        this.setState({removeSrc: false, setDefaultSrc: false});\n        this.props.onFileChange(e);\n    }\n\n    handleInputFile = () => {\n        this.selectInput.current.value = '';\n        this.selectInput.current.click();\n    }\n\n    setPicture = (file) => {\n        if (file) {\n            this.previewBlob = URL.createObjectURL(file);\n\n            var reader = new FileReader();\n            reader.onload = (e) => {\n                const orientation = FileUtils.getExifOrientation(e.target.result);\n                const orientationStyles = FileUtils.getOrientationStyles(orientation);\n\n                this.setState({\n                    image: this.previewBlob,\n                    orientationStyles,\n                });\n            };\n            reader.readAsArrayBuffer(file);\n        }\n    }\n\n    renderImg = () => {\n        const imageContext = this.props.imageContext;\n\n        if (this.props.file) {\n            const imageStyles = {\n                backgroundImage: 'url(' + this.state.image + ')',\n                ...this.state.orientationStyles,\n            };\n\n            return (\n                <div className={`${imageContext}-img-preview`}>\n                    <div className='img-preview__image'>\n                        <div\n                            alt={`${imageContext} image preview`}\n                            style={imageStyles}\n                            className={`${imageContext}-img-preview`}\n                        />\n                    </div>\n                </div>\n            );\n        }\n\n        if (this.state.setDefaultSrc) {\n            return (\n                <img\n                    className={`${imageContext}-img`}\n                    alt={`${imageContext} image`}\n                    src={this.props.defaultImageSrc}\n                />\n            );\n        }\n\n        if (this.props.src && !this.state.removeSrc) {\n            const imageElement = (\n                <img\n                    className={`${imageContext}-img`}\n                    alt={`${imageContext} image`}\n                    src={this.props.src}\n                />\n            );\n            if (!this.props.onRemove && !this.props.onSetDefault) {\n                return imageElement;\n            }\n\n            let title;\n            let handler;\n            if (this.props.onRemove) {\n                title = (\n                    <FormattedMessage\n                        id='setting_picture.remove'\n                        defaultMessage='Remove this icon'\n                    />\n                );\n                handler = this.handleRemoveSrc;\n            } else if (this.props.onSetDefault) {\n                title = (\n                    <FormattedMessage\n                        id='setting_picture.remove_profile_picture'\n                        defaultMessage='Remove profile picture'\n                    />\n                );\n                handler = this.handleSetDefaultSrc;\n            }\n\n            return (\n                <div className={`${imageContext}-img__container`}>\n                    <div\n                        className='img-preview__image'\n                        aria-hidden={true}\n                    >\n                        {imageElement}\n                    </div>\n                    <OverlayTrigger\n                        delayShow={Constants.OVERLAY_TIME_DELAY}\n                        placement='right'\n                        overlay={(\n                            <Tooltip id='removeIcon'>\n                                <div aria-hidden={true}>\n                                    {title}\n                                </div>\n                            </Tooltip>\n                        )}\n                    >\n                        <button\n                            className={`${imageContext}-img__remove`}\n                            onClick={handler}\n                        >\n                            <span aria-hidden={true}>{''}</span>\n                            <span className='sr-only'>{title}</span>\n                        </button>\n                    </OverlayTrigger>\n                </div>\n            );\n        }\n        return null;\n    }\n\n    render() {\n        const imageContext = this.props.imageContext;\n\n        const img = this.renderImg();\n\n        let confirmButtonClass = 'btn btn-sm';\n        let disableSaveButtonFocus = false;\n        if (this.props.submitActive || this.state.removeSrc || this.state.setDefaultSrc) {\n            confirmButtonClass += ' btn-primary';\n        } else {\n            confirmButtonClass += ' btn-inactive disabled';\n            disableSaveButtonFocus = true;\n        }\n\n        let helpText;\n        if (imageContext === 'team') {\n            helpText = (\n                <FormattedMarkdownMessage\n                    id={'setting_picture.help.team'}\n                    defaultMessage='Upload a team icon in BMP, JPG or PNG format.\\nSquare images with a solid background color are recommended.'\n                />\n            );\n        } else {\n            helpText = (\n                <FormattedMessage\n                    id={'setting_picture.help.profile'}\n                    defaultMessage='Upload a picture in BMP, JPG or PNG format. Maximum file size: {max}'\n                    values={{max: fileSizeToString(this.props.maxFileSize)}}\n                />\n            );\n        }\n\n        let imgRender;\n        if (img) {\n            imgRender = (\n                <li\n                    className='setting-list-item'\n                    role='presentation'\n                >\n                    {img}\n                </li>\n            );\n        }\n\n        return (\n            <ul className='section-max form-horizontal'>\n                <li className='col-xs-12 section-title'>{this.props.title}</li>\n                <li className='col-xs-offset-3 col-xs-8'>\n                    <ul\n                        className='setting-list'\n                        ref={this.settingList}\n                        tabIndex='-1'\n                        aria-label={this.props.title}\n                        aria-describedby='setting-picture__helptext'\n                    >\n                        {imgRender}\n                        <li\n                            id='setting-picture__helptext'\n                            className='setting-list-item padding-top x2'\n                            role='presentation'\n                        >\n                            {helpText}\n                        </li>\n                        <li\n                            className='setting-list-item'\n                            role='presentation'\n                        >\n                            <hr/>\n                            <FormError\n                                errors={[this.props.clientError, this.props.serverError]}\n                                type={'modal'}\n                            />\n                            <input\n                                ref={this.selectInput}\n                                className='hidden'\n                                accept='.jpg,.png,.bmp'\n                                type='file'\n                                onChange={this.handleFileChange}\n                                disabled={this.props.loadingPicture}\n                                aria-hidden={true}\n                                tabIndex='-1'\n                            />\n                            <button\n                                className='btn btn-sm btn-primary btn-file sel-btn'\n                                disabled={this.props.loadingPicture}\n                                onClick={this.handleInputFile}\n                                aria-label={localizeMessage('setting_picture.select', 'Select')}\n                            >\n                                <FormattedMessage\n                                    id='setting_picture.select'\n                                    defaultMessage='Select'\n                                />\n                            </button>\n                            <button\n                                tabIndex={disableSaveButtonFocus ? '-1' : '0'}\n                                ref={this.confirmButton}\n                                className={confirmButtonClass}\n                                onClick={this.props.loadingPicture ? () => true : this.handleSave}\n                                aria-label={this.props.loadingPicture ? localizeMessage('setting_picture.uploading', 'Uploading...') : localizeMessage('setting_picture.save', 'Save')}\n                            >\n                                <LoadingWrapper\n                                    loading={this.props.loadingPicture}\n                                    text={localizeMessage('setting_picture.uploading', 'Uploading...')}\n                                >\n                                    <FormattedMessage\n                                        id='setting_picture.save'\n                                        defaultMessage='Save'\n                                    />\n                                </LoadingWrapper>\n                            </button>\n                            <button\n                                className='btn btn-link btn-sm theme'\n                                href='#'\n                                onClick={this.handleCancel}\n                                aria-label={localizeMessage('setting_picture.cancel', 'Cancel')}\n                            >\n                                <FormattedMessage\n                                    id='setting_picture.cancel'\n                                    defaultMessage='Cancel'\n                                />\n                            </button>\n                        </li>\n                    </ul>\n                </li>\n            </ul>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport $ from 'jquery';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport {FormattedMessage} from 'react-intl';\n\nexport default class SettingsUpload extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.uploadinput = React.createRef();\n\n        this.state = {\n            clientError: '',\n            serverError: '',\n            filename: '',\n        };\n    }\n\n    doFileSelect = (e) => {\n        e.preventDefault();\n        var filename = $(e.target).val();\n        if (filename.substring(3, 11) === 'fakepath') {\n            filename = filename.substring(12);\n        }\n        this.setState({\n            clientError: '',\n            serverError: '',\n            filename,\n        });\n    }\n\n    openFileSelect = () => {\n        this.uploadinput.current.value = '';\n        this.uploadinput.current.click();\n    }\n\n    doSubmit = (e) => {\n        e.preventDefault();\n        var inputnode = ReactDOM.findDOMNode(this.uploadinput.current);\n        if (inputnode.files && inputnode.files[0]) {\n            this.props.submit(inputnode.files[0]);\n        } else {\n            this.setState({clientError: true});\n        }\n    }\n\n    render() {\n        let clientError = null;\n        if (this.state.clientError) {\n            clientError = (\n                <div className='file-status'>\n                    <FormattedMessage\n                        id='setting_upload.noFile'\n                        defaultMessage='No file selected.'\n                    />\n                </div>\n            );\n        }\n        let serverError = null;\n        if (this.state.serverError) {\n            serverError = (\n                <div className='file-status'>{this.state.serverError}</div>\n            );\n        }\n        let fileNameText = null;\n        let submitButtonClass = 'btn btn-sm btn-primary disabled';\n        if (this.state.filename) {\n            fileNameText = (\n                <div className='file-status file-name'>{this.state.filename}</div>\n            );\n            submitButtonClass = 'btn btn-sm btn-primary';\n        }\n\n        return (\n            <ul className='section-max'>\n                <li className='col-sm-12 section-title'>{this.props.title}</li>\n                <li className='col-sm-offset-3 col-sm-9'>{this.props.helpText}</li>\n                <li className='col-sm-offset-3 col-sm-9'>\n                    <ul className='setting-list'>\n                        <li className='setting-list-item'>\n                            <input\n                                ref={this.uploadinput}\n                                accept={this.props.fileTypesAccepted}\n                                type='file'\n                                onChange={this.doFileSelect}\n                                tabIndex='-1'\n                                aria-hidden={true}\n                            />\n                            <button\n                                onClick={this.openFileSelect}\n                                className='btn btn-sm btn-primary btn-file sel-btn'\n                            >\n                                <FormattedMessage\n                                    id='setting_upload.select'\n                                    defaultMessage='Select file'\n                                />\n                            </button>\n                            <a\n                                className={submitButtonClass}\n                                onClick={this.doSubmit}\n                            >\n                                <FormattedMessage\n                                    id='setting_upload.import'\n                                    defaultMessage='Import'\n                                />\n                            </a>\n                            {fileNameText}\n                            {serverError}\n                            {clientError}\n                        </li>\n                    </ul>\n                </li>\n            </ul>\n        );\n    }\n}\n\nSettingsUpload.propTypes = {\n    title: PropTypes.string.isRequired,\n    submit: PropTypes.func.isRequired,\n    fileTypesAccepted: PropTypes.string.isRequired,\n    helpText: PropTypes.object,\n};\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {Modal} from 'react-bootstrap';\nimport {defineMessages, injectIntl, intlShape} from 'react-intl';\n\nimport ModalStore from 'stores/modal_store.jsx';\nimport Constants from 'utils/constants';\nimport {t} from 'utils/i18n';\n\nconst allShortcuts = defineMessages({\n    mainHeader: {\n        default: {\n            id: t('shortcuts.header'),\n            defaultMessage: 'Keyboard Shortcuts\\tCtrl|/',\n        },\n        mac: {\n            id: t('shortcuts.header.mac'),\n            defaultMessage: 'Keyboard Shortcuts\\t|/',\n        },\n    },\n    navHeader: {\n        id: t('shortcuts.nav.header'),\n        defaultMessage: 'Navigation',\n    },\n    navPrev: {\n        default: {\n            id: t('shortcuts.nav.prev'),\n            defaultMessage: 'Previous channel:\\tAlt|Up',\n        },\n        mac: {\n            id: t('shortcuts.nav.prev.mac'),\n            defaultMessage: 'Previous channel:\\t|Up',\n        },\n    },\n    navNext: {\n        default: {\n            id: t('shortcuts.nav.next'),\n            defaultMessage: 'Next channel:\\tAlt|Down',\n        },\n        mac: {\n            id: t('shortcuts.nav.next.mac'),\n            defaultMessage: 'Next channel:\\t|Down',\n        },\n    },\n    navUnreadPrev: {\n        default: {\n            id: t('shortcuts.nav.unread_prev'),\n            defaultMessage: 'Previous unread channel:\\tAlt|Shift|Up',\n        },\n        mac: {\n            id: t('shortcuts.nav.unread_prev.mac'),\n            defaultMessage: 'Previous unread channel:\\t|Shift|Up',\n        },\n    },\n    navUnreadNext: {\n        default: {\n            id: t('shortcuts.nav.unread_next'),\n            defaultMessage: 'Next unread channel:\\tAlt|Shift|Down',\n        },\n        mac: {\n            id: t('shortcuts.nav.unread_next.mac'),\n            defaultMessage: 'Next unread channel:\\t|Shift|Down',\n        },\n    },\n    navSwitcher: {\n        default: {\n            id: t('shortcuts.nav.switcher'),\n            defaultMessage: 'Quick channel switcher:\\tCtrl|K',\n        },\n        mac: {\n            id: t('shortcuts.nav.switcher.mac'),\n            defaultMessage: 'Quick channel switcher:\\t|K',\n        },\n    },\n    navDMMenu: {\n        default: {\n            id: t('shortcuts.nav.direct_messages_menu'),\n            defaultMessage: 'Direct messages menu:\\tCtrl|Shift|K',\n        },\n        mac: {\n            id: t('shortcuts.nav.direct_messages_menu.mac'),\n            defaultMessage: 'Direct messages menu:\\t|Shift|K',\n        },\n    },\n    navSettings: {\n        default: {\n            id: t('shortcuts.nav.settings'),\n            defaultMessage: 'Account settings:\\tCtrl|Shift|A',\n        },\n        mac: {\n            id: t('shortcuts.nav.settings.mac'),\n            defaultMessage: 'Account settings:\\t|Shift|A',\n        },\n    },\n    navMentions: {\n        default: {\n            id: t('shortcuts.nav.recent_mentions'),\n            defaultMessage: 'Recent mentions:\\tCtrl|Shift|M',\n        },\n        mac: {\n            id: t('shortcuts.nav.recent_mentions.mac'),\n            defaultMessage: 'Recent mentions:\\t|Shift|M',\n        },\n    },\n    navFocusCenter: {\n        default: {\n            id: t('shortcuts.nav.focus_center'),\n            defaultMessage: 'Set focus to input field:\\tCtrl|Shift|L',\n        },\n        mac: {\n            id: t('shortcuts.nav.focus_center.mac'),\n            defaultMessage: 'Set focus to input field:\\t|Shift|L',\n        },\n    },\n    msgHeader: {\n        id: t('shortcuts.msgs.header'),\n        defaultMessage: 'Messages',\n    },\n    msgInputHeader: {\n        id: t('shortcuts.msgs.input.header'),\n        defaultMessage: 'Works inside an empty input field',\n    },\n    msgEdit: {\n        id: t('shortcuts.msgs.edit'),\n        defaultMessage: 'Edit last message in channel:\\tUp',\n    },\n    msgReply: {\n        id: t('shortcuts.msgs.reply'),\n        defaultMessage: 'Reply to last message in channel:\\tShift|Up',\n    },\n    msgReprintPrev: {\n        default: {\n            id: t('shortcuts.msgs.reprint_prev'),\n            defaultMessage: 'Reprint previous message:\\tCtrl|Up',\n        },\n        mac: {\n            id: t('shortcuts.msgs.reprint_prev.mac'),\n            defaultMessage: 'Reprint previous message:\\t|Up',\n        },\n    },\n    msgReprintNext: {\n        default: {\n            id: t('shortcuts.msgs.reprint_next'),\n            defaultMessage: 'Reprint next message:\\tCtrl|Down',\n        },\n        mac: {\n            id: t('shortcuts.msgs.reprint_next.mac'),\n            defaultMessage: 'Reprint next message:\\t|Down',\n        },\n    },\n    msgCompHeader: {\n        id: t('shortcuts.msgs.comp.header'),\n        defaultMessage: 'Autocomplete',\n    },\n    msgCompUsername: {\n        id: t('shortcuts.msgs.comp.username'),\n        defaultMessage: 'Username:\\t@|[a-z]|Tab',\n    },\n    msgCompChannel: {\n        id: t('shortcuts.msgs.comp.channel'),\n        defaultMessage: 'Channel:\\t~|[a-z]|Tab',\n    },\n    msgCompEmoji: {\n        id: t('shortcuts.msgs.comp.emoji'),\n        defaultMessage: 'Emoji:\\t:|[a-z]|Tab',\n    },\n    filesHeader: {\n        id: t('shortcuts.files.header'),\n        defaultMessage: 'Files',\n    },\n    filesUpload: {\n        default: {\n            id: t('shortcuts.files.upload'),\n            defaultMessage: 'Upload files:\\tCtrl|U',\n        },\n        mac: {\n            id: t('shortcuts.files.upload.mac'),\n            defaultMessage: 'Upload files:\\t|U',\n        },\n    },\n    browserHeader: {\n        id: t('shortcuts.browser.header'),\n        defaultMessage: 'Built-in Browser Commands',\n    },\n    browserChannelPrev: {\n        default: {\n            id: t('shortcuts.browser.channel_prev'),\n            defaultMessage: 'Back in history:\\tAlt|Left',\n        },\n        mac: {\n            id: t('shortcuts.browser.channel_prev.mac'),\n            defaultMessage: 'Back in history:\\t|[',\n        },\n    },\n    browserChannelNext: {\n        default: {\n            id: t('shortcuts.browser.channel_next'),\n            defaultMessage: 'Forward in history:\\tAlt|Right',\n        },\n        mac: {\n            id: t('shortcuts.browser.channel_next.mac'),\n            defaultMessage: 'Forward in history:\\t|]',\n        },\n    },\n    browserFontIncrease: {\n        default: {\n            id: t('shortcuts.browser.font_increase'),\n            defaultMessage: 'Zoom in:\\tCtrl|+',\n        },\n        mac: {\n            id: t('shortcuts.browser.font_increase.mac'),\n            defaultMessage: 'Zoom in:\\t|+',\n        },\n    },\n    browserFontDecrease: {\n        default: {\n            id: t('shortcuts.browser.font_decrease'),\n            defaultMessage: 'Zoom out:\\tCtrl|-',\n        },\n        mac: {\n            id: t('shortcuts.browser.font_decrease.mac'),\n            defaultMessage: 'Zoom out:\\t|-',\n        },\n    },\n    browserInputHeader: {\n        id: t('shortcuts.browser.input.header'),\n        defaultMessage: 'Works inside an input field',\n    },\n    browserHighlightPrev: {\n        id: t('shortcuts.browser.highlight_prev'),\n        defaultMessage: 'Highlight text to the previous line:\\tShift|Up',\n    },\n    browserHighlightNext: {\n        id: t('shortcuts.browser.highlight_next'),\n        defaultMessage: 'Highlight text to the next line:\\tShift|Down',\n    },\n    browserNewline: {\n        id: t('shortcuts.browser.newline'),\n        defaultMessage: 'Create a new line:\\tShift|Enter',\n    },\n    info: {\n        id: t('shortcuts.info'),\n        defaultMessage: 'Begin a message with / for a list of all the commands at your disposal.',\n    },\n});\n\nclass ShortcutsModal extends React.PureComponent {\n    static propTypes = {\n        intl: intlShape.isRequired,\n        isMac: PropTypes.bool.isRequired,\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            show: false,\n        };\n    }\n\n    componentDidMount() {\n        ModalStore.addModalListener(Constants.ActionTypes.TOGGLE_SHORTCUTS_MODAL, this.handleToggle);\n    }\n\n    componentWillUnmount() {\n        ModalStore.removeModalListener(Constants.ActionTypes.TOGGLE_SHORTCUTS_MODAL, this.handleToggle);\n    }\n\n    handleToggle = () => {\n        //toggles the state of shortcut dialog\n        this.setState({\n            show: !this.state.show,\n        });\n    }\n\n    handleHide = () => {\n        this.setState({show: false});\n    }\n\n    getShortcuts() {\n        const {isMac} = this.props;\n        const shortcuts = {};\n        Object.keys(allShortcuts).forEach((s) => {\n            if (isMac && allShortcuts[s].mac) {\n                shortcuts[s] = allShortcuts[s].mac;\n            } else if (!isMac && allShortcuts[s].default) {\n                shortcuts[s] = allShortcuts[s].default;\n            } else {\n                shortcuts[s] = allShortcuts[s];\n            }\n        });\n\n        return shortcuts;\n    }\n\n    render() {\n        const shortcuts = this.getShortcuts();\n        const {formatMessage} = this.props.intl;\n\n        return (\n            <Modal\n                dialogClassName='a11y__modal shortcuts-modal'\n                show={this.state.show}\n                onHide={this.handleHide}\n                onExited={this.handleHide}\n                role='dialog'\n                aria-labelledby='shortcutsModalLabel'\n            >\n                <div className='shortcuts-content'>\n                    <Modal.Header closeButton={true}>\n                        <Modal.Title\n                            componentClass='h1'\n                            id='shortcutsModalLabel'\n                        >\n                            <strong>{renderShortcut(formatMessage(shortcuts.mainHeader))}</strong>\n                        </Modal.Title>\n                    </Modal.Header>\n                    <Modal.Body ref='modalBody'>\n                        <div className='row'>\n                            <div className='col-sm-4'>\n                                <div className='section'>\n                                    <div>\n                                        <h4 className='section-title'><strong>{formatMessage(shortcuts.navHeader)}</strong></h4>\n                                        {renderShortcut(formatMessage(shortcuts.navPrev))}\n                                        {renderShortcut(formatMessage(shortcuts.navNext))}\n                                        {renderShortcut(formatMessage(shortcuts.navUnreadPrev))}\n                                        {renderShortcut(formatMessage(shortcuts.navUnreadNext))}\n                                        {renderShortcut(formatMessage(shortcuts.navSwitcher))}\n                                        {renderShortcut(formatMessage(shortcuts.navDMMenu))}\n                                        {renderShortcut(formatMessage(shortcuts.navSettings))}\n                                        {renderShortcut(formatMessage(shortcuts.navMentions))}\n                                        {renderShortcut(formatMessage(shortcuts.navFocusCenter))}\n                                    </div>\n                                </div>\n                            </div>\n                            <div className='col-sm-4'>\n                                <div className='section'>\n                                    <div>\n                                        <h4 className='section-title'><strong>{formatMessage(shortcuts.msgHeader)}</strong></h4>\n                                        <span><strong>{formatMessage(shortcuts.msgInputHeader)}</strong></span>\n                                        <div className='subsection'>\n                                            {renderShortcut(formatMessage(shortcuts.msgEdit))}\n                                            {renderShortcut(formatMessage(shortcuts.msgReply))}\n                                            {renderShortcut(formatMessage(shortcuts.msgReprintPrev))}\n                                            {renderShortcut(formatMessage(shortcuts.msgReprintNext))}\n                                        </div>\n                                        <span><strong>{formatMessage(shortcuts.msgCompHeader)}</strong></span>\n                                        <div className='subsection'>\n                                            {renderShortcut(formatMessage(shortcuts.msgCompUsername))}\n                                            {renderShortcut(formatMessage(shortcuts.msgCompChannel))}\n                                            {renderShortcut(formatMessage(shortcuts.msgCompEmoji))}\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div className='col-sm-4'>\n                                <div className='section'>\n                                    <div>\n                                        <h4 className='section-title'><strong>{formatMessage(shortcuts.filesHeader)}</strong></h4>\n                                        {renderShortcut(formatMessage(shortcuts.filesUpload))}\n                                    </div>\n                                    <div className='section--lower'>\n                                        <h4 className='section-title'><strong>{formatMessage(shortcuts.browserHeader)}</strong></h4>\n                                        {renderShortcut(formatMessage(shortcuts.browserChannelPrev))}\n                                        {renderShortcut(formatMessage(shortcuts.browserChannelNext))}\n                                        {renderShortcut(formatMessage(shortcuts.browserFontIncrease))}\n                                        {renderShortcut(formatMessage(shortcuts.browserFontDecrease))}\n                                        <span><strong>{formatMessage(shortcuts.browserInputHeader)}</strong></span>\n                                        <div className='subsection'>\n                                            {renderShortcut(formatMessage(shortcuts.browserHighlightPrev))}\n                                            {renderShortcut(formatMessage(shortcuts.browserHighlightNext))}\n                                            {renderShortcut(formatMessage(shortcuts.browserNewline))}\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        <div className='info__label'>{formatMessage(shortcuts.info)}</div>\n                    </Modal.Body>\n                </div>\n            </Modal>\n        );\n    }\n}\n\nfunction renderShortcut(text) {\n    if (!text) {\n        return null;\n    }\n\n    const shortcut = text.split('\\t');\n    const description = <span>{shortcut[0]}</span>;\n\n    let keys = null;\n    if (shortcut.length > 1) {\n        keys = shortcut[1].split('|').map((key) => (\n            <span\n                className='shortcut-key'\n                key={key}\n            >\n                {key}\n            </span>\n        ));\n    }\n\n    return (\n        <div className='shortcut-line'>\n            {description}\n            {keys}\n        </div>\n    );\n}\n\nexport default injectIntl(ShortcutsModal);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {OverlayTrigger, Tooltip} from 'react-bootstrap';\nimport {FormattedMessage} from 'react-intl';\nimport {PropTypes} from 'prop-types';\n\nimport * as Utils from 'utils/utils.jsx';\n\nexport default class ChannelCreate extends React.PureComponent {\n    static propTypes = {\n        sectionType: PropTypes.string.isRequired,\n        createPublicChannel: PropTypes.func.isRequired,\n        createPrivateChannel: PropTypes.func.isRequired,\n        createDirectMessage: PropTypes.func.isRequired,\n        createPublicDirectChannel: PropTypes.func.isRequired,\n        canCreatePublicChannel: PropTypes.bool.isRequired,\n        canCreatePrivateChannel: PropTypes.bool.isRequired,\n    };\n\n    renderPublic = () => {\n        if (!this.props.canCreatePublicChannel) {\n            return null;\n        }\n\n        const ariaLabelPublic = `${Utils.localizeMessage('sidebar.createChannel', 'Create new public channel').toLowerCase()}`;\n\n        const tooltip = (\n            <Tooltip id='new-channel-tooltip' >\n                <FormattedMessage\n                    id='sidebar.createChannel'\n                    defaultMessage='Create new public channel'\n                />\n            </Tooltip>\n        );\n\n        return (\n            <button\n                id='createPublicChannel'\n                aria-label={ariaLabelPublic}\n                type='button'\n                className='add-channel-btn cursor--pointer style--none'\n                onClick={this.props.createPublicChannel}\n            >\n                <OverlayTrigger\n                    delayShow={500}\n                    placement='top'\n                    overlay={tooltip}\n                >\n                    <span>{'+'}</span>\n                </OverlayTrigger>\n            </button>\n        );\n    };\n\n    renderPrivate = () => {\n        if (!this.props.canCreatePrivateChannel) {\n            return null;\n        }\n\n        const ariaLabelPrivate = `${Utils.localizeMessage('sidebar.createGroup', 'Create new private channel').toLowerCase()}`;\n\n        const tooltip = (\n            <Tooltip id='new-group-tooltip'>\n                <FormattedMessage\n                    id='sidebar.createGroup'\n                    defaultMessage='Create new private channel'\n                />\n            </Tooltip>\n        );\n\n        return (\n            <button\n                id='createPrivateChannel'\n                aria-label={ariaLabelPrivate}\n                type='button'\n                className='add-channel-btn cursor--pointer style--none'\n                onClick={this.props.createPrivateChannel}\n            >\n                <OverlayTrigger\n                    delayShow={500}\n                    placement='top'\n                    overlay={tooltip}\n                >\n                    <span>{'+'}</span>\n                </OverlayTrigger>\n            </button>\n        );\n    };\n\n    renderDirect = () => {\n        const ariaLabelDM = Utils.localizeMessage('sidebar.createDirectMessage', 'Create new direct message').toLowerCase();\n        const tooltip = (\n            <Tooltip\n                id='new-group-tooltip'\n                className='hidden-xs'\n            >\n                <FormattedMessage\n                    id='sidebar.createDirectMessage'\n                    defaultMessage='Create new direct message'\n                />\n            </Tooltip>\n        );\n\n        return (\n            <button\n                id='addDirectChannel'\n                aria-label={ariaLabelDM}\n                className='add-channel-btn cursor--pointer style--none'\n                onClick={this.props.createDirectMessage}\n            >\n                <OverlayTrigger\n                    className='hidden-xs'\n                    delayShow={500}\n                    placement='top'\n                    overlay={tooltip}\n                >\n                    <span>{'+'}</span>\n                </OverlayTrigger>\n            </button>\n        );\n    };\n\n    renderCombined = () => {\n        const {canCreatePublicChannel, canCreatePrivateChannel} = this.props;\n\n        if (canCreatePublicChannel && !canCreatePrivateChannel) {\n            return this.renderPublic();\n        }\n\n        if (canCreatePrivateChannel && !canCreatePublicChannel) {\n            return this.renderPrivate();\n        }\n\n        if (!canCreatePublicChannel && !canCreatePrivateChannel) {\n            return null;\n        }\n\n        const tooltip = (\n            <Tooltip\n                id='new-group-tooltip'\n                className='hidden-xs'\n            >\n                <FormattedMessage\n                    id='sidebar.createPublicPrivateChannel'\n                    defaultMessage='Create new public or private channel'\n                />\n            </Tooltip>\n        );\n\n        return (\n            <button\n                type='button'\n                className='add-channel-btn cursor--pointer style--none'\n                onClick={this.props.createPublicDirectChannel}\n            >\n                <OverlayTrigger\n                    className='hidden-xs'\n                    delayShow={500}\n                    placement='top'\n                    overlay={tooltip}\n                >\n                    <span>{'+'}</span>\n                </OverlayTrigger>\n            </button>\n        );\n    };\n\n    render() {\n        const {sectionType} = this.props;\n\n        switch (sectionType) {\n        case 'public':\n            return this.renderPublic();\n        case 'private':\n            return this.renderPrivate();\n        case 'direct':\n            return this.renderDirect();\n        case 'recent':\n        case 'alpha':\n            return this.renderCombined();\n        }\n\n        return null;\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {FormattedMessage, intlShape} from 'react-intl';\nimport {PropTypes} from 'prop-types';\nimport {Permissions} from 'mattermost-redux/constants';\n\nimport TeamPermissionGate from 'components/permissions_gates/team_permission_gate';\n\nexport default class ChannelMore extends React.PureComponent {\n    static propTypes = {\n        currentTeamId: PropTypes.string.isRequired,\n        sectionType: PropTypes.string.isRequired,\n        moreChannels: PropTypes.func.isRequired,\n        moreDirectMessages: PropTypes.func.isRequired,\n        browsePublicDirectChannels: PropTypes.func.isRequired,\n        viewArchivedChannels: PropTypes.bool,\n    };\n\n    static contextTypes = {\n        intl: intlShape,\n    };\n\n    moreChannelsPublic = () => {\n        this.props.moreChannels('public');\n    }\n    moreChannelsPrivate = () => {\n        this.props.moreChannels('private');\n    }\n\n    render() {\n        const {\n            sectionType,\n            moreDirectMessages,\n            browsePublicDirectChannels,\n            viewArchivedChannels,\n        } = this.props;\n\n        const {formatMessage} = this.context.intl;\n\n        switch (sectionType) {\n        case 'public':\n            return (\n                <TeamPermissionGate\n                    teamId={this.props.currentTeamId}\n                    permissions={[Permissions.JOIN_PUBLIC_CHANNELS]}\n                >\n                    <li\n                        key='public-channel-more'\n                        data-testid='morePublicButton'\n                    >\n                        <button\n                            id='sidebarPublicChannelsMore'\n                            aria-label={formatMessage({id: 'sidebar.morePublicAria', defaultMessage: 'more public channels'})}\n                            className='nav-more cursor--pointer style--none btn--block'\n                            onClick={this.moreChannelsPublic}\n                        >\n                            <FormattedMessage\n                                id='sidebar.moreElips'\n                                defaultMessage='More...'\n                            />\n                        </button>\n                    </li>\n                </TeamPermissionGate>\n            );\n        case 'private':\n            if (viewArchivedChannels) {\n                return (\n                    <TeamPermissionGate\n                        teamId={this.props.currentTeamId}\n                        permissions={[Permissions.JOIN_PUBLIC_CHANNELS]}\n                    >\n                        <li\n                            key='public-channel-more'\n                            data-testid='morePublicButton'\n                        >\n                            <button\n                                id='sidebarPrivateChannelsMore'\n                                aria-label={formatMessage({id: 'sidebar.morePublicAria', defaultMessage: 'more public channels'})}\n                                className='nav-more cursor--pointer style--none btn--block'\n                                onClick={this.moreChannelsPrivate}\n                            >\n                                <FormattedMessage\n                                    id='sidebar.moreElips'\n                                    defaultMessage='More...'\n                                />\n                            </button>\n                        </li>\n                    </TeamPermissionGate>\n                );\n            }\n            return null;\n        case 'direct':\n            return (\n                <li\n                    key='dm-more'\n                    id='moreDMButton'\n                >\n                    <button\n                        id='moreDirectMessage'\n                        aria-label={formatMessage({id: 'sidebar.moreDmAria', defaultMessage: 'more direct messages'})}\n                        className='nav-more cursor--pointer style--none btn--block'\n                        onClick={moreDirectMessages}\n                    >\n                        <FormattedMessage\n                            id='sidebar.moreElips'\n                            defaultMessage='More...'\n                        />\n                    </button>\n                </li>\n            );\n        case 'recent':\n        case 'alpha':\n            return (\n                <li\n                    key='public-dm-more'\n                    id='moreRecentAlphaButton'\n                >\n                    <button\n                        id='morePublicDirectChannels'\n                        aria-label={formatMessage({id: 'sidebar.morePublicDmAria', defaultMessage: 'more public channels direct messages'})}\n                        className='nav-more cursor--pointer style--none btn--block'\n                        onClick={browsePublicDirectChannels}\n                    >\n                        <FormattedMessage\n                            id='sidebar.moreElips'\n                            defaultMessage='More...'\n                        />\n                    </button>\n                </li>\n            );\n        }\n\n        return null;\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\nimport {OverlayTrigger, Tooltip} from 'react-bootstrap';\nimport {PropTypes} from 'prop-types';\n\nimport * as Utils from 'utils/utils.jsx';\nimport {t} from 'utils/i18n';\n\nconst clickableChannelHeader = ['recent', 'alpha'];\n\nexport default class ChannelName extends React.PureComponent {\n    static propTypes = {\n        sectionType: PropTypes.string.isRequired,\n        channelName: PropTypes.string.isRequired,\n        browsePublicDirectChannels: PropTypes.func.isRequired,\n    };\n\n    sectionTypeFormatMessageId = (sectionType) => {\n        switch (sectionType) {\n        case 'public':\n            return t('sidebar.types.public');\n        case 'private':\n            return t('sidebar.types.private');\n        case 'direct':\n            return t('sidebar.types.direct');\n        case 'favorite':\n            return t('sidebar.types.favorite');\n        case 'unreads':\n            return t('sidebar.types.unreads');\n        case 'recent':\n            return t('sidebar.types.recent');\n        default:\n            return t('sidebar.types.alpha');\n        }\n    }\n\n    render() {\n        const {sectionType, channelName, browsePublicDirectChannels} = this.props;\n\n        let tooltipTriggers = ['hover', 'focus'];\n\n        if (Utils.isMobile()) {\n            tooltipTriggers = [];\n        }\n\n        const formattedMessageId = this.sectionTypeFormatMessageId(sectionType);\n        let name = (\n            <FormattedMessage\n                id={formattedMessageId}\n                defaultMessage={channelName}\n            />\n        );\n\n        if (clickableChannelHeader.indexOf(sectionType) !== -1) {\n            const createPublicDirectChannelTooltip = (\n                <Tooltip\n                    id='new-group-tooltip'\n                    className='hidden-xs'\n                >\n                    <FormattedMessage\n                        id='sidebar.browseChannelDirectChannel'\n                        defaultMessage='Browse Channels and Direct Messages'\n                    />\n                </Tooltip>\n            );\n\n            name = (\n                <OverlayTrigger\n                    trigger={tooltipTriggers}\n                    delayShow={500}\n                    placement='top'\n                    overlay={createPublicDirectChannelTooltip}\n                >\n                    <div\n                        role='presentation'\n                        className='public_direct_name'\n                        onClick={browsePublicDirectChannels}\n                    >\n                        {name}\n                    </div>\n                </OverlayTrigger>\n            );\n        }\n\n        return name;\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\n\nimport {getCurrentTeam} from 'mattermost-redux/selectors/entities/teams';\nimport {getCurrentUser} from 'mattermost-redux/selectors/entities/users';\nimport {getInt} from 'mattermost-redux/selectors/entities/preferences';\n\nimport {openModal} from 'actions/views/modals';\n\nimport {Preferences, TutorialSteps} from 'utils/constants';\nimport * as Utils from 'utils/utils.jsx';\n\nimport SidebarHeaderDropdown from './sidebar_header_dropdown.jsx';\n\nfunction mapStateToProps(state) {\n    const currentTeam = getCurrentTeam(state);\n    const currentUser = getCurrentUser(state);\n    const showTutorialTip = getInt(state, Preferences.TUTORIAL_STEP, currentUser.id) === TutorialSteps.MENU_POPOVER && !Utils.isMobile();\n    return {\n        currentUser,\n        teamDescription: currentTeam.description,\n        teamDisplayName: currentTeam.display_name,\n        teamId: currentTeam.id,\n        showTutorialTip,\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            openModal,\n        }, dispatch),\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SidebarHeaderDropdown);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport * as GlobalActions from 'actions/global_actions.jsx';\nimport {Constants, ModalIdentifiers} from 'utils/constants';\nimport {cmdOrCtrlPressed, isKeyPressed} from 'utils/utils';\n\nimport SidebarHeaderDropdownButton from '../sidebar_header_dropdown_button.jsx';\n\nimport UserSettingsModal from 'components/user_settings/modal';\n\nimport MenuWrapper from 'components/widgets/menu/menu_wrapper';\n\nimport MainMenu from 'components/main_menu';\n\nexport default class SidebarHeaderDropdown extends React.PureComponent {\n    static propTypes = {\n        teamDescription: PropTypes.string.isRequired,\n        teamDisplayName: PropTypes.string.isRequired,\n        teamId: PropTypes.string.isRequired,\n        currentUser: PropTypes.object,\n        showTutorialTip: PropTypes.bool.isRequired,\n        actions: PropTypes.shape({\n            openModal: PropTypes.func.isRequred,\n        }).isRequired,\n    };\n\n    static defaultProps = {\n        teamType: '',\n        pluginMenuItems: [],\n    };\n\n    toggleShortcutsModal = (e) => {\n        e.preventDefault();\n        GlobalActions.toggleShortcutsModal();\n    }\n\n    componentDidMount() {\n        document.addEventListener('keydown', this.handleKeyDown);\n    }\n\n    componentWillUnmount() {\n        document.removeEventListener('keydown', this.handleKeyDown);\n    }\n\n    handleKeyDown = (e) => {\n        if (cmdOrCtrlPressed(e) && e.shiftKey && isKeyPressed(e, Constants.KeyCodes.A)) {\n            this.props.actions.openModal({ModalId: ModalIdentifiers.USER_SETTINGS, dialogType: UserSettingsModal});\n        }\n    }\n\n    handleEmitUserLoggedOutEvent = () => {\n        GlobalActions.emitUserLoggedOutEvent();\n    }\n\n    render() {\n        const currentUser = this.props.currentUser;\n\n        if (!currentUser) {\n            return null;\n        }\n\n        return (\n            <MenuWrapper>\n                <SidebarHeaderDropdownButton\n                    showTutorialTip={this.props.showTutorialTip}\n                    teamDescription={this.props.teamDescription}\n                    currentUser={this.props.currentUser}\n                    teamDisplayName={this.props.teamDisplayName}\n                    teamId={this.props.teamId}\n                />\n                <MainMenu id='sidebarDropdownMenu'/>\n            </MenuWrapper>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {getConfig} from 'mattermost-redux/selectors/entities/general';\nimport {getCurrentUser} from 'mattermost-redux/selectors/entities/users';\nimport {getInt} from 'mattermost-redux/selectors/entities/preferences';\n\nimport {Preferences, TutorialSteps} from 'utils/constants';\nimport * as Utils from 'utils/utils.jsx';\n\nimport SidebarHeader from './sidebar_header.jsx';\n\nfunction mapStateToProps(state) {\n    const config = getConfig(state);\n    const currentUser = getCurrentUser(state);\n\n    const enableTutorial = config.EnableTutorial === 'true';\n\n    const showTutorialTip = getInt(state, Preferences.TUTORIAL_STEP, currentUser.id) === TutorialSteps.MENU_POPOVER && !Utils.isMobile();\n\n    return {\n        enableTutorial,\n        showTutorialTip,\n    };\n}\n\nexport default connect(mapStateToProps)(SidebarHeader);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\n\nimport * as Utils from 'utils/utils.jsx';\nimport StatusDropdown from 'components/status_dropdown/index.jsx';\n\nimport SidebarHeaderDropdown from './dropdown';\n\nexport default class SidebarHeader extends React.PureComponent {\n    constructor(props) {\n        super(props);\n        this.state = {\n            isMobile: Utils.isMobile(),\n        };\n    }\n\n    componentDidMount() {\n        window.addEventListener('resize', this.handleResize);\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('resize', this.handleResize);\n    }\n\n    handleResize = () => {\n        const isMobile = Utils.isMobile();\n        this.setState({isMobile});\n    }\n\n    render() {\n        const ariaLabel = Utils.localizeMessage('accessibility.sections.lhsHeader', 'team menu region');\n\n        return (\n            <div\n                id='lhsHeader'\n                aria-label={ariaLabel}\n                tabIndex='-1'\n                role='application'\n                className='SidebarHeader team__header theme a11y__region'\n                data-a11y-sort-order='5'\n            >\n                <div\n                    className='d-flex'\n                >\n                    {!this.state.isMobile && <StatusDropdown/>}\n                    <SidebarHeaderDropdown/>\n                </div>\n            </div>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { OverlayTrigger, Tooltip } from 'react-bootstrap';\nimport { FormattedMessage } from 'react-intl';\n\nimport { localizeMessage } from 'utils/utils.jsx';\nimport MenuIcon from 'components/widgets/icons/menu_icon';\nimport Constants from 'utils/constants';\n\nimport MenuTutorialTip from 'components/tutorial/menu_tutorial_tip';\n\nexport default class SidebarHeaderDropdownButton extends React.PureComponent {\n    static propTypes = {\n        showTutorialTip: PropTypes.bool.isRequired,\n        teamDescription: PropTypes.string.isRequired,\n        teamId: PropTypes.string.isRequired,\n        currentUser: PropTypes.object.isRequired,\n        teamDisplayName: PropTypes.string.isRequired,\n    };\n\n    render() {\n        const mainMenuToolTip = (\n            <Tooltip id='main-menu__tooltip'>\n                <FormattedMessage\n                    id='sidebar.mainMenu'\n                    defaultMessage='Main menu'\n                />\n            </Tooltip>\n        );\n\n        let tutorialTip = null;\n        if (this.props.showTutorialTip) {\n            tutorialTip = (\n                <MenuTutorialTip onBottom={false} />\n            );\n        }\n\n        let teamNameWithToolTip = (\n            <h1\n                id='headerTeamName'\n                className='team__name'\n                data-teamid={this.props.teamId}\n            >\n                {this.props.teamDisplayName}\n            </h1>\n        );\n        if (this.props.teamDescription) {\n            teamNameWithToolTip = (\n                <OverlayTrigger\n                    delayShow={Constants.OVERLAY_TIME_DELAY}\n                    placement='bottom'\n                    overlay={<Tooltip id='team-name__tooltip'>{this.props.teamDescription}</Tooltip>}\n                    ref='descriptionOverlay'\n                >\n                    {teamNameWithToolTip}\n                </OverlayTrigger>\n            );\n        }\n\n        return (\n            <div\n                className='SidebarHeaderDropdownButton'\n                id='sidebarHeaderDropdownButton'\n            >\n                {tutorialTip}\n                <OverlayTrigger\n                    delayShow={Constants.OVERLAY_TIME_DELAY}\n                    placement='right'\n                    overlay={mainMenuToolTip}\n                >\n                    <div\n                        id='headerInfo'\n                        className='header__info'\n                    >\n                        {teamNameWithToolTip}\n                        <div\n                            id='headerUsername'\n                            className='user__name'\n                        >\n                            {'@' + this.props.currentUser.username}\n                        </div>\n                        <button\n                            className='style--none sidebar-header-dropdown__icon'\n                            aria-label={localizeMessage('navbar_dropdown.menuAriaLabel', 'main menu')}\n                        >\n                            <MenuIcon />\n                        </button>\n                    </div>\n                </OverlayTrigger>\n            </div>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\n\nimport {Preferences} from 'mattermost-redux/constants/index';\nimport {\n    getCurrentChannel,\n    getSortedUnreadChannelIds,\n    getOrderedChannelIds,\n    getUnreads,\n} from 'mattermost-redux/selectors/entities/channels';\n\nimport Permissions from 'mattermost-redux/constants/permissions';\nimport {getConfig} from 'mattermost-redux/selectors/entities/general';\nimport {getBool as getBoolPreference, getSidebarPreferences} from 'mattermost-redux/selectors/entities/preferences';\nimport {getCurrentUser} from 'mattermost-redux/selectors/entities/users';\nimport {haveITeamPermission} from 'mattermost-redux/selectors/entities/roles';\nimport {getCurrentTeam} from 'mattermost-redux/selectors/entities/teams';\n\nimport {switchToChannelById} from 'actions/views/channel';\nimport {openModal} from 'actions/views/modals';\nimport {close} from 'actions/views/lhs';\nimport {getIsLhsOpen} from 'selectors/lhs';\n\nimport Sidebar from './sidebar.jsx';\n\nfunction mapStateToProps(state) {\n    const config = getConfig(state);\n    const currentChannel = getCurrentChannel(state);\n    const currentTeammate = currentChannel && currentChannel.teammate_id && getCurrentChannel(state, currentChannel.teammate_id);\n    const currentTeam = getCurrentTeam(state);\n\n    const canCreatePublicChannel = haveITeamPermission(state, {team: currentTeam.id, permission: Permissions.CREATE_PUBLIC_CHANNEL});\n    const canCreatePrivateChannel = haveITeamPermission(state, {team: currentTeam.id, permission: Permissions.CREATE_PRIVATE_CHANNEL});\n\n    const sidebarPrefs = getSidebarPreferences(state);\n    const lastUnreadChannel = state.views.channel.keepChannelIdAsUnread;\n    const unreadChannelIds = getSortedUnreadChannelIds(state, lastUnreadChannel);\n    const orderedChannelIds = getOrderedChannelIds(\n        state,\n        lastUnreadChannel,\n        sidebarPrefs.grouping,\n        sidebarPrefs.sorting,\n        sidebarPrefs.unreads_at_top === 'true',\n        sidebarPrefs.favorite_at_top === 'true',\n    );\n\n    const channelSwitcherOption = getBoolPreference(\n        state,\n        Preferences.CATEGORY_SIDEBAR_SETTINGS,\n        'channel_switcher_section',\n        'true'\n    );\n\n    return {\n        config,\n        unreadChannelIds,\n        orderedChannelIds,\n        channelSwitcherOption,\n        currentChannel,\n        currentTeammate,\n        currentTeam,\n        currentUser: getCurrentUser(state),\n        canCreatePublicChannel,\n        canCreatePrivateChannel,\n        isOpen: getIsLhsOpen(state),\n        unreads: getUnreads(state),\n        viewArchivedChannels: (getConfig(state).ExperimentalViewArchivedChannels === 'true')\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            close,\n            switchToChannelById,\n            openModal,\n        }, dispatch),\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Sidebar);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {Modal, Tabs, Tab} from 'react-bootstrap';\nimport {FormattedMessage} from 'react-intl';\n\nimport MorePublicChannels from 'components/more_channels';\nimport MoreDirectMessages from 'components/more_direct_channels';\n\nimport {localizeMessage} from 'utils/utils';\n\nexport default class MorePublicDirectChannels extends React.PureComponent {\n    static propTypes = {\n        handleNewChannel: PropTypes.func,\n        onModalDismissed: PropTypes.func,\n    };\n\n    state = {\n        show: true,\n        key: 'channels',\n    };\n\n    handleHide = () => {\n        this.setState({show: false});\n    };\n\n    handleExit = () => {\n        if (this.props.onModalDismissed) {\n            this.props.onModalDismissed();\n        }\n    };\n\n    handleSelect = (key) => {\n        this.setState({key});\n    }\n\n    render() {\n        return (\n            <Modal\n                dialogClassName='a11y__modal more-modal more-direct-channels more-public-direct-channels'\n                show={this.state.show}\n                onHide={this.handleHide}\n                onExited={this.handleExit}\n                role='dialog'\n                aria-labelledby='morePublicModalLabel'\n            >\n                <Modal.Header closeButton={true}>\n                    <Modal.Title\n                        componentClass='h1'\n                        id='morePublicModalLabel'\n                    >\n                        <FormattedMessage\n                            id='more_public_direct_channels.title'\n                            defaultMessage='Channels and Direct Messages'\n                        />\n                    </Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                    <Tabs\n                        id='morePublicDirectChannelTabs'\n                        className='modal-tabs'\n                        defaultActiveKey='channels'\n                        activeKey={this.state.key}\n                        onSelect={this.handleSelect}\n                        unmountOnExit={true}\n                    >\n                        <Tab\n                            eventKey='channels'\n                            title={localizeMessage('more_public_direct_channels.channels', 'Channels')}\n                        >\n                            <MorePublicChannels\n                                handleNewChannel={this.props.handleNewChannel}\n                                onModalDismissed={this.handleHide}\n                                bodyOnly={true}\n                            />\n                        </Tab>\n                        <Tab\n                            eventKey='dm'\n                            title={localizeMessage('more_public_direct_channels.direct_messages', 'Direct Messages')}\n                        >\n                            <MoreDirectMessages\n                                onModalDismissed={this.handleHide}\n                                isExistingChannel={false}\n                                bodyOnly={true}\n                            />\n                        </Tab>\n                    </Tabs>\n                </Modal.Body>\n            </Modal>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport $ from 'jquery';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport {FormattedMessage, intlShape} from 'react-intl';\nimport {PropTypes} from 'prop-types';\nimport classNames from 'classnames';\n\nimport Scrollbars from 'react-custom-scrollbars';\nimport {SpringSystem, MathUtil} from 'rebound';\n\nimport {trackEvent} from 'actions/diagnostics_actions.jsx';\nimport {redirectUserToDefaultTeam} from 'actions/global_actions';\nimport * as ChannelUtils from 'utils/channel_utils.jsx';\nimport {Constants, ModalIdentifiers, SidebarChannelGroups} from 'utils/constants';\nimport * as Utils from 'utils/utils.jsx';\nimport {t} from 'utils/i18n';\nimport favicon from 'images/favicon/favicon-16x16.png';\nimport redFavicon from 'images/favicon/redfavicon-16x16.png';\nimport MoreChannels from 'components/more_channels';\nimport MoreDirectChannels from 'components/more_direct_channels';\nimport QuickSwitchModal from 'components/quick_switch_modal';\nimport NewChannelFlow from 'components/new_channel_flow';\nimport UnreadChannelIndicator from 'components/unread_channel_indicator';\nimport Pluggable from 'plugins/pluggable';\n\nimport SidebarHeader from './header';\nimport SidebarChannel from './sidebar_channel';\nimport ChannelCreate from './channel_create';\nimport ChannelMore from './channel_more';\nimport ChannelName from './channel_name';\nimport MorePublicDirectChannels from './more_public_direct_channels';\n\nexport function renderView(props) {\n    return (\n        <div\n            {...props}\n            className='scrollbar--view'\n        />);\n}\n\nexport function renderThumbHorizontal(props) {\n    return (\n        <div\n            {...props}\n            className='scrollbar--horizontal'\n        />);\n}\n\nexport function renderThumbVertical(props) {\n    return (\n        <div\n            {...props}\n            className='scrollbar--vertical'\n        />);\n}\n\nexport default class Sidebar extends React.PureComponent {\n    static propTypes = {\n\n        /**\n         * Global config object\n         */\n        config: PropTypes.object.isRequired,\n\n        isOpen: PropTypes.bool.isRequired,\n\n        /**\n         * List of unread channels (ids)\n         */\n        unreadChannelIds: PropTypes.array,\n\n        /**\n         * List of ordered channels (ids)\n         */\n        orderedChannelIds: PropTypes.arrayOf(PropTypes.shape({\n\n            /**\n             * Type of channel\n             */\n            type: PropTypes.string.isRequired,\n\n            /**\n             * Displayed name in sidebar\n             */\n            name: PropTypes.string.isRequired,\n\n            /**\n             * List of ids for the channels (ids)\n             */\n            items: PropTypes.array.isRequired,\n        })),\n\n        /**\n         * Current channel object\n         */\n        currentChannel: PropTypes.object,\n\n        /**\n         * Current channel teammeat (for direct messages)\n         */\n        currentTeammate: PropTypes.object,\n\n        /**\n         * Current team object\n         */\n        currentTeam: PropTypes.object,\n\n        /**\n         * Current user object\n         */\n        currentUser: PropTypes.object,\n\n        /**\n         * Number of unread mentions/messages\n         */\n        unreads: PropTypes.object.isRequired,\n\n        /**\n         * Permission to create public channel\n         */\n        canCreatePublicChannel: PropTypes.bool.isRequired,\n\n        /**\n         * Permission to create private channel\n         */\n        canCreatePrivateChannel: PropTypes.bool.isRequired,\n\n        /**\n         * Flag to display the Switch channel shortcut\n         */\n        channelSwitcherOption: PropTypes.bool.isRequired,\n\n        /**\n         * Setting that enables user to view archived channels\n         */\n        viewArchivedChannels: PropTypes.bool,\n\n        actions: PropTypes.shape({\n            close: PropTypes.func.isRequired,\n            switchToChannelById: PropTypes.func.isRequired,\n            openModal: PropTypes.func.isRequired,\n        }).isRequired,\n    };\n\n    static defaultProps = {\n        currentChannel: {},\n    }\n\n    static contextTypes = {\n        intl: intlShape.isRequired,\n    };\n\n    constructor(props) {\n        super(props);\n\n        this.badgesActive = false;\n        this.firstUnreadChannel = null;\n        this.lastUnreadChannel = null;\n\n        this.isLeaving = new Map();\n        this.isSwitchingChannel = false;\n        this.closedDirectChannel = false;\n\n        this.state = {\n            newChannelModalType: '',\n            orderedChannelIds: props.orderedChannelIds,\n            showDirectChannelsModal: false,\n            showMoreChannelsModal: false,\n            showMorePublicChannelsModal: false,\n            morePublicChannelsModalType: 'public',\n        };\n\n        this.animate = new SpringSystem();\n        this.unreadScrollAnimate = this.animate.createSpring();\n        this.unreadScrollAnimate.setOvershootClampingEnabled(true); // disables the spring action at the end of animation\n        this.unreadScrollAnimate.addListener({onSpringUpdate: this.handleScrollAnimationUpdate});\n    }\n\n    static getDerivedStateFromProps(nextProps, prevState) {\n        if (nextProps.orderedChannelIds[0].type === SidebarChannelGroups.UNREADS &&\n            prevState.orderedChannelIds[0].type === SidebarChannelGroups.UNREADS &&\n            prevState.orderedChannelIds[0].items.length === nextProps.orderedChannelIds[0].items.length &&\n            prevState.orderedChannelIds[0].items.includes(nextProps.currentChannel.id)\n        ) {\n            return null;\n        }\n\n        if (nextProps.orderedChannelIds !== prevState.orderedChannelIds) {\n            return {orderedChannelIds: nextProps.orderedChannelIds};\n        }\n\n        return null;\n    }\n\n    componentDidMount() {\n        this.updateUnreadIndicators();\n        document.addEventListener('keydown', this.navigateChannelShortcut);\n        document.addEventListener('keydown', this.navigateUnreadChannelShortcut);\n    }\n\n    componentDidUpdate(prevProps) {\n        // if the active channel disappeared (which can happen when dm channels\n        // autoclose), go to user default channel in team\n        if (this.props.currentTeam === prevProps.currentTeam &&\n            this.props.currentChannel.id === prevProps.currentChannel.id &&\n            !this.channelIdIsDisplayedForProps(this.props.orderedChannelIds, this.props.currentChannel.id) &&\n            this.channelIdIsDisplayedForProps(prevProps.orderedChannelIds, this.props.currentChannel.id)\n        ) {\n            this.closedDirectChannel = true;\n            redirectUserToDefaultTeam();\n            return;\n        }\n\n        // reset the scrollbar upon switching teams\n        if (this.props.currentTeam !== prevProps.currentTeam) {\n            this.refs.scrollbar.scrollToTop();\n        }\n\n        // Scroll to selected channel so it's in view\n        if (this.props.currentChannel.id !== prevProps.currentChannel.id) {\n            this.updateScrollbarOnChannelChange(this.props.currentChannel.id);\n        }\n\n        // close the LHS on mobile when you change channels\n        if (this.props.currentChannel.id !== prevProps.currentChannel.id) {\n            if (this.closedDirectChannel) {\n                this.closedDirectChannel = false;\n            } else {\n                this.props.actions.close();\n            }\n        }\n\n        this.updateTitle();\n\n        // Don't modify favicon for now: https://mattermost.atlassian.net/browse/MM-13643.\n        // this.setBadgesActiveAndFavicon();\n\n        this.setFirstAndLastUnreadChannels();\n        this.updateUnreadIndicators();\n    }\n\n    componentWillUnmount() {\n        document.removeEventListener('keydown', this.navigateChannelShortcut);\n        document.removeEventListener('keydown', this.navigateUnreadChannelShortcut);\n\n        this.animate.deregisterSpring(this.unreadScrollAnimate);\n        this.animate.removeAllListeners();\n        this.unreadScrollAnimate.destroy();\n    }\n\n    setBadgesActiveAndFavicon() {\n        this.lastBadgesActive = this.badgesActive;\n        this.badgesActive = this.props.unreads.mentionCount;\n\n        // update the favicon to show if there are any notifications\n        if (this.lastBadgesActive !== this.badgesActive) {\n            var link = document.createElement('link');\n            link.type = 'image/x-icon';\n            link.rel = 'shortcut icon';\n            link.id = 'favicon';\n            if (this.badgesActive) {\n                link.href = typeof redFavicon === 'string' ? redFavicon : '';\n            } else {\n                link.href = typeof favicon === 'string' ? favicon : '';\n            }\n            var head = document.getElementsByTagName('head')[0];\n            var oldLink = document.getElementById('favicon');\n            if (oldLink) {\n                head.removeChild(oldLink);\n            }\n            head.appendChild(link);\n        }\n    }\n\n    setFirstAndLastUnreadChannels() {\n        const {currentChannel, unreadChannelIds} = this.props;\n        const {orderedChannelIds} = this.state;\n\n        this.getDisplayedChannels(orderedChannelIds).map((channelId) => {\n            if (channelId !== currentChannel.id && unreadChannelIds.includes(channelId)) {\n                if (!this.firstUnreadChannel) {\n                    this.firstUnreadChannel = channelId;\n                }\n                this.lastUnreadChannel = channelId;\n            }\n            return null;\n        });\n    }\n\n    handleOpenMoreDirectChannelsModal = (e) => {\n        e.preventDefault();\n        if (this.state.showDirectChannelsModal) {\n            this.hideMoreDirectChannelsModal();\n        } else {\n            this.showMoreDirectChannelsModal();\n        }\n    }\n\n    updateTitle = () => {\n        const {\n            config,\n            currentChannel,\n            currentTeam,\n            currentTeammate,\n            unreads,\n        } = this.props;\n        const {formatMessage} = this.context.intl;\n\n        const currentSiteName = config.SiteName || '';\n\n        if (currentChannel && currentTeam && currentChannel.id) {\n            let currentChannelName = currentChannel.display_name;\n            if (currentChannel.type === Constants.DM_CHANNEL) {\n                if (currentTeammate != null) {\n                    currentChannelName = currentTeammate.display_name;\n                }\n            }\n\n            const mentionTitle = unreads.mentionCount > 0 ? '(' + unreads.mentionCount + ') ' : '';\n            const unreadTitle = unreads.messageCount > 0 ? '* ' : '';\n            document.title = mentionTitle + unreadTitle + currentChannelName + ' - ' + this.props.currentTeam.display_name + ' ' + currentSiteName;\n        } else {\n            document.title = formatMessage({id: 'sidebar.team_select', defaultMessage: '{siteName} - Join a team'}, {siteName: currentSiteName || 'Mattermost'});\n        }\n    }\n\n    onScroll = () => {\n        this.updateUnreadIndicators();\n    }\n\n    handleScrollAnimationUpdate = (spring) => {\n        const {scrollbar} = this.refs;\n        const val = spring.getCurrentValue();\n        scrollbar.scrollTop(val);\n    }\n\n    scrollToFirstUnreadChannel = () => {\n        if (this.firstUnreadChannel) {\n            const displayedChannels = this.getDisplayedChannels(this.state.orderedChannelIds);\n            this.unreadScrollAnimate.setCurrentValue(this.refs.scrollbar.getScrollTop()).setAtRest();\n            let position;\n            if (displayedChannels.length > 0 && displayedChannels[0] === this.firstUnreadChannel) {\n                position = MathUtil.mapValueInRange(0, 0, 1, 0, 1);\n            } else {\n                const unreadMargin = 15;\n                const firstUnreadElement = $(ReactDOM.findDOMNode(this.refs[this.firstUnreadChannel]));\n                const scrollTop = firstUnreadElement.position().top - unreadMargin;\n                position = MathUtil.mapValueInRange(scrollTop, 0, 1, 0, 1);\n            }\n            this.unreadScrollAnimate.setEndValue(position);\n        }\n    }\n\n    scrollToLastUnreadChannel = () => {\n        if (this.lastUnreadChannel) {\n            const {scrollbar} = this.refs;\n            const unreadMargin = 15;\n            const lastUnreadElement = $(ReactDOM.findDOMNode(this.refs[this.lastUnreadChannel]));\n            const elementBottom = lastUnreadElement.position().top + lastUnreadElement.height();\n            const scrollTop = (elementBottom - scrollbar.getClientHeight()) + unreadMargin;\n            const position = MathUtil.mapValueInRange(scrollTop, 0, 1, 0, 1);\n            this.unreadScrollAnimate.setCurrentValue(scrollbar.getScrollTop()).setAtRest();\n            this.unreadScrollAnimate.setEndValue(position);\n        }\n    }\n\n    updateUnreadIndicators = () => {\n        let showTopUnread = false;\n        let showBottomUnread = false;\n\n        // Consider partially obscured channels as above/below\n        const unreadMargin = 15;\n\n        if (this.firstUnreadChannel) {\n            const firstUnreadElement = $(ReactDOM.findDOMNode(this.refs[this.firstUnreadChannel]));\n            const firstUnreadPosition = firstUnreadElement ? firstUnreadElement.position() : null;\n\n            if (firstUnreadPosition && ((firstUnreadPosition.top + firstUnreadElement.height()) - unreadMargin) < this.refs.scrollbar.getScrollTop()) {\n                showTopUnread = true;\n            }\n        }\n\n        if (this.lastUnreadChannel) {\n            const lastUnreadElement = $(ReactDOM.findDOMNode(this.refs[this.lastUnreadChannel]));\n            const lastUnreadPosition = lastUnreadElement ? lastUnreadElement.position() : null;\n\n            if (lastUnreadPosition && (lastUnreadPosition.top + unreadMargin) > (this.refs.scrollbar.getScrollTop() + this.refs.scrollbar.getClientHeight())) {\n                showBottomUnread = true;\n            }\n        }\n        if (showTopUnread !== this.state.showTopUnread || showBottomUnread !== this.state.showBottomUnread) {\n            this.setState({\n                showTopUnread,\n                showBottomUnread,\n            });\n        }\n    }\n\n    updateScrollbarOnChannelChange = (channelId) => {\n        if (this.refs[channelId]) {\n            const curChannel = this.refs[channelId].getWrappedInstance().refs.channel.getBoundingClientRect();\n            if ((curChannel.top - Constants.CHANNEL_SCROLL_ADJUSTMENT < 0) || (curChannel.top + curChannel.height > this.refs.scrollbar.view.getBoundingClientRect().height)) {\n                this.refs.scrollbar.scrollTop(this.refs.scrollbar.view.scrollTop + (curChannel.top - Constants.CHANNEL_SCROLL_ADJUSTMENT));\n            }\n        }\n    }\n\n    navigateChannelShortcut = (e) => {\n        if (e.altKey && !e.shiftKey && (Utils.isKeyPressed(e, Constants.KeyCodes.UP) || Utils.isKeyPressed(e, Constants.KeyCodes.DOWN))) {\n            e.preventDefault();\n\n            if (this.isSwitchingChannel) {\n                return;\n            }\n\n            this.isSwitchingChannel = true;\n            const allChannelIds = this.getDisplayedChannels(this.state.orderedChannelIds);\n            const curChannelId = this.props.currentChannel.id;\n            let curIndex = -1;\n            for (let i = 0; i < allChannelIds.length; i++) {\n                if (allChannelIds[i] === curChannelId) {\n                    curIndex = i;\n                }\n            }\n            let nextIndex = curIndex;\n            if (Utils.isKeyPressed(e, Constants.KeyCodes.DOWN)) {\n                nextIndex = curIndex + 1;\n            } else {\n                nextIndex = curIndex - 1;\n            }\n            const nextChannelId = allChannelIds[Utils.mod(nextIndex, allChannelIds.length)];\n            this.props.actions.switchToChannelById(nextChannelId);\n            this.updateScrollbarOnChannelChange(nextChannelId);\n\n            this.isSwitchingChannel = false;\n        } else if (Utils.cmdOrCtrlPressed(e) && e.shiftKey && Utils.isKeyPressed(e, Constants.KeyCodes.K)) {\n            this.handleOpenMoreDirectChannelsModal(e);\n        }\n    };\n\n    navigateUnreadChannelShortcut = (e) => {\n        if (e.altKey && e.shiftKey && (Utils.isKeyPressed(e, Constants.KeyCodes.UP) || Utils.isKeyPressed(e, Constants.KeyCodes.DOWN))) {\n            e.preventDefault();\n\n            if (this.isSwitchingChannel) {\n                return;\n            }\n\n            this.isSwitchingChannel = true;\n\n            const allChannelIds = this.getDisplayedChannels(this.state.orderedChannelIds);\n\n            let direction = 0;\n            if (Utils.isKeyPressed(e, Constants.KeyCodes.UP)) {\n                direction = -1;\n            } else {\n                direction = 1;\n            }\n\n            const nextIndex = ChannelUtils.findNextUnreadChannelId(\n                this.props.currentChannel.id,\n                allChannelIds,\n                this.props.unreadChannelIds,\n                direction\n            );\n\n            if (nextIndex !== -1) {\n                const nextChannelId = allChannelIds[nextIndex];\n                this.props.actions.switchToChannelById(nextChannelId);\n                this.updateScrollbarOnChannelChange(nextChannelId);\n            }\n\n            this.isSwitchingChannel = false;\n        }\n    };\n\n    getDisplayedChannels = (orderedChannelIds = []) => {\n        return orderedChannelIds.reduce((allChannelIds, section) => {\n            allChannelIds.push(...section.items);\n            return allChannelIds;\n        }, []);\n    };\n\n    channelIdIsDisplayedForProps = (orderedChannelIds = [], id) => {\n        const allChannels = this.getDisplayedChannels(orderedChannelIds);\n        for (let i = 0; i < allChannels.length; i++) {\n            if (allChannels[i] === id) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    showMorePublicDirectChannelsModal = () => {\n        this.setState({showMorePublicChannelsModal: true});\n        trackEvent('ui', 'ui_channels_more_public_direct');\n    }\n\n    hideMorePublicDirectChannelsModal = () => {\n        this.setState({showMorePublicChannelsModal: false});\n    }\n\n    onHandleNewChannel = () => {\n        this.hideMorePublicDirectChannelsModal();\n        this.showNewChannelModal(Constants.OPEN_CHANNEL);\n    }\n\n    showMoreChannelsModal = (type) => {\n        this.setState({showMoreChannelsModal: true, morePublicChannelsModalType: type});\n        trackEvent('ui', 'ui_channels_more_public');\n    }\n\n    hideMoreChannelsModal = () => {\n        this.setState({showMoreChannelsModal: false});\n    }\n\n    showNewPublicChannelModal = () => {\n        this.showNewChannelModal(Constants.OPEN_CHANNEL);\n    }\n\n    showNewPrivateChannelModal = () => {\n        this.showNewChannelModal(Constants.PRIVATE_CHANNEL);\n    }\n\n    showNewChannelModal = (type) => {\n        this.setState({newChannelModalType: type});\n    }\n\n    hideNewChannelModal = () => {\n        this.setState({newChannelModalType: ''});\n    }\n\n    showMoreDirectChannelsModal = () => {\n        trackEvent('ui', 'ui_channels_more_direct');\n        this.setState({showDirectChannelsModal: true});\n    }\n\n    hideMoreDirectChannelsModal = () => {\n        this.setState({showDirectChannelsModal: false});\n    }\n\n    openQuickSwitcher = (e) => {\n        e.preventDefault();\n        this.props.actions.openModal({\n            modalId: ModalIdentifiers.QUICK_SWITCH,\n            dialogType: QuickSwitchModal,\n        });\n    }\n\n    createSidebarChannel = (channelId) => {\n        return (\n            <SidebarChannel\n                key={channelId}\n                ref={channelId}\n                channelId={channelId}\n                active={channelId === this.props.currentChannel.id}\n                currentTeamName={this.props.currentTeam.name}\n                currentUserId={this.props.currentUser.id}\n            />\n        );\n    }\n\n    renderOrderedChannels = () => {\n        const {orderedChannelIds} = this.state;\n\n        const sectionsToHide = [SidebarChannelGroups.UNREADS, SidebarChannelGroups.FAVORITE];\n\n        return (\n            <Scrollbars\n                ref='scrollbar'\n                autoHide={true}\n                autoHideTimeout={500}\n                autoHideDuration={500}\n                renderThumbHorizontal={renderThumbHorizontal}\n                renderThumbVertical={renderThumbVertical}\n                renderView={renderView}\n                onScroll={this.onScroll}\n                style={{position: 'absolute'}}\n            >\n                <div\n                    id='sidebarChannelContainer'\n                    className='nav-pills__container'\n                >\n                    {orderedChannelIds.map((sec) => {\n                        const section = {\n                            type: sec.type,\n                            name: sec.name,\n                            items: sec.items.map(this.createSidebarChannel),\n                        };\n\n                        if (sectionsToHide.indexOf(section.type) !== -1 && section.items.length === 0) {\n                            return null;\n                        }\n\n                        const sectionId = `${section.type}Channel`;\n                        const ariaLabel = section.name.toLowerCase();\n\n                        return (\n                            <ul\n                                key={section.type}\n                                aria-label={ariaLabel}\n                                className='nav nav-pills nav-stacked a11y__section'\n                                id={sectionId + 'List'}\n                                tabIndex='-1'\n                            >\n                                <li className='sidebar-section__header'>\n                                    <h4\n                                        role='presentation'\n                                        id={sectionId}\n                                    >\n                                        <ChannelName\n                                            sectionType={section.type}\n                                            channelName={section.name}\n                                            browsePublicDirectChannels={this.showMorePublicDirectChannelsModal}\n                                        />\n                                    </h4>\n                                    <ChannelCreate\n                                        sectionType={section.type}\n                                        canCreatePublicChannel={this.props.canCreatePublicChannel}\n                                        canCreatePrivateChannel={this.props.canCreatePrivateChannel}\n                                        createPublicChannel={this.showNewPublicChannelModal}\n                                        createPrivateChannel={this.showNewPrivateChannelModal}\n                                        createDirectMessage={this.handleOpenMoreDirectChannelsModal}\n                                        createPublicDirectChannel={this.showNewPublicChannelModal}\n                                    />\n                                </li>\n                                {section.items}\n                                <ChannelMore\n                                    currentTeamId={this.props.currentTeam.id}\n                                    sectionType={section.type}\n                                    moreChannels={this.showMoreChannelsModal}\n                                    moreDirectMessages={this.handleOpenMoreDirectChannelsModal}\n                                    browsePublicDirectChannels={this.showMorePublicDirectChannelsModal}\n                                    viewArchivedChannels={this.props.viewArchivedChannels}\n                                />\n                            </ul>\n                        );\n                    })}\n                </div>\n            </Scrollbars>\n        );\n    };\n\n    render() {\n        const {channelSwitcherOption} = this.props;\n        const ariaLabel = Utils.localizeMessage('accessibility.sections.lhsList', 'channel sidebar region');\n\n        // Check if we have all info needed to render\n        if (this.props.currentTeam == null || this.props.currentUser == null) {\n            return (<div/>);\n        }\n\n        this.badgesActive = false;\n\n        // keep track of the first and last unread channels so we can use them to set the unread indicators\n        this.firstUnreadChannel = null;\n        this.lastUnreadChannel = null;\n\n        let showChannelModal = false;\n        if (this.state.newChannelModalType !== '') {\n            showChannelModal = true;\n        }\n\n        const above = (\n            <FormattedMessage\n                id='sidebar.unreads'\n                defaultMessage='More unreads'\n            />\n        );\n\n        const below = (\n            <FormattedMessage\n                id='sidebar.unreads'\n                defaultMessage='More unreads'\n            />\n        );\n\n        let moreDirectChannelsModal;\n        if (this.state.showDirectChannelsModal) {\n            moreDirectChannelsModal = (\n                <MoreDirectChannels\n                    onModalDismissed={this.hideMoreDirectChannelsModal}\n                    isExistingChannel={false}\n                />\n            );\n        }\n\n        let moreChannelsModal;\n        if (this.state.showMoreChannelsModal) {\n            moreChannelsModal = (\n                <MoreChannels\n                    onModalDismissed={this.hideMoreChannelsModal}\n                    handleNewChannel={() => {\n                        this.hideMoreChannelsModal();\n                        this.showNewChannelModal(Constants.OPEN_CHANNEL);\n                    }}\n                    morePublicChannelsModalType={this.state.morePublicChannelsModalType}\n                />\n            );\n        }\n\n        let quickSwitchText = null;\n        if (channelSwitcherOption) {\n            let quickSwitchTextShortcutId = t('quick_switch_modal.channelsShortcut.windows');\n            let quickSwitchTextShortcutDefault = '- CTRL+K';\n            if (Utils.isMac()) {\n                quickSwitchTextShortcutId = t('quick_switch_modal.channelsShortcut.mac');\n                quickSwitchTextShortcutDefault = '- K';\n            }\n\n            const quickSwitchTextShortcut = (\n                <span className='switch__shortcut hidden-xs'>\n                    <FormattedMessage\n                        id={quickSwitchTextShortcutId}\n                        defaultMessage={quickSwitchTextShortcutDefault}\n                    />\n                </span>\n            );\n\n            quickSwitchText = (\n                <div className='sidebar__switcher'>\n                    <button\n                        id='sidebarSwitcherButton'\n                        className='btn btn-link'\n                        onClick={this.openQuickSwitcher}\n                    >\n                        <FormattedMessage\n                            id={'channel_switch_modal.title'}\n                            defaultMessage='Switch Channels'\n                        />\n                        {quickSwitchTextShortcut}\n                    </button>\n                </div>\n            );\n        }\n\n        let morePublicDirectChannelsModal;\n        if (this.state.showMorePublicChannelsModal) {\n            morePublicDirectChannelsModal = (\n                <MorePublicDirectChannels\n                    onModalDismissed={this.hideMorePublicDirectChannelsModal}\n                    handleNewChannel={this.onHandleNewChannel}\n                    isExistingChannel={false}\n                />\n            );\n        }\n\n        return (\n            <div\n                className={classNames('sidebar--left', {'move--right': this.props.isOpen && Utils.isMobile()})}\n                id='sidebar-left'\n                key='sidebar-left'\n            >\n                <NewChannelFlow\n                    show={showChannelModal}\n                    canCreatePublicChannel={this.props.canCreatePublicChannel}\n                    canCreatePrivateChannel={this.props.canCreatePrivateChannel}\n                    channelType={this.state.newChannelModalType}\n                    onModalDismissed={this.hideNewChannelModal}\n                />\n                {morePublicDirectChannelsModal}\n                {moreDirectChannelsModal}\n                {moreChannelsModal}\n\n                <SidebarHeader/>\n\n                <div className='sidebar--left__icons'>\n                    <Pluggable pluggableName='LeftSidebarHeader'/>\n                </div>\n\n                <div\n                    id='lhsList'\n                    role='application'\n                    aria-label={ariaLabel}\n                    tabIndex='-1'\n                    className='sidebar--left__list a11y__region'\n                    data-a11y-sort-order='6'\n                >\n                    <UnreadChannelIndicator\n                        name='Top'\n                        show={this.state.showTopUnread}\n                        onClick={this.scrollToFirstUnreadChannel}\n                        extraClass='nav-pills__unread-indicator-top'\n                        content={above}\n                    />\n                    <UnreadChannelIndicator\n                        name='Bottom'\n                        show={this.state.showBottomUnread}\n                        onClick={this.scrollToLastUnreadChannel}\n                        extraClass='nav-pills__unread-indicator-bottom'\n                        content={below}\n                    />\n\n                    {this.renderOrderedChannels()}\n                </div>\n                {quickSwitchText}\n            </div>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\n\nimport {savePreferences} from 'mattermost-redux/actions/preferences';\n\nimport {\n    getCurrentChannelId,\n    getChannelsNameMapInCurrentTeam,\n    makeGetChannel,\n    shouldHideDefaultChannel,\n    getRedirectChannelNameForTeam,\n} from 'mattermost-redux/selectors/entities/channels';\nimport {getMyChannelMemberships} from 'mattermost-redux/selectors/entities/common';\nimport {getCurrentTeamId} from 'mattermost-redux/selectors/entities/teams';\nimport {getUserIdsInChannels, getUser} from 'mattermost-redux/selectors/entities/users';\nimport {getInt, getTeammateNameDisplaySetting} from 'mattermost-redux/selectors/entities/preferences';\nimport {getConfig} from 'mattermost-redux/selectors/entities/general';\nimport {isChannelMuted, isFavoriteChannel} from 'mattermost-redux/utils/channel_utils';\n\nimport {displayUsername} from 'mattermost-redux/utils/user_utils';\n\nimport {Constants, NotificationLevels, StoragePrefixes} from 'utils/constants';\n\nimport {leaveChannel} from 'actions/views/channel';\nimport {open as openLhs} from 'actions/views/lhs.js';\nimport {getPostDraft} from 'selectors/rhs';\n\nimport SidebarChannel from './sidebar_channel.jsx';\n\nfunction makeMapStateToProps() {\n    const getChannel = makeGetChannel();\n\n    return (state, ownProps) => {\n        const channelId = ownProps.channelId;\n\n        const config = getConfig(state);\n        const currentChannelId = getCurrentChannelId(state);\n        const channel = getChannel(state, {id: channelId}) || {};\n        const draft = channel.id ? getPostDraft(state, StoragePrefixes.DRAFT, channel.id) : false;\n\n        const enableTutorial = config.EnableTutorial === 'true';\n        const tutorialStep = getInt(state, Constants.Preferences.TUTORIAL_STEP, ownProps.currentUserId, Constants.TutorialSteps.FINISHED);\n        const channelsByName = getChannelsNameMapInCurrentTeam(state);\n        const memberIds = getUserIdsInChannels(state);\n\n        let membersCount = 0;\n        if (memberIds && memberIds[channel.id]) {\n            membersCount = memberIds[channel.id].size;\n            if (memberIds[channel.id].has(ownProps.currentUserId)) {\n                membersCount--;\n            }\n        }\n\n        const member = getMyChannelMemberships(state)[channelId];\n\n        let unreadMentions = 0;\n        let unreadMsgs = 0;\n        let showUnreadForMsgs = true;\n        if (member) {\n            unreadMentions = member.mention_count;\n\n            if (channel) {\n                unreadMsgs = Math.max(channel.total_msg_count - member.msg_count, 0);\n            }\n\n            if (member.notify_props) {\n                showUnreadForMsgs = member.notify_props.mark_unread !== NotificationLevels.MENTION;\n            }\n        }\n\n        const teammateNameDisplay = getTeammateNameDisplaySetting(state);\n        let teammate = null;\n        let channelTeammateId = '';\n        let channelTeammateDeletedAt = 0;\n        let channelTeammateUsername = '';\n        let channelTeammateIsBot = false;\n        let channelDisplayName = channel.display_name;\n        if (channel.type === Constants.DM_CHANNEL) {\n            teammate = getUser(state, channel.teammate_id);\n            if (teammate) {\n                channelTeammateId = teammate.id;\n                channelTeammateDeletedAt = teammate.delete_at;\n                channelTeammateUsername = teammate.username;\n                channelTeammateIsBot = teammate.is_bot;\n            }\n\n            channelDisplayName = displayUsername(teammate, teammateNameDisplay, false);\n        }\n\n        let shouldHideChannel = false;\n        if (\n            channel.name === Constants.DEFAULT_CHANNEL &&\n            !ownProps.active &&\n            shouldHideDefaultChannel(state, channel) &&\n            !isFavoriteChannel(state.entities.preferences.myPreferences, channel.id)\n        ) {\n            shouldHideChannel = true;\n        }\n\n        return {\n            config,\n            channelId,\n            channelName: channel.name,\n            channelDisplayName,\n            channelType: channel.type,\n            channelStatus: channel.status,\n            channelFake: channel.fake,\n            channelMuted: isChannelMuted(member),\n            channelStringified: channel.fake && JSON.stringify(channel),\n            channelTeammateId,\n            channelTeammateUsername,\n            channelTeammateDeletedAt,\n            channelTeammateIsBot,\n            hasDraft: draft && Boolean(draft.message.trim() || draft.fileInfos.length || draft.uploadsInProgress.length) && currentChannelId !== channel.id,\n            showTutorialTip: enableTutorial && tutorialStep === Constants.TutorialSteps.CHANNEL_POPOVER,\n            townSquareDisplayName: channelsByName[Constants.DEFAULT_CHANNEL] && channelsByName[Constants.DEFAULT_CHANNEL].display_name,\n            offTopicDisplayName: channelsByName[Constants.OFFTOPIC_CHANNEL] && channelsByName[Constants.OFFTOPIC_CHANNEL].display_name,\n            showUnreadForMsgs,\n            unreadMsgs,\n            unreadMentions,\n            membersCount,\n            shouldHideChannel,\n            channelIsArchived: channel.delete_at !== 0,\n            redirectChannel: getRedirectChannelNameForTeam(state, getCurrentTeamId(state)),\n        };\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            savePreferences,\n            leaveChannel,\n            openLhs,\n        }, dispatch),\n    };\n}\n\nexport default connect(makeMapStateToProps, mapDispatchToProps, null, {withRef: true})(SidebarChannel);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {intlShape} from 'react-intl';\nimport PropTypes from 'prop-types';\n\nimport {browserHistory} from 'utils/browser_history';\nimport {Constants} from 'utils/constants';\nimport {trackEvent} from 'actions/diagnostics_actions.jsx';\nimport * as GlobalActions from 'actions/global_actions.jsx';\nimport SidebarChannelButtonOrLink from '../sidebar_channel_button_or_link/sidebar_channel_button_or_link.jsx';\nimport SidebarTutorialTip from '../sidebar_tutorial_tip.jsx';\n\nexport default class SidebarChannel extends React.PureComponent {\n    static propTypes = {\n\n        /**\n         * Global config object\n         */\n        config: PropTypes.object.isRequired,\n\n        /**\n         * Channel id\n         */\n        channelId: PropTypes.string.isRequired,\n\n        /**\n         * Channel name\n         */\n        channelName: PropTypes.string.isRequired,\n\n        /**\n         * Channel display name\n         */\n        channelDisplayName: PropTypes.string.isRequired,\n\n        /**\n         * Channel is muted\n         */\n        channelMuted: PropTypes.bool,\n\n        /**\n         * Channel type\n         */\n        channelType: PropTypes.string.isRequired,\n\n        /**\n         * Channel status\n         */\n        channelStatus: PropTypes.string,\n\n        /**\n         * Channel is fake\n         */\n        channelFake: PropTypes.bool,\n\n        /**\n         * Serialized channel information (for fake channels)\n         */\n        channelStringified: PropTypes.string,\n\n        /**\n         * Teammate id (for direct messages)\n         */\n        channelTeammateId: PropTypes.string,\n\n        /**\n         * Teammate username (for direct messages)\n         */\n        channelTeammateUsername: PropTypes.string,\n\n        /**\n         * Teammate delete at date (for direct messages)\n         */\n        channelTeammateDeletedAt: PropTypes.number,\n\n        /**\n         * Teammate is_bot (for direct messages)\n         */\n        channelTeammateIsBot: PropTypes.bool,\n\n        /**\n         * Whether the channel contains a draft in the center channel\n         */\n        hasDraft: PropTypes.bool.isRequired,\n\n        /**\n         * Whether or not to mark the channel as unread when it has unread messages and no mentions\n         */\n        showUnreadForMsgs: PropTypes.bool.isRequired,\n\n        /**\n         * Number of unread messages\n         */\n        unreadMsgs: PropTypes.number.isRequired,\n\n        /**\n         * Number of unread mentions\n         */\n        unreadMentions: PropTypes.number.isRequired,\n\n        /**\n         * Set if the channel is the current active channel\n         */\n        active: PropTypes.bool.isRequired,\n\n        /**\n         * Current team name\n         */\n        currentTeamName: PropTypes.string.isRequired,\n\n        /**\n         * Current user id\n         */\n        currentUserId: PropTypes.string.isRequired,\n\n        /**\n         * Set if the tutorial must be shown\n         */\n        showTutorialTip: PropTypes.bool.isRequired,\n\n        /**\n         * TownSquare (default channel) display name\n         */\n        townSquareDisplayName: PropTypes.string,\n\n        /**\n         * OffTopic (default channel) display name\n         */\n        offTopicDisplayName: PropTypes.string,\n\n        /**\n         * Number of members\n         */\n        membersCount: PropTypes.number.isRequired,\n\n        /**\n         * Flag if channel should be hidden in sidebar\n         */\n        shouldHideChannel: PropTypes.bool.isRequired,\n\n        channelIsArchived: PropTypes.bool.isRequired,\n\n        redirectChannel: PropTypes.string.isRequired,\n\n        actions: PropTypes.shape({\n            savePreferences: PropTypes.func.isRequired,\n            leaveChannel: PropTypes.func.isRequired,\n            openLhs: PropTypes.func.isRequired,\n        }).isRequired,\n    }\n\n    static contextTypes = {\n        intl: intlShape.isRequired,\n    }\n\n    isLeaving = false;\n\n    handleLeavePublicChannel = () => {\n        this.props.actions.leaveChannel(this.props.channelId);\n        trackEvent('ui', 'ui_public_channel_x_button_clicked');\n    }\n\n    handleLeavePrivateChannel = () => {\n        GlobalActions.showLeavePrivateChannelModal({id: this.props.channelId, display_name: this.props.channelDisplayName});\n        trackEvent('ui', 'ui_private_channel_x_button_clicked');\n    }\n\n    handleLeaveDirectChannel = () => {\n        if (!this.isLeaving) {\n            this.isLeaving = true;\n\n            let id;\n            let category;\n            if (this.props.channelType === Constants.DM_CHANNEL) {\n                id = this.props.channelTeammateId;\n                category = Constants.Preferences.CATEGORY_DIRECT_CHANNEL_SHOW;\n            } else {\n                id = this.props.channelId;\n                category = Constants.Preferences.CATEGORY_GROUP_CHANNEL_SHOW;\n            }\n\n            const currentUserId = this.props.currentUserId;\n            this.props.actions.savePreferences(currentUserId, [{user_id: currentUserId, category, name: id, value: 'false'}]).then(\n                () => {\n                    this.isLeaving = false;\n                }\n            );\n\n            trackEvent('ui', 'ui_direct_channel_x_button_clicked');\n        }\n\n        if (this.props.active) {\n            browserHistory.push(`/${this.props.currentTeamName}/channels/${this.props.redirectChannel}`);\n        }\n    }\n\n    showChannelAsUnread = () => {\n        return this.props.unreadMentions > 0 || (this.props.unreadMsgs > 0 && this.props.showUnreadForMsgs);\n    };\n\n    render = () => {\n        if (this.props.channelIsArchived && !this.props.active) {\n            return null;\n        }\n        if (!this.props.channelDisplayName || !this.props.channelType) {\n            return (<div/>);\n        }\n\n        let closeHandler = null;\n        if (!this.showChannelAsUnread()) {\n            if (this.props.shouldHideChannel) {\n                return '';\n            }\n            if (this.props.channelType === Constants.DM_CHANNEL || this.props.channelType === Constants.GM_CHANNEL) {\n                closeHandler = this.handleLeaveDirectChannel;\n            } else if (this.props.config.EnableXToLeaveChannelsFromLHS === 'true') {\n                if (this.props.channelType === Constants.OPEN_CHANNEL && this.props.channelName !== Constants.DEFAULT_CHANNEL) {\n                    closeHandler = this.handleLeavePublicChannel;\n                } else if (this.props.channelType === Constants.PRIVATE_CHANNEL) {\n                    closeHandler = this.handleLeavePrivateChannel;\n                }\n            }\n        }\n\n        let linkClass = '';\n        if (this.props.active) {\n            linkClass = 'active';\n        }\n\n        let rowClass = 'sidebar-item';\n        let badge = false;\n        if (this.showChannelAsUnread()) {\n            rowClass += ' unread-title';\n        }\n\n        if (this.props.unreadMentions > 0) {\n            rowClass += ' has-badge';\n\n            badge = true;\n        }\n\n        if (this.props.channelMuted) {\n            rowClass += ' muted';\n        }\n\n        if (closeHandler && !badge) {\n            rowClass += ' has-close';\n        }\n\n        let tutorialTip = null;\n        if (this.props.showTutorialTip && this.props.channelName === Constants.DEFAULT_CHANNEL) {\n            tutorialTip = (\n                <SidebarTutorialTip\n                    townSquareDisplayName={this.props.townSquareDisplayName}\n                    offTopicDisplayName={this.props.offTopicDisplayName}\n                />\n            );\n            this.props.actions.openLhs();\n        }\n\n        let link = '';\n        if (this.props.channelFake) {\n            link = `/${this.props.currentTeamName}/channels/${this.props.channelName}?fakechannel=${encodeURIComponent(this.props.channelStringified)}`;\n        } else if (this.props.channelType === Constants.DM_CHANNEL) {\n            link = `/${this.props.currentTeamName}/messages/@${this.props.channelTeammateUsername}`;\n        } else if (this.props.channelType === Constants.GM_CHANNEL) {\n            link = `/${this.props.currentTeamName}/messages/${this.props.channelName}`;\n        } else {\n            link = `/${this.props.currentTeamName}/channels/${this.props.channelName}`;\n        }\n\n        let displayName = '';\n        if (this.props.currentUserId === this.props.channelTeammateId) {\n            displayName = this.context.intl.formatMessage({\n                id: 'sidebar.directchannel.you',\n                defaultMessage: '{displayname} (you)',\n            }, {\n                displayname: this.props.channelDisplayName,\n            });\n        } else {\n            displayName = this.props.channelDisplayName;\n        }\n\n        return (\n            <li\n                key={this.props.channelName}\n                ref={'channel'}\n                className={linkClass}\n            >\n                <SidebarChannelButtonOrLink\n                    link={link}\n                    rowClass={rowClass}\n                    channelId={this.props.channelId}\n                    channelName={this.props.channelName}\n                    channelStatus={this.props.channelStatus}\n                    channelType={this.props.channelType}\n                    displayName={displayName}\n                    handleClose={closeHandler}\n                    hasDraft={this.props.hasDraft}\n                    badge={badge}\n                    showUnreadForMsgs={this.props.showUnreadForMsgs}\n                    unreadMentions={this.props.unreadMentions}\n                    unreadMsgs={this.props.unreadMsgs}\n                    membersCount={this.props.membersCount}\n                    teammateId={this.props.channelTeammateId}\n                    teammateDeletedAt={this.props.channelTeammateDeletedAt}\n                    teammateIsBot={this.props.channelTeammateIsBot}\n                    channelIsArchived={this.props.channelIsArchived}\n                />\n                {tutorialTip}\n            </li>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport {Link} from 'react-router-dom';\nimport {OverlayTrigger, Tooltip} from 'react-bootstrap';\n\nimport {localizeMessage} from 'utils/utils.jsx';\nimport {browserHistory} from 'utils/browser_history';\nimport {mark, trackEvent} from 'actions/diagnostics_actions.jsx';\nimport {isDesktopApp} from 'utils/user_agent';\nimport Constants from 'utils/constants';\nimport CopyUrlContextMenu from 'components/copy_url_context_menu';\n\nimport SidebarChannelButtonOrLinkIcon from './sidebar_channel_button_or_link_icon.jsx';\nimport SidebarChannelButtonOrLinkCloseButton from './sidebar_channel_button_or_link_close_button.jsx';\n\nexport default class SidebarChannelButtonOrLink extends React.PureComponent {\n    static propTypes = {\n        link: PropTypes.string.isRequired,\n        rowClass: PropTypes.string.isRequired,\n        channelType: PropTypes.string.isRequired,\n        channelId: PropTypes.string.isRequired,\n        channelName: PropTypes.string.isRequired,\n        displayName: PropTypes.string.isRequired,\n        channelStatus: PropTypes.string,\n        handleClose: PropTypes.func,\n        hasDraft: PropTypes.bool.isRequired,\n        badge: PropTypes.bool,\n        membersCount: PropTypes.number.isRequired,\n        showUnreadForMsgs: PropTypes.bool.isRequired,\n        unreadMsgs: PropTypes.number.isRequired,\n        unreadMentions: PropTypes.number.isRequired,\n        teammateId: PropTypes.string,\n        teammateDeletedAt: PropTypes.number,\n        teammateIsBot: PropTypes.bool,\n        channelIsArchived: PropTypes.bool.isRequired,\n    }\n\n    constructor(props) {\n        super(props);\n        this.gmItemRef = React.createRef();\n        this.displayNameRef = React.createRef();\n    }\n\n    state = {\n        showTooltip: false,\n    }\n\n    componentDidMount() {\n        this.enableToolTipIfNeeded();\n    }\n\n    componentDidUpdate(prevProps) {\n        if (prevProps.displayName !== this.props.displayName) {\n            this.enableToolTipIfNeeded();\n        }\n    }\n\n    enableToolTipIfNeeded = () => {\n        const element = this.displayNameRef.current;\n        if (element && element.offsetWidth < element.scrollWidth) {\n            this.setState({showTooltip: true});\n        } else {\n            this.setState({showTooltip: false});\n        }\n    }\n\n    trackChannelSelectedEvent = () => {\n        mark('SidebarChannelLink#click');\n        trackEvent('ui', 'ui_channel_selected');\n    }\n\n    handleClick = () => {\n        this.trackChannelSelectedEvent();\n        browserHistory.push(this.props.link);\n    }\n\n    removeTooltipLink = () => {\n        // Bootstrap adds the attr dynamically, removing it to prevent a11y readout\n        this.gmItemRef.current.removeAttribute('aria-describedby');\n    }\n\n    render = () => {\n        let badge = null;\n        if (this.props.badge) {\n            badge = (\n                <span\n                    id='unreadMentions'\n                    className='badge'\n                >\n                    {this.props.unreadMentions}\n                </span>\n            );\n        }\n\n        const content = (\n            <React.Fragment>\n                <SidebarChannelButtonOrLinkIcon\n                    channelStatus={this.props.channelStatus}\n                    channelType={this.props.channelType}\n                    channelIsArchived={this.props.channelIsArchived}\n                    hasDraft={this.props.hasDraft}\n                    membersCount={this.props.membersCount}\n                    teammateId={this.props.teammateId}\n                    teammateDeletedAt={this.props.teammateDeletedAt}\n                    teammateIsBot={this.props.teammateIsBot}\n                />\n                <span className='sidebar-item__name'>\n                    <span ref={this.displayNameRef}>\n                        {this.props.displayName}\n                    </span>\n                </span>\n                {badge}\n                <SidebarChannelButtonOrLinkCloseButton\n                    handleClose={this.props.handleClose}\n                    channelId={this.props.channelId}\n                    channelType={this.props.channelType}\n                    teammateId={this.props.teammateId}\n                    badge={this.props.badge}\n                />\n            </React.Fragment>\n        );\n\n        let element;\n        let ariaLabel = this.props.displayName;\n\n        if (this.props.channelType === Constants.OPEN_CHANNEL) {\n            ariaLabel += ` ${localizeMessage('accessibility.sidebar.types.public', 'public channel')}`;\n        } else if (this.props.channelType === Constants.PRIVATE_CHANNEL) {\n            ariaLabel += ` ${localizeMessage('accessibility.sidebar.types.private', 'private channel')}`;\n        }\n\n        if (this.props.unreadMentions === 1) {\n            ariaLabel += ` ${this.props.unreadMentions} ${localizeMessage('accessibility.sidebar.types.mention', 'mention')}`;\n        } else if (this.props.unreadMentions > 1) {\n            ariaLabel += ` ${this.props.unreadMentions} ${localizeMessage('accessibility.sidebar.types.mentions', 'mentions')}`;\n        }\n\n        if (this.props.unreadMsgs > 0 && this.props.showUnreadForMsgs && this.props.unreadMentions === 0) {\n            ariaLabel += ` ${localizeMessage('accessibility.sidebar.types.unread', 'unread')}`;\n        }\n\n        ariaLabel = ariaLabel.toLowerCase();\n\n        if (isDesktopApp()) {\n            element = (\n                <div>\n                    <CopyUrlContextMenu\n                        link={this.props.link}\n                        menuId={this.props.channelId}\n                    >\n                        <button\n                            className={'btn btn-link ' + this.props.rowClass}\n                            aria-label={ariaLabel}\n                            onClick={this.handleClick}\n                        >\n                            {content}\n                        </button>\n                    </CopyUrlContextMenu>\n                </div>\n            );\n        } else {\n            element = (\n                <Link\n                    id={`sidebarItem_${this.props.channelName}`}\n                    aria-label={ariaLabel}\n                    to={this.props.link}\n                    className={this.props.rowClass}\n                    onClick={this.trackChannelSelectedEvent}\n                >\n                    {content}\n                </Link>\n            );\n        }\n\n        if (this.state.showTooltip) {\n            const displayNameToolTip = (\n                <Tooltip\n                    id='channel-displayname__tooltip'\n                    style={style.channelTooltip}\n                >\n                    {this.props.displayName}\n                </Tooltip>\n            );\n            element = (\n                <OverlayTrigger\n                    delayShow={Constants.OVERLAY_TIME_DELAY}\n                    placement='top'\n                    overlay={displayNameToolTip}\n                    onEntering={this.removeTooltipLink}\n                >\n                    <div ref={this.gmItemRef}>\n                        {element}\n                    </div>\n                </OverlayTrigger>\n            );\n        }\n        return element;\n    }\n}\n\nconst style = {\n    channelTooltip: {\n        paddingLeft: '8px',\n        maxWidth: '228px'},\n};\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {OverlayTrigger, Tooltip} from 'react-bootstrap';\nimport {FormattedMessage} from 'react-intl';\nimport PropTypes from 'prop-types';\n\nimport {Constants} from 'utils/constants';\n\nexport default class SidebarChannelButtonOrLinkCloseButton extends React.PureComponent {\n    static propTypes = {\n        handleClose: PropTypes.func,\n        channelId: PropTypes.string.isRequired,\n        channelType: PropTypes.string.isRequired,\n        teammateId: PropTypes.string,\n        badge: PropTypes.bool,\n    }\n\n    handleClose = (e) => {\n        e.stopPropagation();\n        e.preventDefault();\n        this.props.handleClose();\n    }\n\n    render() {\n        let closeButton = null;\n\n        if (this.props.handleClose && !this.props.badge) {\n            let removeTooltip = (\n                <Tooltip id='remove-dm-tooltip'>\n                    <FormattedMessage\n                        id='sidebar.removeList'\n                        defaultMessage='Remove from list'\n                    />\n                </Tooltip>\n            );\n\n            if (this.props.channelType === Constants.OPEN_CHANNEL || this.props.channelType === Constants.PRIVATE_CHANNEL) {\n                removeTooltip = (\n                    <Tooltip id='remove-dm-tooltip'>\n                        <FormattedMessage\n                            id='sidebar.leave'\n                            defaultMessage='Leave channel'\n                        />\n                    </Tooltip>\n                );\n            }\n\n            closeButton = (\n                <OverlayTrigger\n                    delayShow={1000}\n                    placement='top'\n                    overlay={removeTooltip}\n                >\n                    <span\n                        onClick={this.handleClose}\n                        className='btn-close'\n                    >\n                        {''}\n                    </span>\n                </OverlayTrigger>\n            );\n        }\n        return closeButton;\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport {Constants} from 'utils/constants';\n\nimport ArchiveIcon from 'components/widgets/icons/archive_icon';\nimport DraftIcon from 'components/widgets/icons/draft_icon';\nimport GlobeIcon from 'components/widgets/icons/globe_icon';\nimport LockIcon from 'components/widgets/icons/lock_icon';\nimport StatusIcon from 'components/status_icon.jsx';\nimport BotIcon from 'components/widgets/icons/bot_icon.jsx';\n\nexport default class SidebarChannelButtonOrLinkIcon extends React.PureComponent {\n    static propTypes = {\n        channelIsArchived: PropTypes.bool.isRequired,\n        channelType: PropTypes.string.isRequired,\n        channelStatus: PropTypes.string,\n        hasDraft: PropTypes.bool.isRequired,\n        membersCount: PropTypes.number,\n        teammateId: PropTypes.string,\n        teammateDeletedAt: PropTypes.number,\n        teammateIsBot: PropTypes.bool,\n    };\n\n    render() {\n        let icon = null;\n        if (this.props.channelIsArchived) {\n            icon = (\n                <ArchiveIcon className='icon icon__archive'/>\n            );\n        } else if (this.props.hasDraft) {\n            icon = (\n                <DraftIcon className='icon icon__draft'/>\n            );\n        } else if (this.props.channelType === Constants.OPEN_CHANNEL) {\n            icon = (\n                <GlobeIcon className='icon icon__globe'/>\n            );\n        } else if (this.props.channelType === Constants.PRIVATE_CHANNEL) {\n            icon = (\n                <LockIcon className='icon icon__lock'/>\n            );\n        } else if (this.props.channelType === Constants.GM_CHANNEL) {\n            icon = <div className='status status--group'>{this.props.membersCount}</div>;\n        } else if (this.props.channelType === Constants.DM_CHANNEL) {\n            if (this.props.teammateId && this.props.teammateDeletedAt) {\n                icon = (\n                    <ArchiveIcon className='icon icon__archive'/>\n                );\n            } else if (this.props.teammateId && this.props.teammateIsBot) {\n                icon = (\n                    <BotIcon className='icon icon__bot'/>\n                );\n            } else {\n                icon = (\n                    <StatusIcon\n                        type='avatar'\n                        status={this.props.channelStatus}\n                    />\n                );\n            }\n        }\n        return icon;\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport {FormattedMessage} from 'react-intl';\n\nimport {Constants} from 'utils/constants';\nimport TutorialTip from 'components/tutorial/tutorial_tip';\n\nimport FormattedMarkdownMessage from 'components/formatted_markdown_message.jsx';\n\nexport default class SidebarTutorialTip extends React.PureComponent {\n    static propTypes = {\n        townSquareDisplayName: PropTypes.string,\n        offTopicDisplayName: PropTypes.string,\n    }\n\n    render = () => {\n        const screens = [];\n\n        let townSquareDisplayName = Constants.DEFAULT_CHANNEL_UI_NAME;\n        if (this.props.townSquareDisplayName) {\n            townSquareDisplayName = this.props.townSquareDisplayName;\n        }\n\n        let offTopicDisplayName = Constants.OFFTOPIC_CHANNEL_UI_NAME;\n        if (this.props.offTopicDisplayName) {\n            offTopicDisplayName = this.props.offTopicDisplayName;\n        }\n\n        screens.push(\n            <div>\n                <h4>\n                    <FormattedMessage\n                        id='sidebar.tutorialScreen1.title'\n                        defaultMessage='Channels'\n                    />\n                </h4>\n                <p>\n                    <FormattedMarkdownMessage\n                        id='sidebar.tutorialScreen1.body'\n                        defaultMessage={'**Channels** organize conversations across different topics. They\\'re open to everyone on your team. To send private communications use **Direct Messages** for a single person or **Private Channels** for multiple people.'}\n                    />\n                </p>\n            </div>\n        );\n\n        screens.push(\n            <div>\n                <h4>\n                    <FormattedMessage\n                        id='sidebar.tutorialScreen2.title'\n                        defaultMessage='\"{townsquare}\" and \"{offtopic}\" channels'\n                        values={{\n                            townsquare: townSquareDisplayName,\n                            offtopic: offTopicDisplayName,\n                        }}\n                    />\n                </h4>\n                <p>\n                    <FormattedMessage\n                        id='sidebar.tutorialScreen2.body1'\n                        defaultMessage='Here are two public channels to start:'\n                    />\n                </p>\n                <p>\n                    <FormattedMarkdownMessage\n                        id='sidebar.tutorialScreen2.body2'\n                        defaultMessage='**{townsquare}** is a place for team-wide communication. Everyone in your team is a member of this channel.'\n                        values={{\n                            townsquare: townSquareDisplayName,\n                        }}\n                    />\n                </p>\n                <p>\n                    <FormattedMarkdownMessage\n                        id='sidebar.tutorialScreen2.body3'\n                        defaultMessage='**{offtopic}** is a place for fun and humor outside of work-related channels. You and your team can decide what other channels to create.'\n                        values={{\n                            offtopic: offTopicDisplayName,\n                        }}\n                    />\n                </p>\n            </div>\n        );\n\n        screens.push(\n            <div>\n                <h4>\n                    <FormattedMessage\n                        id='sidebar.tutorialScreen3.title'\n                        defaultMessage='Creating and Joining Channels'\n                    />\n                </h4>\n                <p>\n                    <FormattedMarkdownMessage\n                        id='sidebar.tutorialScreen3.body1'\n                        defaultMessage='Click **\"More...\"** to create a new channel or join an existing one.'\n                    />\n                </p>\n                <p>\n                    <FormattedMarkdownMessage\n                        id='sidebar.tutorialScreen3.body2'\n                        defaultMessage='You can also create a new channel by clicking the **\"+\" symbol** next to the public or private channel header.'\n                    />\n                </p>\n            </div>\n        );\n\n        return (\n            <TutorialTip\n                placement='right'\n                screens={screens}\n                overlayClass='tip-overlay--sidebar'\n                diagnosticsTag='tutorial_tip_2_channels'\n            />\n        );\n    }\n}\n\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\n\nimport {toggleEmbedVisibility} from 'actions/post_actions';\n\nimport {getIsRhsOpen} from 'selectors/rhs';\n\nimport SingleImageView from 'components/single_image_view/single_image_view.jsx';\n\nfunction mapStateToProps(state) {\n    const isRhsOpen = getIsRhsOpen(state);\n\n    return {\n        isRhsOpen,\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            toggleEmbedVisibility,\n        }, dispatch),\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SingleImageView);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport {getFilePreviewUrl, getFileUrl} from 'mattermost-redux/utils/file_utils';\n\nimport SizeAwareImage from 'components/size_aware_image';\nimport {FileTypes} from 'utils/constants';\nimport {\n    getFileType,\n} from 'utils/utils';\n\nimport ViewImageModal from 'components/view_image';\n\nconst PREVIEW_IMAGE_MIN_DIMENSION = 50;\n\nexport default class SingleImageView extends React.PureComponent {\n    static propTypes = {\n        postId: PropTypes.string.isRequired,\n        fileInfo: PropTypes.object.isRequired,\n        isRhsOpen: PropTypes.bool.isRequired,\n        isEmbedVisible: PropTypes.bool,\n        actions: PropTypes.shape({\n            toggleEmbedVisibility: PropTypes.func.isRequired,\n        }).isRequired,\n    };\n\n    static defaultProps = {\n        fileInfo: {},\n    };\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            loaded: false,\n            showPreviewModal: false,\n            dimensions: {\n                width: props.fileInfo.width,\n                height: props.fileInfo.height,\n            },\n        };\n    }\n\n    componentDidMount() {\n        this.mounted = true;\n    }\n\n    static getDerivedStateFromProps(props, state) {\n        if ((props.fileInfo.width !== state.dimensions.width) || props.fileInfo.height !== state.dimensions.height) {\n            return {\n                dimensions: {\n                    width: props.fileInfo.width,\n                    height: props.fileInfo.height,\n                },\n            };\n        }\n        return null;\n    }\n\n    componentWillUnmount() {\n        this.mounted = false;\n    }\n\n    imageLoaded = () => {\n        if (this.mounted) {\n            this.setState({loaded: true});\n        }\n    }\n\n    handleImageClick = (e) => {\n        e.preventDefault();\n        this.setState({showPreviewModal: true});\n    }\n\n    showPreviewModal = () => {\n        this.setState({showPreviewModal: false});\n    }\n\n    toggleEmbedVisibility = () => {\n        this.props.actions.toggleEmbedVisibility(this.props.postId);\n    }\n\n    render() {\n        const {fileInfo} = this.props;\n        const {\n            loaded,\n        } = this.state;\n\n        const {has_preview_image: hasPreviewImage, id} = fileInfo;\n        const fileURL = getFileUrl(id);\n        const previewURL = hasPreviewImage ? getFilePreviewUrl(id) : fileURL;\n\n        const previewHeight = fileInfo.height;\n        const previewWidth = fileInfo.width;\n\n        let minPreviewClass = '';\n        if (\n            previewWidth < PREVIEW_IMAGE_MIN_DIMENSION ||\n            previewHeight < PREVIEW_IMAGE_MIN_DIMENSION\n        ) {\n            minPreviewClass = 'min-preview ';\n\n            if (previewHeight > previewWidth) {\n                minPreviewClass += 'min-preview--portrait ';\n            }\n        }\n\n        const toggle = (\n            <button\n                key='toggle'\n                className='style--none post__embed-visibility color--link'\n                data-expanded={this.props.isEmbedVisible}\n                aria-label='Toggle Embed Visibility'\n                onClick={this.toggleEmbedVisibility}\n            />\n        );\n\n        const fileHeader = (\n            <div\n                data-testid='image-name'\n                className='image-name'\n            >\n                {toggle}\n                <div onClick={this.handleImageClick}>\n                    {fileInfo.name}\n                </div>\n            </div>\n        );\n\n        let viewImageModal;\n        let fadeInClass = '';\n\n        const fileType = getFileType(fileInfo.extension);\n        let styleIfSvgWithDimensions = {};\n        let imageContainerStyle = {};\n        let svgClass = '';\n        if (fileType === FileTypes.SVG) {\n            svgClass = 'svg';\n            if (this.state.dimensions.height) {\n                styleIfSvgWithDimensions = {\n                    width: '100%',\n                };\n            } else {\n                imageContainerStyle = {\n                    height: 350,\n                    maxWidth: '100%',\n                };\n            }\n        }\n\n        if (loaded) {\n            viewImageModal = (\n                <ViewImageModal\n                    show={this.state.showPreviewModal}\n                    onModalDismissed={this.showPreviewModal}\n                    fileInfos={[fileInfo]}\n                    postId={this.props.postId}\n                />\n            );\n\n            fadeInClass = 'image-fade-in';\n        }\n\n        return (\n            <div\n                className={`${'file-view--single'}`}\n            >\n                <div\n                    className='file__image'\n                >\n                    {fileHeader}\n                    {this.props.isEmbedVisible &&\n                    <div\n                        className='image-container'\n                        style={imageContainerStyle}\n                    >\n                        <div\n                            className={`image-loaded ${fadeInClass} ${svgClass}`}\n                            style={styleIfSvgWithDimensions}\n                        >\n                            <SizeAwareImage\n                                onClick={this.handleImageClick}\n                                className={minPreviewClass}\n                                src={previewURL}\n                                dimensions={this.state.dimensions}\n                                fileInfo={this.props.fileInfo}\n                                onImageLoaded={this.imageLoaded}\n                                showLoader={this.props.isEmbedVisible}\n                                handleSmallImageContainer={true}\n                            />\n                        </div>\n                    </div>\n                    }\n                    {viewImageModal}\n                </div>\n            </div>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport {localizeMessage} from 'utils/utils.jsx';\nimport LoadingImagePreview from 'components/loading_image_preview';\n\nconst MIN_IMAGE_SIZE = 48;\n\n// SizeAwareImage is a component used for rendering images where the dimensions of the image are important for\n// ensuring that the page is laid out correctly.\nexport default class SizeAwareImage extends React.PureComponent {\n    static propTypes = {\n\n        /*\n         * The source URL of the image\n         */\n        src: PropTypes.string.isRequired,\n\n        /*\n         * dimensions object to create empty space required to prevent scroll pop\n         */\n        dimensions: PropTypes.object,\n        fileInfo: PropTypes.object,\n\n        /*\n         * Boolean value to pass for showing a loader when image is being loaded\n         */\n        showLoader: PropTypes.bool,\n\n        /*\n         * A callback that is called as soon as the image component has a height value\n         */\n        onImageLoaded: PropTypes.func,\n\n        /*\n         * A callback that is called when image load fails\n         */\n        onImageLoadFail: PropTypes.func,\n\n        /*\n         * Fetch the onClick function\n         */\n        onClick: PropTypes.func,\n\n        /*\n         * css classes that can added to the img as well as parent div on svg for placeholder\n         */\n        className: PropTypes.string,\n\n        /*\n         * Enables the logic of surrounding small images with a bigger container div for better click/tap targeting\n         */\n        handleSmallImageContainer: PropTypes.bool,\n    }\n\n    constructor(props) {\n        super(props);\n        const {dimensions} = props;\n\n        this.state = {\n            loaded: false,\n            isSmallImage: this.dimensionsAvailable(dimensions) ? this.isSmallImage(\n                dimensions.width, dimensions.height) : false,\n        };\n\n        this.heightTimeout = 0;\n    }\n\n    componentDidMount() {\n        this.mounted = true;\n    }\n\n    componentWillUnmount() {\n        this.mounted = false;\n    }\n\n    dimensionsAvailable = (dimensions) => {\n        return dimensions && dimensions.width && dimensions.height;\n    }\n\n    isSmallImage = (width, height) => {\n        return width < MIN_IMAGE_SIZE || height < MIN_IMAGE_SIZE;\n    }\n\n    handleLoad = (event) => {\n        if (this.mounted) {\n            const image = event.target;\n            const isSmallImage = this.isSmallImage(image.naturalWidth, image.naturalHeight);\n            this.setState({\n                loaded: true,\n                error: false,\n                isSmallImage,\n                imageWidth: image.naturalWidth,\n            }, () => { // Call onImageLoaded prop only after state has already been set\n                if (this.props.onImageLoaded && image.naturalHeight) {\n                    this.props.onImageLoaded({height: image.naturalHeight, width: image.naturalWidth});\n                }\n            });\n        }\n    };\n\n    handleError = () => {\n        if (this.mounted) {\n            if (this.props.onImageLoadFail) {\n                this.props.onImageLoadFail();\n            }\n            this.setState({error: true});\n        }\n    };\n\n    onEnterKeyDown = (e) => {\n        if (e.key === 'Enter') {\n            this.props.onClick(e);\n        }\n    }\n\n    renderImageLoaderIfNeeded = () => {\n        if (!this.state.loaded && this.props.showLoader && !this.state.error) {\n            return (\n                <div style={{position: 'absolute', top: '50%', transform: 'translate(-50%, -50%)', left: '50%'}}>\n                    <LoadingImagePreview\n                        containerClass={'file__image-loading'}\n                    />\n                </div>\n            );\n        }\n        return null;\n    }\n\n    renderImageWithContainerIfNeeded = () => {\n        const {\n            fileInfo,\n            src,\n            ...props\n        } = this.props;\n\n        Reflect.deleteProperty(props, 'showLoader');\n        Reflect.deleteProperty(props, 'onImageLoaded');\n        Reflect.deleteProperty(props, 'onImageLoadFail');\n        Reflect.deleteProperty(props, 'dimensions');\n        Reflect.deleteProperty(props, 'handleSmallImageContainer');\n\n        let ariaLabelImage = localizeMessage('file_attachment.thumbnail', 'file thumbnail');\n        if (fileInfo) {\n            ariaLabelImage += ` ${fileInfo.name}`.toLowerCase();\n        }\n\n        const image = (\n            <img\n                {...props}\n                aria-label={ariaLabelImage}\n                tabIndex='0'\n                onKeyDown={this.onEnterKeyDown}\n                className={\n                    this.props.className +\n                    (this.props.handleSmallImageContainer &&\n                        this.state.isSmallImage ? ' small-image--inside-container' : '')}\n                src={src}\n                onError={this.handleError}\n                onLoad={this.handleLoad}\n            />\n        );\n\n        if (this.props.handleSmallImageContainer && this.state.isSmallImage) {\n            let className = 'small-image__container cursor--pointer a11y--active';\n            if (this.state.imageWidth < MIN_IMAGE_SIZE) {\n                className += ' small-image__container--min-width';\n            }\n\n            return (\n                <div\n                    onClick={this.props.onClick}\n                    className={className}\n                    style={this.state.imageWidth > MIN_IMAGE_SIZE ? {\n                        width: this.state.imageWidth + 2, // 2px to account for the border\n                    } : {}}\n                >\n                    {image}\n                </div>\n            );\n        }\n\n        return image;\n    }\n\n    renderImageOrPlaceholder = () => {\n        const {\n            dimensions,\n        } = this.props;\n\n        let placeHolder;\n        let imageStyleChangesOnLoad = {};\n\n        if (this.dimensionsAvailable(dimensions) && !this.state.loaded) {\n            placeHolder = (\n                <div\n                    className={`image-loading__container ${this.props.className}`}\n                    style={{maxWidth: dimensions.width}}\n                >\n                    {this.renderImageLoaderIfNeeded()}\n                    <svg\n                        xmlns='http://www.w3.org/2000/svg'\n                        viewBox={`0 0 ${dimensions.width} ${dimensions.height}`}\n                        style={{maxHeight: dimensions.height, maxWidth: dimensions.width}}\n                    />\n                </div>\n            );\n        }\n\n        //The css hack here for loading images in the background can be removed after IE11 is dropped in 5.16v\n        //We can go back to https://github.com/mattermost/mattermost-webapp/pull/2924/files\n        if (!this.state.loaded && this.dimensionsAvailable(dimensions)) {\n            imageStyleChangesOnLoad = {position: 'absolute', top: 0, height: 1, width: 1, visibility: 'hidden', overflow: 'hidden'};\n        }\n\n        return (\n            <React.Fragment>\n                {placeHolder}\n                <div\n                    className='file-preview__button'\n                    style={imageStyleChangesOnLoad}\n                >\n                    {this.renderImageWithContainerIfNeeded()}\n                </div>\n            </React.Fragment>\n        );\n    }\n\n    render() {\n        return (\n            this.renderImageOrPlaceholder()\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React, {PureComponent, ReactNode} from 'react';\n\nimport LoadingWrapper from 'components/widgets/loading/loading_wrapper';\n\ntype Props = {\n    children?: ReactNode;\n    spinning: boolean;\n    spinningText: ReactNode;\n    onClick?: (event: React.MouseEvent<HTMLButtonElement, MouseEvent>) => void;\n}\n\nexport default class SpinnerButton extends PureComponent<Props> {\n    public static defaultProps: Partial<Props> = {\n        spinning: false,\n    }\n\n    public render(): JSX.Element {\n        const {spinning, spinningText, children, ...props} = this.props; // eslint-disable-line no-use-before-define\n\n        return (\n            <button\n                className='btn btn-primary'\n                disabled={spinning}\n                {...props}\n            >\n                <LoadingWrapper\n                    loading={spinning}\n                    text={spinningText}\n                >\n                    {children}\n                </LoadingWrapper>\n            </button>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\nimport {setStatus} from 'mattermost-redux/actions/users';\nimport {Client4} from 'mattermost-redux/client';\nimport {getCurrentUser, getStatusForUserId} from 'mattermost-redux/selectors/entities/users';\nimport {Preferences} from 'mattermost-redux/constants';\nimport {get} from 'mattermost-redux/selectors/entities/preferences';\n\nimport {openModal} from 'actions/views/modals';\n\nimport StatusDropdown from 'components/status_dropdown/status_dropdown.jsx';\n\nfunction mapStateToProps(state) {\n    const currentUser = getCurrentUser(state);\n\n    if (!currentUser) {\n        return {};\n    }\n\n    const userId = currentUser.id;\n    return {\n        userId,\n        profilePicture: Client4.getProfilePictureUrl(userId, currentUser.last_picture_update),\n        autoResetPref: get(state, Preferences.CATEGORY_AUTO_RESET_MANUAL_STATUS, userId, ''),\n        status: getStatusForUserId(state, userId),\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            openModal,\n            setStatus,\n        }, dispatch),\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(StatusDropdown);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nimport {UserStatuses, ModalIdentifiers} from 'utils/constants';\nimport {localizeMessage} from 'utils/utils.jsx';\nimport ResetStatusModal from 'components/reset_status_modal';\nimport StatusIcon from 'components/status_icon.jsx';\n\nimport Avatar from 'components/widgets/users/avatar';\nimport Menu from 'components/widgets/menu/menu';\nimport MenuWrapper from 'components/widgets/menu/menu_wrapper';\n\nexport default class StatusDropdown extends React.Component {\n    static propTypes = {\n        style: PropTypes.object,\n        status: PropTypes.string,\n        userId: PropTypes.string.isRequired,\n        profilePicture: PropTypes.string,\n        autoResetPref: PropTypes.string,\n        actions: PropTypes.shape({\n            openModal: PropTypes.func.isRequired,\n            setStatus: PropTypes.func.isRequired,\n        }).isRequired,\n    }\n\n    static defaultProps = {\n        userId: '',\n        profilePicture: '',\n        status: UserStatuses.OFFLINE,\n    }\n\n    isUserOutOfOffice = () => {\n        return this.props.status === UserStatuses.OUT_OF_OFFICE;\n    }\n\n    setStatus = (status) => {\n        this.props.actions.setStatus({\n            user_id: this.props.userId,\n            status,\n        });\n    }\n\n    setOnline = (event) => {\n        event.preventDefault();\n        this.setStatus(UserStatuses.ONLINE);\n    }\n\n    setOffline = (event) => {\n        event.preventDefault();\n        this.setStatus(UserStatuses.OFFLINE);\n    }\n\n    setAway = (event) => {\n        event.preventDefault();\n        this.setStatus(UserStatuses.AWAY);\n    }\n\n    setDnd = (event) => {\n        event.preventDefault();\n        this.setStatus(UserStatuses.DND);\n    }\n\n    showStatusChangeConfirmation = (status) => {\n        const resetStatusModalData = {\n            ModalId: ModalIdentifiers.RESET_STATUS,\n            dialogType: ResetStatusModal,\n            dialogProps: {newStatus: status},\n        };\n\n        this.props.actions.openModal(resetStatusModalData);\n    };\n\n    renderProfilePicture = () => {\n        if (!this.props.profilePicture) {\n            return null;\n        }\n        return (\n            <Avatar\n                size='lg'\n                url={this.props.profilePicture}\n            />\n        );\n    }\n\n    renderDropdownIcon = () => {\n        return (\n            <FormattedMessage\n                id='generic_icons.dropdown'\n                defaultMessage='Dropdown Icon'\n            >\n                { (title) => (\n                    <i\n                        className={'fa fa-caret-down'}\n                        title={title}\n                    />)\n                }\n            </FormattedMessage>\n        );\n    }\n\n    render() {\n        const needsConfirm = this.isUserOutOfOffice() && this.props.autoResetPref === '';\n        const profilePicture = this.renderProfilePicture();\n        const dropdownIcon = this.renderDropdownIcon();\n\n        const setOnline = needsConfirm ? () => this.showStatusChangeConfirmation('online') : this.setOnline;\n        const setDnd = needsConfirm ? () => this.showStatusChangeConfirmation('dnd') : this.setDnd;\n        const setAway = needsConfirm ? () => this.showStatusChangeConfirmation('away') : this.setAway;\n        const setOffline = needsConfirm ? () => this.showStatusChangeConfirmation('offline') : this.setOffline;\n\n        return (\n            <MenuWrapper\n                onToggle={this.onToggle}\n                style={this.props.style}\n            >\n                <div className='status-wrapper status-selector'>\n                    {profilePicture}\n                    <button\n                        className='status style--none'\n                        aria-label={localizeMessage('status_dropdown.menuAriaLabel', 'set status')}\n                    >\n                        <StatusIcon\n                            status={this.props.status}\n                            button={true}\n                        />\n                    </button>\n                    <span className={'status status-edit edit'}>\n                        {dropdownIcon}\n                    </span>\n                </div>\n                <Menu ariaLabel={localizeMessage('status_dropdown.menuAriaLabel', 'set status')}>\n                    <Menu.Group>\n                        <Menu.ItemAction\n                            show={this.isUserOutOfOffice()}\n                            onClick={() => null}\n                            ariaLabel={localizeMessage('status_dropdown.set_ooo', 'Out of office').toLowerCase()}\n                            text={localizeMessage('status_dropdown.set_ooo', 'Out of office')}\n                            extraText={localizeMessage('status_dropdown.set_ooo.extra', 'Automatic Replies are enabled')}\n                        />\n                    </Menu.Group>\n                    <Menu.Group>\n                        <Menu.ItemAction\n                            onClick={setOnline}\n                            ariaLabel={localizeMessage('status_dropdown.set_online', 'Online').toLowerCase()}\n                            text={localizeMessage('status_dropdown.set_online', 'Online')}\n                        />\n                        <Menu.ItemAction\n                            onClick={setAway}\n                            ariaLabel={localizeMessage('status_dropdown.set_away', 'Away').toLowerCase()}\n                            text={localizeMessage('status_dropdown.set_away', 'Away')}\n                        />\n                        <Menu.ItemAction\n                            onClick={setDnd}\n                            ariaLabel={`${localizeMessage('status_dropdown.set_dnd', 'Do not disturb').toLowerCase()}. ${localizeMessage('status_dropdown.set_dnd.extra', 'Disables desktop, email and push notifications').toLowerCase()}`}\n                            text={localizeMessage('status_dropdown.set_dnd', 'Do not disturb')}\n                            extraText={localizeMessage('status_dropdown.set_dnd.extra', 'Disables desktop, email and push notifications')}\n                        />\n                        <Menu.ItemAction\n                            onClick={setOffline}\n                            ariaLabel={localizeMessage('status_dropdown.set_offline', 'Offline').toLowerCase()}\n                            text={localizeMessage('status_dropdown.set_offline', 'Offline')}\n                        />\n                    </Menu.Group>\n                </Menu>\n            </MenuWrapper>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport StatusAwayAvatarIcon from 'components/widgets/icons/status_away_avatar_icon';\nimport StatusAwayIcon from 'components/widgets/icons/status_away_icon';\nimport StatusDndAvatarIcon from 'components/widgets/icons/status_dnd_avatar_icon';\nimport StatusDndIcon from 'components/widgets/icons/status_dnd_icon';\nimport StatusOfflineAvatarIcon from 'components/widgets/icons/status_offline_avatar_icon';\nimport StatusOfflineIcon from 'components/widgets/icons/status_offline_icon';\nimport StatusOnlineAvatarIcon from 'components/widgets/icons/status_online_avatar_icon';\nimport StatusOnlineIcon from 'components/widgets/icons/status_online_icon';\n\nexport default class StatusIcon extends React.PureComponent {\n    static propTypes = {\n        button: PropTypes.bool,\n        status: PropTypes.string,\n        className: PropTypes.string,\n        type: PropTypes.string,\n    };\n\n    static defaultProps = {\n        className: '',\n        button: false,\n    };\n\n    render() {\n        const {button, status, type} = this.props;\n\n        if (!status) {\n            return null;\n        }\n\n        let className = 'status ' + this.props.className;\n\n        if (button) {\n            className = this.props.className;\n        }\n\n        let IconComponent = 'span';\n        if (type === 'avatar') {\n            if (status === 'online') {\n                IconComponent = StatusOnlineAvatarIcon;\n            } else if (status === 'away') {\n                IconComponent = StatusAwayAvatarIcon;\n            } else if (status === 'dnd') {\n                IconComponent = StatusDndAvatarIcon;\n            } else {\n                IconComponent = StatusOfflineAvatarIcon;\n            }\n        } else if (status === 'online') {\n            IconComponent = StatusOnlineIcon;\n        } else if (status === 'away') {\n            IconComponent = StatusAwayIcon;\n        } else if (status === 'dnd') {\n            IconComponent = StatusDndIcon;\n        } else {\n            IconComponent = StatusOfflineIcon;\n        }\n\n        return <IconComponent className={className}/>;\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport XRegExp from 'xregexp';\n\nimport {getSuggestionsSplitBy, getSuggestionsSplitByMultiple} from 'mattermost-redux/utils/user_utils';\n\nimport {Constants} from 'utils/constants';\n\nimport Provider from '../provider.jsx';\n\nimport AtMentionSuggestion from './at_mention_suggestion.jsx';\n\n// The AtMentionProvider provides matches for at mentions, including @here, @channel, @all,\n// users in the channel and users not in the channel. It mixes together results from the local\n// store with results fetch from the server.\nexport default class AtMentionProvider extends Provider {\n    constructor(props) {\n        super();\n\n        this.setProps(props);\n\n        this.data = null;\n    }\n\n    // setProps gives the provider additional context for matching pretexts. Ideally this would\n    // just be something akin to a connected component with access to the store itself.\n    setProps({currentUserId, profilesInChannel, profilesNotInChannel, autocompleteUsersInChannel}) {\n        this.currentUserId = currentUserId;\n        this.profilesInChannel = profilesInChannel;\n        this.profilesNotInChannel = profilesNotInChannel;\n        this.autocompleteUsersInChannel = autocompleteUsersInChannel;\n    }\n\n    // specialMentions matches one of @here, @channel or @all, unless using /msg.\n    specialMentions() {\n        if (this.latestPrefix.startsWith('/msg')) {\n            return [];\n        }\n\n        return ['here', 'channel', 'all'].filter((item) =>\n            item.startsWith(this.latestPrefix)\n        ).map((name) => ({\n            username: name,\n            type: Constants.MENTION_SPECIAL,\n        }));\n    }\n\n    // retrieves the parts of the profile that should be checked\n    // against the term\n    getProfileSuggestions(profile) {\n        const profileSuggestions = [];\n        if (!profile) {\n            return profileSuggestions;\n        }\n\n        if (profile.username) {\n            const usernameSuggestions = getSuggestionsSplitByMultiple(profile.username.toLowerCase(), Constants.AUTOCOMPLETE_SPLIT_CHARACTERS);\n            profileSuggestions.push(...usernameSuggestions);\n        }\n        [profile.first_name, profile.last_name, profile.nickname].forEach((property) => {\n            const suggestions = getSuggestionsSplitBy(property.toLowerCase(), ' ');\n            profileSuggestions.push(...suggestions);\n        });\n\n        return profileSuggestions;\n    }\n\n    // filterProfile constrains profiles to those matching the latest prefix.\n    filterProfile(profile) {\n        if (!profile) {\n            return false;\n        }\n\n        if (profile.id === this.currentUserId) {\n            return false;\n        }\n\n        const prefixLower = this.latestPrefix.toLowerCase();\n        const profileSuggestions = this.getProfileSuggestions(profile);\n\n        return profileSuggestions.some((suggestion) => suggestion.startsWith(prefixLower));\n    }\n\n    // localMembers matches up to 25 local results from the store before the server has responded.\n    localMembers() {\n        const localMembers = this.profilesInChannel.\n            filter((profile) => this.filterProfile(profile)).\n            map((profile) => ({\n                type: Constants.MENTION_MEMBERS,\n                ...profile,\n            })).\n            sort((a, b) => a.username.localeCompare(b.username)).\n            splice(0, 25);\n\n        return localMembers;\n    }\n\n    // remoteMembers matches the users listed in the channel by the server.\n    remoteMembers() {\n        if (!this.data) {\n            return [];\n        }\n\n        return (this.data.users || []).\n            filter((profile) => this.filterProfile(profile)).\n            map((profile) => ({\n                type: Constants.MENTION_MEMBERS,\n                ...profile,\n            }));\n    }\n\n    // remoteNonMembers matches users listed as not in the channel by the server.\n    // listed in the channel from local results.\n    remoteNonMembers() {\n        if (!this.data) {\n            return [];\n        }\n\n        return (this.data.out_of_channel || []).\n            filter((profile) => this.filterProfile(profile)).\n            map((profile) => ({\n                type: Constants.MENTION_NONMEMBERS,\n                ...profile,\n            }));\n    }\n\n    users() {\n        const specialMentions = this.specialMentions();\n\n        const localMembers = this.localMembers();\n\n        const localUserIds = {};\n        localMembers.forEach((item) => {\n            localUserIds[item.id] = true;\n        });\n\n        const remoteMembers = this.remoteMembers().filter((item) => !localUserIds[item.id]);\n\n        // comparator which prioritises users with usernames starting with search term\n        const orderUsers = (a, b) => {\n            const aStartsWith = a.username.startsWith(this.latestPrefix);\n            const bStartsWith = b.username.startsWith(this.latestPrefix);\n\n            if (aStartsWith && bStartsWith) {\n                return a.username.localeCompare(b.username);\n            }\n            if (aStartsWith) {\n                return -1;\n            }\n            if (bStartsWith) {\n                return 1;\n            }\n            return a.username.localeCompare(b.username);\n        };\n\n        // Combine the local and remote members, sorting to mix the results together.\n        const localAndRemoteMembers = localMembers.concat(remoteMembers).sort(orderUsers);\n\n        const remoteNonMembers = this.remoteNonMembers().\n            filter((item) => !localUserIds[item.id]).\n            sort(orderUsers);\n\n        return localAndRemoteMembers.concat(specialMentions).concat(remoteNonMembers);\n    }\n\n    // updateMatches invokes the resultCallback with the metadata for rendering at mentions\n    updateMatches(resultCallback, users) {\n        const mentions = users.map((user) => {\n            if (user.username) {\n                return '@' + user.username;\n            }\n            return '';\n        });\n\n        resultCallback({\n            matchedPretext: `@${this.latestPrefix}`,\n            terms: mentions,\n            items: users,\n            component: AtMentionSuggestion,\n        });\n    }\n\n    handlePretextChanged(pretext, resultCallback) {\n        const captured = XRegExp.cache('(?:^|\\\\W)@([\\\\pL\\\\d\\\\-_.]*)$', 'i').exec(pretext.toLowerCase());\n        if (!captured) {\n            return false;\n        }\n\n        const prefix = captured[1];\n\n        this.startNewRequest(prefix);\n        this.updateMatches(resultCallback, this.users());\n\n        // If we haven't gotten server-side results in 500 ms, add the loading indicator.\n        let showLoadingIndicator = setTimeout(() => {\n            if (this.shouldCancelDispatch(prefix)) {\n                return;\n            }\n\n            this.updateMatches(resultCallback, this.users().concat([{\n                type: Constants.MENTION_MORE_MEMBERS,\n                loading: true,\n            }]));\n\n            showLoadingIndicator = null;\n        }, 500);\n\n        // Query the server for remote results to add to the local results.\n        this.autocompleteUsersInChannel(prefix).then(({data}) => {\n            if (showLoadingIndicator) {\n                clearTimeout(showLoadingIndicator);\n            }\n\n            if (this.shouldCancelDispatch(prefix)) {\n                return;\n            }\n\n            this.data = data;\n            this.updateMatches(resultCallback, this.users());\n        });\n\n        return true;\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nimport * as Utils from 'utils/utils.jsx';\nimport BotBadge from 'components/widgets/badges/bot_badge';\nimport GuestBadge from 'components/widgets/badges/guest_badge';\nimport Avatar from 'components/widgets/users/avatar';\n\nimport Suggestion from '../suggestion.jsx';\n\nexport default class AtMentionSuggestion extends Suggestion {\n    render() {\n        const isSelection = this.props.isSelection;\n        const user = this.props.item;\n\n        let username;\n        let description;\n        let icon;\n        if (user.username === 'all') {\n            username = 'all';\n            description = (\n                <FormattedMessage\n                    id='suggestion.mention.all'\n                    defaultMessage='Notifies everyone in this channel'\n                />\n            );\n            icon = (\n                <FormattedMessage\n                    id='generic_icons.member'\n                    defaultMessage='Member Icon'\n                >\n                    {(title) => (\n                        <i\n                            className='mention__image fa fa-users fa-2x'\n                            title={title}\n                        />\n                    )}\n                </FormattedMessage>\n            );\n        } else if (user.username === 'channel') {\n            username = 'channel';\n            description = (\n                <FormattedMessage\n                    id='suggestion.mention.channel'\n                    defaultMessage='Notifies everyone in this channel'\n                />\n            );\n            icon = (\n                <FormattedMessage\n                    id='generic_icons.member'\n                    defaultMessage='Member Icon'\n                >\n                    {(title) => (\n                        <i\n                            className='mention__image fa fa-users fa-2x'\n                            title={title}\n                        />\n                    )}\n                </FormattedMessage>\n            );\n        } else if (user.username === 'here') {\n            username = 'here';\n            description = (\n                <FormattedMessage\n                    id='suggestion.mention.here'\n                    defaultMessage='Notifies everyone online in this channel'\n                />\n            );\n            icon = (\n                <FormattedMessage\n                    id='generic_icons.member'\n                    defaultMessage='Member Icon'\n                >\n                    {(title) => (\n                        <i\n                            className='mention__image fa fa-users fa-2x'\n                            title={title}\n                        />\n                    )}\n                </FormattedMessage>\n            );\n        } else {\n            username = user.username;\n\n            if ((user.first_name || user.last_name) && user.nickname) {\n                description = `- ${Utils.getFullName(user)} (${user.nickname})`;\n            } else if (user.nickname) {\n                description = `- (${user.nickname})`;\n            } else if (user.first_name || user.last_name) {\n                description = `- ${Utils.getFullName(user)}`;\n            }\n\n            icon = (\n                <Avatar\n                    size='xs'\n                    username={user && user.username}\n                    url={Utils.imageURLForUser(user)}\n                />\n            );\n        }\n\n        let className = 'mentions__name';\n        if (isSelection) {\n            className += ' suggestion--selected';\n        }\n\n        return (\n            <div\n                className={className}\n                data-testid={`mentionSuggestion_${username}`}\n                onClick={this.handleClick}\n                {...Suggestion.baseProps}\n            >\n                {icon}\n                <span className='mention--align'>\n                    {'@' + username}\n                </span>\n                <BotBadge\n                    show={Boolean(user.is_bot)}\n                    className='badge-autocomplete'\n                />\n                <span className='mention__fullname'>\n                    {' '}\n                    {description}\n                </span>\n                <GuestBadge\n                    show={Utils.isGuest(user)}\n                    className='badge-autocomplete'\n                />\n            </div>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport AtMentionProvider from './at_mention_provider.jsx';\n\nexport default AtMentionProvider;\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\n\nimport {getMyChannels, getMyChannelMemberships} from 'mattermost-redux/selectors/entities/channels';\n\nimport {sortChannelsByTypeAndDisplayName} from 'mattermost-redux/utils/channel_utils';\n\nimport store from 'stores/redux_store.jsx';\n\nimport {Constants} from 'utils/constants';\n\nimport Provider from './provider.jsx';\nimport Suggestion from './suggestion.jsx';\n\nclass ChannelMentionSuggestion extends Suggestion {\n    render() {\n        const isSelection = this.props.isSelection;\n        const item = this.props.item;\n\n        const channelName = item.channel.display_name;\n        const purpose = item.channel.purpose;\n\n        let className = 'mentions__name no-flex';\n        if (isSelection) {\n            className += ' suggestion--selected';\n        }\n\n        const description = '(~' + item.channel.name + ')';\n\n        return (\n            <div\n                className={className}\n                onClick={this.handleClick}\n                {...Suggestion.baseProps}\n            >\n                <div className='mention__align'>\n                    <span>\n                        {channelName}\n                    </span>\n                    <span className='mention__channelname'>\n                        {' '}\n                        {description}\n                    </span>\n                </div>\n                <div className='mention__purpose'>\n                    {purpose}\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default class ChannelMentionProvider extends Provider {\n    constructor(channelSearchFunc) {\n        super();\n\n        this.lastPrefixTrimmed = '';\n        this.lastPrefixWithNoResults = '';\n        this.lastCompletedWord = '';\n\n        this.autocompleteChannels = channelSearchFunc;\n    }\n\n    handlePretextChanged(pretext, resultCallback) {\n        this.resetRequest();\n\n        const captured = (/\\B(~([^~\\r\\n]*))$/i).exec(pretext.toLowerCase());\n\n        if (!captured) {\n            // Not a channel mention\n            return false;\n        }\n\n        if (captured.index > 0 && pretext[captured.index - 1] === '~') {\n            // Multiple ~'s in a row so let's return and not show the autocomplete\n            return false;\n        }\n\n        const prefix = captured[2];\n\n        if (this.lastPrefixTrimmed && prefix.trim() === this.lastPrefixTrimmed) {\n            // Don't keep searching if the user keeps typing spaces\n            return true;\n        }\n\n        this.lastPrefixTrimmed = prefix.trim();\n\n        if (this.lastPrefixWithNoResults && prefix.startsWith(this.lastPrefixWithNoResults)) {\n            // Just give up since we know it won't return any results\n            return false;\n        }\n\n        if (this.lastCompletedWord && captured[0].startsWith(this.lastCompletedWord)) {\n            // It appears we're still matching a channel handle that we already completed\n            return false;\n        }\n\n        // Clear the last completed word since we've started to match new text\n        this.lastCompletedWord = '';\n\n        this.startNewRequest(prefix);\n\n        const words = prefix.toLowerCase().split(/\\s+/);\n        const wrappedChannelIds = {};\n        var wrappedChannels = [];\n        getMyChannels(store.getState()).forEach((item) => {\n            if (item.type !== 'O' || item.delete_at > 0) {\n                return;\n            }\n            const nameWords = item.name.toLowerCase().split(/\\s+/).concat(item.display_name.toLowerCase().split(/\\s+/));\n            var matched = true;\n            for (var j = 0; matched && j < words.length; j++) {\n                if (!words[j]) {\n                    continue;\n                }\n                var wordMatched = false;\n                for (var i = 0; i < nameWords.length; i++) {\n                    if (nameWords[i].startsWith(words[j])) {\n                        wordMatched = true;\n                        break;\n                    }\n                }\n                if (!wordMatched) {\n                    matched = false;\n                    break;\n                }\n            }\n            if (!matched) {\n                return;\n            }\n            wrappedChannelIds[item.id] = true;\n            wrappedChannels.push({\n                type: Constants.MENTION_CHANNELS,\n                channel: item,\n            });\n        });\n        wrappedChannels = wrappedChannels.sort((a, b) => {\n            //\n            // MM-12677 When this is migrated this needs to be fixed to pull the user's locale\n            //\n            return sortChannelsByTypeAndDisplayName('en', a.channel, b.channel);\n        });\n        const channelMentions = wrappedChannels.map((item) => '~' + item.channel.name);\n        resultCallback({\n            terms: channelMentions.concat([' ']),\n            items: wrappedChannels.concat([{\n                type: Constants.MENTION_MORE_CHANNELS,\n                loading: true,\n            }]),\n            component: ChannelMentionSuggestion,\n            matchedPretext: captured[1],\n        });\n\n        const handleChannels = (channels, withError) => {\n            if (prefix !== this.latestPrefix || this.shouldCancelDispatch(prefix)) {\n                return;\n            }\n\n            const myMembers = getMyChannelMemberships(store.getState());\n\n            if (channels.length === 0 && !withError) {\n                this.lastPrefixWithNoResults = prefix;\n            }\n\n            // Wrap channels in an outer object to avoid overwriting the 'type' property.\n            const wrappedMoreChannels = [];\n            channels.forEach((item) => {\n                if (item.delete_at > 0 && !myMembers[item.id]) {\n                    return;\n                }\n\n                if (myMembers[item.id] && !wrappedChannelIds[item.id]) {\n                    wrappedChannelIds[item.id] = true;\n                    wrappedChannels.push({\n                        type: Constants.MENTION_CHANNELS,\n                        channel: item,\n                    });\n                    return;\n                }\n\n                if (myMembers[item.id] && wrappedChannelIds[item.id]) {\n                    return;\n                }\n\n                if (!myMembers[item.id] && wrappedChannelIds[item.id]) {\n                    delete wrappedChannelIds[item.id];\n                    const idx = wrappedChannels.map((el) => el.channel.id).indexOf(item.id);\n                    if (idx >= 0) {\n                        wrappedChannels.splice(idx, 1);\n                    }\n                }\n\n                wrappedMoreChannels.push({\n                    type: Constants.MENTION_MORE_CHANNELS,\n                    channel: item,\n                });\n            });\n\n            wrappedChannels = wrappedChannels.sort((a, b) => {\n                //\n                // MM-12677 When this is migrated this needs to be fixed to pull the user's locale\n                //\n                return sortChannelsByTypeAndDisplayName('en', a.channel, b.channel);\n            });\n\n            const wrapped = wrappedChannels.concat(wrappedMoreChannels);\n            const mentions = wrapped.map((item) => '~' + item.channel.name);\n\n            resultCallback({\n                matchedPretext: captured[1],\n                terms: mentions,\n                items: wrapped,\n                component: ChannelMentionSuggestion,\n            });\n        };\n\n        this.autocompleteChannels(\n            prefix,\n            (channels) => handleChannels(channels, false),\n            () => handleChannels([], true),\n        );\n\n        return true;\n    }\n\n    handleCompleteWord(term) {\n        this.lastCompletedWord = term;\n        this.lastPrefixWithNoResults = '';\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\n\nimport {Client4} from 'mattermost-redux/client';\nimport {getCurrentTeamId} from 'mattermost-redux/selectors/entities/teams';\n\nimport store from 'stores/redux_store.jsx';\n\nimport * as UserAgent from 'utils/user_agent';\n\nimport Suggestion from './suggestion.jsx';\nimport Provider from './provider.jsx';\n\nexport class CommandSuggestion extends Suggestion {\n    render() {\n        const {item, isSelection} = this.props;\n\n        let className = 'command';\n        if (isSelection) {\n            className += ' suggestion--selected';\n        }\n\n        return (\n            <div\n                className={className}\n                onClick={this.handleClick}\n                {...Suggestion.baseProps}\n            >\n                <div className='command__title'>\n                    {item.suggestion + ' ' + item.hint}\n                </div>\n                <div className='command__desc'>\n                    {item.description}\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default class CommandProvider extends Provider {\n    handlePretextChanged(pretext, resultCallback) {\n        if (pretext.startsWith('/')) {\n            const command = pretext.toLowerCase();\n            Client4.getCommandsList(getCurrentTeamId(store.getState())).then(\n                (data) => {\n                    let matches = [];\n                    data.forEach((cmd) => {\n                        if (!cmd.auto_complete) {\n                            return;\n                        }\n\n                        if (cmd.trigger !== 'shortcuts' || !UserAgent.isMobile()) {\n                            if (('/' + cmd.trigger).indexOf(command) === 0) {\n                                const s = '/' + cmd.trigger;\n                                let hint = '';\n                                if (cmd.auto_complete_hint && cmd.auto_complete_hint.length !== 0) {\n                                    hint = cmd.auto_complete_hint;\n                                }\n                                matches.push({\n                                    suggestion: s,\n                                    hint,\n                                    description: cmd.auto_complete_desc,\n                                });\n                            }\n                        }\n                    });\n\n                    matches = matches.sort((a, b) => a.suggestion.localeCompare(b.suggestion));\n\n                    // pull out the suggested commands from the returned data\n                    const terms = matches.map((suggestion) => suggestion.suggestion);\n\n                    resultCallback({\n                        matchedPretext: command,\n                        terms,\n                        items: matches,\n                        component: CommandSuggestion,\n                    });\n                }\n            ).catch(\n                () => {} //eslint-disable-line no-empty-function\n            );\n\n            return true;\n        }\n        return false;\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\n\nimport {autocompleteCustomEmojis} from 'mattermost-redux/actions/emojis';\nimport {getEmojiImageUrl} from 'mattermost-redux/utils/emoji_utils';\n\nimport {getEmojiMap, getRecentEmojis} from 'selectors/emojis';\n\nimport store from 'stores/redux_store.jsx';\n\nimport * as Emoticons from 'utils/emoticons';\nimport {compareEmojis} from 'utils/emoji_utils.jsx';\n\nimport Suggestion from './suggestion.jsx';\nimport Provider from './provider.jsx';\n\nexport const MIN_EMOTICON_LENGTH = 2;\nexport const EMOJI_CATEGORY_SUGGESTION_BLACKLIST = ['skintone'];\n\nclass EmoticonSuggestion extends Suggestion {\n    render() {\n        const text = this.props.term;\n        const emoji = this.props.item.emoji;\n\n        let className = 'emoticon-suggestion';\n        if (this.props.isSelection) {\n            className += ' suggestion--selected';\n        }\n\n        return (\n            <div\n                className={className}\n                onClick={this.handleClick}\n                {...Suggestion.baseProps}\n            >\n                <div className='pull-left'>\n                    <img\n                        alt={text}\n                        className='emoticon-suggestion__image'\n                        src={getEmojiImageUrl(emoji)}\n                        title={text}\n                    />\n                </div>\n                <div className='pull-left'>\n                    {text}\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default class EmoticonProvider extends Provider {\n    handlePretextChanged(pretext, resultsCallback) {\n        // Look for the potential emoticons at the start of the text, after whitespace, and at the start of emoji reaction commands\n        const captured = (/(^|\\s|^\\+|^-)(:([^:\\s]*))$/g).exec(pretext);\n        if (!captured) {\n            return false;\n        }\n\n        const prefix = captured[1];\n        const text = captured[2];\n        const partialName = captured[3];\n\n        if (partialName.length < MIN_EMOTICON_LENGTH) {\n            return false;\n        }\n\n        // Check for text emoticons if this isn't for an emoji reaction\n        if (prefix !== '-' && prefix !== '+') {\n            for (const emoticon of Object.keys(Emoticons.emoticonPatterns)) {\n                if (Emoticons.emoticonPatterns[emoticon].test(text)) {\n                    // Don't show the autocomplete for text emoticons\n                    return false;\n                }\n            }\n        }\n\n        if (store.getState().entities.general.config.EnableCustomEmoji === 'true') {\n            store.dispatch(autocompleteCustomEmojis(partialName)).then(() => this.findAndSuggestEmojis(text, partialName, resultsCallback));\n        } else {\n            this.findAndSuggestEmojis(text, partialName, resultsCallback);\n        }\n\n        return true;\n    }\n\n    formatEmojis(emojis) {\n        return emojis.map((item) => ':' + item.name + ':');\n    }\n\n    // findAndSuggestEmojis uses the provided partialName to match anywhere inside an emoji name.\n    //\n    // For example, typing `:welc` would match both `:welcome:` and `:youre_welcome:` if those\n    // emojis are present in the local store. Note, however, that the server only does prefix\n    // matches, so a query to populate the local store for `:welc` would only return `:welcome:`.\n    // This results in surprising differences between a fresh load of the application, and the\n    // changes to the cache from expanding the cache with emojis found in existing posts.\n    //\n    // For now, this behaviour and difference is by design.\n    // See https://mattermost.atlassian.net/browse/MM-17320.\n    findAndSuggestEmojis(text, partialName, resultsCallback) {\n        const recentMatched = [];\n        const matched = [];\n\n        const emojiMap = getEmojiMap(store.getState());\n        const recentEmojis = getRecentEmojis(store.getState());\n\n        // Check for named emoji\n        for (const [name, emoji] of emojiMap) {\n            if (EMOJI_CATEGORY_SUGGESTION_BLACKLIST.includes(emoji.category)) {\n                continue;\n            }\n\n            if (emoji.aliases) {\n                // This is a system emoji so it may have multiple names\n                for (const alias of emoji.aliases) {\n                    if (alias.indexOf(partialName) !== -1) {\n                        const matchedArray = recentEmojis.includes(alias) || recentEmojis.includes(name) ?\n                            recentMatched :\n                            matched;\n\n                        matchedArray.push({name: alias, emoji});\n                        break;\n                    }\n                }\n            } else if (name.indexOf(partialName) !== -1) {\n                // This is a custom emoji so it only has one name\n                if (emojiMap.hasSystemEmoji(name)) {\n                    // System emojis take precedence over custom ones\n                    continue;\n                }\n\n                const matchedArray = recentEmojis.includes(name) ?\n                    recentMatched :\n                    matched;\n\n                matchedArray.push({name, emoji});\n            }\n        }\n\n        const sortEmojisHelper = (a, b) => {\n            return compareEmojis(a, b, partialName);\n        };\n\n        recentMatched.sort(sortEmojisHelper);\n\n        matched.sort(sortEmojisHelper);\n\n        const terms = [\n            ...this.formatEmojis(recentMatched),\n            ...this.formatEmojis(matched),\n        ];\n\n        const items = [\n            ...recentMatched,\n            ...matched,\n        ];\n\n        // Required to get past the dispatch during dispatch error\n\n        resultsCallback({\n            matchedPretext: text,\n            terms,\n            items,\n            component: EmoticonSuggestion,\n        });\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\n\nimport Provider from './provider.jsx';\nimport Suggestion from './suggestion.jsx';\n\nclass ChannelSuggestion extends Suggestion {\n    render() {\n        const isSelection = this.props.isSelection;\n        const item = this.props.item;\n\n        const channelName = item.display_name;\n        const purpose = item.purpose;\n\n        let className = 'mentions__name no-flex';\n        if (isSelection) {\n            className += ' suggestion--selected';\n        }\n\n        const description = '(~' + item.name + ')';\n\n        return (\n            <div\n                className={className}\n                onClick={this.handleClick}\n                {...Suggestion.baseProps}\n            >\n                <div className='mention__align'>\n                    <span>\n                        {channelName}\n                    </span>\n                    <span className='mention__channelname'>\n                        {' '}\n                        {description}\n                    </span>\n                </div>\n                <div className='mention__purpose'>\n                    {purpose}\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default class ChannelProvider extends Provider {\n    constructor(channelSearchFunc) {\n        super();\n\n        this.autocompleteChannels = channelSearchFunc;\n    }\n\n    handlePretextChanged(pretext, resultsCallback) {\n        const normalizedPretext = pretext.toLowerCase();\n        this.startNewRequest(normalizedPretext);\n\n        this.autocompleteChannels(\n            normalizedPretext,\n            (data) => {\n                if (this.shouldCancelDispatch(normalizedPretext)) {\n                    return;\n                }\n\n                const channels = Object.assign([], data);\n\n                resultsCallback({\n                    matchedPretext: normalizedPretext,\n                    terms: channels.map((channel) => channel.display_name),\n                    items: channels,\n                    component: ChannelSuggestion,\n                });\n            }\n        );\n\n        return true;\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {Client4} from 'mattermost-redux/client';\n\nimport {autocompleteUsers} from 'actions/user_actions.jsx';\nimport * as Utils from 'utils/utils.jsx';\n\nimport GuestBadge from 'components/widgets/badges/guest_badge';\nimport BotBadge from 'components/widgets/badges/bot_badge';\nimport Avatar from 'components/widgets/users/avatar';\n\nimport Provider from './provider.jsx';\nimport Suggestion from './suggestion.jsx';\n\nclass UserSuggestion extends Suggestion {\n    render() {\n        const {item, isSelection} = this.props;\n\n        let className = 'suggestion-list__item mentions__name';\n        if (isSelection) {\n            className += ' suggestion--selected';\n        }\n\n        const username = item.username;\n        let description = '';\n\n        if ((item.first_name || item.last_name) && item.nickname) {\n            description = `- ${Utils.getFullName(item)} (${item.nickname})`;\n        } else if (item.nickname) {\n            description = `- (${item.nickname})`;\n        } else if (item.first_name || item.last_name) {\n            description = `- ${Utils.getFullName(item)}`;\n        }\n\n        return (\n            <div\n                className={className}\n                onClick={this.handleClick}\n                {...Suggestion.baseProps}\n            >\n                <Avatar\n                    size='xs'\n                    username={username}\n                    url={Client4.getUsersRoute() + '/' + item.id + '/image?_=' + (item.last_picture_update || 0)}\n                />\n                <span className='admin-setting-user--align'>\n                    {'@' + username}\n                </span>\n                <span className='admin-setting-user__fullname'>\n                    {' '}\n                    {description}\n                </span>\n                <BotBadge show={Boolean(item.is_bot)}/>\n                <GuestBadge show={Utils.isGuest(item)}/>\n            </div>\n        );\n    }\n}\n\nexport default class UserProvider extends Provider {\n    handlePretextChanged(pretext, resultsCallback) {\n        const normalizedPretext = pretext.toLowerCase();\n        this.startNewRequest(normalizedPretext);\n\n        autocompleteUsers(\n            normalizedPretext,\n            (data) => {\n                if (this.shouldCancelDispatch(normalizedPretext)) {\n                    return;\n                }\n\n                const users = Object.assign([], data.users);\n\n                resultsCallback({\n                    matchedPretext: normalizedPretext,\n                    terms: users.map((user) => user.username),\n                    items: users,\n                    component: UserSuggestion,\n                });\n            }\n        );\n\n        return true;\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\n\nimport Provider from './provider.jsx';\nimport Suggestion from './suggestion.jsx';\n\nclass MenuActionSuggestion extends Suggestion {\n    render() {\n        const {item, isSelection} = this.props;\n\n        let className = 'mentions__name';\n        if (isSelection) {\n            className += ' suggestion--selected';\n        }\n\n        return (\n            <div\n                className={className}\n                onClick={this.handleClick}\n                {...Suggestion.baseProps}\n            >\n                {item.text}\n            </div>\n        );\n    }\n}\n\nexport default class MenuActionProvider extends Provider {\n    constructor(options) {\n        super();\n        this.options = options;\n    }\n\n    handlePretextChanged(prefix, resultsCallback) {\n        if (prefix.length === 0) {\n            this.displayAllOptions(resultsCallback);\n            return true;\n        }\n\n        if (prefix) {\n            this.filterOptions(prefix, resultsCallback);\n            return true;\n        }\n\n        return false;\n    }\n\n    async displayAllOptions(resultsCallback) {\n        const terms = this.options.map((option) => option.text);\n\n        resultsCallback({\n            matchedPretext: '',\n            terms,\n            items: this.options,\n            component: MenuActionSuggestion,\n        });\n    }\n\n    async filterOptions(prefix, resultsCallback) {\n        const filteredOptions = this.options.filter((option) => option.text.toLowerCase().indexOf(prefix) >= 0);\n        const terms = filteredOptions.map((option) => option.text);\n\n        resultsCallback({\n            matchedPretext: prefix,\n            terms,\n            items: filteredOptions,\n            component: MenuActionSuggestion,\n        });\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nexport default class Provider {\n    constructor() {\n        this.latestPrefix = '';\n        this.latestComplete = true;\n        this.disableDispatches = false;\n        this.requestStarted = false;\n    }\n\n    handlePretextChanged(pretext) { // eslint-disable-line no-unused-vars\n        // NO-OP for inherited classes to override\n    }\n\n    resetRequest() {\n        this.requestStarted = false;\n    }\n\n    startNewRequest(prefix) {\n        this.latestPrefix = prefix;\n        this.latestComplete = false;\n        this.requestStarted = true;\n    }\n\n    shouldCancelDispatch(prefix) {\n        if (this.disableDispatches) {\n            return true;\n        }\n\n        if (!this.requestStarted) {\n            return true;\n        }\n\n        if (prefix === this.latestPrefix) {\n            this.latestComplete = true;\n        } else if (this.latestComplete) {\n            return true;\n        }\n\n        return false;\n    }\n\n    allowDividers() {\n        return true;\n    }\n\n    presentationType() {\n        return 'text';\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\n\nimport {sortChannelsByTypeAndDisplayName} from 'mattermost-redux/utils/channel_utils';\n\nimport Constants from 'utils/constants';\nimport SelectIcon from 'components/widgets/icons/fa_select_icon';\nimport BotBadge from 'components/widgets/badges/bot_badge';\n\nimport {getDirectTeammate} from 'utils/utils.jsx';\n\nimport Provider from './provider.jsx';\nimport Suggestion from './suggestion.jsx';\n\nfunction itemToName(item) {\n    if (item.type === Constants.DM_CHANNEL) {\n        return '@' + item.display_name;\n    }\n    if (item.type === Constants.GM_CHANNEL) {\n        return '@' + item.display_name.replace(/ /g, '');\n    }\n    if (item.type === Constants.OPEN_CHANNEL || item.type === Constants.PRIVATE_CHANNEL) {\n        return item.display_name + ' (~' + item.name + ')';\n    }\n    return item.name;\n}\n\nclass SearchChannelSuggestion extends Suggestion {\n    render() {\n        const {item, isSelection} = this.props;\n\n        let className = 'search-autocomplete__item';\n        if (isSelection) {\n            className += ' selected a11y--focused';\n        }\n\n        const name = itemToName(item);\n\n        let tag = null;\n        if (item.type === Constants.DM_CHANNEL) {\n            const teammate = getDirectTeammate(item.id);\n            tag = (\n                <BotBadge\n                    show={Boolean(teammate && teammate.is_bot)}\n                    className='badge-popoverlist'\n                />\n            );\n        }\n\n        return (\n            <div\n                onClick={this.handleClick}\n                className={className}\n                {...Suggestion.baseProps}\n            >\n                <SelectIcon/>\n                <span\n                    data-testid='listItem'\n                    className='search-autocomplete__name'\n                >\n                    {name}\n                </span>\n                {tag}\n            </div>\n        );\n    }\n}\n\nexport default class SearchChannelProvider extends Provider {\n    constructor(channelSearchFunc) {\n        super();\n        this.autocompleteChannelsForSearch = channelSearchFunc;\n    }\n\n    handlePretextChanged(pretext, resultsCallback) {\n        const captured = (/\\b(?:in|channel):\\s*(\\S*)$/i).exec(pretext.toLowerCase());\n        if (captured) {\n            const channelPrefix = captured[1];\n\n            this.startNewRequest(channelPrefix);\n\n            this.autocompleteChannelsForSearch(\n                channelPrefix,\n                (data) => {\n                    if (this.shouldCancelDispatch(channelPrefix)) {\n                        return;\n                    }\n\n                    //\n                    // MM-12677 When this is migrated this needs to be fixed to pull the user's locale\n                    //\n                    const channels = data.sort(sortChannelsByTypeAndDisplayName.bind(null, 'en'));\n                    const channelNames = channels.map((channel) => channel.name);\n\n                    resultsCallback({\n                        matchedPretext: channelPrefix,\n                        terms: channelNames,\n                        items: channels,\n                        component: SearchChannelSuggestion,\n                    });\n                },\n            );\n        }\n\n        return Boolean(captured);\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {\n    getChannelsInCurrentTeam,\n} from 'mattermost-redux/selectors/entities/channels';\nimport {getMyChannelMemberships} from 'mattermost-redux/selectors/entities/common';\nimport {getConfig} from 'mattermost-redux/selectors/entities/general';\nimport {getCurrentTeamId} from 'mattermost-redux/selectors/entities/teams';\nimport {getCurrentUserLocale} from 'mattermost-redux/selectors/entities/i18n';\nimport {haveIChannelPermission} from 'mattermost-redux/selectors/entities/roles';\nimport {Permissions} from 'mattermost-redux/constants';\nimport {sortChannelsByTypeAndDisplayName} from 'mattermost-redux/utils/channel_utils';\nimport {logError} from 'mattermost-redux/actions/errors';\n\nimport GlobeIcon from 'components/widgets/icons/globe_icon';\nimport LockIcon from 'components/widgets/icons/lock_icon';\nimport ArchiveIcon from 'components/widgets/icons/archive_icon';\nimport store from 'stores/redux_store.jsx';\nimport {Constants} from 'utils/constants';\n\nimport Provider from './provider.jsx';\nimport Suggestion from './suggestion.jsx';\n\nclass SearchChannelWithPermissionsSuggestion extends Suggestion {\n    static get propTypes() {\n        return {\n            ...super.propTypes,\n        };\n    }\n\n    render() {\n        const {item, isSelection} = this.props;\n        const channel = item.channel;\n        const channelIsArchived = channel.delete_at && channel.delete_at !== 0;\n\n        let className = 'mentions__name';\n        if (isSelection) {\n            className += ' suggestion--selected';\n        }\n\n        const displayName = channel.display_name;\n        let icon = null;\n        if (channelIsArchived) {\n            icon = (\n                <ArchiveIcon className='icon icon__archive'/>\n            );\n        } else if (channel.type === Constants.OPEN_CHANNEL) {\n            icon = (\n                <GlobeIcon className='icon icon__globe icon--body'/>\n            );\n        } else if (channel.type === Constants.PRIVATE_CHANNEL) {\n            icon = (\n                <LockIcon className='icon icon__lock icon--body'/>\n            );\n        }\n\n        return (\n            <div\n                onClick={this.handleClick}\n                className={className}\n                {...Suggestion.baseProps}\n            >\n                {icon}\n                {displayName}\n            </div>\n        );\n    }\n}\n\nlet prefix = '';\n\nfunction channelSearchSorter(wrappedA, wrappedB) {\n    const aIsArchived = wrappedA.channel.delete_at ? wrappedA.channel.delete_at !== 0 : false;\n    const bIsArchived = wrappedB.channel.delete_at ? wrappedB.channel.delete_at !== 0 : false;\n    if (aIsArchived && !bIsArchived) {\n        return 1;\n    } else if (!aIsArchived && bIsArchived) {\n        return -1;\n    }\n\n    const locale = getCurrentUserLocale(store.getState());\n\n    const a = wrappedA.channel;\n    const b = wrappedB.channel;\n\n    const aDisplayName = a.display_name.toLowerCase();\n    const bDisplayName = b.display_name.toLowerCase();\n\n    const aStartsWith = aDisplayName.startsWith(prefix);\n    const bStartsWith = bDisplayName.startsWith(prefix);\n    if (aStartsWith && bStartsWith) {\n        return sortChannelsByTypeAndDisplayName(locale, a, b);\n    } else if (!aStartsWith && !bStartsWith) {\n        return sortChannelsByTypeAndDisplayName(locale, a, b);\n    } else if (aStartsWith) {\n        return -1;\n    }\n\n    return 1;\n}\n\nexport default class SearchChannelWithPermissionsProvider extends Provider {\n    constructor(channelSearchFunc) {\n        super();\n        this.autocompleteChannelsForSearch = channelSearchFunc;\n    }\n\n    makeChannelSearchFilter(channelPrefix) {\n        const channelPrefixLower = channelPrefix.toLowerCase();\n\n        return (channel) => {\n            const state = store.getState();\n            const channelId = channel.id;\n            const teamId = getCurrentTeamId(state);\n\n            const searchString = channel.display_name;\n\n            if (channel.type === Constants.OPEN_CHANNEL &&\n                haveIChannelPermission(state, {channel: channelId, team: teamId, permission: Permissions.MANAGE_PUBLIC_CHANNEL_MEMBERS})) {\n                return searchString.toLowerCase().includes(channelPrefixLower);\n            } else if (channel.type === Constants.PRIVATE_CHANNEL &&\n                haveIChannelPermission(state, {channel: channelId, team: teamId, permission: Permissions.MANAGE_PRIVATE_CHANNEL_MEMBERS})) {\n                return searchString.toLowerCase().includes(channelPrefixLower);\n            }\n\n            return false;\n        };\n    }\n\n    handlePretextChanged(channelPrefix, resultsCallback) {\n        if (channelPrefix) {\n            prefix = channelPrefix;\n            this.startNewRequest(channelPrefix);\n            const state = store.getState();\n\n            // Dispatch suggestions for local data\n            const channels = getChannelsInCurrentTeam(state);\n            this.formatChannelsAndDispatch(channelPrefix, resultsCallback, channels);\n\n            // Fetch data from the server and dispatch\n            this.fetchChannels(channelPrefix, resultsCallback);\n        }\n\n        return true;\n    }\n\n    async fetchChannels(channelPrefix, resultsCallback) {\n        const state = store.getState();\n        const teamId = getCurrentTeamId(state);\n        if (!teamId) {\n            return;\n        }\n\n        const channelsAsync = this.autocompleteChannelsForSearch(teamId, channelPrefix);\n\n        let channelsFromServer = [];\n        try {\n            const {data} = await channelsAsync;\n            channelsFromServer = data;\n        } catch (err) {\n            store.dispatch(logError(err));\n        }\n\n        if (this.shouldCancelDispatch(channelPrefix)) {\n            return;\n        }\n\n        const channels = getChannelsInCurrentTeam(state).concat(channelsFromServer);\n        this.formatChannelsAndDispatch(channelPrefix, resultsCallback, channels);\n    }\n\n    formatChannelsAndDispatch(channelPrefix, resultsCallback, allChannels) {\n        const channels = [];\n\n        const state = store.getState();\n\n        const members = getMyChannelMemberships(state);\n\n        if (this.shouldCancelDispatch(channelPrefix)) {\n            return;\n        }\n\n        const completedChannels = {};\n\n        const channelFilter = this.makeChannelSearchFilter(channelPrefix);\n\n        const config = getConfig(state);\n        const viewArchivedChannels = config.ExperimentalViewArchivedChannels === 'true';\n\n        for (const id of Object.keys(allChannels)) {\n            const channel = allChannels[id];\n            if (!channel) {\n                continue;\n            }\n\n            if (completedChannels[channel.id]) {\n                continue;\n            }\n\n            if (channelFilter(channel)) {\n                const newChannel = Object.assign({}, channel);\n                const channelIsArchived = channel.delete_at !== 0;\n\n                const wrappedChannel = {channel: newChannel, name: newChannel.name, deactivated: false};\n                if (!viewArchivedChannels && channelIsArchived) {\n                    continue;\n                } else if (!members[channel.id]) {\n                    continue;\n                } else if (channelIsArchived && !members[channel.id]) {\n                    continue;\n                } else if (channel.type === Constants.OPEN_CHANNEL) {\n                    wrappedChannel.type = Constants.OPEN_CHANNEL;\n                } else if (channel.type === Constants.PRIVATE_CHANNEL) {\n                    wrappedChannel.type = Constants.PRIVATE_CHANNEL;\n                } else {\n                    continue;\n                }\n                completedChannels[channel.id] = true;\n                channels.push(wrappedChannel);\n            }\n        }\n\n        const channelNames = channels.\n            sort(channelSearchSorter).\n            map((wrappedChannel) => wrappedChannel.channel.name);\n\n        resultsCallback({\n            matchedPretext: channelPrefix,\n            terms: channelNames,\n            items: channels,\n            component: SearchChannelWithPermissionsSuggestion,\n        });\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\n\nimport DayPicker from 'react-day-picker';\n\nimport Provider from './provider.jsx';\nimport Suggestion from './suggestion.jsx';\n\nimport 'react-day-picker/lib/style.css';\n\nclass SearchDateSuggestion extends Suggestion {\n    handleDayClick = (day) => {\n        const dayString = day.toISOString().split('T')[0];\n        this.props.onClick(dayString, this.props.matchedPretext);\n    }\n\n    render() {\n        return (\n            <DayPicker\n                onDayClick={this.handleDayClick}\n                showOutsideDays={true}\n            />\n        );\n    }\n}\n\nexport default class SearchDateProvider extends Provider {\n    handlePretextChanged(pretext, resultsCallback) {\n        const captured = (/\\b(?:on|before|after):\\s*(\\S*)$/i).exec(pretext.toLowerCase());\n        if (captured) {\n            const datePrefix = captured[1];\n\n            this.startNewRequest(datePrefix);\n\n            const dates = Object.assign([], [{label: 'Selected Date', date: datePrefix}]);\n            const terms = dates.map((date) => date.date);\n\n            resultsCallback({\n                matchedPretext: datePrefix,\n                terms,\n                items: dates,\n                component: SearchDateSuggestion,\n            });\n        }\n\n        return Boolean(captured);\n    }\n\n    allowDividers() {\n        return false;\n    }\n\n    presentationType() {\n        return 'date';\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport $ from 'jquery';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport {FormattedMessage} from 'react-intl';\n\nimport Constants from 'utils/constants';\n\nimport Popover from 'components/widgets/popover';\n\nimport SuggestionList from './suggestion_list.jsx';\n\nexport default class SearchSuggestionList extends SuggestionList {\n    static propTypes = {\n        ...SuggestionList.propTypes,\n    };\n\n    constructor(props) {\n        super(props);\n        this.suggestionReadOut = React.createRef();\n    }\n\n    generateLabel(item) {\n        if (item.username) {\n            this.currentLabel = item.username;\n            if ((item.first_name || item.last_name) && item.nickname) {\n                this.currentLabel += ` ${item.first_name} ${item.last_name} ${item.nickname}`;\n            } else if (item.nickname) {\n                this.currentLabel += ` ${item.nickname}`;\n            } else if (item.first_name || item.last_name) {\n                this.currentLabel += ` ${item.first_name} ${item.last_name}`;\n            }\n        } else if (item.type === Constants.DM_CHANNEL || item.type === Constants.GM_CHANNEL) {\n            this.currentLabel = item.display_name;\n        } else {\n            this.currentLabel = item.name;\n        }\n\n        if (this.currentLabel) {\n            this.currentLabel = this.currentLabel.toLowerCase();\n        }\n\n        this.announceLabel();\n    }\n\n    getContent() {\n        return $(ReactDOM.findDOMNode(this.refs.popover)).find('.popover-content');\n    }\n\n    renderChannelDivider(type) {\n        let text;\n        if (type === Constants.OPEN_CHANNEL) {\n            text = (\n                <FormattedMessage\n                    id='suggestion.search.public'\n                    defaultMessage='Public Channels'\n                />\n            );\n        } else if (type === Constants.PRIVATE_CHANNEL) {\n            text = (\n                <FormattedMessage\n                    id='suggestion.search.private'\n                    defaultMessage='Private Channels'\n                />\n            );\n        } else {\n            text = (\n                <FormattedMessage\n                    id='suggestion.search.direct'\n                    defaultMessage='Direct Messages'\n                />\n            );\n        }\n\n        return (\n            <div\n                key={type + '-divider'}\n                className='search-autocomplete__divider'\n            >\n                <span>{text}</span>\n            </div>\n        );\n    }\n\n    render() {\n        if (this.props.items.length === 0) {\n            return null;\n        }\n\n        const items = [];\n        for (let i = 0; i < this.props.items.length; i++) {\n            const item = this.props.items[i];\n            const term = this.props.terms[i];\n            const isSelection = term === this.props.selection;\n\n            // ReactComponent names need to be upper case when used in JSX\n            const Component = this.props.components[i];\n\n            // temporary hack to add dividers between public and private channels in the search suggestion list\n            if (this.props.renderDividers) {\n                if (i === 0 || item.type !== this.props.items[i - 1].type) {\n                    if (item.type === Constants.OPEN_CHANNEL) {\n                        items.push(this.renderChannelDivider(Constants.OPEN_CHANNEL));\n                    } else if (item.type === Constants.PRIVATE_CHANNEL) {\n                        items.push(this.renderChannelDivider(Constants.PRIVATE_CHANNEL));\n                    } else if (i === 0 || this.props.items[i - 1].type === Constants.OPEN_CHANNEL || this.props.items[i - 1].type === Constants.PRIVATE_CHANNEL) {\n                        items.push(this.renderChannelDivider(Constants.DM_CHANNEL));\n                    }\n                }\n            }\n\n            if (isSelection) {\n                this.currentItem = item;\n            }\n\n            items.push(\n                <Component\n                    key={term}\n                    ref={term}\n                    item={item}\n                    term={term}\n                    matchedPretext={this.props.matchedPretext[i]}\n                    isSelection={isSelection}\n                    onClick={this.props.onCompleteWord}\n                />,\n            );\n        }\n\n        return (\n            <Popover\n                ref='popover'\n                id='search-autocomplete__popover'\n                className='search-help-popover autocomplete visible'\n                placement='bottom'\n            >\n                <div\n                    ref={this.suggestionReadOut}\n                    aria-live='polite'\n                    className='hidden-label'\n                />\n                {items}\n            </Popover>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\n\nimport {autocompleteUsersInTeam} from 'actions/user_actions.jsx';\nimport * as Utils from 'utils/utils.jsx';\nimport BotBadge from 'components/widgets/badges/bot_badge';\nimport SelectIcon from 'components/widgets/icons/fa_select_icon';\nimport Avatar from 'components/widgets/users/avatar';\n\nimport Provider from './provider.jsx';\nimport Suggestion from './suggestion.jsx';\n\nclass SearchUserSuggestion extends Suggestion {\n    render() {\n        const {item, isSelection} = this.props;\n\n        let className = 'search-autocomplete__item';\n        if (isSelection) {\n            className += ' selected a11y--focused';\n        }\n\n        const username = item.username;\n        let description = '';\n\n        if ((item.first_name || item.last_name) && item.nickname) {\n            description = `- ${Utils.getFullName(item)} (${item.nickname})`;\n        } else if (item.nickname) {\n            description = `- (${item.nickname})`;\n        } else if (item.first_name || item.last_name) {\n            description = `- ${Utils.getFullName(item)}`;\n        }\n\n        return (\n            <div\n                className={className}\n                onClick={this.handleClick}\n                {...Suggestion.baseProps}\n            >\n                <SelectIcon/>\n                <Avatar\n                    size='xs'\n                    username={username}\n                    url={Utils.imageURLForUser(item)}\n                />\n                <div className='mention--align'>\n                    <span>\n                        {username}\n                    </span>\n                    <BotBadge\n                        show={Boolean(item.is_bot)}\n                        className='badge-autocomplete'\n                    />\n                    <span className='mention__fullname'>\n                        {' '}\n                        {description}\n                    </span>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default class SearchUserProvider extends Provider {\n    handlePretextChanged(pretext, resultsCallback) {\n        const captured = (/\\bfrom:\\s*(\\S*)$/i).exec(pretext.toLowerCase());\n        if (captured) {\n            const usernamePrefix = captured[1];\n\n            this.startNewRequest(usernamePrefix);\n\n            autocompleteUsersInTeam(\n                usernamePrefix,\n                (data) => {\n                    if (this.shouldCancelDispatch(usernamePrefix)) {\n                        return;\n                    }\n\n                    const users = Object.assign([], data.users);\n                    const mentions = users.map((user) => user.username);\n\n                    resultsCallback({\n                        matchedPretext: usernamePrefix,\n                        terms: mentions,\n                        items: users,\n                        component: SearchUserSuggestion,\n                    });\n                }\n            );\n        }\n\n        return Boolean(captured);\n    }\n\n    allowDividers() {\n        return false;\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nexport default class Suggestion extends React.Component {\n    static get propTypes() {\n        return {\n            item: PropTypes.oneOfType([\n                PropTypes.object,\n                PropTypes.string,\n            ]).isRequired,\n            term: PropTypes.string.isRequired,\n            matchedPretext: PropTypes.string.isRequired,\n            isSelection: PropTypes.bool,\n            onClick: PropTypes.func,\n        };\n    }\n\n    static baseProps = {\n        role: 'button',\n        tabIndex: -1,\n    };\n\n    handleClick = (e) => {\n        e.preventDefault();\n\n        this.props.onClick(this.props.term, this.props.matchedPretext);\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport EventEmitter from 'mattermost-redux/utils/event_emitter';\n\nimport QuickInput from 'components/quick_input.jsx';\nimport Constants from 'utils/constants';\nimport * as UserAgent from 'utils/user_agent';\nimport * as Utils from 'utils/utils.jsx';\n\nconst KeyCodes = Constants.KeyCodes;\n\nexport default class SuggestionBox extends React.Component {\n    static propTypes = {\n\n        /**\n         * The list component to render, usually SuggestionList\n         */\n        listComponent: PropTypes.func.isRequired,\n\n        /**\n         * The date component to render\n         */\n        dateComponent: PropTypes.func,\n\n        /**\n         * The value of in the input\n         */\n        value: PropTypes.string.isRequired,\n\n        /**\n         * Array of suggestion providers\n         */\n        providers: PropTypes.arrayOf(PropTypes.object),\n\n        /**\n         * Where the list will be displayed relative to the input box, defaults to 'top'\n         */\n        listStyle: PropTypes.string,\n\n        /**\n         * CSS class for the div parent of the input box\n         */\n        containerClass: PropTypes.string,\n\n        /**\n         * Set to true to draw dividers between types of list items, defaults to false\n         */\n        renderDividers: PropTypes.bool,\n\n        /**\n         * Set to true to render a message when there were no results found, defaults to false\n         */\n        renderNoResults: PropTypes.bool,\n\n        /**\n         * Set to allow TAB to select an item in the list, defaults to true\n         */\n        completeOnTab: PropTypes.bool,\n\n        /**\n         * Function called when input box gains focus\n         */\n        onFocus: PropTypes.func,\n\n        /**\n         * Function called when input box loses focus\n         */\n        onBlur: PropTypes.func,\n\n        /**\n         * Function called when input box value changes\n         */\n        onChange: PropTypes.func,\n\n        /**\n         * Function called when a key is pressed and the input box is in focus\n         */\n        onKeyDown: PropTypes.func,\n        onComposition: PropTypes.func,\n\n        /**\n         * Function called when an item is selected\n         */\n        onItemSelected: PropTypes.func,\n\n        /**\n         * Flags if the suggestion_box is for the RHS (Reply).\n         */\n        isRHS: PropTypes.bool,\n\n        /**\n         * The number of characters required to show the suggestion list, defaults to 1\n         */\n        requiredCharacters: PropTypes.number,\n\n        /**\n         * If true, the suggestion box is opened on focus, default to false\n         */\n        openOnFocus: PropTypes.bool,\n\n        /**\n         * If true, the suggestion box is disabled\n         */\n        disabled: PropTypes.bool,\n\n        /**\n         * If true, it displays allow to display a default list when empty\n         */\n        openWhenEmpty: PropTypes.bool,\n\n        /**\n         * If true, replace all input in the suggestion box with the selected option after a select, defaults to false\n         */\n        replaceAllInputOnSelect: PropTypes.bool,\n\n        /**\n         * An optional, opaque identifier that distinguishes the context in which the suggestion\n         * box is rendered. This allows the reused component to otherwise respond to changes.\n         */\n        contextId: PropTypes.string,\n\n        /**\n         * If true, listen for clicks on a mention and populate the input with said mention, defaults to false\n         */\n        listenForMentionKeyClick: PropTypes.bool,\n\n        /**\n         * Passes the wrapper reference for height calculation\n         */\n        wrapperHeight: PropTypes.number,\n    }\n\n    static defaultProps = {\n        listStyle: 'top',\n        containerClass: '',\n        renderDividers: false,\n        renderNoResults: false,\n        completeOnTab: true,\n        isRHS: false,\n        requiredCharacters: 1,\n        openOnFocus: false,\n        openWhenEmpty: false,\n        replaceAllInputOnSelect: false,\n        listenForMentionKeyClick: false,\n    }\n\n    constructor(props) {\n        super(props);\n        this.suggestionReadOut = React.createRef();\n\n        // Keep track of whether we're composing a CJK character so we can make suggestions for partial characters\n        this.composing = false;\n\n        this.pretext = '';\n\n        // Used for debouncing pretext changes\n        this.timeoutId = '';\n\n        // Used for preventing suggestion list to close when scrollbar is clicked\n        this.preventSuggestionListCloseFlag = false;\n\n        // pretext: the text before the cursor\n        // matchedPretext: a list of the text before the cursor that will be replaced if the corresponding autocomplete term is selected\n        // terms: a list of strings which the previously typed text may be replaced by\n        // items: a list of objects backing the terms which may be used in rendering\n        // components: a list of react components that can be used to render their corresponding item\n        // selection: the term currently selected by the keyboard\n        this.state = {\n            focused: false,\n            cleared: true,\n            matchedPretext: [],\n            items: [],\n            terms: [],\n            components: [],\n            selection: '',\n            allowDividers: true,\n            presentationType: 'text',\n        };\n    }\n\n    componentDidMount() {\n        if (this.props.listenForMentionKeyClick) {\n            EventEmitter.addListener('mention_key_click', this.handleMentionKeyClick);\n        }\n    }\n\n    componentWillUnmount() {\n        EventEmitter.removeListener('mention_key_click', this.handleMentionKeyClick);\n    }\n\n    componentDidUpdate(prevProps) {\n        const {value} = this.props;\n\n        // Post was just submitted, update pretext property.\n        if (value === '' && this.pretext !== value) {\n            this.handlePretextChanged(value);\n            return;\n        }\n\n        if (prevProps.contextId !== this.props.contextId) {\n            const textbox = this.getTextbox();\n            const pretext = textbox.value.substring(0, textbox.selectionEnd).toLowerCase();\n\n            this.handlePretextChanged(pretext);\n        }\n    }\n\n    handleMentionKeyClick = (mentionKey, isRHS) => {\n        if (this.props.isRHS !== isRHS) {\n            return;\n        }\n\n        let insertText = '@' + mentionKey;\n\n        // if the current text does not end with a whitespace, then insert a space\n        if (this.props.value && (/[^\\s]$/).test(this.props.value)) {\n            insertText = ' ' + insertText;\n        }\n\n        this.addTextAtCaret(insertText, '');\n    }\n\n    getTextbox = () => {\n        if (!this.refs.input) {\n            return null;\n        }\n\n        const input = this.refs.input.getInput();\n\n        if (input.getDOMNode) {\n            return input.getDOMNode();\n        }\n\n        return input;\n    }\n\n    recalculateSize = () => {\n        // Pretty hacky way to force an AutosizeTextarea to recalculate its height if that's what\n        // we're rendering as the input\n        const input = this.refs.input.getInput();\n\n        if (input.recalculateSize) {\n            input.recalculateSize();\n        }\n    }\n\n    handleEmitClearSuggestions = (delay = 0) => {\n        setTimeout(() => {\n            this.clear();\n        }, delay);\n    }\n\n    preventSuggestionListClose = () => {\n        this.preventSuggestionListCloseFlag = true;\n    }\n\n    handleFocusOut = (e) => {\n        if (this.preventSuggestionListCloseFlag) {\n            this.preventSuggestionListCloseFlag = false;\n            return;\n        }\n\n        // Focus is switching TO e.relatedTarget, so only treat this as a blur event if we're not switching\n        // between children (like from the textbox to the suggestion list)\n        if (this.container.contains(e.relatedTarget)) {\n            return;\n        }\n\n        if (UserAgent.isIos() && !e.relatedTarget) {\n            // On Safari and iOS classic app, the autocomplete stays open\n            // when you tap outside of the post textbox or search box.\n            return;\n        }\n\n        this.handleEmitClearSuggestions();\n\n        this.setState({focused: false});\n\n        if (this.props.onBlur) {\n            this.props.onBlur();\n        }\n    };\n\n    handleFocusIn = (e) => {\n        // Focus is switching FROM e.relatedTarget, so only treat this as a focus event if we're not switching\n        // between children (like from the textbox to the suggestion list). PreventSuggestionListCloseFlag is\n        // checked because if true, it means that the focusIn comes from a click in the suggestion box, an\n        // option choice, so we don't want the focus event to be triggered\n        if (this.container.contains(e.relatedTarget) || this.preventSuggestionListCloseFlag) {\n            return;\n        }\n\n        this.setState({focused: true});\n\n        if (this.props.openOnFocus || this.props.openWhenEmpty) {\n            setTimeout(() => {\n                const textbox = this.getTextbox();\n                if (textbox) {\n                    const pretext = textbox.value.substring(0, textbox.selectionEnd);\n                    if (this.props.openWhenEmpty || pretext.length >= this.props.requiredCharacters) {\n                        this.handlePretextChanged(pretext);\n                    }\n                }\n            });\n        }\n\n        if (this.props.onFocus) {\n            this.props.onFocus();\n        }\n    };\n\n    handleChange = (e) => {\n        const textbox = this.getTextbox();\n        const pretext = textbox.value.substring(0, textbox.selectionEnd).toLowerCase();\n\n        if (!this.composing && this.pretext !== pretext) {\n            this.handlePretextChanged(pretext);\n        }\n\n        if (this.props.onChange) {\n            this.props.onChange(e);\n        }\n    }\n\n    handleCompositionStart = () => {\n        this.composing = true;\n        if (this.props.onComposition) {\n            this.props.onComposition();\n        }\n    }\n\n    handleCompositionUpdate = (e) => {\n        if (!e.data) {\n            return;\n        }\n\n        // The caret appears before the CJK character currently being composed, so re-add it to the pretext\n        const textbox = this.getTextbox();\n        const pretext = textbox.value.substring(0, textbox.selectionStart) + e.data;\n\n        this.handlePretextChanged(pretext);\n        if (this.props.onComposition) {\n            this.props.onComposition();\n        }\n    }\n\n    handleCompositionEnd = () => {\n        this.composing = false;\n        if (this.props.onComposition) {\n            this.props.onComposition();\n        }\n    }\n\n    addTextAtCaret = (term, matchedPretext) => {\n        const textbox = this.getTextbox();\n        const caret = textbox.selectionEnd;\n        const text = this.props.value;\n        const pretext = textbox.value.substring(0, textbox.selectionEnd);\n\n        let prefix;\n        let keepPretext = false;\n        if (pretext.toLowerCase().endsWith(matchedPretext.toLowerCase())) {\n            prefix = pretext.substring(0, pretext.length - matchedPretext.length);\n        } else {\n            // the pretext has changed since we got a term to complete so see if the term still fits the pretext\n            const termWithoutMatched = term.substring(matchedPretext.length);\n            const overlap = SuggestionBox.findOverlap(pretext, termWithoutMatched);\n\n            keepPretext = overlap.length === 0;\n            prefix = pretext.substring(0, pretext.length - overlap.length - matchedPretext.length);\n        }\n\n        const suffix = text.substring(caret);\n\n        let newValue;\n        if (keepPretext) {\n            newValue = pretext;\n        } else {\n            newValue = prefix + term + ' ' + suffix;\n        }\n\n        textbox.value = newValue;\n\n        if (this.props.onChange) {\n            // fake an input event to send back to parent components\n            const e = {\n                target: textbox,\n            };\n\n            // don't call handleChange or we'll get into an event loop\n            this.props.onChange(e);\n        }\n\n        // set the caret position after the next rendering\n        window.requestAnimationFrame(() => {\n            if (textbox.value === newValue) {\n                Utils.setCaretPosition(textbox, prefix.length + term.length + 1);\n            }\n        });\n    }\n\n    replaceText = (term) => {\n        const textbox = this.getTextbox();\n        textbox.value = term;\n\n        if (this.props.onChange) {\n            // fake an input event to send back to parent components\n            const e = {\n                target: textbox,\n            };\n\n            // don't call handleChange or we'll get into an event loop\n            this.props.onChange(e);\n        }\n    }\n\n    handleCompleteWord = (term, matchedPretext) => {\n        if (this.props.replaceAllInputOnSelect) {\n            this.replaceText(term);\n        } else {\n            this.addTextAtCaret(term, matchedPretext);\n        }\n\n        if (this.props.onItemSelected) {\n            const items = this.state.items;\n            const terms = this.state.terms;\n            for (let i = 0; i < terms.length; i++) {\n                if (terms[i] === term) {\n                    this.props.onItemSelected(items[i]);\n                    break;\n                }\n            }\n        }\n\n        this.clear();\n\n        this.refs.input.focus();\n\n        for (const provider of this.props.providers) {\n            if (provider.handleCompleteWord) {\n                provider.handleCompleteWord(term, matchedPretext);\n            }\n        }\n    }\n\n    selectNext = () => {\n        this.setSelectionByDelta(1);\n    }\n\n    selectPrevious = () => {\n        this.setSelectionByDelta(-1);\n    }\n\n    setSelectionByDelta = (delta) => {\n        let selectionIndex = this.state.terms.indexOf(this.state.selection);\n\n        if (selectionIndex === -1) {\n            this.setState({\n                selection: '',\n            });\n            return;\n        }\n\n        selectionIndex += delta;\n\n        if (selectionIndex < 0) {\n            selectionIndex = 0;\n        } else if (selectionIndex > this.state.terms.length - 1) {\n            selectionIndex = this.state.terms.length - 1;\n        }\n\n        this.setState({\n            selection: this.state.terms[selectionIndex],\n        });\n    }\n\n    clear = () => {\n        this.setState({\n            cleared: true,\n            matchedPretext: [],\n            terms: [],\n            items: [],\n            components: [],\n        });\n    }\n\n    hasSuggestions = () => {\n        return this.state.items.some((item) => !item.loading);\n    }\n\n    handleKeyDown = (e) => {\n        if ((this.props.openWhenEmpty || this.props.value) && this.hasSuggestions()) {\n            if (Utils.isKeyPressed(e, KeyCodes.UP)) {\n                this.selectPrevious();\n                e.preventDefault();\n            } else if (Utils.isKeyPressed(e, KeyCodes.DOWN)) {\n                this.selectNext();\n                e.preventDefault();\n            } else if (Utils.isKeyPressed(e, KeyCodes.ENTER) || (this.props.completeOnTab && Utils.isKeyPressed(e, KeyCodes.TAB))) {\n                let matchedPretext = '';\n                for (let i = 0; i < this.state.terms.length; i++) {\n                    if (this.state.terms[i] === this.state.selection) {\n                        matchedPretext = this.state.matchedPretext[i];\n                    }\n                }\n\n                // If these don't match, the user typed quickly and pressed enter before we could\n                // update the pretext, so update the pretext before completing\n                if (this.pretext.endsWith(matchedPretext)) {\n                    this.handleCompleteWord(this.state.selection, matchedPretext);\n                } else {\n                    clearTimeout(this.timeoutId);\n                    this.nonDebouncedPretextChanged(this.pretext, true);\n                }\n\n                if (this.props.onKeyDown) {\n                    this.props.onKeyDown(e);\n                }\n                e.preventDefault();\n            } else if (Utils.isKeyPressed(e, KeyCodes.ESCAPE)) {\n                this.clear();\n                this.setState({presentationType: 'text'});\n                e.preventDefault();\n                e.stopPropagation();\n            } else if (this.props.onKeyDown) {\n                this.props.onKeyDown(e);\n            }\n        } else if (this.props.onKeyDown) {\n            this.props.onKeyDown(e);\n        }\n    }\n\n    handleReceivedSuggestions = (suggestions) => {\n        const newComponents = [];\n        const newPretext = [];\n        for (let i = 0; i < suggestions.terms.length; i++) {\n            newComponents.push(suggestions.component);\n            newPretext.push(suggestions.matchedPretext);\n        }\n        const terms = suggestions.terms;\n        const items = suggestions.items;\n        let selection = this.state.selection;\n        if (terms.length > 0) {\n            // if the current selection is no longer in the map, select the first term in the list\n            if (!this.state.selection || terms.indexOf(this.state.selection) === -1) {\n                selection = terms[0];\n            }\n        } else if (this.state.selection) {\n            selection = '';\n        }\n\n        this.setState({\n            cleared: false,\n            selection,\n            terms,\n            items,\n            components: newComponents,\n            matchedPretext: newPretext,\n        });\n\n        return {selection, matchedPretext: suggestions.matchedPretext};\n    }\n\n    handleReceivedSuggestionsAndComplete = (suggestions) => {\n        const {selection, matchedPretext} = this.handleReceivedSuggestions(suggestions);\n        if (selection) {\n            this.handleCompleteWord(selection, matchedPretext);\n        }\n    }\n\n    nonDebouncedPretextChanged = (pretext, complete = false) => {\n        this.pretext = pretext;\n        let handled = false;\n        let callback = this.handleReceivedSuggestions;\n        if (complete) {\n            callback = this.handleReceivedSuggestionsAndComplete;\n        }\n        for (const provider of this.props.providers) {\n            handled = provider.handlePretextChanged(pretext, callback) || handled;\n\n            if (handled) {\n                this.setState({\n                    presentationType: provider.presentationType(),\n                    allowDividers: provider.allowDividers(),\n                });\n\n                break;\n            }\n        }\n        if (!handled) {\n            this.clear();\n        }\n    }\n\n    debouncedPretextChanged = (pretext) => {\n        clearTimeout(this.timeoutId);\n        this.timeoutId = setTimeout(() => this.nonDebouncedPretextChanged(pretext), Constants.SEARCH_TIMEOUT_MILLISECONDS);\n    };\n\n    handlePretextChanged = (pretext) => {\n        this.pretext = pretext;\n        this.debouncedPretextChanged(pretext);\n    }\n\n    blur = () => {\n        this.refs.input.blur();\n    }\n\n    setContainerRef = (container) => {\n        // Attach/detach event listeners that aren't supported by React\n        if (this.container) {\n            this.container.removeEventListener('focusin', this.handleFocusIn);\n            this.container.removeEventListener('focusout', this.handleFocusOut);\n        }\n\n        if (container) {\n            container.addEventListener('focusin', this.handleFocusIn);\n            container.addEventListener('focusout', this.handleFocusOut);\n        }\n\n        // Save ref\n        this.container = container;\n    };\n\n    render() {\n        const {\n            listComponent,\n            dateComponent,\n            listStyle,\n            renderNoResults,\n            ...props\n        } = this.props;\n\n        const renderDividers = this.props.renderDividers && this.state.allowDividers;\n\n        // Don't pass props used by SuggestionBox\n        Reflect.deleteProperty(props, 'providers');\n        Reflect.deleteProperty(props, 'onChange'); // We use onInput instead of onChange on the actual input\n        Reflect.deleteProperty(props, 'onComposition');\n        Reflect.deleteProperty(props, 'onItemSelected');\n        Reflect.deleteProperty(props, 'completeOnTab');\n        Reflect.deleteProperty(props, 'isRHS');\n        Reflect.deleteProperty(props, 'requiredCharacters');\n        Reflect.deleteProperty(props, 'openOnFocus');\n        Reflect.deleteProperty(props, 'openWhenEmpty');\n        Reflect.deleteProperty(props, 'onFocus');\n        Reflect.deleteProperty(props, 'onBlur');\n        Reflect.deleteProperty(props, 'containerClass');\n        Reflect.deleteProperty(props, 'replaceAllInputOnSelect');\n        Reflect.deleteProperty(props, 'renderDividers');\n        Reflect.deleteProperty(props, 'contextId');\n        Reflect.deleteProperty(props, 'listenForMentionKeyClick');\n\n        // This needs to be upper case so React doesn't think it's an html tag\n        const SuggestionListComponent = listComponent;\n        const SuggestionDateComponent = dateComponent;\n\n        return (\n            <div\n                ref={this.setContainerRef}\n                className={this.props.containerClass}\n            >\n                <div\n                    ref={this.suggestionReadOut}\n                    aria-live='polite'\n                    role='alert'\n                    className='sr-only'\n                />\n                <QuickInput\n                    ref='input'\n                    autoComplete='off'\n                    {...props}\n                    onInput={this.handleChange}\n                    onCompositionStart={this.handleCompositionStart}\n                    onCompositionUpdate={this.handleCompositionUpdate}\n                    onCompositionEnd={this.handleCompositionEnd}\n                    onKeyDown={this.handleKeyDown}\n                />\n                {(this.props.openWhenEmpty || this.props.value.length >= this.props.requiredCharacters) && this.state.presentationType === 'text' &&\n                    <SuggestionListComponent\n                        ref='list'\n                        ariaLiveRef={this.suggestionReadOut}\n                        open={this.state.focused}\n                        pretext={this.pretext}\n                        location={listStyle}\n                        renderDividers={renderDividers}\n                        renderNoResults={renderNoResults}\n                        onCompleteWord={this.handleCompleteWord}\n                        preventClose={this.preventSuggestionListClose}\n                        cleared={this.state.cleared}\n                        matchedPretext={this.state.matchedPretext}\n                        items={this.state.items}\n                        terms={this.state.terms}\n                        selection={this.state.selection}\n                        components={this.state.components}\n                        wrapperHeight={this.props.wrapperHeight}\n                    />\n                }\n                {(this.props.openWhenEmpty || this.props.value.length >= this.props.requiredCharacters) && this.state.presentationType === 'date' &&\n                    <SuggestionDateComponent\n                        ref='date'\n                        items={this.state.items}\n                        terms={this.state.terms}\n                        components={this.state.components}\n                        matchedPretext={this.state.matchedPretext}\n                        onCompleteWord={this.handleCompleteWord}\n                    />\n                }\n            </div>\n        );\n    }\n\n    // Finds the longest substring that's at both the end of b and the start of a. For example,\n    // if a = \"firepit\" and b = \"pitbull\", findOverlap would return \"pit\".\n    static findOverlap(a, b) {\n        const aLower = a.toLowerCase();\n        const bLower = b.toLowerCase();\n\n        for (let i = bLower.length; i > 0; i--) {\n            const substring = bLower.substring(0, i);\n\n            if (aLower.endsWith(substring)) {\n                return substring;\n            }\n        }\n\n        return '';\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport Popover from 'components/widgets/popover';\n\nexport default class SuggestionDate extends React.PureComponent {\n    static propTypes = {\n        onCompleteWord: PropTypes.func.isRequired,\n        items: PropTypes.array.isRequired,\n        terms: PropTypes.array.isRequired,\n        components: PropTypes.array.isRequired,\n        matchedPretext: PropTypes.array.isRequired,\n    };\n\n    render() {\n        if (this.props.items.length === 0) {\n            return null;\n        }\n\n        const item = this.props.items[0];\n        const term = this.props.terms[0];\n\n        // ReactComponent names need to be upper case when used in JSX\n        const Component = this.props.components[0];\n\n        const itemComponent = (\n            <Component\n                key={term}\n                ref={term}\n                item={item}\n                term={term}\n                matchedPretext={this.props.matchedPretext[0]}\n                isSelection={false}\n                onClick={this.props.onCompleteWord}\n            />\n        );\n\n        return (\n            <Popover\n                ref='popover'\n                id='search-autocomplete__popover'\n                className='search-help-popover autocomplete visible'\n                placement='bottom'\n            >\n                {itemComponent}\n            </Popover>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport $ from 'jquery';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport {FormattedMessage} from 'react-intl';\n\nimport {isEmptyObject, windowHeight} from 'utils/utils.jsx';\nimport {Constants} from 'utils/constants.jsx';\nimport FormattedMarkdownMessage from 'components/formatted_markdown_message';\nimport LoadingSpinner from 'components/widgets/loading/loading_spinner';\n\nexport default class SuggestionList extends React.PureComponent {\n    static propTypes = {\n        ariaLiveRef: PropTypes.object,\n        open: PropTypes.bool.isRequired,\n        location: PropTypes.string,\n        renderDividers: PropTypes.bool,\n        renderNoResults: PropTypes.bool,\n        onCompleteWord: PropTypes.func.isRequired,\n        preventClose: PropTypes.func,\n        pretext: PropTypes.string.isRequired,\n        cleared: PropTypes.bool.isRequired,\n        matchedPretext: PropTypes.array.isRequired,\n        items: PropTypes.array.isRequired,\n        terms: PropTypes.array.isRequired,\n        selection: PropTypes.string.isRequired,\n        components: PropTypes.array.isRequired,\n        wrapperHeight: PropTypes.number,\n    };\n\n    static defaultProps = {\n        renderDividers: false,\n        renderNoResults: false,\n    };\n\n    constructor(props) {\n        super(props);\n\n        this.suggestionReadOut = React.createRef();\n        this.currentLabel = '';\n        this.currentItem = {};\n    }\n\n    componentDidUpdate(prevProps) {\n        if (this.props.selection !== prevProps.selection && this.props.selection) {\n            this.scrollToItem(this.props.selection);\n        }\n\n        if (!isEmptyObject(this.currentItem)) {\n            this.generateLabel(this.currentItem);\n        }\n    }\n\n    componentWillUnmount() {\n        this.removeLabel();\n    }\n\n    announceLabel() {\n        const suggestionReadOut = this.props.ariaLiveRef.current;\n        if (suggestionReadOut) {\n            suggestionReadOut.innerHTML = this.currentLabel;\n        }\n    }\n\n    removeLabel() {\n        const suggestionReadOut = this.props.ariaLiveRef.current;\n        if (suggestionReadOut) {\n            suggestionReadOut.innerHTML = '';\n        }\n    }\n\n    generateLabel(item) {\n        if (item.username) {\n            this.currentLabel = item.username;\n            if ((item.first_name || item.last_name) && item.nickname) {\n                this.currentLabel += ` ${item.first_name} ${item.last_name} ${item.nickname}`;\n            } else if (item.nickname) {\n                this.currentLabel += ` ${item.nickname}`;\n            } else if (item.first_name || item.last_name) {\n                this.currentLabel += ` ${item.first_name} ${item.last_name}`;\n            }\n        } else if (item.type === 'mention.channels') {\n            this.currentLabel = item.channel.display_name;\n        }\n\n        if (this.currentLabel) {\n            this.currentLabel = this.currentLabel.toLowerCase();\n        }\n        this.announceLabel();\n    }\n\n    getContent = () => {\n        return $(ReactDOM.findDOMNode(this.refs.content));\n    }\n\n    scrollToItem = (term) => {\n        const content = this.getContent();\n        if (!content || content.length === 0) {\n            return;\n        }\n\n        const visibleContentHeight = content[0].clientHeight;\n        const actualContentHeight = content[0].scrollHeight;\n\n        if (visibleContentHeight < actualContentHeight) {\n            const contentTop = content.scrollTop();\n            const contentTopPadding = parseInt(content.css('padding-top'), 10);\n            const contentBottomPadding = parseInt(content.css('padding-top'), 10);\n\n            const item = $(ReactDOM.findDOMNode(this.refs[term]));\n            if (item.length === 0) {\n                return;\n            }\n\n            const itemTop = item[0].offsetTop - parseInt(item.css('margin-top'), 10);\n            const itemBottomMargin = parseInt(item.css('margin-bottom'), 10) + parseInt(item.css('padding-bottom'), 10);\n            const itemBottom = item[0].offsetTop + item.height() + itemBottomMargin;\n\n            if (itemTop - contentTopPadding < contentTop) {\n                // the item is off the top of the visible space\n                content.scrollTop(itemTop - contentTopPadding);\n            } else if (itemBottom + contentTopPadding + contentBottomPadding > contentTop + visibleContentHeight) {\n                // the item has gone off the bottom of the visible space\n                content.scrollTop((itemBottom - visibleContentHeight) + contentTopPadding + contentBottomPadding);\n            }\n        }\n    }\n\n    renderDivider(type) {\n        return (\n            <div\n                key={type + '-divider'}\n                className='suggestion-list__divider'\n            >\n                <span>\n                    <FormattedMessage id={'suggestion.' + type}/>\n                </span>\n            </div>\n        );\n    }\n\n    renderNoResults() {\n        return (\n            <div\n                key='list-no-results'\n                className='suggestion-list__no-results'\n            >\n                <FormattedMarkdownMessage\n                    id='suggestion_list.no_matches'\n                    defaultMessage='No items match __{value}__'\n                    values={{\n                        value: this.props.pretext || '\"\"',\n                    }}\n                />\n            </div>\n        );\n    }\n\n    render() {\n        if (!this.props.open || this.props.cleared) {\n            return null;\n        }\n\n        const items = [];\n        if (this.props.items.length === 0) {\n            if (!this.props.renderNoResults) {\n                return null;\n            }\n\n            items.push(this.renderNoResults());\n        }\n\n        let lastType;\n        for (let i = 0; i < this.props.items.length; i++) {\n            const item = this.props.items[i];\n            const term = this.props.terms[i];\n            const isSelection = term === this.props.selection;\n\n            // ReactComponent names need to be upper case when used in JSX\n            const Component = this.props.components[i];\n\n            if (this.props.renderDividers && item.type !== lastType) {\n                items.push(this.renderDivider(item.type));\n                lastType = item.type;\n            }\n\n            if (item.loading) {\n                items.push(<LoadingSpinner key={item.type}/>);\n                continue;\n            }\n\n            if (isSelection) {\n                this.currentItem = item;\n            }\n\n            items.push(\n                <Component\n                    key={term}\n                    ref={term}\n                    item={this.props.items[i]}\n                    term={term}\n                    matchedPretext={this.props.matchedPretext[i]}\n                    isSelection={isSelection}\n                    onClick={this.props.onCompleteWord}\n                />\n            );\n        }\n\n        const mainClass = 'suggestion-list suggestion-list--' + this.props.location;\n        const contentClass = 'suggestion-list__content suggestion-list__content--' + this.props.location;\n        let maxHeight = Constants.SUGGESTION_LIST_MAXHEIGHT;\n        if (this.props.wrapperHeight) {\n            maxHeight = Math.min(\n                windowHeight() - (this.props.wrapperHeight + Constants.PREVIEWER_HEIGHT),\n                Constants.SUGGESTION_LIST_MAXHEIGHT\n            );\n        }\n\n        const contentStyle = {maxHeight};\n\n        return (\n            <div className={mainClass}>\n                <div\n                    id='suggestionList'\n                    ref='content'\n                    style={{...contentStyle}}\n                    className={contentClass}\n                    onMouseDown={this.props.preventClose}\n                >\n                    {items}\n                </div>\n            </div>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport {connect} from 'react-redux';\nimport {UserTypes} from 'mattermost-redux/action_types';\nimport {Client4} from 'mattermost-redux/client';\nimport {Preferences} from 'mattermost-redux/constants';\nimport {\n    getChannelsInCurrentTeam,\n    getDirectAndGroupChannels,\n    getSortedUnreadChannelIds,\n    makeGetChannel,\n    getMyChannelMemberships,\n} from 'mattermost-redux/selectors/entities/channels';\nimport {getBool, getMyPreferences} from 'mattermost-redux/selectors/entities/preferences';\nimport {getConfig} from 'mattermost-redux/selectors/entities/general';\nimport {getLastPostPerChannel} from 'mattermost-redux/selectors/entities/posts';\nimport {getCurrentTeamId} from 'mattermost-redux/selectors/entities/teams';\nimport {\n    getCurrentUserId,\n    getUserIdsInChannels,\n    getUser,\n    searchProfiles,\n} from 'mattermost-redux/selectors/entities/users';\nimport * as ChannelActions from 'mattermost-redux/actions/channels';\nimport {logError} from 'mattermost-redux/actions/errors';\n\nimport {\n    sortChannelsByTypeAndDisplayName,\n    isDirectChannelVisible,\n    isGroupChannelVisible,\n    isUnreadChannel,\n} from 'mattermost-redux/utils/channel_utils';\n\nimport BotBadge from 'components/widgets/badges/bot_badge';\nimport GuestBadge from 'components/widgets/badges/guest_badge';\nimport Avatar from 'components/widgets/users/avatar';\n\nimport DraftIcon from 'components/widgets/icons/draft_icon';\nimport GlobeIcon from 'components/widgets/icons/globe_icon';\nimport LockIcon from 'components/widgets/icons/lock_icon';\nimport ArchiveIcon from 'components/widgets/icons/archive_icon';\nimport {getPostDraft} from 'selectors/rhs';\nimport store from 'stores/redux_store.jsx';\nimport {Constants, StoragePrefixes} from 'utils/constants';\nimport * as Utils from 'utils/utils.jsx';\n\nimport Provider from './provider.jsx';\nimport Suggestion from './suggestion.jsx';\n\nconst getState = store.getState;\n\nclass SwitchChannelSuggestion extends Suggestion {\n    static get propTypes() {\n        return {\n            ...super.propTypes,\n            channelMember: PropTypes.object,\n            hasDraft: PropTypes.bool,\n        };\n    }\n\n    render() {\n        const {item, isSelection} = this.props;\n        const channel = item.channel;\n        const channelIsArchived = channel.delete_at && channel.delete_at !== 0;\n\n        const member = this.props.channelMember;\n        let badge = null;\n        if (member) {\n            if (member.notify_props && member.mention_count > 0) {\n                badge = <span className='badge'>{member.mention_count}</span>;\n            }\n        }\n\n        let className = 'mentions__name';\n        if (isSelection) {\n            className += ' suggestion--selected';\n        }\n\n        const displayName = channel.display_name;\n        let icon = null;\n        if (channelIsArchived) {\n            icon = (\n                <ArchiveIcon className='icon icon__archive'/>\n            );\n        } else if (this.props.hasDraft) {\n            icon = (\n                <DraftIcon className='icon icon__draft icon--body'/>\n            );\n        } else if (channel.type === Constants.OPEN_CHANNEL) {\n            icon = (\n                <GlobeIcon className='icon icon__globe icon--body'/>\n            );\n        } else if (channel.type === Constants.PRIVATE_CHANNEL) {\n            icon = (\n                <LockIcon className='icon icon__lock icon--body'/>\n            );\n        } else if (channel.type === Constants.GM_CHANNEL) {\n            icon = <div className='status status--group'>{'G'}</div>;\n        } else {\n            icon = (\n                <div className='pull-left'>\n                    <Avatar\n                        size='xs'\n                        url={Utils.imageURLForUser(channel.userId)}\n                    />\n                </div>\n            );\n        }\n\n        let tag = null;\n        if (channel.type === Constants.DM_CHANNEL) {\n            var teammate = Utils.getDirectTeammate(channel.id);\n            if (Utils.isEmptyObject(teammate)) {\n                teammate = getUser(getState(), channel.userId);\n            }\n            tag = (\n                <React.Fragment>\n                    <BotBadge\n                        show={Boolean(teammate && teammate.is_bot)}\n                        className='badge-autocomplete'\n                    />\n                    <GuestBadge\n                        show={Boolean(teammate && Utils.isGuest(teammate))}\n                        className='badge-autocomplete'\n                    />\n                </React.Fragment>\n            );\n        }\n\n        return (\n            <div\n                onClick={this.handleClick}\n                className={className}\n                id={`switchChannel_${channel.name}`}\n                data-testid={channel.name}\n                {...Suggestion.baseProps}\n            >\n                {icon}\n                <span>{displayName}</span>\n                {tag}\n                {badge}\n            </div>\n        );\n    }\n}\n\nfunction mapStateToPropsForSwitchChannelSuggestion(state, ownProps) {\n    const channelId = ownProps.item && ownProps.item.channel ? ownProps.item.channel.id : '';\n    const draft = channelId ? getPostDraft(state, StoragePrefixes.DRAFT, channelId) : false;\n\n    return {\n        channelMember: getMyChannelMemberships(state)[channelId],\n        hasDraft: draft && Boolean(draft.message.trim() || draft.fileInfos.length || draft.uploadsInProgress.length),\n    };\n}\n\nconst ConnectedSwitchChannelSuggestion = connect(mapStateToPropsForSwitchChannelSuggestion)(SwitchChannelSuggestion);\n\nlet prefix = '';\n\nfunction quickSwitchSorter(wrappedA, wrappedB) {\n    const aIsArchived = wrappedA.channel.delete_at ? wrappedA.channel.delete_at !== 0 : false;\n    const bIsArchived = wrappedB.channel.delete_at ? wrappedB.channel.delete_at !== 0 : false;\n    if (aIsArchived && !bIsArchived) {\n        return 1;\n    } else if (!aIsArchived && bIsArchived) {\n        return -1;\n    } else if (wrappedA.type === Constants.MENTION_CHANNELS && wrappedB.type === Constants.MENTION_MORE_CHANNELS) {\n        return -1;\n    } else if (wrappedB.type === Constants.MENTION_CHANNELS && wrappedA.type === Constants.MENTION_MORE_CHANNELS) {\n        return 1;\n    }\n\n    if (wrappedA.deactivated && !wrappedB.deactivated) {\n        return 1;\n    } else if (wrappedB.deactivated && !wrappedA.deactivated) {\n        return -1;\n    }\n\n    const a = wrappedA.channel;\n    const b = wrappedB.channel;\n\n    let aDisplayName = a.display_name.toLowerCase();\n    let bDisplayName = b.display_name.toLowerCase();\n\n    if (a.type === Constants.DM_CHANNEL) {\n        aDisplayName = aDisplayName.substring(1);\n    }\n\n    if (b.type === Constants.DM_CHANNEL) {\n        bDisplayName = bDisplayName.substring(1);\n    }\n\n    const aStartsWith = aDisplayName.startsWith(prefix);\n    const bStartsWith = bDisplayName.startsWith(prefix);\n    if ((aStartsWith && bStartsWith) || (!aStartsWith && !bStartsWith)) {\n        //\n        // MM-12677 When this is migrated this needs to be fixed to pull the user's locale\n        //\n        return sortChannelsByTypeAndDisplayName('en', a, b);\n    } else if (aStartsWith) {\n        return -1;\n    }\n\n    return 1;\n}\n\nfunction makeChannelSearchFilter(channelPrefix) {\n    const channelPrefixLower = channelPrefix.toLowerCase();\n    const curState = getState();\n    const usersInChannels = getUserIdsInChannels(curState);\n    const userSearchStrings = {};\n\n    return (channel) => {\n        let searchString = channel.display_name;\n\n        if (channel.type === Constants.GM_CHANNEL || channel.type === Constants.DM_CHANNEL) {\n            const usersInChannel = usersInChannels[channel.id] || new Set([]);\n\n            // In case the channel is a DM and the profilesInChannel is not populated\n            if (!usersInChannel.size && channel.type === Constants.DM_CHANNEL) {\n                const userId = Utils.getUserIdFromChannelId(channel.name);\n                const user = getUser(curState, userId);\n                if (user) {\n                    usersInChannel.add(userId);\n                }\n            }\n\n            for (const userId of usersInChannel) {\n                let userString = userSearchStrings[userId];\n\n                if (!userString) {\n                    const user = getUser(curState, userId);\n                    if (!user) {\n                        continue;\n                    }\n                    const {nickname, username} = user;\n                    userString = `${nickname}${username}${Utils.getFullName(user)}`;\n                    userSearchStrings[userId] = userString;\n                }\n                searchString += userString;\n            }\n        }\n\n        return searchString.toLowerCase().includes(channelPrefixLower);\n    };\n}\n\nexport default class SwitchChannelProvider extends Provider {\n    handlePretextChanged(channelPrefix, resultsCallback) {\n        if (channelPrefix) {\n            prefix = channelPrefix;\n            this.startNewRequest(channelPrefix);\n\n            // Dispatch suggestions for local data\n            const channels = getChannelsInCurrentTeam(getState()).concat(getDirectAndGroupChannels(getState()));\n            const users = Object.assign([], searchProfiles(getState(), channelPrefix, false));\n            this.formatChannelsAndDispatch(channelPrefix, resultsCallback, channels, users, true);\n\n            // Fetch data from the server and dispatch\n            this.fetchUsersAndChannels(channelPrefix, resultsCallback);\n        } else {\n            this.formatUnreadChannelsAndDispatch(resultsCallback);\n        }\n\n        return true;\n    }\n\n    async fetchUsersAndChannels(channelPrefix, resultsCallback) {\n        const state = getState();\n        const teamId = getCurrentTeamId(state);\n        if (!teamId) {\n            return;\n        }\n\n        const config = getConfig(state);\n        let usersAsync;\n        if (config.RestrictDirectMessage === 'team') {\n            usersAsync = Client4.autocompleteUsers(channelPrefix, teamId, '');\n        } else {\n            usersAsync = Client4.autocompleteUsers(channelPrefix, '', '');\n        }\n\n        const channelsAsync = ChannelActions.searchChannels(teamId, channelPrefix)(store.dispatch, store.getState);\n\n        let usersFromServer = [];\n        let channelsFromServer = [];\n        try {\n            usersFromServer = await usersAsync;\n            const {data} = await channelsAsync;\n            channelsFromServer = data;\n        } catch (err) {\n            store.dispatch(logError(err));\n        }\n\n        if (this.shouldCancelDispatch(channelPrefix)) {\n            return;\n        }\n\n        const users = Object.assign([], searchProfiles(state, channelPrefix, false)).concat(usersFromServer.users);\n        const currentUserId = getCurrentUserId(state);\n        store.dispatch({\n            type: UserTypes.RECEIVED_PROFILES_LIST,\n            data: users.filter((user) => user.id !== currentUserId),\n        });\n\n        const channels = getChannelsInCurrentTeam(state).concat(getDirectAndGroupChannels(state)).concat(channelsFromServer);\n        this.formatChannelsAndDispatch(channelPrefix, resultsCallback, channels, users);\n    }\n\n    userWrappedChannel(user, channel) {\n        let displayName = `@${user.username}`;\n\n        if ((user.first_name || user.last_name) && user.nickname) {\n            displayName += ` - ${Utils.getFullName(user)} (${user.nickname})`;\n        } else if (user.nickname) {\n            displayName += ` - (${user.nickname})`;\n        } else if (user.first_name || user.last_name) {\n            displayName += ` - ${Utils.getFullName(user)}`;\n        }\n\n        if (user.delete_at) {\n            displayName += ' - ' + Utils.localizeMessage('channel_switch_modal.deactivated', 'Deactivated');\n        }\n\n        return {\n            channel: {\n                display_name: displayName,\n                name: user.username,\n                id: channel ? channel.id : user.id,\n                userId: user.id,\n                update_at: user.update_at,\n                type: Constants.DM_CHANNEL,\n                last_picture_update: user.last_picture_update || 0,\n            },\n            name: user.username,\n            deactivated: user.delete_at,\n        };\n    }\n\n    formatChannelsAndDispatch(channelPrefix, resultsCallback, allChannels, users, skipNotInChannel = false) {\n        const channels = [];\n\n        const members = getMyChannelMemberships(getState());\n\n        if (this.shouldCancelDispatch(channelPrefix)) {\n            return;\n        }\n\n        const completedChannels = {};\n\n        const channelFilter = makeChannelSearchFilter(channelPrefix);\n\n        const state = getState();\n        const config = getConfig(state);\n        const viewArchivedChannels = config.ExperimentalViewArchivedChannels === 'true';\n\n        for (const id of Object.keys(allChannels)) {\n            const channel = allChannels[id];\n\n            if (completedChannels[channel.id]) {\n                continue;\n            }\n\n            if (channelFilter(channel)) {\n                const newChannel = Object.assign({}, channel);\n                const channelIsArchived = channel.delete_at !== 0;\n\n                let wrappedChannel = {channel: newChannel, name: newChannel.name, deactivated: false};\n                if (!viewArchivedChannels && channelIsArchived) {\n                    continue;\n                } else if (channelIsArchived && members[channel.id]) {\n                    wrappedChannel.type = Constants.ARCHIVED_CHANNEL;\n                } else if (channelIsArchived && !members[channel.id]) {\n                    continue;\n                } else if (newChannel.type === Constants.GM_CHANNEL) {\n                    newChannel.name = newChannel.display_name;\n                    wrappedChannel.name = newChannel.name;\n                    const isGMVisible = isGroupChannelVisible(config, getMyPreferences(state), channel, getLastPostPerChannel(state)[channel.id], isUnreadChannel(getMyChannelMemberships(state), channel));\n                    if (isGMVisible) {\n                        wrappedChannel.type = Constants.MENTION_CHANNELS;\n                    } else {\n                        wrappedChannel.type = Constants.MENTION_MORE_CHANNELS;\n                        if (skipNotInChannel) {\n                            continue;\n                        }\n                    }\n                } else if (newChannel.type === Constants.DM_CHANNEL) {\n                    const userId = Utils.getUserIdFromChannelId(newChannel.name);\n                    const user = users.find((u) => u.id === userId);\n\n                    if (user) {\n                        completedChannels[user.id] = true;\n                        wrappedChannel = this.userWrappedChannel(\n                            user,\n                            newChannel\n                        );\n                        const isDMVisible = isDirectChannelVisible(user.id, config, getMyPreferences(state), channel, getLastPostPerChannel(state)[channel.id], isUnreadChannel(getMyChannelMemberships(state), channel));\n                        if (isDMVisible) {\n                            wrappedChannel.type = Constants.MENTION_CHANNELS;\n                        } else {\n                            wrappedChannel.type = Constants.MENTION_MORE_CHANNELS;\n                            if (skipNotInChannel) {\n                                continue;\n                            }\n                        }\n                    } else {\n                        continue;\n                    }\n                } else if (members[channel.id]) {\n                    wrappedChannel.type = Constants.MENTION_CHANNELS;\n                } else {\n                    wrappedChannel.type = Constants.MENTION_MORE_CHANNELS;\n                    if (skipNotInChannel || !newChannel.display_name.toLowerCase().startsWith(channelPrefix)) {\n                        continue;\n                    }\n                }\n\n                completedChannels[channel.id] = true;\n                channels.push(wrappedChannel);\n            }\n        }\n\n        for (let i = 0; i < users.length; i++) {\n            const user = users[i];\n\n            if (completedChannels[user.id]) {\n                continue;\n            }\n\n            const isDMVisible = getBool(getState(), Preferences.CATEGORY_DIRECT_CHANNEL_SHOW, user.id, false);\n\n            const wrappedChannel = this.userWrappedChannel(user);\n\n            if (isDMVisible) {\n                wrappedChannel.type = Constants.MENTION_CHANNELS;\n            } else {\n                wrappedChannel.type = Constants.MENTION_MORE_CHANNELS;\n                if (skipNotInChannel) {\n                    continue;\n                }\n            }\n\n            completedChannels[user.id] = true;\n            channels.push(wrappedChannel);\n        }\n\n        const channelNames = channels.\n            sort(quickSwitchSorter).\n            map((wrappedChannel) => wrappedChannel.channel.name);\n\n        if (skipNotInChannel) {\n            channels.push({\n                type: Constants.MENTION_MORE_CHANNELS,\n                loading: true,\n            });\n        }\n\n        resultsCallback({\n            matchedPretext: channelPrefix,\n            terms: channelNames,\n            items: channels,\n            component: ConnectedSwitchChannelSuggestion,\n        });\n    }\n\n    formatUnreadChannelsAndDispatch(resultsCallback) {\n        const getChannel = makeGetChannel();\n\n        const unreadChannelIds = getSortedUnreadChannelIds(getState(), false);\n\n        const channels = [];\n        for (let i = 0; i < unreadChannelIds.length; i++) {\n            const channel = getChannel(getState(), {id: unreadChannelIds[i]}) || {};\n\n            let wrappedChannel = {channel, name: channel.name, deactivated: false};\n            if (channel.type === Constants.GM_CHANNEL) {\n                wrappedChannel.name = channel.display_name;\n            } else if (channel.type === Constants.DM_CHANNEL) {\n                const user = getUser(getState(), Utils.getUserIdFromChannelId(channel.name));\n\n                if (!user) {\n                    continue;\n                }\n\n                wrappedChannel = this.userWrappedChannel(\n                    user,\n                    channel\n                );\n            }\n            wrappedChannel.type = Constants.MENTION_UNREAD_CHANNELS;\n            channels.push(wrappedChannel);\n        }\n\n        const channelNames = channels.map((wrappedChannel) => wrappedChannel.channel.name);\n\n        resultsCallback({\n            matchedPretext: '',\n            terms: channelNames,\n            items: channels,\n            component: ConnectedSwitchChannelSuggestion,\n        });\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport * as Selectors from 'mattermost-redux/selectors/entities/teams';\nimport {FormattedMessage} from 'react-intl';\n\nimport {getCurrentLocale} from 'selectors/i18n';\nimport store from 'stores/redux_store.jsx';\n\nimport Provider from './provider.jsx';\nimport Suggestion from './suggestion.jsx';\n\nconst getState = store.getState;\n\nclass SwitchTeamSuggestion extends Suggestion {\n    render() {\n        const {item, isSelection} = this.props;\n\n        let className = 'mentions__name';\n        if (isSelection) {\n            className += ' suggestion--selected';\n        }\n\n        return (\n            <div\n                onClick={this.handleClick}\n                className={className}\n                {...Suggestion.baseProps}\n            >\n                <div className='status'>\n                    <FormattedMessage\n                        id='general_tab.teamIcon'\n                        defaultMessage='Team Icon'\n                    >\n                        {(title) => (\n                            <i\n                                className='fa fa-group'\n                                title={title}\n                            />\n                        )}\n                    </FormattedMessage>\n                </div>\n                {item.display_name}\n            </div>\n        );\n    }\n}\n\nlet prefix = '';\n\nfunction quickSwitchSorter(a, b) {\n    const aDisplayName = a.display_name.toLowerCase();\n    const bDisplayName = b.display_name.toLowerCase();\n    const aStartsWith = aDisplayName.startsWith(prefix);\n    const bStartsWith = bDisplayName.startsWith(prefix);\n\n    if (aStartsWith && bStartsWith) {\n        const locale = getCurrentLocale(getState());\n\n        if (aDisplayName !== bDisplayName) {\n            return aDisplayName.localeCompare(bDisplayName, locale, {numeric: true});\n        }\n\n        return a.name.localeCompare(b.name, locale, {numeric: true});\n    } else if (aStartsWith) {\n        return -1;\n    }\n\n    return 1;\n}\n\nexport default class SwitchTeamProvider extends Provider {\n    handlePretextChanged(teamPrefix, resultsCallback) {\n        if (teamPrefix) {\n            prefix = teamPrefix;\n            this.startNewRequest(teamPrefix);\n\n            const allTeams = Selectors.getMyTeams(getState());\n\n            const teams = allTeams.filter((team) => {\n                return team.display_name.toLowerCase().indexOf(teamPrefix) !== -1 ||\n                    team.name.indexOf(teamPrefix) !== -1;\n            });\n\n            const teamNames = teams.\n                sort(quickSwitchSorter).\n                map((team) => team.name);\n\n            resultsCallback({\n                matchedPretext: teamPrefix,\n                terms: teamNames,\n                items: teams,\n                component: SwitchTeamSuggestion,\n            });\n\n            return true;\n        }\n\n        return false;\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {createSelector} from 'reselect';\nimport {bindActionCreators} from 'redux';\nimport {makeGetCategory} from 'mattermost-redux/selectors/entities/preferences';\nimport {getConfig, getLicense} from 'mattermost-redux/selectors/entities/general';\nimport {haveISystemPermission} from 'mattermost-redux/selectors/entities/roles';\nimport {savePreferences} from 'mattermost-redux/actions/preferences';\nimport {Permissions} from 'mattermost-redux/constants';\nimport {getStandardAnalytics} from 'mattermost-redux/actions/admin';\n\nimport {Preferences} from 'utils/constants';\n\nimport {dismissNotice} from 'actions/views/notice';\n\nimport Notices from './notices.jsx';\nimport SystemNotice from './system_notice.jsx';\n\nfunction makeMapStateToProps() {\n    const getCategory = makeGetCategory();\n\n    const getPreferenceNameMap = createSelector(\n        getCategory,\n        (preferences) => {\n            const nameMap = {};\n            preferences.forEach((p) => {\n                nameMap[p.name] = p;\n            });\n            return nameMap;\n        }\n    );\n\n    return function mapStateToProps(state) {\n        const license = getLicense(state);\n        const config = getConfig(state);\n        const serverVersion = state.entities.general.serverVersion;\n        const analytics = state.entities.admin.analytics;\n\n        return {\n            currentUserId: state.entities.users.currentUserId,\n            preferences: getPreferenceNameMap(state, Preferences.CATEGORY_SYSTEM_NOTICE),\n            dismissedNotices: state.views.notice.hasBeenDismissed,\n            isSystemAdmin: haveISystemPermission(state, {permission: Permissions.MANAGE_SYSTEM}),\n            notices: Notices,\n            config,\n            license,\n            serverVersion,\n            analytics,\n        };\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            savePreferences,\n            dismissNotice,\n            getStandardAnalytics,\n        }, dispatch),\n    };\n}\n\nexport default connect(makeMapStateToProps, mapDispatchToProps)(SystemNotice);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\n\nimport FormattedMarkdownMessage from 'components/formatted_markdown_message';\n\nimport * as ServerVersion from 'utils/server_version';\nimport * as UserAgent from 'utils/user_agent';\n\nimport mattermostIcon from 'images/icon50x50.png';\n\n// Notices are objects with the following fields:\n//  - name - string identifier\n//  - adminOnly - set to true if only system admins should see this message\n//  - icon - the image to display for the notice icon\n//  - title - JSX node to display for the notice title\n//  - body - JSX node to display for the notice body\n//  - allowForget - boolean to allow forget the notice\n//  - show - function that check if we need to show the notice\n//\n// Order is important! The notices at the top are shown first.\nexport default [\n    {\n        name: 'apiv3_deprecation',\n        adminOnly: true,\n        title: (\n            <FormattedMarkdownMessage\n                id='system_notice.title'\n                defaultMessage='**Notice**\\nfrom Mattermost'\n            />\n        ),\n        icon: mattermostIcon,\n        body: (\n            <FormattedMarkdownMessage\n                id='system_notice.body.api3'\n                defaultMessage='If youve created or installed integrations in the last two years, find out how [recent changes](!https://about.mattermost.com/default-apiv3-deprecation-guide) may have affected them.'\n            />\n        ),\n        allowForget: true,\n        show: (serverVersion, config) => {\n            if (config.InstallationDate >= new Date(2018, 5, 16, 0, 0, 0, 0).getTime()) {\n                return false;\n            }\n            return true;\n        },\n    },\n    {\n        name: 'advanced_permissions',\n        adminOnly: true,\n        title: (\n            <FormattedMarkdownMessage\n                id='system_notice.title'\n                defaultMessage='**Notice**\\nfrom Mattermost'\n            />\n        ),\n        icon: mattermostIcon,\n        body: (\n            <FormattedMarkdownMessage\n                id='system_notice.body.permissions'\n                defaultMessage='Some policy and permission System Console settings have moved with the release of [advanced permissions](!https://about.mattermost.com/default-advanced-permissions) in Enterprise E10 and E20.'\n            />\n        ),\n        allowForget: true,\n        show: (serverVersion, config, license) => {\n            if (license.IsLicensed === 'false') {\n                return false;\n            }\n            if (config.InstallationDate > new Date(2018, 5, 16, 0, 0, 0, 0).getTime()) {\n                return false;\n            }\n            if (license.IsLicensed === 'true' && license.IssuedAt > new Date(2018, 5, 16, 0, 0, 0, 0).getTime()) {\n                return false;\n            }\n            return true;\n        },\n    },\n    {\n        name: 'ee_upgrade_advice',\n        adminOnly: true,\n        title: (\n            <FormattedMarkdownMessage\n                id='system_notice.title'\n                defaultMessage='**Notice**\\nfrom Mattermost'\n            />\n        ),\n        icon: mattermostIcon,\n        body: (\n            <FormattedMarkdownMessage\n                id='system_notice.body.ee_upgrade_advice'\n                defaultMessage='Enterprise Edition is recommended to ensure optimal operation and reliability. [Learn more](!https://mattermost.com/performance).'\n            />\n        ),\n        allowForget: false,\n        show: (serverVersion, config, license, analytics) => {\n            const USERS_THRESHOLD = 10000;\n\n            // If we don't have the analytics yet, don't show\n            if (!analytics.hasOwnProperty('TOTAL_USERS')) {\n                return false;\n            }\n\n            if (analytics.TOTAL_USERS < USERS_THRESHOLD) {\n                return false;\n            }\n\n            if (license.IsLicensed === 'true' && license.Cluster === 'true') {\n                return false;\n            }\n\n            return true;\n        },\n    },\n    {\n        name: 'ie11_deprecation',\n        title: (\n            <FormattedMarkdownMessage\n                id='system_notice.title'\n                defaultMessage='**Notice**\\nfrom Mattermost'\n            />\n        ),\n        icon: mattermostIcon,\n        allowForget: false,\n        body: (\n            <FormattedMarkdownMessage\n                id='system_notice.body.ie11_deprecation'\n                defaultMessage='Your browser, IE11, will no longer be supported in an upcoming release. [Find out how to move to another browser in one simple step](!https://forum.mattermost.org/t/mattermost-is-dropping-support-for-internet-explorer-ie11-in-v5-16/7575).'\n            />\n        ),\n        show: (serverVersion) => {\n            // Don't show the notice after v5.16, show a different notice\n            if (ServerVersion.isServerVersionGreaterThanOrEqualTo(serverVersion, '5.16.0')) {\n                return false;\n            }\n\n            // Only show if they're using IE\n            if (!UserAgent.isInternetExplorer()) {\n                return false;\n            }\n\n            return true;\n        },\n    },\n];\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport {FormattedMessage, intlShape} from 'react-intl';\n\nimport {Preferences} from 'utils/constants';\nimport MattermostLogo from 'components/widgets/icons/mattermost_logo';\n\nexport default class SystemNotice extends React.PureComponent {\n    static propTypes = {\n        currentUserId: PropTypes.string.isRequired,\n        notices: PropTypes.arrayOf(PropTypes.object).isRequired,\n        preferences: PropTypes.object.isRequired,\n        dismissedNotices: PropTypes.object.isRequired,\n        isSystemAdmin: PropTypes.bool,\n        serverVersion: PropTypes.string.isRequired,\n        config: PropTypes.object.isRequired,\n        license: PropTypes.object.isRequired,\n        analytics: PropTypes.object,\n        actions: PropTypes.shape({\n            savePreferences: PropTypes.func.isRequired,\n            dismissNotice: PropTypes.func.isRequired,\n            getStandardAnalytics: PropTypes.func.isRequired,\n        }).isRequired,\n    }\n\n    static contextTypes = {\n        intl: intlShape.isRequired,\n    };\n\n    componentDidMount() {\n        if (this.props.isSystemAdmin) {\n            this.props.actions.getStandardAnalytics();\n        }\n    }\n\n    componentDidUpdate(prevProps) {\n        if (prevProps.isSystemAdmin !== this.props.isSystemAdmin && this.props.isSystemAdmin) {\n            this.props.actions.getStandardAnalytics();\n        }\n    }\n\n    getCurrentNotice = () => {\n        for (const notice of this.props.notices) {\n            // Skip if dismissed previously this session\n            if (this.props.dismissedNotices[notice.name]) {\n                continue;\n            }\n\n            // Skip if dismissed forever\n            if (this.props.preferences[notice.name]) {\n                continue;\n            }\n\n            if (notice.adminOnly && !this.props.isSystemAdmin) {\n                continue;\n            }\n\n            if (!notice.show(this.props.serverVersion, this.props.config, this.props.license, this.props.analytics)) {\n                continue;\n            }\n\n            return notice;\n        }\n        return null;\n    }\n\n    hide = (remind = false) => {\n        const notice = this.getCurrentNotice();\n        if (!notice) {\n            return;\n        }\n\n        if (!remind) {\n            this.props.actions.savePreferences(this.props.currentUserId, [{\n                user_id: this.props.currentUserId,\n                category: Preferences.CATEGORY_SYSTEM_NOTICE,\n                name: notice.name,\n                value: 'dismissed',\n            }]);\n        }\n\n        this.props.actions.dismissNotice(notice.name);\n    }\n\n    hideAndRemind = () => {\n        this.hide(true);\n    }\n\n    hideAndForget = () => {\n        this.hide(false);\n    }\n\n    render() {\n        const notice = this.getCurrentNotice();\n        const {formatMessage} = this.context.intl;\n\n        if (notice == null) {\n            return null;\n        }\n\n        let visibleMessage;\n        if (notice.adminOnly) {\n            visibleMessage = (\n                <div className='system-notice__info'>\n                    <i\n                        className='fa fa-eye'\n                        title={formatMessage({id: 'system_notice.adminVisible.icon', defaultMessage: 'Only visible to System Admins Icon'})}\n                    />\n                    <FormattedMessage\n                        id='system_notice.adminVisible'\n                        defaultMessage='Only visible to System Admins'\n                    />\n                </div>\n            );\n        }\n\n        return (\n            <div\n                className='system-notice bg--white shadow--2'\n            >\n                <div className='system-notice__header'>\n                    <div className='system-notice__logo'>\n                        <MattermostLogo/>\n                    </div>\n                    <div className='system-notice__title'>\n                        {notice.title}\n                    </div>\n                </div>\n                <div className='system-notice__body'>\n                    {notice.body}\n                </div>\n                {visibleMessage}\n                <div className='system-notice__footer'>\n                    <button\n                        id='systemnotice_remindme'\n                        className='btn btn-transparent'\n                        onClick={this.hideAndRemind}\n                    >\n                        <FormattedMessage\n                            id='system_notice.remind_me'\n                            defaultMessage='Remind me later'\n                        />\n                    </button>\n                    {notice.allowForget &&\n                        <button\n                            id='systemnotice_dontshow'\n                            className='btn btn-transparent'\n                            onClick={this.hideAndForget}\n                        >\n                            <FormattedMessage\n                                id='system_notice.dont_show'\n                                defaultMessage=\"Don't show again\"\n                            />\n                        </button>}\n                </div>\n            </div>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {bindActionCreators} from 'redux';\nimport {connect} from 'react-redux';\n\nimport {getConfig} from 'mattermost-redux/selectors/entities/general';\nimport {getTeam, patchTeam, removeTeamIcon, setTeamIcon, regenerateTeamInviteId} from 'mattermost-redux/actions/teams';\nimport {Permissions} from 'mattermost-redux/constants';\nimport {haveITeamPermission} from 'mattermost-redux/selectors/entities/roles';\n\nimport TeamGeneralTab from './team_general_tab.jsx';\n\nfunction mapStateToProps(state, ownProps) {\n    const config = getConfig(state);\n    const maxFileSize = parseInt(config.MaxFileSize, 10);\n\n    const canInviteTeamMembers = haveITeamPermission(state, {team: ownProps.team.id, permission: Permissions.INVITE_USER});\n\n    return {\n        maxFileSize,\n        canInviteTeamMembers,\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            getTeam,\n            patchTeam,\n            regenerateTeamInviteId,\n            removeTeamIcon,\n            setTeamIcon,\n        }, dispatch),\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TeamGeneralTab);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport $ from 'jquery';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage, FormattedDate} from 'react-intl';\n\nimport Constants from 'utils/constants';\nimport * as Utils from 'utils/utils.jsx';\nimport SettingItemMax from 'components/setting_item_max.jsx';\nimport SettingItemMin from 'components/setting_item_min';\nimport SettingPicture from 'components/setting_picture.jsx';\nimport BackIcon from 'components/widgets/icons/fa_back_icon';\nimport LocalizedInput from 'components/localized_input/localized_input';\nimport FormattedMarkdownMessage from 'components/formatted_markdown_message';\n\nimport {t} from 'utils/i18n.jsx';\n\nconst ACCEPTED_TEAM_IMAGE_TYPES = ['image/jpeg', 'image/png', 'image/bmp'];\n\nexport default class GeneralTab extends React.Component {\n    static propTypes = {\n        updateSection: PropTypes.func.isRequired,\n        team: PropTypes.object.isRequired,\n        activeSection: PropTypes.string.isRequired,\n        closeModal: PropTypes.func.isRequired,\n        collapseModal: PropTypes.func.isRequired,\n        maxFileSize: PropTypes.number.isRequired,\n        actions: PropTypes.shape({\n            getTeam: PropTypes.func.isRequired,\n            patchTeam: PropTypes.func.isRequired,\n            regenerateTeamInviteId: PropTypes.func.isRequired,\n            removeTeamIcon: PropTypes.func.isRequired,\n            setTeamIcon: PropTypes.func.isRequired,\n        }).isRequired,\n        canInviteTeamMembers: PropTypes.bool.isRequired,\n    }\n\n    constructor(props) {\n        super(props);\n        this.state = this.setupInitialState(props);\n    }\n\n    updateSection = (section) => {\n        this.setState(this.setupInitialState(this.props));\n        this.props.updateSection(section);\n    }\n\n    setupInitialState(props) {\n        const team = props.team;\n\n        return {\n            name: team.display_name,\n            invite_id: team.invite_id,\n            allow_open_invite: team.allow_open_invite,\n            description: team.description,\n            allowed_domains: team.allowed_domains,\n            serverError: '',\n            clientError: '',\n            teamIconFile: null,\n            loadingIcon: false,\n            submitActive: false,\n        };\n    }\n\n    UNSAFE_componentWillReceiveProps(nextProps) { // eslint-disable-line camelcase\n        this.setState({\n            name: nextProps.team.display_name,\n            description: nextProps.team.description,\n            allowed_domains: nextProps.team.allowed_domains,\n            invite_id: nextProps.team.invite_id,\n            allow_open_invite: nextProps.team.allow_open_invite,\n        });\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        if (!prevState.shouldFetchTeam && this.state.shouldFetchTeam) {\n            this.fetchTeam();\n        }\n    }\n\n    fetchTeam() {\n        if (this.state.serverError) {\n            return;\n        }\n        this.props.actions.getTeam(this.props.team.id).then(({error}) => {\n            const state = {\n                shouldFetchTeam: false,\n            };\n            if (error) {\n                state.serverError = error.message;\n            }\n            this.setState(state);\n        });\n    }\n\n    handleOpenInviteRadio = (openInvite) => {\n        this.setState({allow_open_invite: openInvite});\n    }\n\n    handleAllowedDomainsSubmit = async () => {\n        var state = {serverError: '', clientError: ''};\n\n        var data = {...this.props.team};\n        data.allowed_domains = this.state.allowed_domains;\n\n        const {error} = await this.props.actions.patchTeam(data);\n\n        if (error) {\n            state.serverError = error.message;\n            this.setState(state);\n        } else {\n            this.updateSection('');\n        }\n    }\n\n    handleOpenInviteSubmit = async () => {\n        var state = {serverError: '', clientError: ''};\n\n        var data = {...this.props.team};\n        data.allow_open_invite = this.state.allow_open_invite;\n\n        const {error} = await this.props.actions.patchTeam(data);\n\n        if (error) {\n            state.serverError = error.message;\n            this.setState(state);\n        } else {\n            this.updateSection('');\n        }\n    }\n\n    handleNameSubmit = async () => {\n        var state = {serverError: '', clientError: ''};\n        let valid = true;\n\n        const name = this.state.name.trim();\n\n        if (!name) {\n            state.clientError = Utils.localizeMessage('general_tab.required', 'This field is required');\n            valid = false;\n        } else if (name.length < Constants.MIN_TEAMNAME_LENGTH) {\n            state.clientError = (\n                <FormattedMessage\n                    id='general_tab.teamNameRestrictions'\n                    defaultMessage='Team Name must be {min} or more characters up to a maximum of {max}. You can add a longer team description.'\n                    values={{\n                        min: Constants.MIN_TEAMNAME_LENGTH,\n                        max: Constants.MAX_TEAMNAME_LENGTH,\n                    }}\n                />\n            );\n\n            valid = false;\n        } else {\n            state.clientError = '';\n        }\n\n        this.setState(state);\n\n        if (!valid) {\n            return;\n        }\n\n        var data = {...this.props.team};\n        data.display_name = this.state.name;\n\n        const {error} = await this.props.actions.patchTeam(data);\n\n        if (error) {\n            state.serverError = error.message;\n            this.setState(state);\n        } else {\n            this.updateSection('');\n        }\n    }\n\n    handleInviteIdSubmit = async () => {\n        const state = {serverError: '', clientError: ''};\n        this.setState(state);\n\n        const {error} = await this.props.actions.regenerateTeamInviteId(this.props.team.id);\n\n        if (error) {\n            state.serverError = error.message;\n            this.setState(state);\n        } else {\n            this.updateSection('');\n        }\n    }\n\n    handleClose = () => {\n        this.updateSection('');\n    }\n\n    handleDescriptionSubmit = async () => {\n        var state = {serverError: '', clientError: ''};\n        let valid = true;\n\n        const description = this.state.description.trim();\n        if (description === this.props.team.description) {\n            state.clientError = Utils.localizeMessage('general_tab.chooseDescription', 'Please choose a new description for your team');\n            valid = false;\n        } else {\n            state.clientError = '';\n        }\n\n        this.setState(state);\n\n        if (!valid) {\n            return;\n        }\n\n        var data = {...this.props.team};\n        data.description = this.state.description;\n\n        const {error} = await this.props.actions.patchTeam(data);\n\n        if (error) {\n            state.serverError = error.message;\n            this.setState(state);\n        } else {\n            this.updateSection('');\n        }\n    }\n\n    handleTeamIconSubmit = async () => {\n        if (!this.state.teamIconFile) {\n            return;\n        }\n\n        if (!this.state.submitActive) {\n            return;\n        }\n\n        this.setState({\n            loadingIcon: true,\n            clientError: '',\n            serverError: '',\n        });\n\n        const {error} = await this.props.actions.setTeamIcon(this.props.team.id, this.state.teamIconFile);\n\n        if (error) {\n            this.setState({\n                loadingIcon: false,\n                serverError: error.message,\n            });\n        } else {\n            this.setState({\n                loadingIcon: false,\n                submitActive: false,\n            });\n            this.updateSection('');\n        }\n    }\n\n    handleTeamIconRemove = async () => {\n        this.setState({\n            loadingIcon: true,\n            clientError: '',\n            serverError: '',\n        });\n\n        const {error} = await this.props.actions.removeTeamIcon(this.props.team.id);\n\n        if (error) {\n            this.setState({\n                loadingIcon: false,\n                serverError: error.message,\n            });\n        } else {\n            this.setState({\n                loadingIcon: false,\n                submitActive: false,\n            });\n            this.updateSection('');\n        }\n    }\n\n    componentDidMount() {\n        $('#team_settings').on('hidden.bs.modal', this.handleClose);\n    }\n\n    componentWillUnmount() {\n        $('#team_settings').off('hidden.bs.modal', this.handleClose);\n    }\n\n    handleUpdateSection = (section) => {\n        if (section === 'invite_id' && this.props.activeSection !== section && !this.props.team.invite_id) {\n            this.setState({shouldFetchTeam: true}, () => {\n                this.updateSection(section);\n            });\n            return;\n        }\n\n        this.updateSection(section);\n    }\n\n    updateName = (e) => {\n        this.setState({name: e.target.value});\n    }\n\n    updateDescription = (e) => {\n        this.setState({description: e.target.value});\n    }\n\n    updateTeamIcon = (e) => {\n        if (e && e.target && e.target.files && e.target.files[0]) {\n            const file = e.target.files[0];\n\n            if (!ACCEPTED_TEAM_IMAGE_TYPES.includes(file.type)) {\n                this.setState({\n                    clientError: Utils.localizeMessage('general_tab.teamIconInvalidFileType', 'Only BMP, JPG or PNG images may be used for team icons'),\n                });\n            } else if (file.size > this.props.maxFileSize) {\n                this.setState({\n                    clientError: Utils.localizeMessage('general_tab.teamIconTooLarge', 'Unable to upload team icon. File is too large.'),\n                });\n            } else {\n                this.setState({\n                    teamIconFile: e.target.files[0],\n                    clientError: '',\n                    submitActive: true,\n                });\n            }\n        } else {\n            this.setState({\n                teamIconFile: null,\n                clientError: Utils.localizeMessage('general_tab.teamIconError', 'An error occurred while selecting the image.'),\n            });\n        }\n    }\n\n    updateAllowedDomains = (e) => {\n        this.setState({allowed_domains: e.target.value});\n    }\n\n    render() {\n        const team = this.props.team;\n\n        let clientError = null;\n        let serverError = null;\n\n        if (this.state.clientError) {\n            clientError = this.state.clientError;\n        }\n        if (this.state.serverError) {\n            serverError = this.state.serverError;\n        }\n\n        let openInviteSection;\n        if (this.props.activeSection === 'open_invite') {\n            let inputs;\n\n            if (team.group_constrained) {\n                inputs = [\n                    <div key='userOpenInviteOptions'>\n                        <div>\n                            <FormattedMarkdownMessage\n                                id='team_settings.openInviteDescription.groupConstrained'\n                                defaultMessage='No, members of this team are added and removed by linked groups. [Learn More](!https://mattermost.com/pl/default-ldap-group-constrained-team-channel.html)'\n                            />\n                        </div>\n                    </div>,\n                ];\n            } else {\n                inputs = [\n                    <fieldset key='userOpenInviteOptions'>\n                        <legend className='form-legend hidden-label'>\n                            <FormattedMessage\n                                id='team_settings.openInviteDescription.ariaLabel'\n                                defaultMessage='Invite Code'\n                            />\n                        </legend>\n                        <div className='radio'>\n                            <label>\n                                <input\n                                    id='teamOpenInvite'\n                                    name='userOpenInviteOptions'\n                                    type='radio'\n                                    defaultChecked={this.state.allow_open_invite}\n                                    onChange={this.handleOpenInviteRadio.bind(this, true)}\n                                />\n                                <FormattedMessage\n                                    id='general_tab.yes'\n                                    defaultMessage='Yes'\n                                />\n                            </label>\n                            <br/>\n                        </div>\n                        <div className='radio'>\n                            <label>\n                                <input\n                                    id='teamOpenInviteNo'\n                                    name='userOpenInviteOptions'\n                                    type='radio'\n                                    defaultChecked={!this.state.allow_open_invite}\n                                    onChange={this.handleOpenInviteRadio.bind(this, false)}\n                                />\n                                <FormattedMessage\n                                    id='general_tab.no'\n                                    defaultMessage='No'\n                                />\n                            </label>\n                            <br/>\n                        </div>\n                        <div className='margin-top x3'>\n                            <FormattedMessage\n                                id='general_tab.openInviteDesc'\n                                defaultMessage='When allowed, a link to this team will be included on the landing page allowing anyone with an account to join this team.'\n                            />\n                        </div>\n                    </fieldset>,\n                ];\n            }\n\n            openInviteSection = (\n                <SettingItemMax\n                    title={Utils.localizeMessage('general_tab.openInviteTitle', 'Allow any user with an account on this server to join this team')}\n                    inputs={inputs}\n                    submit={this.handleOpenInviteSubmit}\n                    serverError={serverError}\n                    updateSection={this.handleUpdateSection}\n                />\n            );\n        } else {\n            let describe = '';\n            if (this.state.allow_open_invite === true) {\n                describe = Utils.localizeMessage('general_tab.yes', 'Yes');\n            } else if (team.group_constrained) {\n                describe = Utils.localizeMessage('team_settings.openInviteSetting.groupConstrained', 'No, members of this team are added and removed by linked groups.');\n            } else {\n                describe = Utils.localizeMessage('general_tab.no', 'No');\n            }\n\n            openInviteSection = (\n                <SettingItemMin\n                    title={Utils.localizeMessage('general_tab.openInviteTitle', 'Allow any user with an account on this server to join this team')}\n                    describe={describe}\n                    updateSection={this.handleUpdateSection}\n                    section={'open_invite'}\n                />\n            );\n        }\n\n        let inviteSection;\n\n        if (this.props.activeSection === 'invite_id' && this.props.canInviteTeamMembers) {\n            const inputs = [];\n\n            inputs.push(\n                <div key='teamInviteSetting'>\n                    <div className='row'>\n                        <label className='col-sm-5 control-label visible-xs-block'/>\n                        <div className='col-sm-12'>\n                            <input\n                                id='teamInviteId'\n                                autoFocus={true}\n                                className='form-control'\n                                type='text'\n                                value={this.state.invite_id}\n                                maxLength='32'\n                                onFocus={Utils.moveCursorToEnd}\n                                readOnly={true}\n                            />\n                        </div>\n                    </div>\n                    <div className='setting-list__hint'>\n                        <FormattedMessage\n                            id='general_tab.codeLongDesc'\n                            defaultMessage='The Invite Code is used as part of the URL in the team invitation link created by {getTeamInviteLink} in the main menu. Regenerating creates a new team invitation link and invalidates the previous link.'\n                            values={{\n                                getTeamInviteLink: (\n                                    <strong>\n                                        <FormattedMessage\n                                            id='general_tab.getTeamInviteLink'\n                                            defaultMessage='Get Team Invite Link'\n                                        />\n                                    </strong>\n                                ),\n                            }}\n                        />\n                    </div>\n                </div>\n            );\n\n            inviteSection = (\n                <SettingItemMax\n                    title={Utils.localizeMessage('general_tab.codeTitle', 'Invite Code')}\n                    inputs={inputs}\n                    submit={this.handleInviteIdSubmit}\n                    serverError={serverError}\n                    clientError={clientError}\n                    updateSection={this.handleUpdateSection}\n                    saveButtonText={Utils.localizeMessage('general_tab.regenerate', 'Regenerate')}\n                />\n            );\n        } else if (this.props.canInviteTeamMembers) {\n            inviteSection = (\n                <SettingItemMin\n                    title={Utils.localizeMessage('general_tab.codeTitle', 'Invite Code')}\n                    describe={Utils.localizeMessage('general_tab.codeDesc', \"Click 'Edit' to regenerate Invite Code.\")}\n                    updateSection={this.handleUpdateSection}\n                    section={'invite_id'}\n                />\n            );\n        }\n\n        let nameSection;\n\n        if (this.props.activeSection === 'name') {\n            const inputs = [];\n\n            let teamNameLabel = (\n                <FormattedMessage\n                    id='general_tab.teamName'\n                    defaultMessage='Team Name'\n                />\n            );\n            if (Utils.isMobile()) {\n                teamNameLabel = '';\n            }\n\n            inputs.push(\n                <div\n                    key='teamNameSetting'\n                    className='form-group'\n                >\n                    <label className='col-sm-5 control-label'>{teamNameLabel}</label>\n                    <div className='col-sm-7'>\n                        <input\n                            id='teamName'\n                            autoFocus={true}\n                            className='form-control'\n                            type='text'\n                            maxLength={Constants.MAX_TEAMNAME_LENGTH.toString()}\n                            onChange={this.updateName}\n                            value={this.state.name}\n                            onFocus={Utils.moveCursorToEnd}\n                        />\n                    </div>\n                </div>\n            );\n\n            const nameExtraInfo = <span>{Utils.localizeMessage('general_tab.teamNameInfo', 'Set the name of the team as it appears on your sign-in screen and at the top of the left-hand sidebar.')}</span>;\n\n            nameSection = (\n                <SettingItemMax\n                    title={Utils.localizeMessage('general_tab.teamName', 'Team Name')}\n                    inputs={inputs}\n                    submit={this.handleNameSubmit}\n                    serverError={serverError}\n                    clientError={clientError}\n                    updateSection={this.handleUpdateSection}\n                    extraInfo={nameExtraInfo}\n                />\n            );\n        } else {\n            var describe = this.state.name;\n\n            nameSection = (\n                <SettingItemMin\n                    title={Utils.localizeMessage('general_tab.teamName', 'Team Name')}\n                    describe={describe}\n                    updateSection={this.handleUpdateSection}\n                    section={'name'}\n                />\n            );\n        }\n\n        let descriptionSection;\n\n        if (this.props.activeSection === 'description') {\n            const inputs = [];\n\n            let teamDescriptionLabel = (\n                <FormattedMessage\n                    id='general_tab.teamDescription'\n                    defaultMessage='Team Description'\n                />\n            );\n            if (Utils.isMobile()) {\n                teamDescriptionLabel = '';\n            }\n\n            inputs.push(\n                <div\n                    key='teamDescriptionSetting'\n                    className='form-group'\n                >\n                    <label className='col-sm-5 control-label'>{teamDescriptionLabel}</label>\n                    <div className='col-sm-7'>\n                        <input\n                            id='teamDescription'\n                            autoFocus={true}\n                            className='form-control'\n                            type='text'\n                            maxLength={Constants.MAX_TEAMDESCRIPTION_LENGTH.toString()}\n                            onChange={this.updateDescription}\n                            value={this.state.description}\n                            onFocus={Utils.moveCursorToEnd}\n                        />\n                    </div>\n                </div>\n            );\n\n            const descriptionExtraInfo = <span>{Utils.localizeMessage('general_tab.teamDescriptionInfo', 'Team description provides additional information to help users select the right team. Maximum of 50 characters.')}</span>;\n\n            descriptionSection = (\n                <SettingItemMax\n                    title={Utils.localizeMessage('general_tab.teamDescription', 'Team Description')}\n                    inputs={inputs}\n                    submit={this.handleDescriptionSubmit}\n                    serverError={serverError}\n                    clientError={clientError}\n                    updateSection={this.handleUpdateSection}\n                    extraInfo={descriptionExtraInfo}\n                />\n            );\n        } else {\n            let describemsg = '';\n            if (this.state.description) {\n                describemsg = this.state.description;\n            } else {\n                describemsg = (\n                    <FormattedMessage\n                        id='general_tab.emptyDescription'\n                        defaultMessage=\"Click 'Edit' to add a team description.\"\n                    />\n                );\n            }\n            descriptionSection = (\n                <SettingItemMin\n                    title={Utils.localizeMessage('general_tab.teamDescription', 'Team Description')}\n                    describe={describemsg}\n                    updateSection={this.handleUpdateSection}\n                    section={'description'}\n                />\n            );\n        }\n\n        let teamIconSection;\n        if (this.props.activeSection === 'team_icon') {\n            teamIconSection = (\n                <SettingPicture\n                    imageContext='team'\n                    title={Utils.localizeMessage('general_tab.teamIcon', 'Team Icon')}\n                    src={Utils.imageURLForTeam(team)}\n                    file={this.state.teamIconFile}\n                    serverError={this.state.serverError}\n                    clientError={this.state.clientError}\n                    loadingPicture={this.state.loadingIcon}\n                    submitActive={this.state.submitActive}\n                    updateSection={(e) => {\n                        this.updateSection('');\n                        e.preventDefault();\n                    }}\n                    onFileChange={this.updateTeamIcon}\n                    onSubmit={this.handleTeamIconSubmit}\n                    onRemove={this.handleTeamIconRemove}\n                />\n            );\n        } else {\n            let minMessage;\n\n            if (team.last_team_icon_update) {\n                minMessage = (\n                    <FormattedMessage\n                        id='general_tab.teamIconLastUpdated'\n                        defaultMessage='Image last updated {date}'\n                        values={{\n                            date: (\n                                <FormattedDate\n                                    value={new Date(team.last_team_icon_update)}\n                                    day='2-digit'\n                                    month='short'\n                                    year='numeric'\n                                />\n                            ),\n                        }}\n                    />\n                );\n            } else {\n                minMessage = Utils.isMobile() ?\n                    Utils.localizeMessage('general_tab.teamIconEditHintMobile', 'Click to upload an image') :\n                    Utils.localizeMessage('general_tab.teamIconEditHint', 'Click \\'Edit\\' to upload an image.');\n            }\n\n            teamIconSection = (\n                <SettingItemMin\n                    title={Utils.localizeMessage('general_tab.teamIcon', 'Team Icon')}\n                    describe={minMessage}\n                    section={'team_icon'}\n                    updateSection={this.handleUpdateSection}\n                />\n            );\n        }\n\n        let allowedDomainsSection;\n\n        if (this.props.activeSection === 'allowed_domains') {\n            const inputs = [];\n\n            inputs.push(\n                <div\n                    key='allowedDomainsSetting'\n                    className='form-group'\n                >\n                    <div className='col-sm-12'>\n                        <LocalizedInput\n                            id='allowedDomains'\n                            autoFocus={true}\n                            className='form-control'\n                            type='text'\n                            onChange={this.updateAllowedDomains}\n                            value={this.state.allowed_domains}\n                            onFocus={Utils.moveCursorToEnd}\n                            placeholder={{id: t('general_tab.AllowedDomainsExample'), defaultMessage: 'corp.mattermost.com, mattermost.org'}}\n                            aria-label={Utils.localizeMessage('general_tab.allowedDomains.ariaLabel', 'Allowed Domains')}\n                        />\n                    </div>\n                </div>\n            );\n\n            const allowedDomainsInfo = <span>{Utils.localizeMessage('general_tab.AllowedDomainsInfo', 'Users can only join the team if their email matches a specific domain (e.g. \"mattermost.org\") or list of comma-separated domains (e.g. \"corp.mattermost.com, mattermost.org\").')}</span>;\n\n            allowedDomainsSection = (\n                <SettingItemMax\n                    title={Utils.localizeMessage('general_tab.allowedDomains', 'Allow only users with a specific email domain to join this team')}\n                    inputs={inputs}\n                    submit={this.handleAllowedDomainsSubmit}\n                    serverError={serverError}\n                    clientError={clientError}\n                    updateSection={this.handleUpdateSection}\n                    extraInfo={allowedDomainsInfo}\n                />\n            );\n        } else {\n            let describemsg = '';\n            if (this.state.allowed_domains) {\n                describemsg = this.state.allowed_domains;\n            } else {\n                describemsg = (\n                    <FormattedMessage\n                        id='general_tab.allowedDomainsEdit'\n                        defaultMessage=\"Click 'Edit' to add an email domain whitelist.\"\n                    />\n                );\n            }\n            allowedDomainsSection = (\n                <SettingItemMin\n                    title={Utils.localizeMessage('general_tab.allowedDomains', 'allowedDomains')}\n                    describe={describemsg}\n                    updateSection={this.handleUpdateSection}\n                    section={'allowed_domains'}\n                />\n            );\n        }\n\n        return (\n            <div>\n                <div className='modal-header'>\n                    <button\n                        id='closeButton'\n                        type='button'\n                        className='close'\n                        data-dismiss='modal'\n                        aria-label='Close'\n                        onClick={this.props.closeModal}\n                    >\n                        <span aria-hidden='true'>{''}</span>\n                    </button>\n                    <h4\n                        className='modal-title'\n                        ref='title'\n                    >\n                        <div className='modal-back'>\n                            <span onClick={this.props.collapseModal}>\n                                <BackIcon/>\n                            </span>\n                        </div>\n                        <FormattedMessage\n                            id='general_tab.title'\n                            defaultMessage='General Settings'\n                        />\n                    </h4>\n                </div>\n                <div\n                    ref='wrapper'\n                    className='user-settings'\n                >\n                    <h3 className='tab-header'>\n                        <FormattedMessage\n                            id='general_tab.title'\n                            defaultMessage='General Settings'\n                        />\n                    </h3>\n                    <div className='divider-dark first'/>\n                    {nameSection}\n                    <div className='divider-light'/>\n                    {descriptionSection}\n                    <div className='divider-light'/>\n                    {teamIconSection}\n                    {!team.group_constrained &&\n                        <>\n                            <div className='divider-light'/>\n                            {allowedDomainsSection}\n                        </>\n                    }\n                    <div className='divider-light'/>\n                    {openInviteSection}\n                    {!team.group_constrained &&\n                        <>\n                            <div className='divider-light'/>\n                            {inviteSection}\n                        </>\n                    }\n                    <div className='divider-dark'/>\n                </div>\n            </div>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {bindActionCreators} from 'redux';\nimport {connect} from 'react-redux';\nimport {getGroupsAssociatedToTeam, unlinkGroupSyncable} from 'mattermost-redux/actions/groups';\n\nimport {closeModal, openModal} from 'actions/views/modals';\n\nimport TeamGroupsManageModal from './team_groups_manage_modal';\n\nconst mapStateToProps = (state, ownProps) => {\n    return {\n        team: state.entities.teams.teams[ownProps.teamID],\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => ({\n    actions: bindActionCreators({\n        getGroupsAssociatedToTeam,\n        closeModal,\n        openModal,\n        unlinkGroupSyncable,\n    }, dispatch),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TeamGroupsManageModal);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage, intlShape} from 'react-intl';\n\nimport {Groups} from 'mattermost-redux/constants';\n\nimport ConfirmModal from 'components/confirm_modal.jsx';\n\nimport AddGroupsToTeamModal from 'components/add_groups_to_team_modal';\n\nimport {ModalIdentifiers} from 'utils/constants';\n\nimport ListModal, {DEFAULT_NUM_PER_PAGE} from 'components/list_modal.jsx';\n\nimport groupsAvatar from 'images/groups-avatar.png';\n\nexport default class TeamGroupsManageModal extends React.PureComponent {\n    static propTypes = {\n        team: PropTypes.object.isRequired,\n        actions: PropTypes.shape({\n            getGroupsAssociatedToTeam: PropTypes.func.isRequired,\n            unlinkGroupSyncable: PropTypes.func.isRequired,\n            closeModal: PropTypes.func.isRequired,\n            openModal: PropTypes.func.isRequired,\n        }).isRequired,\n    };\n\n    static contextTypes = {\n        intl: intlShape,\n    };\n\n    state = {\n        showConfirmModal: false,\n        item: {member_count: 0},\n        listModal: null,\n    };\n\n    loadItems = async (pageNumber, searchTerm) => {\n        const {data} = await this.props.actions.getGroupsAssociatedToTeam(this.props.team.id, searchTerm, pageNumber, DEFAULT_NUM_PER_PAGE);\n        return {\n            items: data.groups,\n            totalCount: data.totalGroupCount,\n        };\n    };\n\n    handleDeleteCanceled = () => {\n        this.setState({showConfirmModal: false});\n    };\n\n    handleDeleteConfirmed = () => {\n        this.setState({showConfirmModal: false});\n        const {item, listModal} = this.state;\n        this.props.actions.unlinkGroupSyncable(item.id, this.props.team.id, Groups.SYNCABLE_TYPE_TEAM).then(async () => {\n            listModal.setState({loading: true});\n            const {items} = await listModal.props.loadItems(listModal.setState.page, listModal.state.searchTerm);\n            listModal.setState({loading: false, items});\n        });\n    };\n\n    onClickRemoveGroup = (item, listModal) => {\n        this.setState({showConfirmModal: true, item, listModal});\n    };\n\n    onClickConfirmRemoveGroup = (item, listModal) => this.props.actions.unlinkGroupSyncable(item.id, this.props.team.id, Groups.SYNCABLE_TYPE_TEAM).then(async () => {\n        listModal.setState({loading: true});\n        const {items} = await listModal.props.loadItems(listModal.setState.page, listModal.state.searchTerm);\n        listModal.setState({loading: false, items});\n    });\n\n    onHide = () => {\n        this.props.actions.closeModal(ModalIdentifiers.MANAGE_TEAM_GROUPS);\n    };\n\n    titleButtonOnClick = () => {\n        this.onHide();\n        this.props.actions.openModal({modalId: ModalIdentifiers.ADD_GROUPS_TO_TEAM, dialogType: AddGroupsToTeamModal});\n    };\n\n    renderRow = (item, listModal) => {\n        return (\n            <div\n                key={item.id}\n                className='more-modal__row'\n            >\n                <img\n                    className='more-modal__image'\n                    src={groupsAvatar}\n                    alt='group picture'\n                    width='32'\n                    height='32'\n                />\n                <div className='more-modal__details'>\n                    <div className='more-modal__name'>{item.display_name} {'-'} <span>\n                        <FormattedMessage\n                            id='numMembers'\n                            defaultMessage='{num, number} {num, plural, one {member} other {members}}'\n                            values={{\n                                num: item.member_count,\n                            }}\n                        /></span>\n                    </div>\n                </div>\n                <div className='more-modal__actions'>\n                    <button\n                        id='removeMember'\n                        type='button'\n                        className='btn btn-danger btn-message'\n                        onClick={() => this.onClickRemoveGroup(item, listModal)}\n                    >\n                        <FormattedMessage\n                            id='group_list_modal.removeGroupButton'\n                            defaultMessage='Remove Group'\n                        />\n                    </button>\n                </div>\n            </div>\n        );\n    };\n\n    render() {\n        const {formatMessage} = this.context.intl;\n        const memberCount = this.state.item.member_count;\n        return (\n            <>\n                <ListModal\n                    show={!this.state.showConfirmModal}\n                    titleText={formatMessage({id: 'groups', defaultMessage: '{team} Groups'}, {team: this.props.team.display_name})}\n                    searchPlaceholderText={formatMessage({id: 'manage_team_groups_modal.search_placeholder', defaultMessage: 'Search groups'})}\n                    renderRow={this.renderRow}\n                    loadItems={this.loadItems}\n                    onHide={this.onHide}\n                    titleBarButtonText={formatMessage({id: 'group_list_modal.addGroupButton', defaultMessage: 'Add Groups'})}\n                    titleBarButtonOnClick={this.titleButtonOnClick}\n                />\n                <ConfirmModal\n                    show={this.state.showConfirmModal}\n                    title={formatMessage({id: 'remove_group_confirm_title', defaultMessage: 'Remove Group and {memberCount, number} {memberCount, plural, one {Member} other {Members}}'}, {memberCount})}\n                    message={formatMessage({id: 'remove_group_confirm_message', defaultMessage: '{memberCount, number} {memberCount, plural, one {member} other {members}} associated to this group will be removed from the team on the next scheduled AD/LDAP synchronization. Are you sure you wish to remove this group and {memberCount} {memberCount, plural, one {member} other {members}}?'}, {memberCount})}\n                    confirmButtonText={formatMessage({id: 'remove_group_confirm_button', defaultMessage: 'Yes, Remove Group and {memberCount, plural, one {Member} other {Members}}'}, {memberCount})}\n                    onConfirm={this.handleDeleteConfirmed}\n                    onCancel={this.handleDeleteCanceled}\n                />\n            </>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport {defineMessages, FormattedMessage, injectIntl, intlShape} from 'react-intl';\n\nimport * as utils from 'utils/utils.jsx';\nimport {t} from 'utils/i18n';\n\nimport LoadingSpinner from 'components/widgets/loading/loading_spinner';\n\nimport BackIcon from 'components/widgets/icons/fa_back_icon';\nimport SettingUpload from 'components/setting_upload.jsx';\nimport SuccessIcon from 'components/widgets/icons/fa_success_icon';\nimport WarningIcon from 'components/widgets/icons/fa_warning_icon';\n\nconst holders = defineMessages({\n    importSlack: {\n        id: t('team_import_tab.importSlack'),\n        defaultMessage: 'Import from Slack (Beta)',\n    },\n});\n\nclass TeamImportTab extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            status: 'ready',\n            link: '',\n        };\n    }\n\n    onImportFailure = () => {\n        this.setState({status: 'fail'});\n    }\n\n    onImportSuccess = (data) => {\n        this.setState({status: 'done', link: 'data:application/octet-stream;charset=utf-8,' + encodeURIComponent(atob(data.results))});\n    }\n\n    doImportSlack = (file) => {\n        this.setState({status: 'in-progress', link: ''});\n        utils.importSlack(file, this.onImportSuccess, this.onImportFailure);\n    }\n\n    render() {\n        const {formatMessage} = this.props.intl;\n        const uploadDocsLink = (\n            <a\n                href='https://docs.mattermost.com/administration/migrating.html#migrating-from-slack'\n                target='_blank'\n                rel='noopener noreferrer'\n            >\n                <FormattedMessage\n                    id='team_import_tab.importHelpDocsLink'\n                    defaultMessage='documentation'\n                />\n            </a>\n        );\n\n        const uploadExportInstructions = (\n            <strong>\n                <FormattedMessage\n                    id='team_import_tab.importHelpExportInstructions'\n                    defaultMessage='Slack > Administration > Workspace settings > Import/Export Data > Export > Start Export'\n                />\n            </strong>\n        );\n\n        const uploadExporterLink = (\n            <a\n                href='https://github.com/grundleborg/slack-advanced-exporter'\n                target='_blank'\n                rel='noopener noreferrer'\n            >\n                <FormattedMessage\n                    id='team_import_tab.importHelpExporterLink'\n                    defaultMessage='Slack Advanced Exporter'\n                />\n            </a>\n        );\n\n        const importCliLink = (\n            <a\n                href='https://docs.mattermost.com/administration/migrating.html#migrating-from-slack-using-the-mattermost-cli'\n                target='_blank'\n                rel='noopener noreferrer'\n            >\n                <FormattedMessage\n                    id='team_import_tab.importHelpCliDocsLink'\n                    defaultMessage='CLI tool for Slack import'\n                />\n            </a>\n        );\n\n        const uploadHelpText = (\n            <div>\n                <p>\n                    <FormattedMessage\n                        id='team_import_tab.importHelpLine1'\n                        defaultMessage=\"Slack import to Mattermost supports importing of messages in your Slack team's public channels.\"\n                    />\n                </p>\n                <p>\n                    <FormattedMessage\n                        id='team_import_tab.importHelpLine2'\n                        defaultMessage='To import a team from Slack, go to {exportInstructions}. See {uploadDocsLink} to learn more.'\n                        values={{\n                            exportInstructions: uploadExportInstructions,\n                            uploadDocsLink,\n                        }}\n                    />\n                </p>\n                <p>\n                    <FormattedMessage\n                        id='team_import_tab.importHelpLine3'\n                        defaultMessage='To import posts with attached files, see {slackAdvancedExporterLink} for details.'\n                        values={{\n                            slackAdvancedExporterLink: uploadExporterLink,\n                        }}\n                    />\n                </p>\n                <p>\n                    <FormattedMessage\n                        id='team_import_tab.importHelpLine4'\n                        defaultMessage='For Slack teams with over 10,000 messages, we recommend using the {cliLink}.'\n                        values={{\n                            cliLink: importCliLink,\n                        }}\n                    />\n                </p>\n            </div>\n        );\n\n        const uploadSection = (\n            <SettingUpload\n                title={formatMessage(holders.importSlack)}\n                submit={this.doImportSlack}\n                helpText={uploadHelpText}\n                fileTypesAccepted='.zip'\n            />\n        );\n\n        let messageSection;\n        switch (this.state.status) {\n        case 'ready':\n            messageSection = '';\n            break;\n        case 'in-progress':\n            messageSection = (\n                <p className='confirm-import alert alert-warning'>\n                    <LoadingSpinner text={utils.localizeMessage('team_import_tab.importing', 'Importing...')}/>\n                </p>\n            );\n            break;\n        case 'done':\n            messageSection = (\n                <p className='confirm-import alert alert-success'>\n                    <SuccessIcon/>\n                    <FormattedMessage\n                        id='team_import_tab.successful'\n                        defaultMessage=' Import successful: '\n                    />\n                    <a\n                        href={this.state.link}\n                        download='MattermostImportSummary.txt'\n                    >\n                        <FormattedMessage\n                            id='team_import_tab.summary'\n                            defaultMessage='View Summary'\n                        />\n                    </a>\n                </p>\n            );\n            break;\n        case 'fail':\n            messageSection = (\n                <p className='confirm-import alert alert-warning'>\n                    <WarningIcon/>\n                    <FormattedMessage\n                        id='team_import_tab.failure'\n                        defaultMessage=' Import failure: '\n                    />\n                    <a\n                        href={this.state.link}\n                        download='MattermostImportSummary.txt'\n                    >\n                        <FormattedMessage\n                            id='team_import_tab.summary'\n                            defaultMessage='View Summary'\n                        />\n                    </a>\n                </p>\n            );\n            break;\n        }\n\n        return (\n            <div>\n                <div className='modal-header'>\n                    <button\n                        type='button'\n                        className='close'\n                        data-dismiss='modal'\n                        aria-label='Close'\n                        onClick={this.props.closeModal}\n                    >\n                        <span aria-hidden='true'>{''}</span>\n                    </button>\n                    <h4\n                        className='modal-title'\n                        ref='title'\n                    >\n                        <div className='modal-back'>\n                            <span onClick={this.props.collapseModal}>\n                                <BackIcon/>\n                            </span>\n                        </div>\n                        <FormattedMessage\n                            id='team_import_tab.import'\n                            defaultMessage='Import'\n                        />\n                    </h4>\n                </div>\n                <div\n                    ref='wrapper'\n                    className='user-settings'\n                >\n                    <h3 className='tab-header'>\n                        <FormattedMessage\n                            id='team_import_tab.import'\n                            defaultMessage='Import'\n                        />\n                    </h3>\n                    <div className='divider-dark first'/>\n                    {uploadSection}\n                    <div className='divider-dark'/>\n                    {messageSection}\n                </div>\n            </div>\n        );\n    }\n}\n\nTeamImportTab.propTypes = {\n    intl: intlShape.isRequired,\n    closeModal: PropTypes.func.isRequired,\n    collapseModal: PropTypes.func.isRequired,\n};\n\nexport default injectIntl(TeamImportTab);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\n\nimport {getChannelStats} from 'mattermost-redux/actions/channels';\nimport {\n    getMyTeamMembers,\n    getMyTeamUnreads,\n    getTeamStats,\n    getTeamMember,\n    updateTeamMemberSchemeRoles,\n} from 'mattermost-redux/actions/teams';\nimport {getUser, updateUserActive} from 'mattermost-redux/actions/users';\nimport {getCurrentUser} from 'mattermost-redux/selectors/entities/users';\nimport {getCurrentChannelId} from 'mattermost-redux/selectors/entities/channels';\nimport {getCurrentRelativeTeamUrl, getCurrentTeam} from 'mattermost-redux/selectors/entities/teams';\n\nimport {removeUserFromTeamAndGetStats} from 'actions/team_actions.jsx';\n\nimport TeamMembersDropdown from './team_members_dropdown.jsx';\n\nfunction mapStateToProps(state) {\n    return {\n        currentUser: getCurrentUser(state),\n        currentChannelId: getCurrentChannelId(state),\n        teamUrl: getCurrentRelativeTeamUrl(state),\n        currentTeam: getCurrentTeam(state),\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            getMyTeamMembers,\n            getMyTeamUnreads,\n            getUser,\n            getTeamMember,\n            getTeamStats,\n            getChannelStats,\n            updateUserActive,\n            updateTeamMemberSchemeRoles,\n            removeUserFromTeamAndGetStats,\n        }, dispatch),\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TeamMembersDropdown);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nimport {browserHistory} from 'utils/browser_history';\nimport * as Utils from 'utils/utils.jsx';\nimport ConfirmModal from 'components/confirm_modal.jsx';\nimport DropdownIcon from 'components/widgets/icons/fa_dropdown_icon';\n\nimport Menu from 'components/widgets/menu/menu';\nimport MenuWrapper from 'components/widgets/menu/menu_wrapper';\n\nconst ROWS_FROM_BOTTOM_TO_OPEN_UP = 3;\n\nexport default class TeamMembersDropdown extends React.Component {\n    static propTypes = {\n        user: PropTypes.object.isRequired,\n        currentUser: PropTypes.object.isRequired,\n        teamMember: PropTypes.object.isRequired,\n        teamUrl: PropTypes.string.isRequired,\n        currentTeam: PropTypes.object.isRequired,\n        index: PropTypes.number.isRequired,\n        totalUsers: PropTypes.number.isRequired,\n        actions: PropTypes.shape({\n            getMyTeamMembers: PropTypes.func.isRequired,\n            getMyTeamUnreads: PropTypes.func.isRequired,\n            getUser: PropTypes.func.isRequired,\n            getTeamMember: PropTypes.func.isRequired,\n            getTeamStats: PropTypes.func.isRequired,\n            getChannelStats: PropTypes.func.isRequired,\n            updateTeamMemberSchemeRoles: PropTypes.func.isRequired,\n            removeUserFromTeamAndGetStats: PropTypes.func.isRequired,\n            updateUserActive: PropTypes.func.isRequired,\n        }).isRequired,\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            serverError: null,\n            showDemoteModal: false,\n            user: null,\n            role: null,\n        };\n    }\n\n    handleMakeMember = async () => {\n        const me = this.props.currentUser;\n        if (this.props.user.id === me.id && me.roles.includes('system_admin')) {\n            this.handleDemote(this.props.user, 'team_user');\n        } else {\n            const {error} = await this.props.actions.updateTeamMemberSchemeRoles(this.props.teamMember.team_id, this.props.user.id, true, false);\n            if (error) {\n                this.setState({serverError: error.message});\n            } else {\n                this.props.actions.getUser(this.props.user.id);\n                this.props.actions.getTeamMember(this.props.teamMember.team_id, this.props.user.id);\n                if (this.props.user.id === me.id) {\n                    await this.props.actions.getMyTeamMembers();\n                    this.props.actions.getMyTeamUnreads();\n                }\n            }\n        }\n    }\n\n    handleRemoveFromTeam = async () => {\n        const {error} = await this.props.actions.removeUserFromTeamAndGetStats(this.props.teamMember.team_id, this.props.user.id);\n        if (error) {\n            this.setState({serverError: error.message});\n        }\n    }\n\n    handleMakeAdmin = async () => {\n        const me = this.props.currentUser;\n        if (this.props.user.id === me.id && me.roles.includes('system_admin')) {\n            this.handleDemote(this.props.user, 'team_user team_admin');\n        } else {\n            const {error} = await this.props.actions.updateTeamMemberSchemeRoles(this.props.teamMember.team_id, this.props.user.id, true, true);\n            if (error) {\n                this.setState({serverError: error.message});\n            } else {\n                this.props.actions.getUser(this.props.user.id);\n                this.props.actions.getTeamMember(this.props.teamMember.team_id, this.props.user.id);\n            }\n        }\n    }\n\n    handleDemote = (user, role, newRole) => {\n        this.setState({\n            serverError: this.state.serverError,\n            showDemoteModal: true,\n            user,\n            role,\n            newRole,\n        });\n    }\n\n    handleDemoteCancel = () => {\n        this.setState({\n            serverError: null,\n            showDemoteModal: false,\n            user: null,\n            role: null,\n            newRole: null,\n        });\n    }\n\n    handleDemoteSubmit = async () => {\n        const {error} = await this.props.actions.updateTeamMemberSchemeRoles(this.props.teamMember.team_id, this.props.user.id, true, false);\n        if (error) {\n            this.setState({serverError: error.message});\n        } else {\n            this.props.actions.getUser(this.props.user.id);\n            browserHistory.push(this.props.teamUrl);\n        }\n    }\n\n    render() {\n        let serverError = null;\n        if (this.state.serverError) {\n            serverError = (\n                <div className='has-error'>\n                    <label className='has-error control-label'>{this.state.serverError}</label>\n                </div>\n            );\n        }\n\n        const {currentTeam, teamMember, user} = this.props;\n\n        let currentRoles = null;\n\n        if (Utils.isGuest(user)) {\n            currentRoles = (\n                <FormattedMessage\n                    id='team_members_dropdown.guest'\n                    defaultMessage='Guest'\n                />\n            );\n        } else if (user.roles.length > 0 && Utils.isSystemAdmin(user.roles)) {\n            currentRoles = (\n                <FormattedMessage\n                    id='team_members_dropdown.systemAdmin'\n                    defaultMessage='System Admin'\n                />\n            );\n        } else if ((teamMember.roles.length > 0 && Utils.isAdmin(teamMember.roles)) || teamMember.scheme_admin) {\n            currentRoles = (\n                <FormattedMessage\n                    id='team_members_dropdown.teamAdmin'\n                    defaultMessage='Team Admin'\n                />\n            );\n        } else {\n            currentRoles = (\n                <FormattedMessage\n                    id='team_members_dropdown.member'\n                    defaultMessage='Member'\n                />\n            );\n        }\n\n        const me = this.props.currentUser;\n        let showMakeMember = !Utils.isGuest(user) && (Utils.isAdmin(teamMember.roles) || teamMember.scheme_admin) && !Utils.isSystemAdmin(user.roles);\n        let showMakeAdmin = !Utils.isGuest(user) && !Utils.isAdmin(teamMember.roles) && !Utils.isSystemAdmin(user.roles) && !teamMember.scheme_admin;\n\n        if (user.delete_at > 0) {\n            currentRoles = (\n                <FormattedMessage\n                    id='team_members_dropdown.inactive'\n                    defaultMessage='Inactive'\n                />\n            );\n            showMakeMember = false;\n            showMakeAdmin = false;\n        }\n\n        const canRemoveFromTeam = user.id !== me.id && !currentTeam.group_constrained;\n\n        let makeDemoteModal = null;\n        if (user.id === me.id) {\n            const title = (\n                <FormattedMessage\n                    id='team_members_dropdown.confirmDemoteRoleTitle'\n                    defaultMessage='Confirm demotion from System Admin role'\n                />\n            );\n\n            const message = (\n                <div>\n                    <FormattedMessage\n                        id='team_members_dropdown.confirmDemoteDescription'\n                        defaultMessage=\"If you demote yourself from the System Admin role and there is not another user with System Admin privileges, you'll need to re-assign a System Admin by accessing the Mattermost server through a terminal and running the following command.\"\n                    />\n                    <br/>\n                    <br/>\n                    <FormattedMessage\n                        id='team_members_dropdown.confirmDemotionCmd'\n                        defaultMessage='platform roles system_admin {username}'\n                        vallues={{\n                            username: me.username,\n                        }}\n                    />\n                    {serverError}\n                </div>\n            );\n\n            const confirmButton = (\n                <FormattedMessage\n                    id='team_members_dropdown.confirmDemotion'\n                    defaultMessage='Confirm Demotion'\n                />\n            );\n\n            makeDemoteModal = (\n                <ConfirmModal\n                    show={this.state.showDemoteModal}\n                    title={title}\n                    message={message}\n                    confirmButtonText={confirmButton}\n                    onConfirm={this.handleDemoteSubmit}\n                    onCancel={this.handleDemoteCancel}\n                />\n            );\n        }\n\n        if (!canRemoveFromTeam && !showMakeAdmin && !showMakeMember) {\n            return <div>{currentRoles}</div>;\n        }\n\n        const {index, totalUsers} = this.props;\n        let openUp = false;\n        if (totalUsers > ROWS_FROM_BOTTOM_TO_OPEN_UP && totalUsers - index <= ROWS_FROM_BOTTOM_TO_OPEN_UP) {\n            openUp = true;\n        }\n\n        return (\n            <MenuWrapper>\n                <button\n                    id={`teamMembersDropdown_${user.username}`}\n                    className='dropdown-toggle theme color--link style--none'\n                    type='button'\n                    aria-expanded='true'\n                >\n                    <span>{currentRoles} </span>\n                    <DropdownIcon/>\n                </button>\n                <div>\n                    <Menu\n                        openLeft={true}\n                        openUp={openUp}\n                        ariaLabel={Utils.localizeMessage('team_members_dropdown.menuAriaLabel', 'Team member role change')}\n                    >\n                        <Menu.ItemAction\n                            id='removeFromTeam'\n                            show={canRemoveFromTeam}\n                            onClick={this.handleRemoveFromTeam}\n                            text={Utils.localizeMessage('team_members_dropdown.leave_team', 'Remove From Team')}\n                        />\n                        <Menu.ItemAction\n                            show={showMakeAdmin}\n                            onClick={this.handleMakeAdmin}\n                            text={Utils.localizeMessage('team_members_dropdown.makeAdmin', 'Make Team Admin')}\n                        />\n                        <Menu.ItemAction\n                            show={showMakeMember}\n                            onClick={this.handleMakeMember}\n                            text={Utils.localizeMessage('team_members_dropdown.makeMember', 'Make Member')}\n                        />\n                    </Menu>\n                    {makeDemoteModal}\n                    {serverError}\n                </div>\n            </MenuWrapper>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\nimport {getCurrentTeam} from 'mattermost-redux/selectors/entities/teams';\n\nimport {ModalIdentifiers} from 'utils/constants';\nimport {isModalOpen} from 'selectors/views/modals';\nimport {openModal} from 'actions/views/modals';\n\nimport TeamMembersModal from './team_members_modal.jsx';\n\nfunction mapStateToProps(state) {\n    const modalId = ModalIdentifiers.TEAM_MEMBERS;\n    return {\n        currentTeam: getCurrentTeam(state),\n        show: isModalOpen(state, modalId),\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            openModal,\n        }, dispatch),\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TeamMembersModal);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {Modal} from 'react-bootstrap';\nimport {FormattedMessage} from 'react-intl';\n\nimport Permissions from 'mattermost-redux/constants/permissions';\n\nimport TeamPermissionGate from 'components/permissions_gates/team_permission_gate';\nimport MemberListTeam from 'components/member_list_team';\nimport InvitationModal from 'components/invitation_modal';\n\nimport {ModalIdentifiers} from 'utils/constants';\n\nexport default class TeamMembersModal extends React.PureComponent {\n    static propTypes = {\n        currentTeam: PropTypes.object.isRequired,\n        onHide: PropTypes.func.isRequired,\n        onLoad: PropTypes.func,\n        actions: PropTypes.shape({\n            openModal: PropTypes.func.isRequired,\n        })\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            show: true,\n        };\n    }\n\n    componentDidMount() {\n        if (this.props.onLoad) {\n            this.props.onLoad();\n        }\n    }\n\n    onHide = () => {\n        this.setState({show: false});\n    }\n\n    handleInvitePeople = () => {\n        const modalData = {\n            modalId: ModalIdentifiers.INVITATION,\n            dialogType: InvitationModal,\n        };\n        this.props.actions.openModal(modalData);\n        this.setState({show: false});\n    }\n\n    render() {\n        let teamDisplayName = '';\n        if (this.props.currentTeam) {\n            teamDisplayName = this.props.currentTeam.display_name;\n        }\n\n        return (\n            <Modal\n                dialogClassName='a11y__modal more-modal'\n                show={this.state.show}\n                onHide={this.onHide}\n                onExited={this.props.onHide}\n                role='dialog'\n                aria-labelledby='teamMemberModalLabel'\n                id='teamMembersModal'\n            >\n                <Modal.Header closeButton={true}>\n                    <Modal.Title\n                        componentClass='h1'\n                        id='teamMemberModalLabel'\n                    >\n                        <FormattedMessage\n                            id='team_member_modal.members'\n                            defaultMessage='{team} Members'\n                            values={{\n                                team: teamDisplayName,\n                            }}\n                        />\n                    </Modal.Title>\n                    <TeamPermissionGate\n                        teamId={this.props.currentTeam.id}\n                        permissions={[Permissions.ADD_USER_TO_TEAM, Permissions.INVITE_GUEST]}\n                    >\n                        <button\n                            id='invitePeople'\n                            type='button'\n                            className='btn btn-primary invite-people-btn'\n                            onClick={this.handleInvitePeople}\n                        >\n                            <FormattedMessage\n                                id='team_member_modal.invitePeople'\n                                defaultMessage='Invite People'\n                            />\n                        </button>\n                    </TeamPermissionGate>\n                </Modal.Header>\n                <Modal.Body>\n                    <MemberListTeam\n                        teamId={this.props.currentTeam.id}\n                    />\n                </Modal.Body>\n            </Modal>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\n\nimport {getCurrentTeam} from 'mattermost-redux/selectors/entities/teams';\n\nimport TeamSettings from './team_settings.jsx';\n\nfunction mapStateToProps(state) {\n    return {\n        team: getCurrentTeam(state),\n    };\n}\n\nexport default connect(mapStateToProps)(TeamSettings);","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport GeneralTab from 'components/team_general_tab';\nimport ImportTab from 'components/team_import_tab.jsx';\n\nconst TeamSettings = ({activeTab, activeSection, updateSection, closeModal, collapseModal, team}) => {\n    if (!team) {\n        return null;\n    }\n\n    let result;\n    switch (activeTab) {\n    case 'general':\n        result = (\n            <div>\n                <GeneralTab\n                    team={team}\n                    activeSection={activeSection}\n                    updateSection={updateSection}\n                    closeModal={closeModal}\n                    collapseModal={collapseModal}\n                />\n            </div>\n        );\n        break;\n    case 'import':\n        result = (\n            <div>\n                <ImportTab\n                    team={team}\n                    activeSection={activeSection}\n                    updateSection={updateSection}\n                    closeModal={closeModal}\n                    collapseModal={collapseModal}\n                />\n            </div>\n        );\n        break;\n    default:\n        result = (\n            <div/>\n        );\n        break;\n    }\n\n    return result;\n};\n\nTeamSettings.defaultProps = {\n    activeTab: '',\n    activeSection: '',\n};\n\nTeamSettings.propTypes = {\n    activeTab: PropTypes.string.isRequired,\n    activeSection: PropTypes.string.isRequired,\n    updateSection: PropTypes.func.isRequired,\n    closeModal: PropTypes.func.isRequired,\n    collapseModal: PropTypes.func.isRequired,\n    team: PropTypes.object.isRequired,\n};\n\nexport default TeamSettings;","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\n\nimport {ModalIdentifiers} from 'utils/constants';\nimport {isModalOpen} from 'selectors/views/modals';\n\nimport TeamSettingsModal from './team_settings_modal.jsx';\n\nfunction mapStateToProps(state) {\n    const modalId = ModalIdentifiers.TEAM_SETTINGS;\n    return {\n        show: isModalOpen(state, modalId),\n    };\n}\n\nexport default connect(mapStateToProps)(TeamSettingsModal);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport $ from 'jquery';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\nimport {Modal} from 'react-bootstrap';\nimport {FormattedMessage} from 'react-intl';\n\nimport * as Utils from 'utils/utils.jsx';\nconst SettingsSidebar = React.lazy(() => import('components/settings_sidebar.tsx'));\n\nimport TeamSettings from 'components/team_settings';\n\nexport default class TeamSettingsModal extends React.Component {\n    static propTypes = {\n        onHide: PropTypes.func,\n    };\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            activeTab: 'general',\n            activeSection: '',\n            show: true,\n        };\n    }\n\n    updateTab = (tab) => {\n        this.setState({\n            activeTab: tab,\n            activeSection: '',\n        });\n    }\n\n    updateSection = (section) => {\n        this.setState({activeSection: section});\n    }\n\n    collapseModal = () => {\n        $(ReactDOM.findDOMNode(this.refs.modalBody)).closest('.modal-dialog').removeClass('display--content');\n\n        this.setState({\n            active_tab: '',\n            active_section: '',\n        });\n    }\n\n    handleHide = () => {\n        this.setState({show: false});\n    }\n\n    // called after the dialog is fully hidden and faded out\n    handleHidden = () => {\n        this.setState({\n            activeTab: 'general',\n            activeSection: '',\n        });\n        this.props.onHide();\n    }\n\n    render() {\n        const tabs = [];\n        tabs.push({name: 'general', uiName: Utils.localizeMessage('team_settings_modal.generalTab', 'General'), icon: 'icon fa fa-cog', iconTitle: Utils.localizeMessage('generic_icons.settings', 'Settings Icon')});\n        tabs.push({name: 'import', uiName: Utils.localizeMessage('team_settings_modal.importTab', 'Import'), icon: 'icon fa fa-upload', iconTitle: Utils.localizeMessage('generic_icons.upload', 'Upload Icon')});\n\n        return (\n            <Modal\n                dialogClassName='a11y__modal settings-modal settings-modal--action'\n                show={this.state.show}\n                onHide={this.handleHide}\n                onExited={this.handleHidden}\n                role='dialog'\n                aria-labelledby='teamSettingsModalLabel'\n            >\n                <Modal.Header\n                    id='teamSettingsModalLabel'\n                    closeButton={true}\n                >\n                    <Modal.Title componentClass='h1'>\n                        <FormattedMessage\n                            id='team_settings_modal.title'\n                            defaultMessage='Team Settings'\n                        />\n                    </Modal.Title>\n                </Modal.Header>\n                <Modal.Body ref='modalBody'>\n                    <div className='settings-table'>\n                        <div className='settings-links'>\n                            <React.Suspense fallback={null}>\n                                <SettingsSidebar\n                                    tabs={tabs}\n                                    activeTab={this.state.activeTab}\n                                    updateTab={this.updateTab}\n                                />\n                            </React.Suspense>\n                        </div>\n                        <div className='settings-content minimize-settings'>\n                            <TeamSettings\n                                activeTab={this.state.activeTab}\n                                activeSection={this.state.activeSection}\n                                updateSection={this.updateSection}\n                                closeModal={this.handleHide}\n                                collapseModal={this.collapseModal}\n                            />\n                        </div>\n                    </div>\n                </Modal.Body>\n            </Modal>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {intlShape} from 'react-intl';\nimport {OverlayTrigger, Tooltip} from 'react-bootstrap';\nimport {Link} from 'react-router-dom';\n\nimport {mark, trackEvent} from 'actions/diagnostics_actions.jsx';\nimport Constants from 'utils/constants';\nimport {isDesktopApp} from 'utils/user_agent';\nimport {localizeMessage} from 'utils/utils.jsx';\nimport CopyUrlContextMenu from 'components/copy_url_context_menu';\nimport TeamIcon from '../../widgets/team_icon/team_icon';\n\n// eslint-disable-next-line react/require-optimization\nexport default class TeamButton extends React.Component {\n    static contextTypes = {\n        intl: intlShape.isRequired,\n    };\n\n    handleSwitch = (e) => {\n        e.preventDefault();\n        mark('TeamLink#click');\n        trackEvent('ui', 'ui_team_sidebar_switch_team');\n        this.props.switchTeam(this.props.url);\n    }\n\n    handleDisabled = (e) => {\n        e.preventDefault();\n    }\n\n    render() {\n        const {teamIconUrl, displayName, btnClass, mentions, unread} = this.props;\n        const {formatMessage} = this.context.intl;\n\n        let teamClass = this.props.active ? 'active' : '';\n        const disabled = this.props.disabled ? 'team-disabled' : '';\n        const handleClick = (this.props.active || this.props.disabled) ? this.handleDisabled : this.handleSwitch;\n        let badge;\n\n        let ariaLabel = formatMessage({\n            id: 'team.button.ariaLabel',\n            defaultMessage: '{teamName} team',\n        },\n        {\n            teamName: displayName,\n        });\n\n        if (!teamClass) {\n            teamClass = unread ? 'unread' : '';\n            ariaLabel = formatMessage({\n                id: 'team.button.unread.ariaLabel',\n                defaultMessage: '{teamName} team unread',\n            },\n            {\n                teamName: displayName,\n            });\n\n            if (mentions) {\n                ariaLabel = formatMessage({\n                    id: 'team.button.mentions.ariaLabel',\n                    defaultMessage: '{teamName} team, {mentionCount} mentions',\n                },\n                {\n                    teamName: displayName,\n                    mentionCount: mentions,\n                });\n\n                badge = (\n                    <span className={'badge pull-right small'}>{mentions}</span>\n                );\n            }\n        }\n\n        ariaLabel = ariaLabel.toLowerCase();\n\n        const content = (\n            <TeamIcon\n                withHover={true}\n                name={this.props.content || displayName}\n                url={teamIconUrl}\n            />\n        );\n\n        const toolTip = this.props.tip || localizeMessage('team.button.name_undefined', 'Name undefined');\n        const btn = (\n            <OverlayTrigger\n                delayShow={Constants.OVERLAY_TIME_DELAY}\n                placement={this.props.placement}\n                overlay={\n                    <Tooltip id={`tooltip-${this.props.url}`}>\n                        {toolTip}\n                    </Tooltip>\n                }\n            >\n                <div className={'team-btn ' + btnClass}>\n                    {badge}\n                    {content}\n                </div>\n            </OverlayTrigger>\n        );\n\n        let teamButton;\n        if (isDesktopApp()) {\n            teamButton = (\n                <button\n                    className={'btn btn-link ' + disabled}\n                    onClick={handleClick}\n                >\n                    {btn}\n                </button>\n            );\n\n            // if this is not a \"special\" team button, give it a context menu\n            if (!this.props.url.endsWith('create_team') && !this.props.url.endsWith('select_team')) {\n                teamButton = (\n                    <CopyUrlContextMenu\n                        link={this.props.url}\n                        menuId={this.props.url}\n                    >\n                        {teamButton}\n                    </CopyUrlContextMenu>\n                );\n            }\n        } else {\n            teamButton = (\n                <Link\n                    id={`${this.props.url.slice(1)}TeamButton`}\n                    aria-label={ariaLabel}\n                    className={disabled}\n                    to={this.props.url}\n                    onClick={handleClick}\n                >\n                    {btn}\n                </Link>\n            );\n        }\n\n        return (\n            <div\n                className={`team-container ${teamClass}`}\n            >\n                {teamButton}\n            </div>\n        );\n    }\n}\n\nTeamButton.defaultProps = {\n    btnClass: '',\n    tip: '',\n    placement: 'right',\n    active: false,\n    disabled: false,\n    unread: false,\n    mentions: 0,\n};\n\nTeamButton.propTypes = {\n    btnClass: PropTypes.string,\n    url: PropTypes.string.isRequired,\n    displayName: PropTypes.string,\n    content: PropTypes.node,\n    tip: PropTypes.node.isRequired,\n    active: PropTypes.bool,\n    disabled: PropTypes.bool,\n    unread: PropTypes.bool,\n    mentions: PropTypes.number,\n    placement: PropTypes.oneOf(['left', 'right', 'top', 'bottom']),\n    teamIconUrl: PropTypes.string,\n    switchTeam: PropTypes.func.isRequired,\n};\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\nimport {getTeams} from 'mattermost-redux/actions/teams';\nimport {withRouter} from 'react-router-dom';\n\nimport {getConfig} from 'mattermost-redux/selectors/entities/general';\nimport {getMyTeams, getJoinableTeamIds, getTeamMemberships, getCurrentTeamId} from 'mattermost-redux/selectors/entities/teams';\n\nimport {getCurrentLocale} from 'selectors/i18n';\nimport {getIsLhsOpen} from 'selectors/lhs';\nimport {switchTeam} from 'actions/team_actions.jsx';\n\nimport TeamSidebar from './team_sidebar_controller.jsx';\n\nfunction mapStateToProps(state) {\n    const config = getConfig(state);\n\n    const experimentalPrimaryTeam = config.ExperimentalPrimaryTeam;\n    const joinableTeams = getJoinableTeamIds(state);\n    const moreTeamsToJoin = joinableTeams && joinableTeams.length > 0;\n\n    return {\n        currentTeamId: getCurrentTeamId(state),\n        myTeams: getMyTeams(state),\n        myTeamMembers: getTeamMemberships(state),\n        isOpen: getIsLhsOpen(state),\n        experimentalPrimaryTeam,\n        locale: getCurrentLocale(state),\n        moreTeamsToJoin,\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            getTeams,\n            switchTeam,\n        }, dispatch),\n    };\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(TeamSidebar));\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport Scrollbars from 'react-custom-scrollbars';\nimport {FormattedMessage} from 'react-intl';\nimport Permissions from 'mattermost-redux/constants/permissions';\nimport classNames from 'classnames';\n\nimport {filterAndSortTeamsByDisplayName} from 'utils/team_utils.jsx';\n\nimport * as Utils from 'utils/utils.jsx';\n\nimport SystemPermissionGate from 'components/permissions_gates/system_permission_gate';\nimport Pluggable from 'plugins/pluggable';\n\nimport TeamButton from './components/team_button.jsx';\n\nexport function renderView(props) {\n    return (\n        <div\n            {...props}\n            className='scrollbar--view'\n        />);\n}\n\nexport function renderThumbHorizontal(props) {\n    return (\n        <div\n            {...props}\n            className='scrollbar--horizontal'\n        />);\n}\n\nexport function renderThumbVertical(props) {\n    return (\n        <div\n            {...props}\n            className='scrollbar--vertical'\n        />);\n}\n\nexport default class TeamSidebar extends React.PureComponent {\n    static propTypes = {\n        myTeams: PropTypes.array.isRequired,\n        currentTeamId: PropTypes.string.isRequired,\n        moreTeamsToJoin: PropTypes.bool.isRequired,\n        myTeamMembers: PropTypes.object.isRequired,\n        isOpen: PropTypes.bool.isRequired,\n        experimentalPrimaryTeam: PropTypes.string,\n        locale: PropTypes.string.isRequired,\n        actions: PropTypes.shape({\n            getTeams: PropTypes.func.isRequired,\n            switchTeam: PropTypes.func.isRequired,\n        }).isRequired,\n    }\n\n    componentDidMount() {\n        this.props.actions.getTeams(0, 200);\n    }\n\n    render() {\n        const root = document.querySelector('#root');\n        if (this.props.myTeams.length <= 1) {\n            root.classList.remove('multi-teams');\n            return null;\n        }\n        root.classList.add('multi-teams');\n\n        const plugins = [];\n        const teams = filterAndSortTeamsByDisplayName(this.props.myTeams, this.props.locale).\n            map((team) => {\n                const member = this.props.myTeamMembers[team.id];\n                return (\n                    <TeamButton\n                        key={'switch_team_' + team.name}\n                        url={`/${team.name}`}\n                        tip={team.display_name}\n                        active={team.id === this.props.currentTeamId}\n                        displayName={team.display_name}\n                        unread={member.msg_count > 0}\n                        mentions={member.mention_count}\n                        teamIconUrl={Utils.imageURLForTeam(team)}\n                        switchTeam={this.props.actions.switchTeam}\n                    />\n                );\n            });\n\n        if (this.props.moreTeamsToJoin && !this.props.experimentalPrimaryTeam) {\n            teams.push(\n                <TeamButton\n                    btnClass='team-btn__add'\n                    key='more_teams'\n                    url='/select_team'\n                    tip={\n                        <FormattedMessage\n                            id='team_sidebar.join'\n                            defaultMessage='Other teams you can join.'\n                        />\n                    }\n                    content={'+'}\n                    switchTeam={this.props.actions.switchTeam}\n                />\n            );\n        } else {\n            teams.push(\n                <SystemPermissionGate\n                    permissions={[Permissions.CREATE_TEAM]}\n                    key='more_teams'\n                >\n                    <TeamButton\n                        btnClass='team-btn__add'\n                        url='/create_team'\n                        tip={\n                            <FormattedMessage\n                                id='navbar_dropdown.create'\n                                defaultMessage='Create a New Team'\n                            />\n                        }\n                        content={'+'}\n                        switchTeam={this.props.actions.switchTeam}\n                    />\n                </SystemPermissionGate>\n            );\n        }\n\n        plugins.push(\n            <div\n                key='team-sidebar-bottom-plugin'\n                className='team-sidebar-bottom-plugin is-empty'\n            >\n                <Pluggable pluggableName='BottomTeamSidebar'/>\n            </div>\n        );\n\n        return (\n            <div className={classNames('team-sidebar', {'move--right': this.props.isOpen})}>\n                <div\n                    className='team-wrapper'\n                    id='teamSidebarWrapper'\n                >\n                    <Scrollbars\n                        autoHide={true}\n                        autoHideTimeout={500}\n                        autoHideDuration={500}\n                        renderThumbHorizontal={renderThumbHorizontal}\n                        renderThumbVertical={renderThumbVertical}\n                        renderView={renderView}\n                        onScroll={this.handleScroll}\n                    >\n                        {teams}\n                    </Scrollbars>\n                </div>\n                {plugins}\n            </div>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {bindActionCreators} from 'redux';\nimport {connect} from 'react-redux';\n\nimport {getCurrentUserId, makeGetProfilesInChannel, makeGetProfilesNotInChannel} from 'mattermost-redux/selectors/entities/users';\n\nimport {autocompleteUsersInChannel} from 'actions/views/channel';\nimport {autocompleteChannels} from 'actions/channel_actions';\n\nimport Textbox from './textbox.jsx';\n\nconst makeMapStateToProps = () => {\n    const getProfilesInChannel = makeGetProfilesInChannel();\n    const getProfilesNotInChannel = makeGetProfilesNotInChannel();\n\n    return (state, ownProps) => ({\n        currentUserId: getCurrentUserId(state),\n        profilesInChannel: getProfilesInChannel(state, ownProps.channelId, true),\n        profilesNotInChannel: getProfilesNotInChannel(state, ownProps.channelId, true),\n    });\n};\n\nconst mapDispatchToProps = (dispatch) => ({\n    actions: bindActionCreators({\n        autocompleteUsersInChannel,\n        autocompleteChannels,\n    }, dispatch),\n});\n\nexport default connect(makeMapStateToProps, mapDispatchToProps, null, {withRef: true})(Textbox);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nimport AutosizeTextarea from 'components/autosize_textarea';\nimport PostMarkdown from 'components/post_markdown';\nimport AtMentionProvider from 'components/suggestion/at_mention_provider';\nimport ChannelMentionProvider from 'components/suggestion/channel_mention_provider.jsx';\nimport CommandProvider from 'components/suggestion/command_provider.jsx';\nimport EmoticonProvider from 'components/suggestion/emoticon_provider.jsx';\nimport SuggestionBox from 'components/suggestion/suggestion_box.jsx';\nimport SuggestionList from 'components/suggestion/suggestion_list.jsx';\nimport * as Utils from 'utils/utils.jsx';\n\nexport default class Textbox extends React.Component {\n    static propTypes = {\n        id: PropTypes.string.isRequired,\n        channelId: PropTypes.string,\n        value: PropTypes.string.isRequired,\n        onChange: PropTypes.func.isRequired,\n        onKeyPress: PropTypes.func.isRequired,\n        onComposition: PropTypes.func,\n        onHeightChange: PropTypes.func,\n        createMessage: PropTypes.string.isRequired,\n        onKeyDown: PropTypes.func,\n        onMouseUp: PropTypes.func,\n        onKeyUp: PropTypes.func,\n        onBlur: PropTypes.func,\n        supportsCommands: PropTypes.bool.isRequired,\n        handlePostError: PropTypes.func,\n        suggestionListStyle: PropTypes.string,\n        emojiEnabled: PropTypes.bool,\n        isRHS: PropTypes.bool,\n        characterLimit: PropTypes.number.isRequired,\n        disabled: PropTypes.bool,\n        badConnection: PropTypes.bool,\n        listenForMentionKeyClick: PropTypes.bool,\n        currentUserId: PropTypes.string.isRequired,\n        preview: PropTypes.bool,\n        profilesInChannel: PropTypes.arrayOf(PropTypes.object).isRequired,\n        profilesNotInChannel: PropTypes.arrayOf(PropTypes.object).isRequired,\n        actions: PropTypes.shape({\n            autocompleteUsersInChannel: PropTypes.func.isRequired,\n            autocompleteChannels: PropTypes.func.isRequired,\n        }),\n    };\n\n    static defaultProps = {\n        supportsCommands: true,\n        isRHS: false,\n        listenForMentionKeyClick: false,\n    };\n\n    constructor(props) {\n        super(props);\n\n        this.suggestionProviders = [\n            new AtMentionProvider({\n                currentUserId: this.props.currentUserId,\n                profilesInChannel: this.props.profilesInChannel,\n                profilesNotInChannel: this.props.profilesNotInChannel,\n                autocompleteUsersInChannel: (prefix) => this.props.actions.autocompleteUsersInChannel(prefix, props.channelId),\n            }),\n            new ChannelMentionProvider(props.actions.autocompleteChannels),\n            new EmoticonProvider(),\n        ];\n\n        if (props.supportsCommands) {\n            this.suggestionProviders.push(new CommandProvider());\n        }\n\n        this.checkMessageLength(props.value);\n        this.wrapper = React.createRef();\n    }\n\n    handleChange = (e) => {\n        this.props.onChange(e);\n    }\n\n    updateSuggestions(prevProps) {\n        if (this.props.channelId !== prevProps.channelId ||\n            this.props.currentUserId !== prevProps.currentUserId ||\n            this.props.profilesInChannel !== prevProps.profilesInChannel ||\n            this.props.profilesNotInChannel !== prevProps.profilesNotInChannel) {\n            // Update channel id for AtMentionProvider.\n            const providers = this.suggestionProviders;\n            for (let i = 0; i < providers.length; i++) {\n                if (providers[i] instanceof AtMentionProvider) {\n                    providers[i].setProps({\n                        currentUserId: this.props.currentUserId,\n                        profilesInChannel: this.props.profilesInChannel,\n                        profilesNotInChannel: this.props.profilesNotInChannel,\n                        autocompleteUsersInChannel: (prefix) => this.props.actions.autocompleteUsersInChannel(prefix, this.props.channelId),\n                    });\n                }\n            }\n        }\n        if (prevProps.value !== this.props.value) {\n            this.checkMessageLength(this.props.value);\n        }\n    }\n    componentDidUpdate(prevProps) {\n        if (!prevProps.preview && this.props.preview) {\n            this.refs.preview.focus();\n        }\n\n        this.updateSuggestions(prevProps);\n    }\n\n    checkMessageLength = (message) => {\n        if (this.props.handlePostError) {\n            if (message.length > this.props.characterLimit) {\n                const errorMessage = (\n                    <FormattedMessage\n                        id='create_post.error_message'\n                        defaultMessage='Your message is too long. Character count: {length}/{limit}'\n                        values={{\n                            length: message.length,\n                            limit: this.props.characterLimit,\n                        }}\n                    />);\n                this.props.handlePostError(errorMessage);\n            } else {\n                this.props.handlePostError(null);\n            }\n        }\n    }\n\n    handleKeyDown = (e) => {\n        if (this.props.onKeyDown) {\n            this.props.onKeyDown(e);\n        }\n    }\n\n    handleMouseUp = (e) => {\n        if (this.props.onMouseUp) {\n            this.props.onMouseUp(e);\n        }\n    }\n\n    handleKeyUp = (e) => {\n        if (this.props.onKeyUp) {\n            this.props.onKeyUp(e);\n        }\n    }\n\n    handleBlur = (e) => {\n        if (this.props.onBlur) {\n            this.props.onBlur(e);\n        }\n    }\n\n    handleHeightChange = (height, maxHeight) => {\n        if (this.props.onHeightChange) {\n            this.props.onHeightChange(height, maxHeight);\n        }\n    }\n\n    getInputBox = () => {\n        const textbox = this.refs.message.getTextbox();\n        return textbox;\n    }\n\n    focus = () => {\n        const textbox = this.refs.message.getTextbox();\n\n        textbox.focus();\n        Utils.placeCaretAtEnd(textbox);\n\n        // reset character count warning\n        this.checkMessageLength(textbox.value);\n    }\n\n    blur = () => {\n        const textbox = this.refs.message.getTextbox();\n        textbox.blur();\n    };\n\n    recalculateSize = () => {\n        this.refs.message.recalculateSize();\n    }\n\n    render() {\n        let preview = null;\n\n        let textboxClassName = 'form-control custom-textarea';\n        let textWrapperClass = 'textarea-wrapper';\n        let wrapperHeight;\n        if (this.props.emojiEnabled) {\n            textboxClassName += ' custom-textarea--emoji-picker';\n        }\n        if (this.props.badConnection) {\n            textboxClassName += ' bad-connection';\n        }\n        if (this.wrapper.current) {\n            wrapperHeight = this.wrapper.current.clientHeight;\n        }\n        if (this.props.preview) {\n            textboxClassName += ' custom-textarea--preview';\n            textWrapperClass += ' textarea-wrapper--preview';\n\n            preview = (\n                <div\n                    tabIndex='0'\n                    ref='preview'\n                    className='form-control custom-textarea textbox-preview-area'\n                    onKeyPress={this.props.onKeyPress}\n                    onKeyDown={this.handleKeyDown}\n                    onBlur={this.handleBlur}\n                >\n                    <PostMarkdown\n                        isRHS={this.props.isRHS}\n                        message={this.props.value}\n                    />\n                </div>\n            );\n        }\n\n        return (\n            <div\n                ref={this.wrapper}\n                className={textWrapperClass}\n            >\n                <SuggestionBox\n                    id={this.props.id}\n                    ref='message'\n                    className={textboxClassName}\n                    spellCheck='true'\n                    placeholder={this.props.createMessage}\n                    onChange={this.handleChange}\n                    onKeyPress={this.props.onKeyPress}\n                    onKeyDown={this.handleKeyDown}\n                    onMouseUp={this.handleMouseUp}\n                    onKeyUp={this.handleKeyUp}\n                    onComposition={this.props.onComposition}\n                    onBlur={this.handleBlur}\n                    onHeightChange={this.handleHeightChange}\n                    style={{visibility: this.props.preview ? 'hidden' : 'visible'}}\n                    inputComponent={AutosizeTextarea}\n                    listComponent={SuggestionList}\n                    listStyle={this.props.suggestionListStyle}\n                    providers={this.suggestionProviders}\n                    channelId={this.props.channelId}\n                    value={this.props.value}\n                    renderDividers={true}\n                    isRHS={this.props.isRHS}\n                    disabled={this.props.disabled}\n                    contextId={this.props.channelId}\n                    listenForMentionKeyClick={this.props.listenForMentionKeyClick}\n                    wrapperHeight={wrapperHeight}\n                />\n                {preview}\n            </div>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\nimport {Link} from 'react-router-dom';\n\nimport Constants from 'utils/constants';\nimport * as Utils from 'utils/utils.jsx';\n\nconst PreReleaseFeatures = Constants.PRE_RELEASE_FEATURES;\n\nexport default class TextboxLinks extends React.Component {\n    static propTypes = {\n        showPreview: PropTypes.bool,\n        characterLimit: PropTypes.number.isRequired,\n        previewMessageLink: PropTypes.string,\n        updatePreview: PropTypes.func,\n        message: PropTypes.string.isRequired,\n    };\n\n    static defaultProps = {\n        message: '',\n    };\n\n    togglePreview = (e) => {\n        e.preventDefault();\n        this.props.updatePreview(!this.props.showPreview);\n    }\n\n    render() {\n        const hasText = this.props.message && this.props.message.length > 0;\n        let editHeader;\n\n        let helpTextClass = '';\n\n        if (this.props.message && this.props.message.length > this.props.characterLimit) {\n            helpTextClass = 'hidden';\n        }\n\n        if (this.props.previewMessageLink) {\n            editHeader = (\n                <span>\n                    {this.props.previewMessageLink}\n                </span>\n            );\n        } else {\n            editHeader = (\n                <FormattedMessage\n                    id='textbox.edit'\n                    defaultMessage='Edit message'\n                />\n            );\n        }\n\n        let previewLink = null;\n        if (Utils.isFeatureEnabled(PreReleaseFeatures.MARKDOWN_PREVIEW)) {\n            previewLink = (\n                <button\n                    id='previewLink'\n                    onClick={this.togglePreview}\n                    className='style--none textbox-preview-link color--link'\n                >\n                    {this.props.showPreview ? (\n                        editHeader\n                    ) : (\n                        <FormattedMessage\n                            id='textbox.preview'\n                            defaultMessage='Preview'\n                        />\n                    )}\n                </button>\n            );\n        }\n\n        const helpText = (\n            <div\n                id='helpText'\n                style={{visibility: hasText ? 'visible' : 'hidden', opacity: hasText ? '0.45' : '0'}}\n                className='help__format-text'\n            >\n                <b>\n                    <FormattedMessage\n                        id='textbox.bold'\n                        defaultMessage='**bold**'\n                    />\n                </b>\n                <i>\n                    <FormattedMessage\n                        id='textbox.italic'\n                        defaultMessage='_italic_'\n                    />\n                </i>\n                <span>\n                    {'~~'}\n                    <strike>\n                        <FormattedMessage\n                            id='textbox.strike'\n                            defaultMessage='strike'\n                        />\n                    </strike>\n                    {'~~ '}\n                </span>\n                <span>\n                    <FormattedMessage\n                        id='textbox.inlinecode'\n                        defaultMessage='`inline code`'\n                    />\n                </span>\n                <span>\n                    <FormattedMessage\n                        id='textbox.preformatted'\n                        defaultMessage='```preformatted```'\n                    />\n                </span>\n                <span>\n                    <FormattedMessage\n                        id='textbox.quote'\n                        defaultMessage='>quote'\n                    />\n                </span>\n            </div>\n        );\n\n        return (\n            <div className={'help__text ' + helpTextClass}>\n                {helpText}\n                {previewLink}\n                <Link\n                    id='helpTextLink'\n                    target='_blank'\n                    rel='noopener noreferrer'\n                    to='/help/messaging'\n                    className='textbox-help-link'\n                >\n                    <FormattedMessage\n                        id='textbox.help'\n                        defaultMessage='Help'\n                    />\n                </Link>\n            </div>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nexport default class ModalToggleButton extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            show: false,\n        };\n    }\n\n    show = (e) => {\n        if (e) {\n            e.preventDefault();\n        }\n        this.setState({show: true});\n    }\n\n    hide = () => {\n        this.setState({show: false});\n    }\n\n    render() {\n        const {children, dialogType, dialogProps, onClick, ...props} = this.props;\n\n        // allow callers to provide an onClick which will be called before the modal is shown\n        let clickHandler = this.show;\n        if (onClick) {\n            clickHandler = (e) => {\n                onClick();\n\n                this.show(e);\n            };\n        }\n\n        let dialog;\n        if (this.state.show) {\n            // this assumes that all modals will have an onHide event and will show when mounted\n            dialog = React.createElement(dialogType, Object.assign({}, dialogProps, {\n                onHide: () => {\n                    this.hide();\n\n                    if (dialogProps.onHide) {\n                        dialogProps.onHide();\n                    }\n                },\n            }));\n        }\n\n        // nesting the dialog in the anchor tag looks like it shouldn't work, but it does due to how react-bootstrap\n        // renders modals at the top level of the DOM instead of where you specify in the virtual DOM\n        return (\n            <button\n                {...props}\n                className={'style--none ' + props.className}\n                onClick={clickHandler}\n            >\n                {children}\n                {dialog}\n            </button>\n        );\n    }\n}\n\nModalToggleButton.propTypes = {\n    children: PropTypes.node.isRequired,\n    dialogType: PropTypes.func.isRequired,\n    dialogProps: PropTypes.object,\n    onClick: PropTypes.func,\n    className: PropTypes.string,\n};\n\nModalToggleButton.defaultProps = {\n    dialogProps: {},\n    className: '',\n};\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\n\nimport {openModal} from 'actions/views/modals';\n\nimport ModalToggleButtonRedux from './toggle_modal_button_redux.jsx';\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            openModal,\n        }, dispatch),\n    };\n}\n\nexport default connect(null, mapDispatchToProps)(ModalToggleButtonRedux);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {intlShape} from 'react-intl';\n\nexport default class ModalToggleButtonRedux extends React.Component {\n    static propTypes = {\n        accessibilityLabel: PropTypes.string,\n        children: PropTypes.node.isRequired,\n        modalId: PropTypes.string.isRequired,\n        dialogType: PropTypes.func.isRequired,\n        dialogProps: PropTypes.object,\n        onClick: PropTypes.func,\n        className: PropTypes.string,\n        actions: PropTypes.shape({\n            openModal: PropTypes.func.isRequired,\n        }).isRequired,\n    };\n\n    static defaultProps = {\n        dialogProps: {},\n        className: '',\n    };\n\n    static contextTypes = {\n        intl: intlShape.isRequired,\n    };\n\n    show(e) {\n        if (e) {\n            e.preventDefault();\n        }\n\n        const {modalId, dialogProps, dialogType} = this.props;\n\n        const modalData = {\n            modalId,\n            dialogProps,\n            dialogType,\n        };\n\n        this.props.actions.openModal(modalData);\n    }\n\n    render() {\n        const {children, onClick, ...props} = this.props;\n        const {formatMessage} = this.context.intl;\n        const ariaLabel = `${props.accessibilityLabel} ${formatMessage({id: 'accessibility.button.dialog', defaultMessage: 'Dialog'})}`;\n\n        // removing these three props since they are not valid props on buttons\n        delete props.modalId;\n        delete props.dialogType;\n        delete props.dialogProps;\n        delete props.accessibilityLabel;\n\n        // allow callers to provide an onClick which will be called before the modal is shown\n        let clickHandler = () => this.show();\n        if (onClick) {\n            clickHandler = (e) => {\n                onClick();\n\n                this.show(e);\n            };\n        }\n\n        return (\n            <button\n                {...props}\n                className={'style--none ' + props.className}\n                data-toggle='modal toggle'\n                aria-label={ariaLabel}\n                onClick={clickHandler}\n            >\n                {children}\n            </button>\n        );\n    }\n}\n\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\nimport {connect} from 'react-redux';\n\nimport {Permissions} from 'mattermost-redux/constants';\nimport {getChannelsNameMapInCurrentTeam} from 'mattermost-redux/selectors/entities/channels';\nimport {getLicense, getConfig} from 'mattermost-redux/selectors/entities/general';\nimport {haveITeamPermission} from 'mattermost-redux/selectors/entities/roles';\nimport {getCurrentTeam} from 'mattermost-redux/selectors/entities/teams';\n\nimport Constants from 'utils/constants';\n\nimport TutorialView from './tutorial_view.jsx';\n\nfunction mapStateToProps(state) {\n    const license = getLicense(state);\n    const config = getConfig(state);\n\n    const team = getCurrentTeam(state);\n\n    const teamChannels = getChannelsNameMapInCurrentTeam(state);\n    const townSquare = teamChannels[Constants.DEFAULT_CHANNEL];\n    const townSquareDisplayName = townSquare ? townSquare.display_name : Constants.DEFAULT_CHANNEL_UI_NAME;\n\n    const appDownloadLink = config.AppDownloadLink;\n    const isLicensed = license.IsLicensed === 'true';\n    const restrictTeamInvite = !haveITeamPermission(state, {team: team.id, permission: Permissions.INVITE_USER});\n    const supportEmail = config.SupportEmail;\n\n    return {\n        townSquareDisplayName,\n        appDownloadLink,\n        isLicensed,\n        restrictTeamInvite,\n        supportEmail,\n    };\n}\n\nexport default connect(mapStateToProps)(TutorialView);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport {FormattedMessage} from 'react-intl';\n\nimport FormattedMarkdownMessage from 'components/formatted_markdown_message.jsx';\n\nimport TutorialTip from './tutorial_tip';\n\nconst MenuTutorialTip = ({toggleFunc, onBottom}) => {\n    const screens = [];\n\n    screens.push(\n        <div>\n            <h4>\n                <FormattedMessage\n                    id='sidebar_header.tutorial.title'\n                    defaultMessage='Main Menu'\n                />\n            </h4>\n            <p>\n                <FormattedMarkdownMessage\n                    id='sidebar_header.tutorial.body1'\n                    defaultMessage='The **Main Menu** is where you can **Invite New Members**, access your **Account Settings** and set your **Theme Color**.'\n                />\n            </p>\n            <p>\n                <FormattedMarkdownMessage\n                    id='sidebar_header.tutorial.body2'\n                    defaultMessage='Team administrators can also access their **Team Settings** from this menu.'\n                />\n            </p>\n            <p>\n                <FormattedMarkdownMessage\n                    id='sidebar_header.tutorial.body3'\n                    defaultMessage='System administrators will find a **System Console** option to administrate the entire system.'\n                />\n            </p>\n        </div>\n    );\n\n    let placement = 'right';\n    let arrow = 'left';\n    if (onBottom) {\n        placement = 'bottom';\n        arrow = 'up';\n    }\n\n    return (\n        <div\n            onClick={toggleFunc}\n        >\n            <TutorialTip\n                placement={placement}\n                screens={screens}\n                overlayClass={'tip-overlay--header--' + arrow}\n                diagnosticsTag='tutorial_tip_3_main_menu'\n            />\n        </div>\n    );\n};\n\nMenuTutorialTip.propTypes = {\n    toggleFunc: PropTypes.func,\n    onBottom: PropTypes.bool.isRequired,\n};\n\nexport default MenuTutorialTip;\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\nimport {getCurrentUserId} from 'mattermost-redux/selectors/entities/users';\nimport {getInt} from 'mattermost-redux/selectors/entities/preferences';\nimport {savePreferences} from 'mattermost-redux/actions/preferences';\n\nimport {Preferences} from 'utils/constants';\n\nimport TutorialIntroScreens from './tutorial_intro_screens.jsx';\n\nfunction mapStateToProps(state) {\n    const currentUserId = getCurrentUserId(state);\n    return {\n        currentUserId,\n        step: getInt(state, Preferences.TUTORIAL_STEP, currentUserId, 0),\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {actions: bindActionCreators({\n        savePreferences,\n    }, dispatch)};\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TutorialIntroScreens);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage, intlShape} from 'react-intl';\n\nimport {trackEvent} from 'actions/diagnostics_actions.jsx';\nimport {Constants, Preferences, ModalIdentifiers} from 'utils/constants.jsx';\nimport {useSafeUrl} from 'utils/url';\nimport AppIcons from 'images/appIcons.png';\nimport ModalToggleButtonRedux from 'components/toggle_modal_button_redux';\nimport InvitationModal from 'components/invitation_modal';\n\nconst NUM_SCREENS = 3;\n\nexport default class TutorialIntroScreens extends React.Component {\n    static propTypes = {\n        currentUserId: PropTypes.string.isRequired,\n        step: PropTypes.number,\n        townSquareDisplayName: PropTypes.string.isRequired,\n        appDownloadLink: PropTypes.string,\n        isLicensed: PropTypes.bool.isRequired,\n        restrictTeamInvite: PropTypes.bool.isRequired,\n        supportEmail: PropTypes.string.isRequired,\n        actions: PropTypes.shape({\n            savePreferences: PropTypes.func.isRequired,\n        }).isRequired,\n    };\n\n    static contextTypes = {\n        intl: intlShape.isRequired,\n    };\n\n    constructor(props) {\n        super(props);\n\n        this.state = {currentScreen: 0};\n    }\n\n    handleNext = () => {\n        switch (this.state.currentScreen) {\n        case 0:\n            trackEvent('tutorial', 'tutorial_screen_1_welcome_to_mattermost_next');\n            break;\n        case 1:\n            trackEvent('tutorial', 'tutorial_screen_2_how_mattermost_works_next');\n            break;\n        case 2:\n            trackEvent('tutorial', 'tutorial_screen_3_youre_all_set_next');\n            break;\n        }\n\n        if (this.state.currentScreen < 2) {\n            this.setState({currentScreen: this.state.currentScreen + 1});\n            return;\n        }\n\n        const {currentUserId} = this.props;\n        const preferences = [{\n            user_id: currentUserId,\n            category: Preferences.TUTORIAL_STEP,\n            name: currentUserId,\n            value: (this.props.step + 1).toString(),\n        }];\n\n        this.props.actions.savePreferences(currentUserId, preferences);\n    }\n\n    skipTutorial = (e) => {\n        e.preventDefault();\n\n        switch (this.state.currentScreen) {\n        case 0:\n            trackEvent('tutorial', 'tutorial_screen_1_welcome_to_mattermost_skip');\n            break;\n        case 1:\n            trackEvent('tutorial', 'tutorial_screen_2_how_mattermost_works_skip');\n            break;\n        case 2:\n            trackEvent('tutorial', 'tutorial_screen_3_youre_all_set_skip');\n            break;\n        }\n\n        const {currentUserId} = this.props;\n        const preferences = [{\n            user_id: currentUserId,\n            category: Preferences.TUTORIAL_STEP,\n            name: currentUserId,\n            value: Constants.TutorialSteps.FINISHED.toString(),\n        }];\n\n        this.props.actions.savePreferences(currentUserId, preferences);\n    }\n    createScreen = () => {\n        switch (this.state.currentScreen) {\n        case 0:\n            return this.createScreenOne();\n        case 1:\n            return this.createScreenTwo();\n        case 2:\n            return this.createScreenThree();\n        }\n        return null;\n    }\n\n    createScreenOne() {\n        const circles = this.createCircles();\n\n        return (\n            <div id='tutorialIntroOne'>\n                <h3>\n                    <FormattedMessage\n                        id='tutorial_intro.screenOne.title1'\n                        defaultMessage='Welcome to:'\n                    />\n                </h3>\n                <h1>\n                    <FormattedMessage\n                        id='tutorial_intro.screenOne.title2'\n                        defaultMessage='Mattermost'\n                    />\n                </h1>\n                <p>\n                    <FormattedMessage\n                        id='tutorial_intro.screenOne.body1'\n                        defaultMessage='Your team communication all in one place, instantly searchable and available anywhere.'\n                    />\n                </p>\n                <p>\n                    <FormattedMessage\n                        id='tutorial_intro.screenOne.body2'\n                        defaultMessage='Keep your team connected to help them achieve what matters most.'\n                    />\n                </p>\n                {circles}\n            </div>\n        );\n    }\n\n    createScreenTwo() {\n        const circles = this.createCircles();\n\n        let appDownloadLink = null;\n        let appDownloadImage = null;\n        if (this.props.appDownloadLink) {\n            const link = useSafeUrl(this.props.appDownloadLink);\n\n            // not using a FormattedHTMLMessage here since appDownloadLink is configurable and could be used\n            // to inject HTML if we're not careful\n            appDownloadLink = (\n                <FormattedMessage\n                    id='tutorial_intro.mobileApps'\n                    defaultMessage='Install the apps for {link} for easy access and notifications on the go.'\n                    values={{\n                        link: (\n                            <a\n                                id='appDownloadLink'\n                                href={link}\n                                target='_blank'\n                                rel='noopener noreferrer'\n                            >\n                                <FormattedMessage\n                                    id='tutorial_intro.mobileAppsLinkText'\n                                    defaultMessage='PC, Mac, iOS and Android'\n                                />\n                            </a>\n                        ),\n                    }}\n                />\n            );\n\n            appDownloadImage = (\n                <a\n                    id='appDownloadImage'\n                    href={link}\n                    target='_blank'\n                    rel='noopener noreferrer'\n                >\n                    <img\n                        alt={'tutorial icons'}\n                        className='tutorial__app-icons'\n                        src={AppIcons}\n                    />\n                </a>\n            );\n        }\n\n        return (\n            <div id='tutorialIntroTwo'>\n                <h3>\n                    <FormattedMessage\n                        id='tutorial_intro.screenTwo.title'\n                        defaultMessage='How Mattermost works:'\n                    />\n                </h3>\n                <p>\n                    <FormattedMessage\n                        id='tutorial_intro.screenTwo.body1'\n                        defaultMessage='Communication happens in public discussion channels, private channels and direct messages.'\n                    />\n                </p>\n                <p>\n                    <FormattedMessage\n                        id='tutorial_intro.screenTwo.body2'\n                        defaultMessage='Everything is archived and searchable from any web-enabled desktop, laptop or phone.'\n                    />\n                </p>\n                {appDownloadLink}\n                {appDownloadImage}\n                {circles}\n            </div>\n        );\n    }\n\n    createScreenThree() {\n        let inviteModalLink;\n        let inviteText;\n\n        if (!this.props.isLicensed || !this.props.restrictTeamInvite) {\n            inviteModalLink = (\n                <ModalToggleButtonRedux\n                    id='tutorialIntroInvite'\n                    className='intro-links color--link style--none'\n                    modalId={ModalIdentifiers.INVITATION}\n                    dialogType={InvitationModal}\n                >\n                    <FormattedMessage\n                        id='tutorial_intro.invite'\n                        defaultMessage='Invite teammates'\n                    />\n                </ModalToggleButtonRedux>\n            );\n\n            inviteText = (\n                <p>\n                    {inviteModalLink}\n                    <FormattedMessage\n                        id='tutorial_intro.whenReady'\n                        defaultMessage={' when you\\'re ready.'}\n                    />\n                </p>\n            );\n        }\n\n        const circles = this.createCircles();\n\n        let supportInfo = null;\n        if (this.props.supportEmail) {\n            supportInfo = (\n                <p id='supportInfo'>\n                    <FormattedMessage\n                        id='tutorial_intro.support'\n                        defaultMessage='Need anything, just email us at '\n                    />\n                    <a\n                        href={'mailto:' + this.props.supportEmail}\n                        target='_blank'\n                        rel='noopener noreferrer'\n                    >\n                        {this.props.supportEmail}\n                    </a>\n                    {'.'}\n                </p>\n            );\n        }\n\n        return (\n            <div id='tutorialIntroThree'>\n                <h3>\n                    <FormattedMessage\n                        id='tutorial_intro.allSet'\n                        defaultMessage={'You\\'re all set'}\n                    />\n                </h3>\n                {inviteText}\n                {supportInfo}\n                <FormattedMessage\n                    id='tutorial_intro.end'\n                    defaultMessage='Click \"Next\" to enter {channel}. This is the first channel teammates see when they sign up. Use it for posting updates everyone needs to know.'\n                    values={{\n                        channel: this.props.townSquareDisplayName,\n                    }}\n                />\n                {circles}\n            </div>\n        );\n    }\n\n    handleCircleClick = (e, screen) => {\n        e.preventDefault();\n        this.setState({currentScreen: screen});\n    }\n\n    createCircles = () => {\n        const circles = [];\n        for (let i = 0; i < NUM_SCREENS; i++) {\n            let className = 'circle';\n            if (i === this.state.currentScreen) {\n                className += ' active';\n            }\n\n            circles.push(\n                <a\n                    id={'tutorialIntroCircle' + i}\n                    href='#'\n                    key={'circle' + i}\n                    className={className}\n                    data-screen={i}\n                    onClick={(e) => this.handleCircleClick(e, i)}\n                />\n            );\n        }\n\n        return (\n            <div className='tutorial__circles'>\n                {circles}\n            </div>\n        );\n    }\n\n    render() {\n        const screen = this.createScreen();\n\n        return (\n            <div className='tutorial-steps__container'>\n                <div\n                    id='tutorialIntroContent'\n                    className='tutorial__content'\n                >\n                    <div className='tutorial__steps'>\n                        {screen}\n                        <div className='tutorial__footer'>\n                            <button\n                                id='tutorialNextButton'\n                                className='btn btn-primary'\n                                onClick={this.handleNext}\n                            >\n                                <FormattedMessage\n                                    id='tutorial_intro.next'\n                                    defaultMessage='Next'\n                                />\n                            </button>\n                            <a\n                                id='tutorialSkipLink'\n                                className='tutorial-skip'\n                                href='#'\n                                onClick={this.skipTutorial}\n                            >\n                                <FormattedMessage\n                                    id='tutorial_intro.skip'\n                                    defaultMessage='Skip tutorial'\n                                />\n                            </a>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\n\nimport {getCurrentUserId} from 'mattermost-redux/selectors/entities/users';\nimport {getInt} from 'mattermost-redux/selectors/entities/preferences';\nimport {savePreferences} from 'mattermost-redux/actions/preferences';\n\nimport {closeMenu as closeRhsMenu} from 'actions/views/rhs';\nimport {Preferences} from 'utils/constants';\n\nimport TutorialTip from './tutorial_tip.jsx';\n\nfunction mapStateToProps(state) {\n    const currentUserId = getCurrentUserId(state);\n    return {\n        currentUserId,\n        step: getInt(state, Preferences.TUTORIAL_STEP, currentUserId, 0),\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            closeRhsMenu,\n            savePreferences,\n        }, dispatch),\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TutorialTip);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {Overlay} from 'react-bootstrap';\nimport {FormattedMessage} from 'react-intl';\n\nimport {trackEvent} from 'actions/diagnostics_actions.jsx';\nimport Constants from 'utils/constants';\nimport tutorialGif from 'images/tutorialTip.gif';\nimport tutorialGifWhite from 'images/tutorialTipWhite.gif';\n\nconst Preferences = Constants.Preferences;\nconst TutorialSteps = Constants.TutorialSteps;\n\nexport default class TutorialTip extends React.Component {\n    static propTypes = {\n        currentUserId: PropTypes.string.isRequired,\n        step: PropTypes.number.isRequired,\n        screens: PropTypes.array.isRequired,\n        placement: PropTypes.string.isRequired,\n        overlayClass: PropTypes.string,\n        diagnosticsTag: PropTypes.string,\n        actions: PropTypes.shape({\n            closeRhsMenu: PropTypes.func.isRequired,\n            savePreferences: PropTypes.func.isRequired,\n        }),\n    }\n\n    static defaultProps = {\n        overlayClass: '',\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.state = {currentScreen: 0, show: false};\n\n        this.targetRef = React.createRef();\n    }\n\n    show = () => {\n        this.setState({show: true});\n    }\n\n    hide = () => {\n        this.setState({show: false});\n    }\n\n    handleNext = () => {\n        if (this.state.currentScreen < this.props.screens.length - 1) {\n            this.setState({currentScreen: this.state.currentScreen + 1});\n            return;\n        }\n\n        if (this.props.diagnosticsTag) {\n            let tag = this.props.diagnosticsTag;\n\n            if (this.props.screens.length > 1) {\n                tag += '_' + (this.state.currentScreen + 1).toString();\n            }\n\n            if (this.state.currentScreen === this.props.screens.length - 1) {\n                tag += '_okay';\n            } else {\n                tag += '_next';\n            }\n\n            trackEvent('tutorial', tag);\n        }\n\n        const {currentUserId, actions} = this.props;\n        const {closeRhsMenu, savePreferences} = actions;\n\n        const preferences = [{\n            user_id: currentUserId,\n            category: Preferences.TUTORIAL_STEP,\n            name: currentUserId,\n            value: (this.props.step + 1).toString(),\n        }];\n\n        closeRhsMenu();\n        this.hide();\n\n        savePreferences(currentUserId, preferences);\n    }\n\n    skipTutorial = (e) => {\n        e.preventDefault();\n\n        if (this.props.diagnosticsTag) {\n            let tag = this.props.diagnosticsTag;\n            if (this.props.screens.length > 1) {\n                tag += '_' + this.state.currentScreen;\n            }\n            tag += '_skip';\n            trackEvent('tutorial', tag);\n        }\n\n        const {currentUserId, actions} = this.props;\n        const preferences = [{\n            user_id: currentUserId,\n            category: Preferences.TUTORIAL_STEP,\n            name: currentUserId,\n            value: TutorialSteps.FINISHED.toString(),\n        }];\n\n        actions.savePreferences(currentUserId, preferences);\n    }\n\n    handleCircleClick = (e, screen) => {\n        e.preventDefault();\n        this.setState({currentScreen: screen});\n    }\n\n    getTarget = () => {\n        return this.targetRef.current;\n    }\n\n    render() {\n        const buttonText = this.state.currentScreen === this.props.screens.length - 1 ? (\n            <FormattedMessage\n                id='tutorial_tip.ok'\n                defaultMessage='Okay'\n            />\n        ) : (\n            <FormattedMessage\n                id='tutorial_tip.next'\n                defaultMessage='Next'\n            />\n        );\n\n        const dots = [];\n        if (this.props.screens.length > 1) {\n            for (let i = 0; i < this.props.screens.length; i++) {\n                let className = 'circle';\n                if (i === this.state.currentScreen) {\n                    className += ' active';\n                }\n\n                dots.push(\n                    <a\n                        href='#'\n                        key={'dotactive' + i}\n                        className={className}\n                        data-screen={i}\n                        onClick={(e) => this.handleCircleClick(e, i)}\n                    />\n                );\n            }\n        }\n\n        var tutorialGifImage = tutorialGif;\n        if (this.props.overlayClass === 'tip-overlay--header' || this.props.overlayClass === 'tip-overlay--sidebar' || this.props.overlayClass === 'tip-overlay--header--up') {\n            tutorialGifImage = tutorialGifWhite;\n        }\n\n        return (\n            <div\n                id='tipButton'\n                className={'tip-div ' + this.props.overlayClass}\n                onClick={this.show}\n            >\n                <img\n                    alt={'tutorial tip'}\n                    className='tip-button'\n                    src={tutorialGifImage}\n                    width='35'\n                    onClick={this.show}\n                    ref={this.targetRef}\n                />\n\n                <Overlay\n                    show={this.state.show}\n                >\n                    <div className='tip-backdrop'/>\n                </Overlay>\n\n                <Overlay\n                    placement={this.props.placement}\n                    show={this.state.show}\n                    rootClose={true}\n                    onHide={this.hide}\n                    target={this.getTarget}\n                >\n                    <div className={'tip-overlay ' + this.props.overlayClass}>\n                        <div className='arrow'/>\n                        {this.props.screens[this.state.currentScreen]}\n                        <div className='tutorial__footer'>\n                            <div className='tutorial__circles'>{dots}</div>\n                            <div className='text-right'>\n                                <button\n                                    id='tipNextButton'\n                                    className='btn btn-primary'\n                                    onClick={this.handleNext}\n                                >\n                                    {buttonText}\n                                </button>\n                                <div className='tip-opt'>\n                                    <FormattedMessage\n                                        id='tutorial_tip.seen'\n                                        defaultMessage='Seen this before? '\n                                    />\n                                    <a\n                                        href='#'\n                                        onClick={this.skipTutorial}\n                                    >\n                                        <FormattedMessage\n                                            id='tutorial_tip.out'\n                                            defaultMessage='Opt out of these tips.'\n                                        />\n                                    </a>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </Overlay>\n            </div>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport $ from 'jquery';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport TutorialIntroScreens from './tutorial_intro_screens';\n\nexport default class TutorialView extends React.Component {\n    componentDidMount() {\n        if (this.props.isRoot) {\n            $('body').addClass('app__body');\n        }\n    }\n\n    componentWillUnmount() {\n        if (this.props.isRoot) {\n            $('body').removeClass('app__body');\n        }\n    }\n\n    render() {\n        return (\n            <div\n                id='app-content'\n                className='app__content'\n            >\n                <TutorialIntroScreens\n                    townSquareDisplayName={this.props.townSquareDisplayName}\n                    appDownloadLink={this.props.appDownloadLink}\n                    isLicensed={this.props.isLicensed}\n                    restrictTeamInvite={this.props.restrictTeamInvite}\n                    supportEmail={this.props.supportEmail}\n                />\n            </div>\n        );\n    }\n}\n\nTutorialView.propTypes = {\n    isRoot: PropTypes.bool,\n    townSquareDisplayName: PropTypes.string.isRequired,\n    appDownloadLink: PropTypes.string,\n    isLicensed: PropTypes.bool.isRequired,\n    restrictTeamInvite: PropTypes.bool.isRequired,\n    supportEmail: PropTypes.string.isRequired,\n};\n\nTutorialView.defaultProps = {\n    isRoot: true,\n};\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React, {ReactNode} from 'react';\n\nimport UnreadBelowIcon from 'components/widgets/icons/unread_below_icon';\n\ntype Props = {\n\n    /**\n     * Function to call when the indicator is clicked\n     */\n    onClick: (event: React.MouseEvent<HTMLDivElement, MouseEvent>) => void;\n\n    /**\n     * Set whether to show the indicator or not\n     */\n    show?: boolean;\n\n    /**\n     * The additional CSS class for the indicator\n     */\n    extraClass?: string;\n\n    /**\n     * The content of the indicator\n     */\n    content?: ReactNode;\n\n    /**\n     * The name of the indicator\n     */\n    name?: string;\n}\n\nexport default class UnreadChannelIndicator extends React.PureComponent<Props> {\n    public static defaultProps: Partial<Props> = {\n        show: false,\n        extraClass: '',\n        content: '',\n    };\n\n    public render(): JSX.Element {\n        let classes = 'nav-pills__unread-indicator ';\n        if (this.props.show) {\n            classes += 'nav-pills__unread-indicator--visible ';\n        }\n\n        return (\n            <div\n                id={'unreadIndicator' + this.props.name}\n                className={classes + this.props.extraClass}\n                onClick={this.props.onClick}\n            >\n                {this.props.content}\n                <UnreadBelowIcon className='icon icon__unread'/>\n            </div>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nimport Constants from 'utils/constants';\nimport LoadingScreen from 'components/loading_screen';\n\nimport UserListRow from './user_list_row';\n\nexport default class UserList extends React.Component {\n    static propTypes = {\n        users: PropTypes.arrayOf(PropTypes.object),\n        extraInfo: PropTypes.object,\n        actions: PropTypes.arrayOf(PropTypes.func),\n        actionProps: PropTypes.object,\n        actionUserProps: PropTypes.object,\n\n        // the type of user list row to render\n        rowComponentType: PropTypes.func,\n    }\n\n    static defaultProps = {\n        users: [],\n        extraInfo: {},\n        actions: [],\n        actionProps: {},\n        rowComponentType: UserListRow,\n    }\n\n    scrollToTop = () => {\n        if (this.refs.container) {\n            this.refs.container.scrollTop = 0;\n        }\n    }\n\n    render() {\n        const users = this.props.users;\n        const RowComponentType = this.props.rowComponentType;\n\n        let content;\n        if (users == null) {\n            return <LoadingScreen/>;\n        } else if (users.length > 0) {\n            content = users.map((user, index) => {\n                return (\n                    <RowComponentType\n                        key={user.id}\n                        user={user}\n                        extraInfo={this.props.extraInfo[user.id]}\n                        actions={this.props.actions}\n                        actionProps={this.props.actionProps}\n                        actionUserProps={this.props.actionUserProps[user.id]}\n                        index={index}\n                        totalUsers={users.length}\n                        userCount={(index >= 0 && index < Constants.TEST_ID_COUNT) ? index : -1}\n                    />\n                );\n            });\n        } else {\n            content = (\n                <div\n                    key='no-users-found'\n                    className='more-modal__placeholder-row'\n                >\n                    <p>\n                        <FormattedMessage\n                            id='user_list.notFound'\n                            defaultMessage='No users found'\n                        />\n                    </p>\n                </div>\n            );\n        }\n\n        return (\n            <div ref='container'>\n                {content}\n            </div>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {getStatusForUserId} from 'mattermost-redux/selectors/entities/users';\n\nimport UserListRow from './user_list_row.jsx';\n\nfunction mapStateToProps(state, ownProps) {\n    const user = ownProps.user || {};\n    return {\n        status: getStatusForUserId(state, user.id),\n    };\n}\n\nexport default connect(mapStateToProps)(UserListRow);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {Client4} from 'mattermost-redux/client';\n\nimport * as Utils from 'utils/utils.jsx';\nimport ProfilePicture from 'components/profile_picture';\nimport GuestBadge from 'components/widgets/badges/guest_badge';\nimport BotBadge from 'components/widgets/badges/bot_badge';\n\nimport FormattedMarkdownMessage from 'components/formatted_markdown_message.jsx';\n\nexport default class UserListRow extends React.Component {\n    static propTypes = {\n        user: PropTypes.object.isRequired,\n        status: PropTypes.string,\n        extraInfo: PropTypes.arrayOf(PropTypes.object),\n        actions: PropTypes.arrayOf(PropTypes.func),\n        actionProps: PropTypes.object,\n        actionUserProps: PropTypes.object,\n        index: PropTypes.number,\n        totalUsers: PropTypes.number,\n        userCount: PropTypes.number,\n    };\n\n    static defaultProps = {\n        extraInfo: [],\n        actions: [],\n        actionProps: {},\n        actionUserProps: {},\n    };\n\n    render() {\n        let buttons = null;\n        if (this.props.actions) {\n            buttons = this.props.actions.map((Action, index) => {\n                return (\n                    <Action\n                        key={index.toString()}\n                        user={this.props.user}\n                        index={this.props.index}\n                        totalUsers={this.props.totalUsers}\n                        {...this.props.actionProps}\n                        {...this.props.actionUserProps}\n                    />\n                );\n            });\n        }\n\n        // QUICK HACK, NEEDS A PROP FOR TOGGLING STATUS\n        let email = this.props.user.email;\n        let emailStyle = 'more-modal__description';\n        let status;\n        if (this.props.extraInfo && this.props.extraInfo.length > 0) {\n            email = (\n                <FormattedMarkdownMessage\n                    id='admin.user_item.emailTitle'\n                    defaultMessage='**Email:** {email}'\n                    values={{\n                        email: this.props.user.email,\n                    }}\n                />\n            );\n            emailStyle = '';\n        } else if (this.props.user.status) {\n            status = this.props.user.status;\n        } else {\n            status = this.props.status;\n        }\n\n        if (this.props.user.is_bot) {\n            status = null;\n            email = null;\n        }\n\n        let userCountID = null;\n        let userCountEmail = null;\n        if (this.props.userCount >= 0) {\n            userCountID = Utils.createSafeId('userListRowName' + this.props.userCount);\n            userCountEmail = Utils.createSafeId('userListRowEmail' + this.props.userCount);\n        }\n\n        return (\n            <div\n                key={this.props.user.id}\n                className='more-modal__row'\n            >\n                <ProfilePicture\n                    src={Client4.getProfilePictureUrl(this.props.user.id, this.props.user.last_picture_update)}\n                    status={status}\n                    size='md'\n                />\n                <div\n                    className='more-modal__details'\n                    data-testid='userListItemDetails'\n                >\n                    <div\n                        id={userCountID}\n                        className='more-modal__name'\n                    >\n                        {Utils.displayEntireNameForUser(this.props.user)}\n                        <BotBadge\n                            className='badge-popoverlist'\n                            show={Boolean(this.props.user.is_bot)}\n                        />\n                        <GuestBadge\n                            className='badge-popoverlist'\n                            show={Utils.isGuest(this.props.user)}\n                        />\n                    </div>\n                    <div\n                        id={userCountEmail}\n                        className={emailStyle}\n                    >\n                        {email}\n                    </div>\n                    {this.props.extraInfo}\n                </div>\n                <div\n                    data-testid='userListItemActions'\n                    className='more-modal__actions'\n                >\n                    {buttons}\n                </div>\n            </div>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\n\nimport {getUser, makeGetDisplayName} from 'mattermost-redux/selectors/entities/users';\n\nimport UserProfile from './user_profile';\n\nfunction makeMapStateToProps() {\n    const getDisplayName = makeGetDisplayName();\n\n    return (state, ownProps) => {\n        return {\n            displayName: getDisplayName(state, ownProps.userId),\n            user: getUser(state, ownProps.userId),\n        };\n    };\n}\n\nexport default connect(makeMapStateToProps)(UserProfile);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React, {PureComponent} from 'react';\nimport {OverlayTrigger} from 'react-bootstrap';\n\nimport {imageURLForUser, isMobile, isGuest} from 'utils/utils.jsx';\n\nimport ProfilePopover from 'components/profile_popover';\nimport BotBadge from 'components/widgets/badges/bot_badge';\nimport GuestBadge from 'components/widgets/badges/guest_badge';\n\nexport default class UserProfile extends PureComponent {\n    static propTypes = {\n        disablePopover: PropTypes.bool,\n        displayName: PropTypes.string,\n        hasMention: PropTypes.bool,\n        hideStatus: PropTypes.bool,\n        isBusy: PropTypes.bool,\n        isRHS: PropTypes.bool,\n        overwriteName: PropTypes.node,\n        user: PropTypes.object,\n        userId: PropTypes.string,\n    };\n\n    static defaultProps = {\n        disablePopover: false,\n        hasMention: false,\n        hideStatus: false,\n        isRHS: false,\n        overwriteImage: '',\n        overwriteName: '',\n    };\n\n    hideProfilePopover = () => {\n        if (this.overlay) {\n            this.overlay.hide();\n        }\n    }\n\n    setOverlaynRef = (ref) => {\n        this.overlay = ref;\n    }\n\n    render() {\n        const {\n            disablePopover,\n            displayName,\n            isBusy,\n            isRHS,\n            hasMention,\n            hideStatus,\n            overwriteName,\n            user,\n            userId,\n        } = this.props;\n\n        const name = overwriteName || displayName || '...';\n        if (disablePopover) {\n            return <div className='user-popover'>{name}</div>;\n        }\n\n        let placement = 'right';\n        if (isRHS && !isMobile()) {\n            placement = 'left';\n        }\n\n        let profileImg = '';\n        if (user) {\n            profileImg = imageURLForUser(user);\n        }\n\n        return (\n            <React.Fragment>\n                <OverlayTrigger\n                    ref={this.setOverlaynRef}\n                    trigger='click'\n                    placement={placement}\n                    rootClose={true}\n                    overlay={\n                        <ProfilePopover\n                            className='user-profile-popover'\n                            userId={userId}\n                            src={profileImg}\n                            isBusy={isBusy}\n                            hide={this.hideProfilePopover}\n                            hideStatus={hideStatus}\n                            isRHS={isRHS}\n                            hasMention={hasMention}\n                        />\n                    }\n                >\n                    <button\n                        aria-label={name.toLowerCase()}\n                        className='user-popover style--none'\n                    >\n                        {name}\n                    </button>\n                </OverlayTrigger>\n                <BotBadge\n                    show={Boolean(user && user.is_bot)}\n                    className='badge-popoverlist'\n                />\n                <GuestBadge\n                    show={Boolean(user && isGuest(user))}\n                    className='badge-popoverlist'\n                />\n            </React.Fragment>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {Modal} from 'react-bootstrap';\nimport {FormattedMessage} from 'react-intl';\n\nimport ModalStore from 'stores/modal_store.jsx';\nimport Constants from 'utils/constants';\n\nconst ActionTypes = Constants.ActionTypes;\n\nexport default class ImportThemeModal extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            value: '',\n            inputError: '',\n            show: false,\n            callback: null,\n        };\n    }\n\n    componentDidMount() {\n        ModalStore.addModalListener(ActionTypes.TOGGLE_IMPORT_THEME_MODAL, this.updateShow);\n    }\n\n    componentWillUnmount() {\n        ModalStore.removeModalListener(ActionTypes.TOGGLE_IMPORT_THEME_MODAL, this.updateShow);\n    }\n\n    updateShow = (show, args) => {\n        this.setState({\n            show,\n            callback: args.callback,\n        });\n    }\n\n    handleSubmit = (e) => {\n        e.preventDefault();\n\n        const text = this.state.value;\n\n        if (!this.isInputValid(text)) {\n            this.setState({\n                inputError: (\n                    <FormattedMessage\n                        id='user.settings.import_theme.submitError'\n                        defaultMessage='Invalid format, please try copying and pasting in again.'\n                    />\n                ),\n            });\n            return;\n        }\n\n        const colors = text.split(',');\n        const theme = {type: 'custom'};\n\n        theme.sidebarBg = colors[0];\n        theme.sidebarText = colors[5];\n        theme.sidebarUnreadText = colors[5];\n        theme.sidebarTextHoverBg = colors[4];\n        theme.sidebarTextActiveBorder = colors[2];\n        theme.sidebarTextActiveColor = colors[3];\n        theme.sidebarHeaderBg = colors[1];\n        theme.sidebarHeaderTextColor = colors[5];\n        theme.onlineIndicator = colors[6];\n        theme.awayIndicator = '#E0B333';\n        theme.mentionBg = colors[7];\n        theme.mentionColor = '#ffffff';\n        theme.centerChannelBg = '#ffffff';\n        theme.centerChannelColor = '#333333';\n        theme.newMessageSeparator = '#F80';\n        theme.linkColor = '#2389d7';\n        theme.buttonBg = '#26a970';\n        theme.buttonColor = '#ffffff';\n        theme.mentionHighlightBg = '#fff2bb';\n        theme.mentionHighlightLink = '#2f81b7';\n        theme.codeTheme = 'github';\n\n        this.state.callback(theme);\n        this.setState({\n            show: false,\n            callback: null,\n        });\n    }\n\n    isInputValid(text) {\n        if (text.length === 0) {\n            return false;\n        }\n\n        if (text.indexOf(' ') !== -1) {\n            return false;\n        }\n\n        if (text.length > 0 && text.indexOf(',') === -1) {\n            return false;\n        }\n\n        if (text.length > 0) {\n            const colors = text.split(',');\n\n            if (colors.length !== 8) {\n                return false;\n            }\n\n            for (let i = 0; i < colors.length; i++) {\n                if (colors[i].length !== 7 && colors[i].length !== 4) {\n                    return false;\n                }\n\n                if (colors[i].charAt(0) !== '#') {\n                    return false;\n                }\n            }\n        }\n\n        return true;\n    }\n\n    handleChange = (e) => {\n        const value = e.target.value;\n        this.setState({value});\n\n        if (this.isInputValid(value)) {\n            this.setState({inputError: null});\n        } else {\n            this.setState({\n                inputError: (\n                    <FormattedMessage\n                        id='user.settings.import_theme.submitError'\n                        defaultMessage='Invalid format, please try copying and pasting in again.'\n                    />\n                ),\n            });\n        }\n    }\n\n    handleOnHide = () => {\n        this.setState({show: false});\n    }\n\n    render() {\n        return (\n            <span>\n                <Modal\n                    dialogClassName='a11y__modal'\n                    show={this.state.show}\n                    onHide={this.handleOnHide}\n                    role='dialog'\n                    aria-labelledby='importThemeModalLabel'\n                >\n                    <Modal.Header closeButton={true}>\n                        <Modal.Title\n                            componentClass='h1'\n                            id='importThemeModalLabel'\n                        >\n                            <FormattedMessage\n                                id='user.settings.import_theme.importHeader'\n                                defaultMessage='Import Slack Theme'\n                            />\n                        </Modal.Title>\n                    </Modal.Header>\n                    <form\n                        role='form'\n                        className='form-horizontal'\n                    >\n                        <Modal.Body>\n                            <p>\n                                <FormattedMessage\n                                    id='user.settings.import_theme.importBody'\n                                    defaultMessage='To import a theme, go to a Slack team and look for \"Preferences -> Sidebar Theme\". Open the custom theme option, copy the theme color values and paste them here:'\n                                />\n                            </p>\n                            <div className='form-group less'>\n                                <div className='col-sm-12'>\n                                    <input\n                                        id='themeVector'\n                                        type='text'\n                                        className='form-control'\n                                        value={this.state.value}\n                                        onChange={this.handleChange}\n                                    />\n                                    <div className='input__help'>\n                                        {this.state.inputError}\n                                    </div>\n                                </div>\n                            </div>\n                        </Modal.Body>\n                        <Modal.Footer>\n                            <button\n                                id='cancelButton'\n                                type='button'\n                                className='btn btn-link'\n                                onClick={this.handleOnHide}\n                            >\n                                <FormattedMessage\n                                    id='user.settings.import_theme.cancel'\n                                    defaultMessage='Cancel'\n                                />\n                            </button>\n                            <button\n                                id='submitButton'\n                                onClick={this.handleSubmit}\n                                type='submit'\n                                className='btn btn-primary'\n                            >\n                                <FormattedMessage\n                                    id='user.settings.import_theme.submit'\n                                    defaultMessage='Submit'\n                                />\n                            </button>\n                        </Modal.Footer>\n                    </form>\n                </Modal>\n            </span>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\nimport {sendVerificationEmail} from 'mattermost-redux/actions/users';\nimport {getConfig} from 'mattermost-redux/selectors/entities/general';\nimport {getCurrentUser} from 'mattermost-redux/selectors/entities/users';\n\nimport UserSettingsModal from './user_settings_modal.jsx';\n\nfunction mapStateToProps(state) {\n    const config = getConfig(state);\n\n    const closeUnusedDirectMessages = config.CloseUnusedDirectMessages === 'true';\n    const experimentalChannelOrganization = config.ExperimentalChannelOrganization === 'true';\n    const sendEmailNotifications = config.SendEmailNotifications === 'true';\n    const requireEmailVerification = config.RequireEmailVerification === 'true';\n\n    return {\n        currentUser: getCurrentUser(state),\n        closeUnusedDirectMessages,\n        experimentalChannelOrganization,\n        sendEmailNotifications,\n        requireEmailVerification,\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        actions: bindActionCreators({\n            sendVerificationEmail,\n        }, dispatch),\n    };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UserSettingsModal);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport $ from 'jquery';\nimport React from 'react';\nimport {Modal} from 'react-bootstrap';\nimport ReactDOM from 'react-dom';\nimport {defineMessages, FormattedMessage, injectIntl, intlShape} from 'react-intl';\nimport PropTypes from 'prop-types';\n\nimport Constants from 'utils/constants';\nimport * as Utils from 'utils/utils.jsx';\nimport {t} from 'utils/i18n';\nimport ConfirmModal from '../../confirm_modal.jsx';\n\nconst UserSettings = React.lazy(() => import(/* webpackPrefetch: true */ 'components/user_settings'));\nconst SettingsSidebar = React.lazy(() => import(/* webpackPrefetch: true */ '../../settings_sidebar.tsx'));\n\nconst holders = defineMessages({\n    general: {\n        id: t('user.settings.modal.general'),\n        defaultMessage: 'General',\n    },\n    security: {\n        id: t('user.settings.modal.security'),\n        defaultMessage: 'Security',\n    },\n    notifications: {\n        id: t('user.settings.modal.notifications'),\n        defaultMessage: 'Notifications',\n    },\n    display: {\n        id: t('user.settings.modal.display'),\n        defaultMessage: 'Display',\n    },\n    sidebar: {\n        id: t('user.settings.modal.sidebar'),\n        defaultMessage: 'Sidebar',\n    },\n    advanced: {\n        id: t('user.settings.modal.advanced'),\n        defaultMessage: 'Advanced',\n    },\n    checkEmail: {\n        id: 'user.settings.general.checkEmail',\n        defaultMessage: 'Check your email at {email} to verify the address. Cannot find the email?',\n    },\n    confirmTitle: {\n        id: t('user.settings.modal.confirmTitle'),\n        defaultMessage: 'Discard Changes?',\n    },\n    confirmMsg: {\n        id: t('user.settings.modal.confirmMsg'),\n        defaultMessage: 'You have unsaved changes, are you sure you want to discard them?',\n    },\n    confirmBtns: {\n        id: t('user.settings.modal.confirmBtns'),\n        defaultMessage: 'Yes, Discard',\n    },\n});\n\nclass UserSettingsModal extends React.Component {\n    static propTypes = {\n        currentUser: PropTypes.object.isRequired,\n        onHide: PropTypes.func.isRequired,\n        intl: intlShape.isRequired,\n        actions: PropTypes.shape({\n            sendVerificationEmail: PropTypes.func.isRequred,\n        }).isRequired,\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            active_tab: 'general',\n            active_section: '',\n            showConfirmModal: false,\n            enforceFocus: true,\n            show: true,\n        };\n\n        this.requireConfirm = false;\n\n        // Used when settings want to override the default confirm modal with their own\n        // If set by a child, it will be called in place of showing the regular confirm\n        // modal. It will be passed a function to call on modal confirm\n        this.customConfirmAction = null;\n\n        this.modalBodyRef = React.createRef();\n    }\n\n    handleResend = (email) => {\n        this.setState({resendStatus: 'sending'});\n\n        this.props.actions.sendVerificationEmail(email).then(({data, error: err}) => {\n            if (data) {\n                this.setState({resendStatus: 'success'});\n            } else if (err) {\n                this.setState({resendStatus: 'failure'});\n            }\n        });\n    }\n\n    componentDidMount() {\n        document.addEventListener('keydown', this.handleKeyDown);\n    }\n\n    componentWillUnmount() {\n        document.removeEventListener('keydown', this.handleKeyDown);\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        if (this.state.active_tab !== prevState.active_tab) {\n            $(ReactDOM.findDOMNode(this.modalBodyRef.current)).scrollTop(0);\n        }\n    }\n\n    handleKeyDown = (e) => {\n        if (Utils.cmdOrCtrlPressed(e) && e.shiftKey && Utils.isKeyPressed(e, Constants.KeyCodes.A)) {\n            this.handleHide();\n        }\n    }\n\n    // Called when the close button is pressed on the main modal\n    handleHide = () => {\n        if (this.requireConfirm) {\n            this.showConfirmModal(() => this.handleHide());\n            return;\n        }\n\n        this.setState({\n            show: false,\n        });\n    }\n\n    // called after the dialog is fully hidden and faded out\n    handleHidden = () => {\n        this.setState({\n            active_tab: 'general',\n            active_section: '',\n        });\n        this.props.onHide();\n    }\n\n    // Called to hide the settings pane when on mobile\n    handleCollapse = () => {\n        $(ReactDOM.findDOMNode(this.modalBodyRef.current)).closest('.modal-dialog').removeClass('display--content');\n\n        this.setState({\n            active_tab: '',\n            active_section: '',\n        });\n    }\n\n    handleConfirm = () => {\n        this.setState({\n            showConfirmModal: false,\n            enforceFocus: true,\n        });\n\n        this.requireConfirm = false;\n        this.customConfirmAction = null;\n\n        if (this.afterConfirm) {\n            this.afterConfirm();\n            this.afterConfirm = null;\n        }\n    }\n\n    handleCancelConfirmation = () => {\n        this.setState({\n            showConfirmModal: false,\n            enforceFocus: true,\n        });\n\n        this.afterConfirm = null;\n    }\n\n    showConfirmModal = (afterConfirm) => {\n        if (afterConfirm) {\n            this.afterConfirm = afterConfirm;\n        }\n\n        if (this.customConfirmAction) {\n            this.customConfirmAction(this.handleConfirm);\n            return;\n        }\n\n        this.setState({\n            showConfirmModal: true,\n            enforceFocus: false,\n        });\n    }\n\n    // Called by settings tabs when their close button is pressed\n    closeModal = () => {\n        if (this.requireConfirm) {\n            this.showConfirmModal(this.closeModal);\n        } else {\n            this.handleHide();\n        }\n    }\n\n    // Called by settings tabs when their back button is pressed\n    collapseModal = () => {\n        if (this.requireConfirm) {\n            this.showConfirmModal(this.collapseModal);\n        } else {\n            this.handleCollapse();\n        }\n    }\n\n    updateTab = (tab, skipConfirm) => {\n        if (!skipConfirm && this.requireConfirm) {\n            this.showConfirmModal(() => this.updateTab(tab, true));\n        } else {\n            this.setState({\n                active_tab: tab,\n                active_section: '',\n            });\n        }\n    }\n\n    updateSection = (section, skipConfirm) => {\n        if (!skipConfirm && this.requireConfirm) {\n            this.showConfirmModal(() => this.updateSection(section, true));\n        } else {\n            this.setState({\n                active_section: section,\n            });\n        }\n    }\n\n    render() {\n        const {formatMessage} = this.props.intl;\n        if (this.props.currentUser == null) {\n            return (<div/>);\n        }\n        var tabs = [];\n\n        tabs.push({name: 'general', uiName: formatMessage(holders.general), icon: 'icon fa fa-gear', iconTitle: Utils.localizeMessage('user.settings.general.icon', 'General Settings Icon')});\n        tabs.push({name: 'security', uiName: formatMessage(holders.security), icon: 'icon fa fa-lock', iconTitle: Utils.localizeMessage('user.settings.security.icon', 'Security Settings Icon')});\n        tabs.push({name: 'notifications', uiName: formatMessage(holders.notifications), icon: 'icon fa fa-exclamation-circle', iconTitle: Utils.localizeMessage('user.settings.notifications.icon', 'Notification Settings Icon')});\n        tabs.push({name: 'display', uiName: formatMessage(holders.display), icon: 'icon fa fa-eye', iconTitle: Utils.localizeMessage('user.settings.display.icon', 'Display Settings Icon')});\n        tabs.push({name: 'sidebar', uiName: formatMessage(holders.sidebar), icon: 'icon fa fa-columns', iconTitle: Utils.localizeMessage('user.settings.sidebar.icon', 'Sidebar Settings Icon')});\n        tabs.push({name: 'advanced', uiName: formatMessage(holders.advanced), icon: 'icon fa fa-list-alt', iconTitle: Utils.localizeMessage('user.settings.advance.icon', 'Advanced Settings Icon')});\n\n        return (\n            <Modal\n                id='accountSettingsModal'\n                dialogClassName='a11y__modal settings-modal'\n                show={this.state.show}\n                onHide={this.handleHide}\n                onExited={this.handleHidden}\n                enforceFocus={this.state.enforceFocus}\n                role='dialog'\n                aria-labelledby='accountSettingsModalLabel'\n            >\n                <Modal.Header\n                    id='accountSettingsHeader'\n                    closeButton={true}\n                >\n                    <Modal.Title\n                        componentClass='h1'\n                        id='accountSettingsModalLabel'\n                    >\n                        <FormattedMessage\n                            id='user.settings.modal.title'\n                            defaultMessage='Account Settings'\n                        />\n                    </Modal.Title>\n                </Modal.Header>\n                <Modal.Body ref={this.modalBodyRef}>\n                    <div className='settings-table'>\n                        <div className='settings-links'>\n                            <React.Suspense fallback={null}>\n                                <SettingsSidebar\n                                    tabs={tabs}\n                                    activeTab={this.state.active_tab}\n                                    updateTab={this.updateTab}\n                                />\n                            </React.Suspense>\n                        </div>\n                        <div className='settings-content minimize-settings'>\n                            <React.Suspense fallback={null}>\n                                <UserSettings\n                                    activeTab={this.state.active_tab}\n                                    activeSection={this.state.active_section}\n                                    updateSection={this.updateSection}\n                                    updateTab={this.updateTab}\n                                    closeModal={this.closeModal}\n                                    collapseModal={this.collapseModal}\n                                    setEnforceFocus={(enforceFocus) => this.setState({enforceFocus})}\n                                    setRequireConfirm={\n                                        (requireConfirm, customConfirmAction) => {\n                                            this.requireConfirm = requireConfirm;\n                                            this.customConfirmAction = customConfirmAction;\n                                        }\n                                    }\n                                />\n                            </React.Suspense>\n                        </div>\n                    </div>\n                </Modal.Body>\n                <ConfirmModal\n                    title={formatMessage(holders.confirmTitle)}\n                    message={formatMessage(holders.confirmMsg)}\n                    confirmButtonText={formatMessage(holders.confirmBtns)}\n                    show={this.state.showConfirmModal}\n                    onConfirm={this.handleConfirm}\n                    onCancel={this.handleCancelConfirmation}\n                />\n            </Modal>\n        );\n    }\n}\n\nexport default injectIntl(UserSettingsModal);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {getFilePreviewUrl, getFileDownloadUrl} from 'mattermost-redux/utils/file_utils';\n\nexport default function ImagePreview({fileInfo, canDownloadFiles}) {\n    const {has_preview_image: hasPreviewImage, id, link} = fileInfo;\n    const fileUrl = link || getFileDownloadUrl(id);\n    const previewUrl = hasPreviewImage ? getFilePreviewUrl(id) : fileUrl;\n\n    if (!canDownloadFiles) {\n        return <img src={previewUrl}/>;\n    }\n\n    return (\n        <a\n            href={fileUrl}\n            target='_blank'\n            rel='noopener noreferrer'\n            download={true}\n        >\n            <img\n                alt={'preview url image'}\n                src={previewUrl}\n            />\n        </a>\n    );\n}\n\nImagePreview.propTypes = {\n    fileInfo: PropTypes.object.isRequired,\n    canDownloadFiles: PropTypes.bool.isRequired,\n};\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {getConfig} from 'mattermost-redux/selectors/entities/general';\nimport {getPost} from 'mattermost-redux/selectors/entities/posts';\n\nimport {canDownloadFiles} from 'utils/file_utils.jsx';\n\nimport ViewImage from './view_image.jsx';\n\nfunction mapStateToProps(state, ownProps) {\n    const config = getConfig(state);\n\n    return {\n        canDownloadFiles: canDownloadFiles(config),\n        enablePublicLink: config.EnablePublicLink === 'true',\n        pluginFilePreviewComponents: state.plugins.components.FilePreview,\n        post: ownProps.post || getPost(state, ownProps.postId),\n    };\n}\n\nexport default connect(mapStateToProps)(ViewImage);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\n\nimport {isDesktopApp} from 'utils/user_agent';\n\nimport PopoverBar from './popover_bar.jsx';\n\nfunction mapStateToProps() {\n    return {\n        isDesktopApp: isDesktopApp(),\n    };\n}\n\nexport default connect(mapStateToProps)(PopoverBar);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nexport default class PopoverBar extends React.PureComponent {\n    static propTypes = {\n        fileIndex: PropTypes.number.isRequired,\n        totalFiles: PropTypes.number.isRequired,\n        filename: PropTypes.string.isRequired,\n        fileURL: PropTypes.string.isRequired,\n        showPublicLink: PropTypes.bool,\n        enablePublicLink: PropTypes.bool.isRequired,\n        canDownloadFiles: PropTypes.bool.isRequired,\n        isExternalFile: PropTypes.bool.isRequired,\n        onGetPublicLink: PropTypes.func,\n        isDesktopApp: PropTypes.bool.isRequired,\n    };\n\n    static defaultProps = {\n        fileIndex: 0,\n        totalFiles: 0,\n        filename: '',\n        fileURL: '',\n        showPublicLink: true,\n    };\n\n    render() {\n        var publicLink = '';\n        if (this.props.enablePublicLink && this.props.showPublicLink) {\n            publicLink = (\n                <div>\n                    <a\n                        href='#'\n                        className='public-link text'\n                        data-title='Public Image'\n                        onClick={this.props.onGetPublicLink}\n                    >\n                        <FormattedMessage\n                            id='view_image_popover.publicLink'\n                            defaultMessage='Get Public Link'\n                        />\n                    </a>\n                    <span className='text'>{' | '}</span>\n                </div>\n            );\n        }\n\n        let downloadLinks = null;\n        if (this.props.canDownloadFiles) {\n            const shouldOpenFile = this.props.isExternalFile && !this.props.isDesktopApp;\n\n            let downloadLinkText;\n            const downloadLinkProps = {};\n            if (shouldOpenFile) {\n                downloadLinkText = (\n                    <FormattedMessage\n                        id='view_image_popover.open'\n                        defaultMessage='Open'\n                    />\n                );\n            } else {\n                downloadLinkText = (\n                    <FormattedMessage\n                        id='view_image_popover.download'\n                        defaultMessage='Download'\n                    />\n                );\n\n                downloadLinkProps.download = this.props.filename;\n            }\n\n            downloadLinks = (\n                <div className='image-links'>\n                    {publicLink}\n                    <a\n                        href={this.props.fileURL}\n                        className='text'\n                        target='_blank'\n                        rel='noopener noreferrer'\n                        {...downloadLinkProps}\n                    >\n                        {downloadLinkText}\n                    </a>\n                </div>\n            );\n        }\n\n        return (\n            <div\n                ref='imageFooter'\n                className='modal-button-bar'\n            >\n                <span className='pull-left text'>\n                    <FormattedMessage\n                        id='view_image_popover.file'\n                        defaultMessage='File {count, number} of {total, number}'\n                        values={{\n                            count: (this.props.fileIndex + 1),\n                            total: this.props.totalFiles,\n                        }}\n                    />\n                </span>\n                {downloadLinks}\n            </div>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {Modal} from 'react-bootstrap';\nimport {getFilePreviewUrl, getFileUrl, getFileDownloadUrl} from 'mattermost-redux/utils/file_utils';\n\nimport * as GlobalActions from 'actions/global_actions';\nimport Constants, {FileTypes} from 'utils/constants';\nimport * as Utils from 'utils/utils';\nimport AudioVideoPreview from 'components/audio_video_preview';\nimport CodePreview from 'components/code_preview';\nimport FileInfoPreview from 'components/file_info_preview';\nimport LoadingImagePreview from 'components/loading_image_preview';\nconst PDFPreview = React.lazy(() => import('components/pdf_preview'));\n\nimport ImagePreview from './image_preview';\nimport PopoverBar from './popover_bar';\n\nconst KeyCodes = Constants.KeyCodes;\n\nexport default class ViewImageModal extends React.PureComponent {\n    static propTypes = {\n\n        /**\n         * The post the files are attached to\n         */\n        post: PropTypes.object.isRequired,\n\n        /**\n         * Set whether to show this modal or not\n         */\n        show: PropTypes.bool.isRequired,\n\n        /**\n         * Function to call when this modal is dismissed\n         **/\n        onModalDismissed: PropTypes.func.isRequired,\n\n        /**\n         * List of FileInfo to view\n         **/\n        fileInfos: PropTypes.arrayOf(PropTypes.object).isRequired,\n\n        /**\n         * The index number of starting image\n         **/\n        startIndex: PropTypes.number.isRequired,\n\n        canDownloadFiles: PropTypes.bool.isRequired,\n        enablePublicLink: PropTypes.bool.isRequired,\n        pluginFilePreviewComponents: PropTypes.arrayOf(PropTypes.object),\n    };\n\n    static defaultProps = {\n        show: false,\n        fileInfos: [],\n        startIndex: 0,\n        pluginFilePreviewComponents: [],\n        post: {}, // Needed to avoid proptypes console errors for cases like channel header, which doesn't have a proper value\n    };\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            imageIndex: this.props.startIndex,\n            imageHeight: '100%',\n            loaded: Utils.fillArray(false, this.props.fileInfos.length),\n            progress: Utils.fillArray(0, this.props.fileInfos.length),\n            showCloseBtn: false,\n        };\n    }\n\n    handleNext = (e) => {\n        if (e) {\n            e.stopPropagation();\n        }\n        let id = this.state.imageIndex + 1;\n        if (id > this.props.fileInfos.length - 1) {\n            id = 0;\n        }\n        this.showImage(id);\n    }\n\n    handlePrev = (e) => {\n        if (e) {\n            e.stopPropagation();\n        }\n        let id = this.state.imageIndex - 1;\n        if (id < 0) {\n            id = this.props.fileInfos.length - 1;\n        }\n        this.showImage(id);\n    }\n\n    handleKeyPress = (e) => {\n        if (Utils.isKeyPressed(e, KeyCodes.RIGHT)) {\n            this.handleNext();\n        } else if (Utils.isKeyPressed(e, KeyCodes.LEFT)) {\n            this.handlePrev();\n        }\n    }\n\n    onModalShown = (nextProps) => {\n        document.addEventListener('keyup', this.handleKeyPress);\n\n        this.showImage(nextProps.startIndex);\n    }\n\n    onModalHidden = () => {\n        document.addEventListener('keyup', this.handleKeyPress);\n\n        if (this.refs.video) {\n            this.refs.video.stop();\n        }\n    }\n\n    UNSAFE_componentWillReceiveProps(nextProps) { // eslint-disable-line camelcase\n        if (nextProps.show === true && this.props.show === false) {\n            this.onModalShown(nextProps);\n        } else if (nextProps.show === false && this.props.show === true) {\n            this.onModalHidden();\n        }\n\n        if (this.props.fileInfos.length !== nextProps.fileInfos.length) {\n            this.setState({\n                loaded: Utils.fillArray(false, nextProps.fileInfos.length),\n                progress: Utils.fillArray(0, nextProps.fileInfos.length),\n            });\n        }\n    }\n\n    showImage = (id) => {\n        this.setState({imageIndex: id});\n\n        const imageHeight = window.innerHeight - 100;\n        this.setState({imageHeight});\n\n        if (!this.state.loaded[id]) {\n            this.loadImage(id);\n        }\n    }\n\n    loadImage = (index) => {\n        const fileInfo = this.props.fileInfos[index];\n        const fileType = Utils.getFileType(fileInfo.extension);\n\n        if (fileType === FileTypes.IMAGE && Boolean(fileInfo.id)) {\n            let previewUrl;\n            if (fileInfo.has_image_preview) {\n                previewUrl = getFilePreviewUrl(fileInfo.id);\n            } else {\n                // some images (eg animated gifs) just show the file itself and not a preview\n                previewUrl = getFileUrl(fileInfo.id);\n            }\n\n            Utils.loadImage(\n                previewUrl,\n                () => this.handleImageLoaded(index),\n                (completedPercentage) => this.handleImageProgress(index, completedPercentage)\n            );\n        } else {\n            // there's nothing to load for non-image files\n            this.handleImageLoaded(index);\n        }\n    }\n\n    handleImageLoaded = (index) => {\n        this.setState((prevState) => {\n            return {\n                loaded: {\n                    ...prevState.loaded,\n                    [index]: true,\n                },\n            };\n        });\n    }\n\n    handleImageProgress = (index, completedPercentage) => {\n        this.setState((prevState) => {\n            return {\n                progress: {\n                    ...prevState.progress,\n                    [index]: completedPercentage,\n                },\n            };\n        });\n    }\n\n    handleGetPublicLink = () => {\n        this.props.onModalDismissed();\n\n        GlobalActions.showGetPublicLinkModal(this.props.fileInfos[this.state.imageIndex].id);\n    }\n\n    onMouseEnterImage = () => {\n        this.setState({showCloseBtn: true});\n    }\n\n    onMouseLeaveImage = () => {\n        this.setState({showCloseBtn: false});\n    }\n\n    render() {\n        if (this.props.fileInfos.length < 1 || this.props.fileInfos.length - 1 < this.state.imageIndex) {\n            return null;\n        }\n\n        const fileInfo = this.props.fileInfos[this.state.imageIndex];\n        const showPublicLink = !fileInfo.link;\n        const fileName = fileInfo.link || fileInfo.name;\n        const fileUrl = fileInfo.link || getFileUrl(fileInfo.id);\n        const fileDownloadUrl = fileInfo.link || getFileDownloadUrl(fileInfo.id);\n        const isExternalFile = !fileInfo.id;\n        let dialogClassName = 'a11y__modal modal-image';\n\n        let content;\n        if (this.state.loaded[this.state.imageIndex]) {\n            const fileType = Utils.getFileType(fileInfo.extension);\n\n            if (fileType === FileTypes.IMAGE || fileType === FileTypes.SVG) {\n                content = (\n                    <ImagePreview\n                        fileInfo={fileInfo}\n                        canDownloadFiles={this.props.canDownloadFiles}\n                    />\n                );\n            } else if (fileType === FileTypes.VIDEO || fileType === FileTypes.AUDIO) {\n                content = (\n                    <AudioVideoPreview\n                        fileInfo={fileInfo}\n                        fileUrl={fileUrl}\n                    />\n                );\n            } else if (fileInfo && fileInfo.extension && fileInfo.extension === FileTypes.PDF) {\n                content = (\n                    <React.Suspense fallback={null}>\n                        <PDFPreview\n                            fileInfo={fileInfo}\n                            fileUrl={fileUrl}\n                        />\n                    </React.Suspense>\n                );\n            } else if (CodePreview.supports(fileInfo)) {\n                dialogClassName += ' modal-code';\n                content = (\n                    <CodePreview\n                        fileInfo={fileInfo}\n                        fileUrl={fileUrl}\n                    />\n                );\n            } else {\n                content = (\n                    <FileInfoPreview\n                        fileInfo={fileInfo}\n                        fileUrl={fileUrl}\n                    />\n                );\n            }\n        } else {\n            // display a progress indicator when the preview for an image is still loading\n            const loading = Utils.localizeMessage('view_image.loading', 'Loading');\n            const progress = Math.floor(this.state.progress[this.state.imageIndex]);\n\n            content = (\n                <LoadingImagePreview\n                    loading={loading}\n                    progress={progress}\n                />\n            );\n        }\n\n        for (const preview of this.props.pluginFilePreviewComponents) {\n            if (preview.override(fileInfo, this.props.post)) {\n                content = (\n                    <preview.component\n                        fileInfo={fileInfo}\n                        post={this.props.post}\n                    />\n                );\n                break;\n            }\n        }\n\n        let leftArrow = null;\n        let rightArrow = null;\n        if (this.props.fileInfos.length > 1) {\n            leftArrow = (\n                <a\n                    id='previewArrowLeft'\n                    ref='previewArrowLeft'\n                    className='modal-prev-bar'\n                    href='#'\n                    onClick={this.handlePrev}\n                >\n                    <i className='image-control image-prev'/>\n                </a>\n            );\n\n            rightArrow = (\n                <a\n                    id='previewArrowRight'\n                    ref='previewArrowRight'\n                    className='modal-next-bar'\n                    href='#'\n                    onClick={this.handleNext}\n                >\n                    <i className='image-control image-next'/>\n                </a>\n            );\n        }\n\n        let closeButtonClass = 'modal-close';\n        if (this.state.showCloseBtn) {\n            closeButtonClass += ' modal-close--show';\n        }\n\n        return (\n            <Modal\n                show={this.props.show}\n                onHide={this.props.onModalDismissed}\n                className='modal-image'\n                dialogClassName={dialogClassName}\n                role='dialog'\n                aria-labelledby='viewImageModalLabel'\n            >\n                <Modal.Body>\n                    <div\n                        className={'modal-image__wrapper'}\n                        onClick={this.props.onModalDismissed}\n                    >\n                        <div\n                            onMouseEnter={this.onMouseEnterImage}\n                            onMouseLeave={this.onMouseLeaveImage}\n                            onClick={(e) => e.stopPropagation()}\n                        >\n                            <Modal.Title\n                                componentClass='h1'\n                                id='viewImageModalLabel'\n                                className='hide'\n                            >\n                                {fileName}\n                            </Modal.Title>\n                            <div\n                                className={closeButtonClass}\n                                onClick={this.props.onModalDismissed}\n                            />\n                            <div className='modal-image__content'>\n                                {content}\n                            </div>\n                            <PopoverBar\n                                showPublicLink={showPublicLink}\n                                fileIndex={this.state.imageIndex}\n                                totalFiles={this.props.fileInfos.length}\n                                filename={fileName}\n                                fileURL={fileDownloadUrl}\n                                enablePublicLink={this.props.enablePublicLink}\n                                canDownloadFiles={this.props.canDownloadFiles}\n                                isExternalFile={isExternalFile}\n                                onGetPublicLink={this.handleGetPublicLink}\n                            />\n                        </div>\n                    </div>\n                    {leftArrow}\n                    {rightArrow}\n                </Modal.Body>\n            </Modal>\n        );\n    }\n}\n","var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js??ref--6-2!./badge.scss\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\n\nimport './badge.scss';\n\ntype Props = {\n    show: boolean;\n    children: React.ReactNode;\n    className: string;\n};\n\nexport default class Badge extends React.Component<Props> {\n    public static defaultProps = {\n        show: true,\n        className: '',\n    };\n\n    public render() {\n        if (!this.props.show) {\n            return null;\n        }\n        return (\n            <div className='Badge'>\n                <div className={'Badge__box ' + this.props.className}>\n                    {this.props.children}\n                </div>\n            </div>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nimport Badge from './badge';\n\ntype Props = {\n    className?: string;\n    show?: boolean;\n}\n\nconst BotBadge: React.FC<Props> = (props: Props) => (\n    <Badge\n        className={'BotBadge ' + props.className}\n        show={props.show}\n    >\n        <FormattedMessage\n            id='post_info.bot'\n            defaultMessage='BOT'\n        />\n    </Badge>\n);\n\nBotBadge.defaultProps = {\n    show: true,\n    className: '',\n};\n\nexport default BotBadge;\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nimport Badge from './badge';\n\ntype Props = {\n    className?: string;\n    show?: boolean;\n};\n\nconst GuestBadge: React.FC<Props> = (props: Props) => (\n    <Badge\n        className={'GuestBadge ' + props.className}\n        show={props.show}\n    >\n        <FormattedMessage\n            id='post_info.guest'\n            defaultMessage='GUEST'\n        />\n    </Badge>\n);\n\nGuestBadge.defaultProps = {\n    show: true,\n    className: '',\n};\n\nexport default GuestBadge;\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nexport default class AlertIcon extends React.PureComponent {\n    render() {\n        return (\n            <span {...this.props}>\n                <FormattedMessage\n                    id='generic_icons.alert'\n                    defaultMessage='Alert Icon'\n                >\n                    {(ariaLabel) => (\n                        <svg\n                            width='24px'\n                            height='24px'\n                            viewBox='0 0 24 24'\n                            role='img'\n                            aria-label={ariaLabel}\n                        >\n                            <path d='M11,15H13V17H11V15M11,7H13V13H11V7M12,2C6.47,2 2,6.5 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20Z'/>\n                        </svg>\n                    )}\n                </FormattedMessage>\n            </span>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nexport default class ArchiveIcon extends React.PureComponent {\n    render() {\n        return (\n            <span {...this.props}>\n                <FormattedMessage\n                    id='generic_icons.archive'\n                    defaultMessage='Archive Icon'\n                >\n                    {(ariaLabel) => (\n                        <svg\n                            width='14'\n                            height='14'\n                            viewBox='0 0 14 14'\n                            role='img'\n                            aria-label={ariaLabel}\n                        >\n                            <path d='M8.5 6.5q0-0.203-0.148-0.352t-0.352-0.148h-2q-0.203 0-0.352 0.148t-0.148 0.352 0.148 0.352 0.352 0.148h2q0.203 0 0.352-0.148t0.148-0.352zM13 5v7.5q0 0.203-0.148 0.352t-0.352 0.148h-11q-0.203 0-0.352-0.148t-0.148-0.352v-7.5q0-0.203 0.148-0.352t0.352-0.148h11q0.203 0 0.352 0.148t0.148 0.352zM13.5 1.5v2q0 0.203-0.148 0.352t-0.352 0.148h-12q-0.203 0-0.352-0.148t-0.148-0.352v-2q0-0.203 0.148-0.352t0.352-0.148h12q0.203 0 0.352 0.148t0.148 0.352z'/>\n                        </svg>\n                    )}\n                </FormattedMessage>\n            </span>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\n\nimport {FormattedMessage} from 'react-intl';\n\nexport default class ArrowRightIcon extends React.PureComponent {\n    render() {\n        return (\n            <span {...this.props}>\n                <FormattedMessage\n                    id='generic_icons.channel.arrow-right'\n                    defaultMessage='Arrow right'\n                >\n                    {(title) => (\n                        <svg\n                            width='24px'\n                            height='24px'\n                            viewBox='0 0 24 24'\n                            role='img'\n                            title={title}\n                        >\n                            <path d='M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z'/>\n                        </svg>\n                    )}\n                </FormattedMessage>\n            </span>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nexport default class AttachmentIcon extends React.PureComponent {\n    render() {\n        return (\n            <span {...this.props}>\n                <FormattedMessage\n                    id='generic_icons.attach'\n                    defaultMessage='Attachment Icon'\n                >\n                    {(ariaLabel) => (\n                        <svg\n                            width='18px'\n                            height='18px'\n                            viewBox='0 0 18 15'\n                            role='img'\n                            aria-label={ariaLabel}\n                        >\n                            <g\n                                fill='inherit'\n                                fillRule='evenodd'\n                            >\n                                <g\n                                    transform='translate(-1029.000000, -954.000000)'\n                                    fillRule='nonzero'\n                                    fill='inherit'\n                                >\n                                    <g transform='translate(25.000000, 937.000000)'>\n                                        <g transform='translate(1004.000000, 17.000000)'>\n                                            <path d='M5.35,15.56 C3.98,15.56 2.61,15.039 1.567,13.997 C0.557,12.984 0,11.642 0,10.212 C0,8.783 0.557,7.44 1.566,6.429 L6.869,1.126 C8.371,-0.376 10.812,-0.375 12.314,1.125 C13.815,2.627 13.815,5.069 12.314,6.57 L7.011,11.873 C6.094,12.792 4.603,12.79 3.687,11.873 C2.771,10.958 2.771,9.467 3.687,8.551 L8.99,3.248 C9.323,2.916 9.861,2.916 10.193,3.248 C10.525,3.579 10.525,4.118 10.193,4.449 L4.89,9.752 C4.637,10.006 4.637,10.418 4.89,10.672 C5.143,10.923 5.555,10.925 5.809,10.672 L11.113,5.369 C11.952,4.53 11.952,3.166 11.113,2.327 C10.276,1.49 8.911,1.488 8.073,2.327 L2.769,7.631 C2.079,8.32 1.699,9.237 1.699,10.212 C1.699,11.188 2.079,12.104 2.768,12.794 C4.19,14.216 6.502,14.216 7.925,12.798 L7.929,12.794 C7.929,12.793 7.929,12.793 7.929,12.793 L15.355,5.369 C15.687,5.037 16.224,5.037 16.556,5.369 C16.888,5.7 16.888,6.239 16.556,6.57 L8.779,14.348 L8.761,14.332 C7.776,15.15 6.562,15.56 5.35,15.56 Z'/>\n                                        </g>\n                                    </g>\n                                </g>\n                            </g>\n                        </svg>\n                    )}\n                </FormattedMessage>\n            </span>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nexport default class BackIcon extends React.PureComponent {\n    render() {\n        return (\n            <span {...this.props}>\n                <FormattedMessage\n                    id='generic_icons.back'\n                    defaultMessage='Back Icon'\n                >\n                    {(ariaLabel) => (\n                        <svg\n                            width='24px'\n                            height='24px'\n                            viewBox='0 0 24 24'\n                            role='img'\n                            aria-label={ariaLabel}\n                        >\n                            <path d='M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z'/>\n                        </svg>\n                    )}\n                </FormattedMessage>\n            </span>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nexport default class BotIcon extends React.PureComponent {\n    render() {\n        return (\n            <span {...this.props}>\n                <FormattedMessage\n                    id='generic_icons.bot'\n                    defaultMessage='Bot Icon'\n                >\n                    {(ariaLabel) => (\n                        <svg\n                            width='16'\n                            height='13'\n                            viewBox='0 0 36 30'\n                            role='img'\n                            aria-label={ariaLabel}\n                        >\n                            <path d='M0,15.7391304 L0,23.0434783 C0,24.0535326 0.786888587,24.8695652 1.76086957,24.8695652 L3.52173913,24.8695652 L3.52173913,13.9130435 L1.76086957,13.9130435 C0.786888587,13.9130435 0,14.7290761 0,15.7391304 Z M26.0496894,6.50271739 L19.7888199,6.50271739 L19.7888199,2.83423913 C19.7888199,1.81967561 18.989441,1 18,1 C17.010559,1 16.2111801,1.81967561 16.2111801,2.83423913 L16.2111801,6.50271739 L9.95031056,6.50271739 C7.47950311,6.50271739 5.47826087,8.55477242 5.47826087,11.0883152 L5.47826087,26.6793478 C5.47826087,28.7027429 7.0826087,30.3478261 9.05590062,30.3478261 L26.9440994,30.3478261 C28.9173913,30.3478261 30.5217391,28.7027429 30.5217391,26.6793478 L30.5217391,11.0883152 C30.5217391,8.55477242 28.5204969,6.50271739 26.0496894,6.50271739 Z M14.4782609,24.8695652 L10.9565217,24.8695652 L10.9565217,22.9130435 L14.4782609,22.9130435 L14.4782609,24.8695652 Z M12.5217391,17.826087 C11.2245652,17.826087 10.173913,16.7754348 10.173913,15.4782609 C10.173913,14.181087 11.2245652,13.1304348 12.5217391,13.1304348 C13.818913,13.1304348 14.8695652,14.181087 14.8695652,15.4782609 C14.8695652,16.7754348 13.818913,17.826087 12.5217391,17.826087 Z M19.9565217,24.8695652 L16.4347826,24.8695652 L16.4347826,22.9130435 L19.9565217,22.9130435 L19.9565217,24.8695652 Z M25.0434783,24.8695652 L21.5217391,24.8695652 L21.5217391,22.9130435 L25.0434783,22.9130435 L25.0434783,24.8695652 Z M23.2826087,17.826087 C22.0935326,17.826087 21.1304348,16.7754348 21.1304348,15.4782609 C21.1304348,14.181087 22.0935326,13.1304348 23.2826087,13.1304348 C24.4716848,13.1304348 25.4347826,14.181087 25.4347826,15.4782609 C25.4347826,16.7754348 24.4716848,17.826087 23.2826087,17.826087 Z M34.2391304,13.9130435 L32.4782609,13.9130435 L32.4782609,24.8695652 L34.2391304,24.8695652 C35.2131114,24.8695652 36,24.0535326 36,23.0434783 L36,15.7391304 C36,14.7290761 35.2131114,13.9130435 34.2391304,13.9130435 Z'/>\n                        </svg>\n                    )}\n                </FormattedMessage>\n            </span>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nexport default class CloseCircleIcon extends React.PureComponent {\n    render() {\n        return (\n            <span {...this.props}>\n                <FormattedMessage\n                    id='generic_icons.close'\n                    defaultMessage='Close Icon'\n                >\n                    {(ariaLabel) => (\n                        <svg\n                            width='24px'\n                            height='24px'\n                            viewBox='0 0 24 24'\n                            role='img'\n                            aria-label={ariaLabel}\n                        >\n                            <path\n                                d='M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53,2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16,14.59L13.41,12L16,9.41L14.59,8Z'\n                            />\n                        </svg>\n                    )}\n                </FormattedMessage>\n            </span>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nexport default class CloseCircleSolidIcon extends React.PureComponent {\n    render() {\n        return (\n            <span {...this.props}>\n                <FormattedMessage\n                    id='generic_icons.close'\n                    defaultMessage='Close Icon'\n                >\n                    {(ariaLabel) => (\n                        <svg\n                            width='16px'\n                            height='16px'\n                            viewBox='0 0 16 16'\n                            role='img'\n                            aria-label={ariaLabel}\n                        >\n                            <path\n                                d='m 8,0 c 4.424,0 8,3.576 8,8 0,4.424 -3.576,8 -8,8 C 3.576,16 0,12.424 0,8 0,3.576 3.576,0 8,0 Z M 10.872,4 8,6.872 5.128,4 4,5.128 6.872,8 4,10.872 5.128,12 8,9.128 10.872,12 12,10.872 9.128,8 12,5.128 Z'\n                            />\n                        </svg>\n                    )}\n                </FormattedMessage>\n            </span>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nexport default class CloseIcon extends React.PureComponent {\n    render() {\n        return (\n            <span {...this.props}>\n                <FormattedMessage\n                    id='generic_icons.close'\n                    defaultMessage='Close Icon'\n                >\n                    {(ariaLabel) => (\n                        <svg\n                            width='24px'\n                            height='24px'\n                            viewBox='0 0 24 24'\n                            role='img'\n                            aria-label={ariaLabel}\n                        >\n                            <path d='M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z'/>\n                        </svg>\n                    )}\n                </FormattedMessage>\n            </span>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nexport default class DownloadIcon extends React.PureComponent {\n    render() {\n        return (\n            <span {...this.props}>\n                <FormattedMessage\n                    id='generic_icons.download'\n                    defaultMessage='Download Icon'\n                >\n                    {(ariaLabel) => (\n                        <svg\n                            width='40px'\n                            height='40px'\n                            viewBox='0 0 42 42'\n                            role='img'\n                            aria-label={ariaLabel}\n                        >\n                            <g\n                                stroke='inherit'\n                                strokeWidth='1'\n                                fill='none'\n                                fillRule='evenodd'\n                            >\n                                <g transform='translate(-986.000000, -1142.000000)'>\n                                    <g transform='translate(50.000000, 1034.000000)'>\n                                        <g transform='translate(539.000000, 54.000000)'>\n                                            <g transform='translate(398.000000, 55.000000)'>\n                                                <g\n                                                    transform='translate(11.000000, 11.000000)'\n                                                    fillRule='nonzero'\n                                                    fill='inherit'\n                                                >\n                                                    <path d='M8.7345,14.1405 C8.74725,14.1525 8.763,14.15775 8.7765,14.16825 C8.802,14.18775 8.82675,14.20875 8.85675,14.22075 C8.9025,14.24025 8.95125,14.25 9,14.25 C9.04875,14.25 9.0975,14.24025 9.14325,14.22075 C9.18975,14.20125 9.23175,14.17275 9.267,14.1375 L13.764,9.6405 C13.91025,9.49425 13.91025,9.2565 13.764,9.11025 C13.61775,8.964 13.38,8.964 13.23375,9.11025 L9.375,12.969 L9.375,0.375 C9.375,0.168 9.207,0 9,0 C8.793,0 8.625,0.168 8.625,0.375 L8.625,12.9705 L4.76475,9.11025 C4.6185,8.964 4.38075,8.964 4.2345,9.11025 C4.08825,9.2565 4.08825,9.49425 4.2345,9.6405 L8.7345,14.1405 Z M17.25,13.5 C17.043,13.5 16.875,13.668 16.875,13.875 L16.875,17.25 L1.125,17.25 L1.125,13.875 C1.125,13.668 0.957,13.5 0.75,13.5 C0.543,13.5 0.375,13.668 0.375,13.875 L0.375,17.625 C0.375,17.832 0.543,18 0.75,18 L17.25,18 C17.457,18 17.625,17.832 17.625,17.625 L17.625,13.875 C17.625,13.668 17.457,13.5 17.25,13.5 Z'/>\n                                                </g>\n                                            </g>\n                                        </g>\n                                    </g>\n                                </g>\n                            </g>\n                        </svg>\n                    )}\n                </FormattedMessage>\n            </span>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nexport default class DraftIcon extends React.PureComponent {\n    render() {\n        return (\n            <span\n                {...this.props}\n                id='draftIcon'\n            >\n                <FormattedMessage\n                    id='generic_icons.channel.draft'\n                    defaultMessage='Channel Draft Icon'\n                >\n                    {(ariaLabel) => (\n                        <svg\n                            width='14px'\n                            height='14px'\n                            viewBox='0 0 50 51'\n                            role='img'\n                            aria-label={ariaLabel}\n                        >\n                            <g\n                                stroke='none'\n                                strokeWidth='1'\n                                fillRule='evenodd'\n                            >\n                                <path d='M11.980198,46.7136356 L14.9834983,43.7103353 L7.22772277,35.9545597 L4.22442244,38.95786 L4.22442244,42.4892132 L8.44884488,42.4892132 L8.44884488,46.7136356 L11.980198,46.7136356 Z M29.2409241,16.0865729 C29.2409241,15.6025221 28.9989023,15.3605003 28.5148515,15.3605003 C28.2948284,15.3605003 28.1078116,15.4375072 27.9537954,15.5915234 L10.0660066,33.4793122 C9.91199043,33.6333283 9.8349835,33.8203452 9.8349835,34.0403683 C9.8349835,34.5244191 10.0770053,34.7664409 10.5610561,34.7664409 C10.7810792,34.7664409 10.968096,34.6894339 11.1221122,34.5354178 L29.009901,16.647629 C29.1639172,16.4936128 29.2409241,16.306596 29.2409241,16.0865729 Z M27.4587459,9.74993922 L41.1881188,23.4793122 L13.7293729,50.938058 L0,50.938058 L0,37.2086851 L27.4587459,9.74993922 Z M50,12.9182561 C50,14.0843785 49.5929634,15.0744676 48.7788779,15.8885531 L43.30033,21.3671009 L29.5709571,7.637728 L35.049505,2.19218345 C35.8415881,1.35609566 36.8316772,0.938058036 38.019802,0.938058036 C39.1859244,0.938058036 40.1870145,1.35609566 41.0231023,2.19218345 L48.7788779,9.91495573 C49.5929634,10.7730458 50,11.7741359 50,12.9182561 Z'/>\n                            </g>\n                        </svg>\n                    )}\n                </FormattedMessage>\n            </span>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\n\nexport default class EmojiIcon extends React.PureComponent {\n    render() {\n        return (\n            <span {...this.props}>\n                <svg\n                    width='16px'\n                    height='16px'\n                    viewBox='0 0 15 15'\n                    role='img'\n                    aria-label='Emoji icon'\n                >\n                    <g\n                        stroke='none'\n                        strokeWidth='1'\n                        fill='inherit'\n                        fillRule='evenodd'\n                    >\n                        <g\n                            transform='translate(-1071.000000, -954.000000)'\n                            fill='inherit'\n                        >\n                            <g transform='translate(25.000000, 937.000000)'>\n                                <g transform='translate(1046.000000, 17.000000)'>\n                                    <path d='M7.5,0.0852272727 C3.405,0.0852272727 0.0852272727,3.405 0.0852272727,7.5 C0.0852272727,11.595 3.405,14.9147727 7.5,14.9147727 C11.595,14.9147727 14.9147727,11.595 14.9147727,7.5 C14.9147727,3.405 11.595,0.0852272727 7.5,0.0852272727 Z M7.5,14.0663436 C3.87926951,14.0663436 0.933656417,11.1207305 0.933656417,7.5 C0.933656417,3.87926951 3.87926951,0.933656417 7.5,0.933656417 C11.1207305,0.933656417 14.0663436,3.87926951 14.0663436,7.5 C14.0663436,11.1207305 11.1207305,14.0663436 7.5,14.0663436 Z'/>\n                                    <path d='M11.7732955,8.95397727 C12.0119318,8.90488636 12.2159659,9.11778409 12.1684091,9.35676136 C11.8063636,11.1790909 9.85346591,12.5710227 7.49846591,12.5710227 C5.15096591,12.5710227 3.20284091,11.1877841 2.83193182,9.37397727 C2.78181818,9.129375 2.99267045,8.911875 3.23744318,8.96198864 C4.85369318,9.29232955 10.1786932,9.28142045 11.7732955,8.95397727 Z'/>\n                                    <ellipse\n                                        cx='4.94318182'\n                                        cy='5.50431818'\n                                        rx='1'\n                                        ry='1.06534091'\n                                    />\n                                    <ellipse\n                                        cx='10.0568182'\n                                        cy='5.50431818'\n                                        rx='1'\n                                        ry='1.06534091'\n                                    />\n                                </g>\n                            </g>\n                        </g>\n                    </g>\n                </svg>\n            </span>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\n\nimport {FormattedMessage} from 'react-intl';\n\nexport default class AddIcon extends React.PureComponent {\n    render() {\n        return (\n            <FormattedMessage\n                id='generic_icons.add'\n                defaultMessage='Add Icon'\n            >\n                {(title) => (\n                    <i\n                        className='fa fa-plus'\n                        title={title}\n                    />\n                )}\n            </FormattedMessage>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\n\nimport {FormattedMessage} from 'react-intl';\n\nexport default class BackIcon extends React.PureComponent {\n    render() {\n        return (\n            <FormattedMessage\n                id='generic_icons.back'\n                defaultMessage='Back Icon'\n            >\n                {(title) => (\n                    <i\n                        className='fa fa-angle-left'\n                        title={title}\n                    />\n                )}\n            </FormattedMessage>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\n\nimport {FormattedMessage} from 'react-intl';\n\nexport default class DropdownIcon extends React.PureComponent {\n    render() {\n        return (\n            <FormattedMessage\n                id='generic_icons.dropdown'\n                defaultMessage='Dropdown Icon'\n            >\n                {(title) => (\n                    <i\n                        className='fa fa-angle-down'\n                        title={title}\n                    />\n                )}\n            </FormattedMessage>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\n\nimport {FormattedMessage} from 'react-intl';\n\nexport default class EditIcon extends React.PureComponent {\n    render() {\n        return (\n            <FormattedMessage\n                id='generic_icons.edit'\n                defaultMessage='Edit Icon'\n            >\n                {(title) => (\n                    <i\n                        className='fa fa-pencil'\n                        title={title}\n                    />\n                )}\n            </FormattedMessage>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\n\nimport {FormattedMessage} from 'react-intl';\n\nexport default class RemoveIcon extends React.PureComponent {\n    render() {\n        return (\n            <FormattedMessage\n                id='generic_icons.remove'\n                defaultMessage='Remove Icon'\n            >\n                {(title) => (\n                    <i\n                        className='fa fa-remove'\n                        title={title}\n                    />\n                )}\n            </FormattedMessage>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\n\nimport {FormattedMessage} from 'react-intl';\n\nexport default class SelectIcon extends React.PureComponent {\n    render() {\n        return (\n            <FormattedMessage\n                id='generic_icons.select'\n                defaultMessage='Select Icon'\n            >\n                {(title) => (\n                    <i\n                        className='fa fa fa-plus-square'\n                        title={title}\n                    />\n                )}\n            </FormattedMessage>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\n\nimport {FormattedMessage} from 'react-intl';\n\nexport default class SuccessIcon extends React.PureComponent {\n    render() {\n        return (\n            <FormattedMessage\n                id='generic_icons.success'\n                defaultMessage='Success Icon'\n            >\n                {(title) => (\n                    <i\n                        className='fa fa-check'\n                        title={title}\n                    />\n                )}\n            </FormattedMessage>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\n\nimport {intlShape} from 'react-intl';\n\ntype Props = {\n    additionalClassName: string | null;\n}\n\nexport default class WarningIcon extends React.PureComponent<Props> {\n    public static contextTypes = {\n        intl: intlShape.isRequired,\n    };\n\n    public static defaultProps: Props = {\n        additionalClassName: null,\n    };\n\n    public render(): JSX.Element {\n        const {formatMessage} = this.context.intl;\n        const className = 'fa fa-warning' + (this.props.additionalClassName ? ' ' + this.props.additionalClassName : '');\n        return (\n            <i\n                className={className}\n                title={formatMessage({id: 'generic_icons.warning', defaultMessage: 'Warning Icon'})}\n            />\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nexport default class FlagIcon extends React.PureComponent {\n    render() {\n        return (\n            <span {...this.props}>\n                <FormattedMessage\n                    id='generic_icons.flag'\n                    defaultMessage='Flag Icon'\n                >\n                    {(ariaLabel) => (\n                        <svg\n                            width='14px'\n                            height='14px'\n                            viewBox='0 0 16 16'\n                            role='img'\n                            aria-label={ariaLabel}\n                        >\n                            <g\n                                stroke='none'\n                                strokeWidth='1'\n                                fill='inherit'\n                                fillRule='evenodd'\n                            >\n                                <g\n                                    transform='translate(-1106.000000, -33.000000)'\n                                    fillRule='nonzero'\n                                    fill='inherit'\n                                >\n                                    <g>\n                                        <g transform='translate(1096.000000, 22.000000)'>\n                                            <g transform='translate(10.000000, 11.000000)'>\n                                                <path d='M8,1 L2,1 C2,0.447 1.553,0 1,0 C0.447,0 0,0.447 0,1 L0,15.5 C0,15.776 0.224,16 0.5,16 L1.5,16 C1.776,16 2,15.776 2,15.5 L2,11 L7,11 L7,12 C7,12.553 7.447,13 8,13 L15,13 C15.553,13 16,12.553 16,12 L16,4 C16,3.447 15.553,3 15,3 L9,3 L9,2 C9,1.447 8.553,1 8,1 Z M9,11 L9,9.5 C9,9.224 8.776,9 8.5,9 L2,9 L2,3 L7,3 L7,4.5 C7,4.776 7.224,5 7.5,5 L14,5 L14,11 L9,11 Z'/>\n                                            </g>\n                                        </g>\n                                    </g>\n                                </g>\n                            </g>\n                        </svg>\n                    )}\n                </FormattedMessage>\n            </span>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nexport default class FlagIconFilled extends React.PureComponent {\n    render() {\n        return (\n            <span {...this.props}>\n                <FormattedMessage\n                    id='generic_icons.flagged'\n                    defaultMessage='Flagged Icon'\n                >\n                    {(ariaLabel) => (\n                        <svg\n                            width='16px'\n                            height='16px'\n                            viewBox='0 0 16 16'\n                            role='img'\n                            aria-label={ariaLabel}\n                        >\n                            <g\n                                stroke='none'\n                                strokeWidth='1'\n                                fill='inherit'\n                                fillRule='evenodd'\n                            >\n                                <g\n                                    transform='translate(-1073.000000, -33.000000)'\n                                    fillRule='nonzero'\n                                    fill='inherit'\n                                >\n                                    <g transform='translate(-1.000000, 0.000000)'>\n                                        <g transform='translate(1064.000000, 22.000000)'>\n                                            <g transform='translate(10.000000, 11.000000)'>\n                                                <path d='M8,1 L2,1 C2,0.447 1.553,0 1,0 C0.447,0 0,0.447 0,1 L0,15.5 C0,15.776 0.224,16 0.5,16 L1.5,16 C1.776,16 2,15.776 2,15.5 L2,11 L7,11 L7,12 C7,12.553 7.447,13 8,13 L15,13 C15.553,13 16,12.553 16,12 L16,4 C16,3.447 15.553,3 15,3 L9,3 L9,2 C9,1.447 8.553,1 8,1 Z'/>\n                                            </g>\n                                        </g>\n                                    </g>\n                                </g>\n                            </g>\n                        </svg>\n                    )}\n                </FormattedMessage>\n            </span>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\n\nexport default class GfycatIcon extends React.PureComponent {\n    render() {\n        return (\n            <span {...this.props}>\n                <svg\n                    width='22px'\n                    height='14px'\n                    viewBox='0 0 22 14'\n                >\n                    <g\n                        stroke='none'\n                        strokeWidth='1'\n                        fill='inherit'\n                        fillRule='evenodd'\n                    >\n                        <g\n                            transform='translate(-1344.000000, -552.000000)'\n                            fill='inherit'\n                        >\n                            <g transform='translate(1147.000000, 542.000000)'>\n                                <g transform='translate(1.000000, 1.000000)'>\n                                    <g transform='translate(138.000000, 0.000000)'>\n                                        <path d='M63.6748519,23 L62.2292481,23 C61.8176589,23 61.4619872,22.8510143 61.1631497,22.5539741 C60.8633954,22.2569338 60.71306,21.8993681 60.71306,21.4831393 C60.71306,21.0678417 60.8597287,20.710276 61.1539829,20.4132358 C61.4473204,20.1161955 61.800242,19.9672098 62.2118312,19.9672098 L63.6565183,19.9672098 C64.0681075,19.9672098 64.4182791,19.8219488 64.7061166,19.5304955 C64.993954,19.2390422 65.1378727,18.8917193 65.1378727,18.4866644 L65.1378727,15.4371134 C65.1378727,15.0208846 64.993954,14.6670436 64.7061166,14.3755903 C64.4182791,14.084137 64.0745243,13.938876 63.6748519,13.938876 C63.2632628,13.938876 62.9103411,14.0869305 62.6170036,14.3849019 C62.3227494,14.6819421 62.1760807,15.0329897 62.1760807,15.4371134 C62.1760807,15.7294978 62.3016658,16.0563352 62.5519193,16.4185567 L62.575753,16.4530096 C62.8269232,16.8143 62.9515917,17.1420685 62.9515917,17.4344529 C62.9515917,17.8506817 62.8049229,18.2073163 62.5115854,18.5043565 C62.2173313,18.8023279 61.8653263,18.9503824 61.4537371,18.9503824 C60.7836443,18.9503824 60.2198863,18.5164616 59.7615465,17.6486199 C59.373791,16.9232458 59.1794549,16.1857665 59.1794549,15.4371134 C59.1794549,14.188427 59.6176278,13.1213169 60.4930568,12.234852 C61.3684859,11.3493183 62.4226675,10.9060858 63.6565183,10.9060858 C64.8912858,10.9060858 65.9482175,11.3493183 66.8300633,12.234852 C67.7109925,13.1213169 68.1519154,14.188427 68.1519154,15.4371134 L68.1519154,18.4866644 C68.1519154,19.7353508 67.7137425,20.7996674 66.8383134,21.6796142 C65.9628844,22.559561 64.9087028,23 63.6748519,23 Z M80,15.9269039 C80,16.3068174 79.8689148,16.6317925 79.6076611,16.9027602 C79.3454907,17.173728 79.0319863,17.3096774 78.6653144,17.3096774 L76.8438719,17.3096774 L76.8438719,18.6589292 C76.8438719,19.0388427 76.7127867,19.3638178 76.4506164,19.6347855 C76.1893627,19.9057532 75.8749415,20.0417027 75.5082697,20.0417027 C75.1315143,20.0417027 74.8125098,19.9057532 74.5503394,19.6347855 C74.2890857,19.3638178 74.1580005,19.0388427 74.1580005,18.6589292 L74.1580005,13.1464583 C74.1580005,12.00858 74.5485061,11.0355171 75.3276838,10.2272697 C76.1077782,9.41995344 77.0473748,9.01582973 78.1473904,9.01582973 L78.6653144,9.01582973 C79.0319863,9.01582973 79.3454907,9.15177918 79.6076611,9.42274692 C79.8689148,9.69371467 80,10.0186897 80,10.3986033 C80,10.7775856 79.8689148,11.1034919 79.6076611,11.3744596 C79.3454907,11.6454273 79.0319863,11.7804456 78.6653144,11.7804456 L78.162974,11.7804456 C77.7963021,11.7804456 77.481881,11.9163951 77.2206273,12.1873628 C76.9584569,12.4583306 76.8282884,12.7777187 76.8282884,13.1464583 L76.8282884,14.5450615 L78.6653144,14.5450615 C79.0319863,14.5450615 79.3454907,14.681011 79.6076611,14.9519787 C79.8689148,15.2229465 80,15.5479215 80,15.9269039 Z M72.6344789,18.6589292 C72.6344789,19.0388427 72.5043104,19.3638178 72.24214,19.6347855 C71.9808863,19.9057532 71.6664652,20.0417027 71.2997933,20.0417027 C70.9340382,20.0417027 70.616867,19.9057532 70.3501132,19.6347855 C70.0833594,19.3638178 69.9495242,19.0388427 69.9495242,18.6589292 L69.9495242,14.170735 C69.9495242,13.7917526 70.0806094,13.4667775 70.3418631,13.1958098 C70.6040335,12.9239109 70.9175379,12.7888926 71.2842098,12.7888926 C71.6508817,12.7888926 71.9671361,12.9239109 72.2348066,13.1958098 C72.5015604,13.4667775 72.6344789,13.7917526 72.6344789,14.170735 L72.6344789,18.6589292 Z M58.3370263,12.5356169 C58.1023563,11.7441304 58.0042716,10.9163286 58.0042716,10.9163286 C57.9721878,10.6937812 58.1243566,10.547589 58.3425264,10.5904223 C58.3425264,10.5904223 58.5350291,10.6267376 58.8017829,10.6807449 C59.0767868,10.7375457 59.4324585,10.8139009 59.7404628,10.8921184 C60.3473048,11.0448287 60.95323,11.2720319 60.95323,11.2720319 C60.95323,11.2720319 60.2904706,11.6621882 59.7239626,12.3018956 C59.1565379,12.9406718 58.8650338,13.8420353 58.8650338,13.8420353 C58.8650338,13.8420353 58.5716963,13.3280346 58.3370263,12.5356169 Z M69.088762,12.5356169 C69.323432,11.7441304 69.4224334,10.9163286 69.4224334,10.9163286 C69.4536005,10.6937812 69.3014317,10.547589 69.0832619,10.5904223 C69.0832619,10.5904223 68.2921674,10.7384769 67.6853254,10.8921184 C67.0794002,11.0448287 66.4725583,11.2720319 66.4725583,11.2720319 C66.4725583,11.2720319 67.1353177,11.6621882 67.7027424,12.3018956 C68.2692504,12.9406718 68.5616712,13.8420353 68.5616712,13.8420353 C68.5616712,13.8420353 68.8550087,13.3280346 69.088762,12.5356169 Z M72.6344789,10.3818424 C72.6344789,10.7617559 72.5043104,11.086731 72.24214,11.3576987 C71.9808863,11.6286664 71.6664652,11.7646159 71.2997933,11.7646159 C70.9340382,11.7646159 70.616867,11.6286664 70.3501132,11.3576987 C70.0833594,11.086731 69.9495242,10.7617559 69.9495242,10.3818424 C69.9495242,10.00286 70.0806094,9.67788494 70.3418631,9.40691719 C70.6040335,9.13594945 70.9175379,9 71.2842098,9 C71.6508817,9 71.9671361,9.13594945 72.2348066,9.40691719 C72.5015604,9.67788494 72.6344789,10.00286 72.6344789,10.3818424 Z'/>\n                                    </g>\n                                </g>\n                            </g>\n                        </g>\n                    </g>\n                </svg>\n            </span>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\n\nexport default class GifReactionsIcon extends React.PureComponent {\n    render() {\n        return (\n            <span {...this.props}>\n                <svg\n                    className='ic-svg ic-reactions-svg'\n                    width='14px'\n                    height='14px'\n                    viewBox='0 0 14 14'\n                    version='1.1'\n                >\n                    <g\n                        id='Finalized-Design'\n                        stroke='none'\n                        fill='inherit'\n                    >\n                        <g\n                            id='GfyCat---Gycat-Tab'\n                            transform='translate(-1348.000000, -620.000000)'\n                            fill='inherit'\n                        >\n                            <g\n                                id='modal---emojis'\n                                transform='translate(1147.000000, 542.000000)'\n                            >\n                                <g\n                                    id='tabs---gfycat'\n                                    transform='translate(1.000000, 68.000000)'\n                                >\n                                    <g\n                                        id='tab---category---deselected'\n                                        transform='translate(138.000000, 0.000000)'\n                                    >\n                                        <path\n                                            d='M62,16 L62,10 L68,10 L68,16 L62,16 Z M64,12 L64,14 L66,14 L66,12 L64,12 Z M70,24 L70,18 L76,18 L76,24 L70,24 Z M72,20 L72,22 L74,22 L74,20 L72,20 Z M70,10 L76,10 L76,16 L70,16 L70,10 Z M74,14 L74,12 L72,12 L72,14 L74,14 Z M62,24 L62,18 L68,18 L68,24 L62,24 Z M64,20 L64,22 L66,22 L66,20 L64,20 Z'\n                                            id='icon---categories'\n                                        />\n                                    </g>\n                                </g>\n                            </g>\n                        </g>\n                    </g>\n                </svg>\n            </span>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\n\nexport default class GifSearchClearIcon extends React.PureComponent {\n    render() {\n        return (\n            <span {...this.props}>\n                <svg\n                    width='100%'\n                    height='100%'\n                    viewBox='-10 -10 40 40'\n                    enableBackground='new 0 0 20 20'\n                    version='1.1'\n                >\n                    <g transform='matrix(0.952381,0,0,1,0,0)'>\n                        <path\n                            fill='inherit'\n                            d='M10.5 11.7L2.2 19.8C2 19.9 1.9 20 1.7 20 1.6 20 1.4 19.9 1.3 19.8L0.2 18.8C0.1 18.7 0 18.5 0 18.3 0 18.2 0.1 18 0.2 17.9L8.3 10 0.2 2.1C0.1 2 0 1.8 0 1.7 0 1.5 0.1 1.3 0.2 1.2L1.3 0.2C1.4 0.1 1.6 0 1.7 0 1.9 0 2 0.1 2.2 0.2L10.5 8.3 18.8 0.2C19 0.1 19.1 0 19.3 0 19.4 0 19.6 0.1 19.7 0.2L20.8 1.2C20.9 1.3 21 1.5 21 1.7 21 1.8 20.9 2 20.8 2.1L12.7 10 20.8 17.9C20.9 18 21 18.2 21 18.3 21 18.5 20.9 18.7 20.8 18.8L19.7 19.8C19.6 19.9 19.4 20 19.3 20 19.1 20 19 19.9 18.8 19.8L10.5 11.7Z'\n                        />\n                    </g>\n                </svg>\n            </span>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\n\nexport default class GifSearchIcon extends React.PureComponent {\n    render() {\n        return (\n            <span {...this.props}>\n                <svg\n                    width='100%'\n                    height='100%'\n                    viewBox='-10 -10 40 40'\n                    version='1.1'\n                >\n                    <g\n                        id='ic_search'\n                        transform='matrix(0.959095,-9.6091e-18,-1.00189e-17,0.959095,-0.0633002,-0.777826)'\n                    >\n                        <path\n                            d='M2.648,15.872C3.433,16.658 4.376,17.287 5.454,17.758C6.553,18.229 7.698,18.454 8.888,18.454C10.728,18.454 12.389,17.938 13.893,16.905L18.18,21.192C18.494,21.506 18.854,21.664 19.302,21.664C19.751,21.664 20.111,21.506 20.447,21.192C20.761,20.855 20.919,20.496 20.919,20.047C20.919,19.621 20.761,19.239 20.447,18.925L16.16,14.638C17.193,13.134 17.709,11.473 17.709,9.633C17.709,8.443 17.484,7.298 17.013,6.198C16.542,5.121 15.913,4.178 15.128,3.393C14.342,2.607 13.399,1.979 12.322,1.507C11.222,1.036 10.077,0.811 8.888,0.811C7.698,0.811 6.553,1.036 5.454,1.507C4.376,1.979 3.433,2.607 2.648,3.393C1.862,4.178 1.234,5.121 0.762,6.198C0.291,7.298 0.066,8.443 0.066,9.633C0.066,10.822 0.291,11.967 0.762,13.067C1.234,14.144 1.862,15.087 2.648,15.872ZM8.888,4.021C10.436,4.021 11.761,4.56 12.861,5.66C13.96,6.76 14.499,8.084 14.499,9.633C14.499,11.181 13.96,12.506 12.861,13.606C11.761,14.705 10.436,15.244 8.888,15.244C7.339,15.244 6.015,14.705 4.915,13.606C3.815,12.506 3.276,11.181 3.276,9.633C3.276,8.084 3.815,6.76 4.915,5.66C6.015,4.56 7.339,4.021 8.888,4.021Z'\n                            style={{fill: 'inherit'}}\n                        />\n                    </g>\n                </svg>\n            </span>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\n\nexport default class GifTrendingIcon extends React.PureComponent {\n    render() {\n        return (\n            <span {...this.props}>\n                <svg\n                    className='ic-svg ic-trending-svg'\n                    width='11px'\n                    height='15px'\n                    viewBox='0 0 11 15'\n                    version='1.1'\n                >\n                    <g\n                        id='Finalized-Design'\n                        stroke='none'\n                        fill='inherit'\n                    >\n                        <g\n                            id='GfyCat---Gycat-Tab'\n                            transform='translate(-1212.000000, -619.000000)'\n                            fill='inherit'\n                        >\n                            <g\n                                id='modal---emojis'\n                                transform='translate(1147.000000, 542.000000)'\n                            >\n                                <g\n                                    id='tabs---gfycat'\n                                    transform='translate(1.000000, 68.000000)'\n                                >\n                                    <g id='tab---trending---selected'>\n                                        <path\n                                            d='M69.90625,10.4062776 C69.90625,10.9531513 70.0976562,11.4909106 70.4804688,12.019555 C70.6992188,12.32945 71.1276043,12.7760638 71.765625,13.3593956 C72.3489582,13.9062693 72.7773438,14.3346538 73.0507812,14.6445488 C73.5065106,15.1731932 73.8528644,15.7109525 74.0898438,16.2578262 C74.3632812,16.9505327 74.5,17.6979271 74.5,18.5000083 C74.5,19.4479229 74.2630207,20.3229208 73.7890625,21.1250021 C73.3151043,21.9270834 72.6770832,22.565103 71.875,23.03906 C71.0729168,23.5130171 70.1979168,23.7499958 69.25,23.7499958 C68.3020832,23.7499958 67.4270832,23.5130171 66.625,23.03906 C65.8229168,22.565103 65.1848957,21.9270834 64.7109375,21.1250021 C64.2369793,20.3229208 64,19.4479229 64,18.5000083 C64,17.6432397 64.2005207,16.8320436 64.6015625,16.0664204 C65.0026043,15.3007972 65.5494793,14.6718925 66.2421875,14.1797061 C66.4609375,14.0338733 66.6888019,14.0247585 66.9257812,14.1523625 C67.1627606,14.2799665 67.28125,14.4713723 67.28125,14.7265798 L67.28125,17.6250104 C67.28125,17.9349054 67.3860676,18.1946704 67.5957031,18.4043054 C67.8053387,18.6139405 68.0651043,18.7187578 68.375,18.7187578 C68.6848957,18.7187578 68.9446613,18.6139405 69.1542969,18.4043054 C69.3639324,18.1946704 69.46875,17.9349054 69.46875,17.6250104 C69.46875,17.4427191 69.4049481,17.2330844 69.2773438,16.9961057 C69.2044269,16.8320436 69.0677082,16.576836 68.8671875,16.2304825 C68.4661457,15.5742341 68.1835938,15.0547041 68.0195312,14.6718925 C67.7643231,13.9791859 67.6640625,13.2955938 67.71875,12.6211161 C67.8098957,11.7825763 68.1380207,10.9258077 68.703125,10.0508097 C68.8125,9.86851837 68.9628906,9.76825847 69.1542969,9.75002921 C69.3457031,9.73179994 69.5188801,9.78648731 69.6738281,9.91409132 C69.8287762,10.0416953 69.90625,10.2057574 69.90625,10.4062776 Z M69.2499875,22.437499 C69.9609233,22.437499 70.6171717,22.259765 71.2187328,21.9042971 C71.8202939,21.5488292 72.2988083,21.0703147 72.6542762,20.4687537 C73.0097441,19.8671926 73.1874781,19.2109441 73.1874781,18.5000083 C73.1874781,17.880218 73.0781034,17.3060006 72.8593539,16.7773562 C72.6588337,16.3398572 72.376282,15.9023583 72.0116996,15.4648593 C71.7929502,15.1914225 71.4329248,14.8131683 70.9316241,14.3300964 C70.4303233,13.8470245 70.070298,13.4687703 69.8515485,13.1953335 C69.4869662,12.7760638 69.2135294,12.3567937 69.031238,11.937524 C68.8671759,12.5573143 68.8945196,13.1953335 69.1132691,13.8515819 C69.2408731,14.2343935 69.5143099,14.7812672 69.9335796,15.492203 C70.2252457,15.9661601 70.4166515,16.321628 70.507797,16.5586067 C70.6900884,16.9414183 70.7812338,17.2968862 70.7812338,17.6250104 C70.7812338,18.2812589 70.5442551,18.8463618 70.070298,19.3203189 C69.596341,19.794276 69.031238,20.0312547 68.3749896,20.0312547 C67.7187411,20.0312547 67.1536382,19.794276 66.6796811,19.3203189 C66.205724,18.8463618 65.9687453,18.2812589 65.9687453,17.6250104 L65.9687453,16.0937641 C65.7682251,16.403659 65.60872,16.7819136 65.4902308,17.228527 C65.3717417,17.6751404 65.3124969,18.0989675 65.3124969,18.5000083 C65.3124969,19.2109441 65.4902308,19.8671926 65.8456987,20.4687537 C66.2011666,21.0703147 66.6796811,21.5488292 67.2812422,21.9042971 C67.8828032,22.259765 68.5390517,22.437499 69.2499875,22.437499 Z'\n                                            id='icon---trending'\n                                        />\n                                    </g>\n                                </g>\n                            </g>\n                        </g>\n                    </g>\n                </svg>\n            </span>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nexport default class GlobeIcon extends React.PureComponent {\n    render() {\n        return (\n            <span {...this.props}>\n                <FormattedMessage\n                    id='generic_icons.channel.public'\n                    defaultMessage='Public Channel Icon'\n                >\n                    {(ariaLabel) => (\n                        <svg\n                            width='13px'\n                            height='13px'\n                            viewBox='0 0 14 14'\n                            role='presentation'\n                            aria-label={ariaLabel}\n                        >\n                            <g\n                                stroke='none'\n                                strokeWidth='1'\n                                fill='inherit'\n                                fillRule='evenodd'\n                            >\n                                <g\n                                    transform='translate(-115.000000, -147.000000)'\n                                    fillRule='nonzero'\n                                    fill='inherit'\n                                >\n                                    <g transform='translate(95.000000, 0.000000)'>\n                                        <g transform='translate(20.000000, 113.000000)'>\n                                            <g transform='translate(0.000000, 34.000000)'>\n                                                <path d='M10.409,0.893375 C9.40275,0.329875 8.24075,0.00875 7,0 C3.13075,0 0,3.140375 0,7 C0,10.521875 2.594375,13.42775 5.97625,13.93 C6.314875,13.974625 6.6535,14 7,14 C8.24075,14 9.40275,13.678875 10.409,13.1145 C12.551875,11.918375 14,9.6285 14,7 C13.99125,4.3715 12.551875,2.090375 10.409,0.893375 Z M11.554375,4.375 L9.431625,4.375 C9.302125,3.5 9.10875,2.736125 8.86725,2.085125 C10.003875,2.519125 10.9515,3.5 11.554375,4.375 Z M6.941375,1.73775 C6.960625,1.736875 6.979875,1.73425 7,1.73425 C7.020125,1.73425 7.039375,1.736875 7.058625,1.73775 C7.340375,2.172625 7.697375,3.5 7.92225,4.375 L6.07775,4.375 C6.302625,3.5 6.659625,2.172625 6.941375,1.73775 Z M1.81475,7.875 C1.7675,7.875 1.73425,7.29925 1.73425,7 C1.73425,6.70075 1.764875,6.125 1.813,6.125 L4.396875,6.125 C4.384625,6.125 4.375,6.7025 4.375,7 C4.375,7.2975 4.384625,7.875 4.396875,7.875 L1.81475,7.875 Z M4.354875,11.54475 C4.346125,11.54475 4.337375,11.54475 4.337375,11.536 C3.548125,11.07575 2.893625,10.5 2.436875,9.625 L4.568375,9.625 C4.697875,10.5 4.890375,11.262125 5.131875,11.91225 C4.8615,11.81075 4.599875,11.692625 4.354875,11.54475 Z M4.568375,4.375 L2.443875,4.375 C3.045875,3.5 3.994375,2.517375 5.131875,2.083375 C4.89125,2.734375 4.697875,3.5 4.568375,4.375 Z M7.0595,12.26225 C7.039375,12.26225 7.020125,12.26575 7,12.26575 C6.979875,12.26575 6.960625,12.26225 6.9405,12.26225 C6.65875,11.8265 6.302625,11.375 6.07775,9.625 L7.921375,9.625 C7.697375,11.375 7.34125,11.8265 7.0595,12.26225 Z M8.11125,7.875 L5.88875,7.875 C5.873875,7.875 5.8625,7.30625 5.8625,7 C5.8625,6.69375 5.873875,6.125 5.88875,6.125 L8.11125,6.125 C8.126125,6.125 8.1375,6.69375 8.1375,7 C8.1375,7.30625 8.126125,7.875 8.11125,7.875 Z M10.409,11.0075 C10.13075,11.242 9.828,11.45025 9.506875,11.631375 C9.30125,11.74075 9.086875,11.839625 8.8655,11.923625 C9.107,11.270875 9.30125,10.5 9.431625,9.625 L11.557875,9.625 C11.25425,10.5 10.8675,10.618125 10.409,11.0075 Z M9.603125,7.875 C9.615375,7.875 9.625,7.2975 9.625,7 C9.625,6.7025 9.615375,6.125 9.603125,6.125 L12.186125,6.125 C12.235125,6.125 12.26575,6.70075 12.26575,7 C12.26575,7.29925 12.233375,7.875 12.18525,7.875 L9.603125,7.875 Z'/>\n                                            </g>\n                                        </g>\n                                    </g>\n                                </g>\n                            </g>\n                        </svg>\n                    )}\n                </FormattedMessage>\n            </span>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nexport default class InfoIcon extends React.PureComponent {\n    render() {\n        return (\n            <span {...this.props}>\n                <FormattedMessage\n                    id='generic_icons.info'\n                    defaultMessage='Info Icon'\n                >\n                    {(ariaLabel) => (\n                        <svg\n                            width='18px'\n                            height='18px'\n                            viewBox='0 0 22 22'\n                            role='img'\n                            aria-label={ariaLabel}\n                        >\n                            <g\n                                stroke='none'\n                                strokeWidth='1'\n                                fill='inherit'\n                                fillRule='evenodd'\n                            >\n                                <g\n                                    transform='translate(-388.000000, -18.000000)'\n                                    fill='inherit'\n                                >\n                                    <g>\n                                        <g transform='translate(381.000000, 11.000000)'>\n                                            <g transform='translate(7.000000, 7.000000)'>\n                                                <path d='M11,22 C4.92486775,22 0,17.0751322 0,11 C0,4.92486775 4.92486775,0 11,0 C17.0751322,0 22,4.92486775 22,11 C22,17.0751322 17.0751322,22 11,22 Z M11,20.7924685 C16.408231,20.7924685 20.7924685,16.408231 20.7924685,11 C20.7924685,5.59176898 16.408231,1.20753149 11,1.20753149 C5.59176898,1.20753149 1.20753149,5.59176898 1.20753149,11 C1.20753149,16.408231 5.59176898,20.7924685 11,20.7924685 Z M10.1572266,16.0625 L10.1572266,8.69335938 L11.3466797,8.69335938 L11.3466797,16.0625 L10.1572266,16.0625 Z M10.7519531,7.50390625 C10.3417969,7.50390625 10,7.16210938 10,6.75195312 C10,6.33496094 10.3417969,6 10.7519531,6 C11.1689453,6 11.5039062,6.33496094 11.5039062,6.75195312 C11.5039062,7.16210938 11.1689453,7.50390625 10.7519531,7.50390625 Z'/>\n                                            </g>\n                                        </g>\n                                    </g>\n                                </g>\n                            </g>\n                        </svg>\n                    )}\n                </FormattedMessage>\n            </span>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nexport default class InfoSmallIcon extends React.PureComponent {\n    render() {\n        return (\n            <span {...this.props}>\n                <FormattedMessage\n                    id='generic_icons.info'\n                    defaultMessage='Info Icon'\n                >\n                    {(ariaLabel) => (\n                        <svg\n                            className='svg-text-color'\n                            aria-label={ariaLabel}\n                            width='24px'\n                            height='24px'\n                            viewBox='0 0 24 24'\n                            version='1.1'\n                        >\n                            <g\n                                stroke='none'\n                                strokeWidth='1'\n                                fill='inherit'\n                                fillRule='evenodd'\n                            >\n                                <g\n                                    transform='translate(-1015.000000, -516.000000)'\n                                    fill='inherit'\n                                >\n                                    <path d='M1027,540 C1020.37258,540 1015,534.627417 1015,528 C1015,521.372583 1020.37258,516 1027,516 C1033.62742,516 1039,521.372583 1039,528 C1039,534.627417 1033.62742,540 1027,540 Z M1027,527 C1025.89543,527 1025,527.895431 1025,529 L1025,533 C1025,534.104569 1025.89543,535 1027,535 C1028.10457,535 1029,534.104569 1029,533 L1029,529 C1029,527.895431 1028.10457,527 1027,527 Z M1027,525 C1028.10457,525 1029,524.104569 1029,523 C1029,521.895431 1028.10457,521 1027,521 C1025.89543,521 1025,521.895431 1025,523 C1025,524.104569 1025.89543,525 1027,525 Z'/>\n                                </g>\n                            </g>\n                        </svg>\n                    )}\n                </FormattedMessage>\n            </span>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nexport default class InviteIcon extends React.PureComponent {\n    render() {\n        return (\n            <span {...this.props}>\n                <FormattedMessage\n                    id='generic_icons.invite'\n                    defaultMessage='Invite Icon'\n                >\n                    {(ariaLabel) => (\n                        <svg\n                            width='126px'\n                            height='32px'\n                            viewBox='0 0 126 32'\n                            role='img'\n                            aria-label={ariaLabel}\n                        >\n                            <path d='M 106,18 86,5.52 V 4 c 0,-2.22 1.78,-4 4,-4 h 32 c 2.20914,0 4,1.790861 4,4 v 1.5 z m 20,10 c 0,2.209139 -1.79086,4 -4,4 H 90 c -2.22,0 -4,-1.8 -4,-4 V 10.22 l 4,2.5 V 28 h 32 V 12.72 l 4,-2.5 z M 1,15 h 62 c 0.552285,0 1,0.447715 1,1 0,0.552285 -0.447715,1 -1,1 H 1 C 0.44771525,17 0,16.552285 0,16 0,15.447715 0.44771525,15 1,15 Z M 21,5 h 48 c 0.552285,0 1,0.447715 1,1 0,0.552285 -0.447715,1 -1,1 H 21 C 20.447715,7 20,6.552285 20,6 20,5.447715 20.447715,5 21,5 Z m 0,20 h 48 c 0.552285,0 1,0.447715 1,1 0,0.552285 -0.447715,1 -1,1 H 21 c -0.552285,0 -1,-0.447715 -1,-1 0,-0.552285 0.447715,-1 1,-1 z'/>\n                        </svg>\n                    )}\n                </FormattedMessage>\n            </span>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nexport default class InviteMembersIcon extends React.PureComponent {\n    render() {\n        return (\n            <span {...this.props}>\n                <FormattedMessage\n                    id='generic_icons.invite_members'\n                    defaultMessage='Invite Members Icon'\n                >\n                    {(ariaLabel) => (\n                        <svg\n                            width='126px'\n                            height='38px'\n                            viewBox='0 0 126 38'\n                            role='img'\n                            aria-label={ariaLabel}\n                        >\n                            <path d='M 108.83398 0.03515625 C 108.64165 0.03515625 108.4496 0.04983111 108.25977 0.08203125 C 109.08339 0.57981559 109.86736 1.165576 110.60156 1.8359375 C 113.34699 4.3426243 115.07813 7.1515117 115.07812 10.777344 L 115.07812 15.908203 C 115.07812 17.577458 114.81586 19.392207 114.32812 21.453125 C 114.19039 22.035006 114.02467 22.601886 113.83008 23.152344 C 116.57398 24.811724 118.17106 25.88194 118.62109 26.361328 C 120.0119 27.842823 120.78516 29.798054 120.78516 31.830078 L 120.78516 32 C 122.99178 32 124.78125 32.008356 124.78125 30.001953 C 124.78125 26.755542 122.78085 23.90476 118.77734 21.453125 L 118.46875 21.267578 L 118.46094 21.285156 C 118.44384 21.330296 118.43871 21.318446 118.44531 21.253906 L 118.46875 21.267578 L 118.47266 21.251953 C 118.52056 21.104379 118.6246 20.690139 118.78516 20.011719 C 119.2074 18.22759 119.07227 17.224165 119.07227 15.908203 L 119.07227 10.777344 C 119.07227 8.5210935 117.78998 3.8565489 115.79297 2.0332031 C 113.81134 0.22387865 111.50192 0.03515625 108.83594 0.03515625 L 108.83398 0.03515625 z M 100.84375 2.0332031 C 98.23721 2.0332031 95.848767 2.9659792 93.835938 4.7363281 C 91.761167 6.5611731 90.535156 8.4793085 90.535156 10.777344 L 90.535156 15.908203 C 90.535156 17.293336 90.80759 18.870238 91.328125 20.703125 C 91.751681 22.194536 92.389981 23.518449 93.25 24.634766 L 87.810547 27.792969 C 87.734577 27.827779 87.659451 27.865141 87.585938 27.904297 C 87.562827 27.916627 87.538385 27.928746 87.515625 27.941406 C 87.254658 28.067724 87.009242 28.216755 86.775391 28.382812 L 86.509766 28.574219 C 85.454567 29.323561 84.826172 30.535879 84.826172 31.830078 L 84.826172 33.994141 C 84.826172 36.20075 86.615661 37.992188 88.822266 37.992188 L 112.79492 37.992188 C 115.00153 37.992188 116.79102 36.20075 116.79102 33.994141 L 116.79102 31.830078 C 116.79102 30.814065 116.40241 29.834497 115.70703 29.09375 C 115.33382 28.696209 114.89968 28.36777 114.42188 28.113281 L 114.13867 27.962891 C 114.10527 27.945041 114.06897 27.932866 114.03516 27.916016 C 113.99746 27.894746 113.96392 27.869949 113.92578 27.849609 L 108.53711 24.673828 C 109.43906 23.498248 110.06724 22.107856 110.43945 20.535156 C 110.86169 18.751027 111.08203 17.224166 111.08203 15.908203 L 111.08203 10.777344 C 111.08203 8.5210941 109.90325 6.6104541 107.90625 4.7871094 C 105.92461 2.977785 103.50974 2.0332043 100.84375 2.0332031 z M 100.84375 6.0273438 C 102.50853 6.0273438 103.96628 6.5982778 105.21484 7.7382812 C 106.46343 8.878286 107.08789 9.8906745 107.08789 10.777344 L 107.08789 15.908203 C 107.08789 16.870874 106.90948 18.105944 106.55273 19.613281 C 106.19601 21.12062 105.52977 22.279175 104.55469 23.089844 C 104.24552 23.343181 104.012 23.661015 103.85742 24.041016 C 103.70244 24.421017 103.65168 24.811463 103.69922 25.216797 C 103.72302 25.622132 103.84065 25.997842 104.05469 26.339844 C 104.26872 26.681846 104.54401 26.953582 104.87695 27.15625 L 112.04492 31.375 C 112.09262 31.40033 112.13432 31.425832 112.16992 31.451172 C 112.20552 31.476502 112.23401 31.488281 112.25781 31.488281 L 112.54297 31.640625 C 112.63817 31.691295 112.72361 31.754092 112.79492 31.830078 L 112.79492 33.994141 L 88.822266 33.994141 L 88.822266 31.830078 L 89.089844 31.640625 C 89.196862 31.564625 89.297447 31.513613 89.392578 31.488281 C 89.416398 31.462951 89.439071 31.442357 89.462891 31.429688 C 89.486711 31.416988 89.513289 31.412109 89.537109 31.412109 L 96.921875 27.117188 C 97.254845 26.939854 97.526184 26.681846 97.740234 26.339844 C 97.954274 25.997845 98.073886 25.622132 98.097656 25.216797 C 98.145256 24.811463 98.089577 24.421017 97.935547 24.041016 C 97.780967 23.661012 97.562734 23.343179 97.277344 23.089844 C 96.302254 22.279177 95.599958 21.120619 95.171875 19.613281 C 94.743792 18.105943 94.529297 16.870874 94.529297 15.908203 L 94.529297 10.777344 C 94.529297 9.8906751 95.178468 8.8782834 96.474609 7.7382812 C 97.770749 6.5982776 99.22654 6.0273453 100.84375 6.0273438 z M 21 7.9707031 C 20.447715 7.9707031 20 8.4184181 20 8.9707031 C 20 9.5229881 20.447715 9.9707031 21 9.9707031 L 69 9.9707031 C 69.552285 9.9707031 70 9.5229881 70 8.9707031 C 70 8.4184181 69.552285 7.9707031 69 7.9707031 L 21 7.9707031 z M 1 17.970703 C 0.4477153 17.970703 -2.220446e-16 18.418418 0 18.970703 C 0 19.522988 0.4477153 19.970703 1 19.970703 L 63 19.970703 C 63.552285 19.970703 64 19.522988 64 18.970703 C 64 18.418418 63.552285 17.970703 63 17.970703 L 1 17.970703 z M 21 27.970703 C 20.447715 27.970703 20 28.418418 20 28.970703 C 20 29.522988 20.447715 29.970703 21 29.970703 L 69 29.970703 C 69.552285 29.970703 70 29.522988 70 28.970703 C 70 28.418418 69.552285 27.970703 69 27.970703 L 21 27.970703 z'/>\n                        </svg>\n                    )}\n                </FormattedMessage>\n            </span>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nexport default class LeaveTeamIcon extends React.PureComponent {\n    render() {\n        return (\n            <span {...this.props}>\n                <FormattedMessage\n                    id='navbar_dropdown.leave.icon'\n                    defaultMessage='Leave Team Icon'\n                >\n                    {(ariaLabel) => (\n                        <svg\n                            width='100%'\n                            height='100%'\n                            viewBox='0 0 164 164'\n                            style={style}\n                            role='img'\n                            aria-label={ariaLabel}\n                        >\n                            <path d='M26.023,164L26.023,7.035L26.022,0.32L137.658,0.32L137.658,164L124.228,164L124.228, 13.749L39.452,13.749L39.452,164L26.023, 164ZM118.876,164L118.876,18.619L58.137,32.918L58.137,149.701L118.876,164Z'/>\n                        </svg>\n                    )}\n                </FormattedMessage>\n            </span>\n        );\n    }\n}\n\nconst style = {\n    fillRule: 'evenodd',\n    clipRule: 'evenodd',\n    strokeLinejoin: 'round',\n    strokeMiterlimit: 1.41421,\n};\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nexport default class LinkIcon extends React.PureComponent {\n    render() {\n        return (\n            <span {...this.props}>\n                <FormattedMessage\n                    id='generic_icons.link'\n                    defaultMessage='Link Icon'\n                >\n                    {(ariaLabel) => (\n                        <svg\n                            width='24px'\n                            height='24px'\n                            viewBox='0 0 24 24'\n                            role='img'\n                            aria-label={ariaLabel}\n                        >\n                            <path d='M10.59,13.41C11,13.8 11,14.44 10.59,14.83C10.2,15.22 9.56,15.22 9.17,14.83C7.22,12.88 7.22,9.71 9.17,7.76V7.76L12.71,4.22C14.66,2.27 17.83,2.27 19.78,4.22C21.73,6.17 21.73,9.34 19.78,11.29L18.29,12.78C18.3,11.96 18.17,11.14 17.89,10.36L18.36,9.88C19.54,8.71 19.54,6.81 18.36,5.64C17.19,4.46 15.29,4.46 14.12,5.64L10.59,9.17C9.41,10.34 9.41,12.24 10.59,13.41M13.41,9.17C13.8,8.78 14.44,8.78 14.83,9.17C16.78,11.12 16.78,14.29 14.83,16.24V16.24L11.29,19.78C9.34,21.73 6.17,21.73 4.22,19.78C2.27,17.83 2.27,14.66 4.22,12.71L5.71,11.22C5.7,12.04 5.83,12.86 6.11,13.65L5.64,14.12C4.46,15.29 4.46,17.19 5.64,18.36C6.81,19.54 8.71,19.54 9.88,18.36L13.41,14.83C14.59,13.66 14.59,11.76 13.41,10.59C13,10.2 13,9.56 13.41,9.17Z'/>\n                        </svg>\n                    )}\n                </FormattedMessage>\n            </span>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\n\nimport {FormattedMessage} from 'react-intl';\n\nexport default class LockIcon extends React.PureComponent {\n    render() {\n        return (\n            <span {...this.props}>\n                <FormattedMessage\n                    id='generic_icons.channel.private'\n                    defaultMessage='Private Channel Icon'\n                >\n                    {(title) => (\n                        <svg\n                            width='12px'\n                            height='13px'\n                            viewBox='0 0 13 15'\n                            role='presentation'\n                            title={title}\n                        >\n                            <g\n                                stroke='none'\n                                strokeWidth='1'\n                                fill='inherit'\n                                fillRule='evenodd'\n                            >\n                                <g\n                                    transform='translate(-116.000000, -175.000000)'\n                                    fillRule='nonzero'\n                                    fill='inherit'\n                                >\n                                    <g transform='translate(95.000000, 0.000000)'>\n                                        <g transform='translate(20.000000, 113.000000)'>\n                                            <g transform='translate(1.000000, 62.000000)'>\n                                                <path d='M12.0714286,6.5 L11.1428571,6.5 L11.1428571,4.64285714 C11.1428571,2.07814286 9.06471429,0 6.5,0 C3.93528571,0 1.85714286,2.07814286 1.85714286,4.64285714 L1.85714286,6.5 L0.928571429,6.5 C0.415071429,6.5 0,7.00792857 0,7.52142857 L0,13.9285714 C0,14.4420714 0.415071429,14.8571429 0.928571429,14.8571429 L12.0714286,14.8571429 C12.5849286,14.8571429 13,14.4420714 13,13.9285714 L13,7.52142857 C13,7.00792857 12.5849286,6.5 12.0714286,6.5 Z M6.5,1.85714286 C8.03585714,1.85714286 9.28571429,3.107 9.28571429,4.64285714 L9.28571429,6.5 L8.35714286,6.5 L4.64285714,6.5 L3.71428571,6.5 L3.71428571,4.64285714 C3.71428571,3.107 4.96414286,1.85714286 6.5,1.85714286 Z'/>\n                                            </g>\n                                        </g>\n                                    </g>\n                                </g>\n                            </g>\n                        </svg>\n                    )}\n                </FormattedMessage>\n            </span>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nexport default class MailIcon extends React.PureComponent {\n    render() {\n        return (\n            <span {...this.props}>\n                <FormattedMessage\n                    id='generic_icons.mail'\n                    defaultMessage='Mail Icon'\n                >\n                    {(ariaLabel) => (\n                        <svg\n                            width='24px'\n                            height='24px'\n                            viewBox='0 0 24 24'\n                            role='img'\n                            aria-label={ariaLabel}\n                        >\n                            <path d='M4,4H20A2,2 0 0,1 22,6V18A2,2 0 0,1 20,20H4C2.89,20 2,19.1 2,18V6C2,4.89 2.89,4 4,4M12,11L20,6H4L12,11M4,18H20V8.37L12,13.36L4,8.37V18Z'/>\n                        </svg>\n                    )}\n                </FormattedMessage>\n            </span>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nexport default class MailPlusIcon extends React.PureComponent {\n    render() {\n        return (\n            <span {...this.props}>\n                <FormattedMessage\n                    id='generic_icons.add-mail'\n                    defaultMessage='Add Mail Icon'\n                >\n                    {(ariaLabel) => (\n                        <svg\n                            width='24px'\n                            height='24px'\n                            viewBox='0 0 24 24'\n                            role='img'\n                            aria-label={ariaLabel}\n                        >\n                            <path d='M3,4C1.89,4 1,4.89 1,6V18A2,2 0 0,0 3,20H14V18H3V8.37L11,13.36L19,8.37V13H21V6A2,2 0 0,0 19,4H3M3,6H19L11,11L3,6M19,15V18H16V20H19V23H21V20H24V18H21V15H19Z'/>\n                        </svg>\n                    )}\n                </FormattedMessage>\n            </span>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nexport default class MattermostLogo extends React.PureComponent {\n    render() {\n        return (\n            <span {...this.props}>\n                <FormattedMessage\n                    id='generic_icons.mattermost'\n                    defaultMessage='Mattermost Logo'\n                >\n                    {(ariaLabel) => (\n                        <svg\n                            version='1.1'\n                            x='0px'\n                            y='0px'\n                            viewBox='0 0 500 500'\n                            style={style.background}\n                            role='img'\n                            aria-label={ariaLabel}\n                        >\n                            <g>\n                                <g>\n                                    <path\n                                        style={style.st0}\n                                        d='M396.9,47.7l2.6,53.1c43,47.5,60,114.8,38.6,178.1c-32,94.4-137.4,144.1-235.4,110.9 S51.1,253.1,83,158.7C104.5,95.2,159.2,52,222.5,40.5l34.2-40.4C150-2.8,49.3,63.4,13.3,169.9C-31,300.6,39.1,442.5,169.9,486.7 s272.6-25.8,316.9-156.6C522.7,223.9,483.1,110.3,396.9,47.7z'\n                                    />\n                                </g>\n                                <path\n                                    style={style.st0}\n                                    d='M335.6,204.3l-1.8-74.2l-1.5-42.7l-1-37c0,0,0.2-17.8-0.4-22c-0.1-0.9-0.4-1.6-0.7-2.2 c0-0.1-0.1-0.2-0.1-0.3c0-0.1-0.1-0.2-0.1-0.2c-0.7-1.2-1.8-2.1-3.1-2.6c-1.4-0.5-2.9-0.4-4.2,0.2c0,0-0.1,0-0.1,0 c-0.2,0.1-0.3,0.1-0.4,0.2c-0.6,0.3-1.2,0.7-1.8,1.3c-3,3-13.7,17.2-13.7,17.2l-23.2,28.8l-27.1,33l-46.5,57.8 c0,0-21.3,26.6-16.6,59.4s29.1,48.7,48,55.1c18.9,6.4,48,8.5,71.6-14.7C336.4,238.4,335.6,204.3,335.6,204.3z'\n                                />\n                            </g>\n                        </svg>\n                    )}\n                </FormattedMessage>\n            </span>\n        );\n    }\n}\n\nconst style = {\n    background: {\n        enableBackground: 'new 0 0 500 500',\n    },\n    st0: {\n        fillRule: 'evenodd',\n        clipRule: 'evenodd',\n    },\n};\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nexport default class MemberIcon extends React.PureComponent {\n    render() {\n        return (\n            <span {...this.props}>\n                <FormattedMessage\n                    id='generic_icons.member'\n                    defaultMessage='Member Icon'\n                >\n                    {(ariaLabel) => (\n                        <svg\n                            width='14px'\n                            height='14px'\n                            viewBox='0 0 16 16'\n                            role='img'\n                            aria-label={ariaLabel}\n                        >\n                            <g\n                                stroke='none'\n                                strokeWidth='1'\n                                fill='inherit'\n                                fillRule='evenodd'\n                            >\n                                <g\n                                    transform='translate(-725.000000, -32.000000)'\n                                    fillRule='nonzero'\n                                    fill='inherit'\n                                >\n                                    <g>\n                                        <g\n                                            transform='translate(676.000000, 22.000000)'\n                                        >\n                                            <path\n                                                d='M64.9481342,24 C64.6981342,20.955 63.2551342,19.076 60.6731342,18.354 C61.4831342,17.466 61.9881342,16.296 61.9881342,15 C61.9881342,12.238 59.7501342,10 56.9881342,10 C54.2261342,10 51.9881342,12.238 51.9881342,15 C51.9881342,16.297 52.4941342,17.467 53.3031342,18.354 C50.7221342,19.076 49.2771342,20.955 49.0271342,24 C49.0161342,24.146 49.0061342,24.577 49.0001342,25.001 C48.9911342,25.553 49.4361342,26 49.9881342,26 L63.9881342,26 C64.5411342,26 64.9851342,25.553 64.9761342,25.001 C64.9701342,24.577 64.9601342,24.146 64.9481342,24 Z M56.9881342,12 C58.6421342,12 59.9881342,13.346 59.9881342,15 C59.9881342,16.654 58.6421342,18 56.9881342,18 C55.3341342,18 53.9881342,16.654 53.9881342,15 C53.9881342,13.346 55.3341342,12 56.9881342,12 Z M51.0321342,24 C51.2981342,21.174 52.7911342,20 55.9881342,20 L57.9881342,20 C61.1851342,20 62.6781342,21.174 62.9441342,24 L51.0321342,24 Z'\n                                                id='User_4_x2C__Profile_5-Copy-9'\n                                            />\n                                        </g>\n                                    </g>\n                                </g>\n                            </g>\n                        </svg>\n                    )}\n                </FormattedMessage>\n            </span>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nexport default class MentionsIcon extends React.PureComponent {\n    render() {\n        return (\n            <span {...this.props}>\n                <FormattedMessage\n                    id='generic_icons.mention'\n                    defaultMessage='Mention Icon'\n                >\n                    {(ariaLabel) => (\n                        <svg\n                            width='14px'\n                            height='14px'\n                            viewBox='0 0 20 20'\n                            version='1.1'\n                            role='img'\n                            aria-label={ariaLabel}\n                        >\n                            <g\n                                stroke='none'\n                                strokeWidth='1'\n                                fill='inherit'\n                                fillRule='evenodd'\n                            >\n                                <g\n                                    transform='translate(-1057.000000, -31.000000)'\n                                    fill='inherit'\n                                >\n                                    <g>\n                                        <g transform='translate(1049.000000, 22.000000)'>\n                                            <path d='M17.4296875,15.8867188 C15.9882812,15.8867188 15.1210938,17.0351562 15.1210938,18.96875 C15.1210938,20.8789062 15.9882812,22.0507812 17.4179688,22.0507812 C18.8945312,22.0507812 19.84375,20.8554688 19.84375,18.96875 C19.84375,17.0820312 18.90625,15.8867188 17.4296875,15.8867188 Z M17.8398438,9.125 C23.3242188,9.125 27.25,12.59375 27.25,17.7734375 C27.25,21.5117188 25.5625,23.9609375 22.7734375,23.9609375 C21.4023438,23.9609375 20.265625,23.1992188 20.078125,22.0390625 L19.9609375,22.0390625 C19.46875,23.2226562 18.4140625,23.8789062 17.0429688,23.8789062 C14.6054687,23.8789062 12.9648438,21.8867188 12.9648438,18.9101562 C12.9648438,16.0625 14.6171875,14.09375 16.9960938,14.09375 C18.25,14.09375 19.3632812,14.7382812 19.8085938,15.7460938 L19.9375,15.7460938 L19.9375,14.328125 L21.9179688,14.328125 L21.9179688,20.984375 C21.9179688,21.7578125 22.328125,22.2851562 23.171875,22.2851562 C24.4726562,22.2851562 25.421875,20.6679688 25.421875,17.8320312 C25.421875,13.5664062 22.2929688,10.7421875 17.7109375,10.7421875 C13.1640625,10.7421875 9.90625,14.140625 9.90625,18.96875 C9.90625,24.1367188 13.3515625,27.0429688 18.109375,27.0429688 C19.5625,27.0429688 21.0507812,26.84375 21.7773438,26.5390625 L21.7773438,28.15625 C20.78125,28.484375 19.4570312,28.671875 18.0273438,28.671875 C12.2382812,28.671875 8.078125,25.109375 8.078125,18.8984375 C8.078125,13.0625 12.0859375,9.125 17.8398438,9.125 Z'/>\n                                        </g>\n                                    </g>\n                                </g>\n                            </g>\n                        </svg>\n                    )}\n                </FormattedMessage>\n            </span>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nexport default class MenuIcon extends React.PureComponent {\n    render() {\n        return (\n            <span {...this.props}>\n                <FormattedMessage\n                    id='generic_icons.menu'\n                    defaultMessage='Menu Icon'\n                >\n                    {(title) => (\n                        <svg\n                            width='16px'\n                            height='10px'\n                            viewBox='0 0 16 10'\n                            version='1.1'\n                            role='img'\n                            title={title}\n                        >\n                            <g\n                                stroke='none'\n                                strokeWidth='1'\n                                fill='inherit'\n                                fillRule='evenodd'\n                            >\n                                <g\n                                    transform='translate(-188.000000, -38.000000)'\n                                    fillRule='nonzero'\n                                    fill='inherit'\n                                >\n                                    <g>\n                                        <g>\n                                            <g transform='translate(188.000000, 38.000000)'>\n                                                <path d='M15.5,0 C15.776,0 16,0.224 16,0.5 L16,1.5 C16,1.776 15.776,2 15.5,2 L0.5,2 C0.224,2 0,1.776 0,1.5 L0,0.5 C0,0.224 0.224,0 0.5,0 L15.5,0 Z M15.5,4 C15.776,4 16,4.224 16,4.5 L16,5.5 C16,5.776 15.776,6 15.5,6 L0.5,6 C0.224,6 0,5.776 0,5.5 L0,4.5 C0,4.224 0.224,4 0.5,4 L15.5,4 Z M15.5,8 C15.776,8 16,8.224 16,8.5 L16,9.5 C16,9.776 15.776,10 15.5,10 L0.5,10 C0.224,10 0,9.776 0,9.5 L0,8.5 C0,8.224 0.224,8 0.5,8 L15.5,8 Z'/>\n                                            </g>\n                                        </g>\n                                    </g>\n                                </g>\n                            </g>\n                        </svg>\n                    )}\n                </FormattedMessage>\n            </span>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nimport {localizeMessage} from 'utils/utils.jsx';\n\nexport default class MessageIcon extends React.PureComponent {\n    render() {\n        return (\n            <button\n                {...this.props}\n                aria-label={localizeMessage('members_popover.button.message', 'message')}\n                className='style--none icon icon__message'\n            >\n                <FormattedMessage\n                    id='generic_icons.message'\n                    defaultMessage='Message Icon'\n                >\n                    {(ariaLabel) => (\n                        <svg\n                            width='18px'\n                            height='16px'\n                            viewBox='0 0 18 16'\n                            role='img'\n                            aria-label={ariaLabel}\n                        >\n                            <g\n                                stroke='none'\n                                strokeWidth='1'\n                                fill='inherit'\n                                fillRule='evenodd'\n                            >\n                                <g\n                                    transform='translate(-200.000000, -174.000000)'\n                                    fill='inherit'\n                                >\n                                    <g transform='translate(200.000000, 174.000000)'>\n                                        <path d='M7.2546625,1.42801356 C10.458475,1.42801356 12.999475,3.24528136 12.999475,5.52023729 C12.9895,8.04188475 10.6062625,9.89326102 7.40245,9.89326102 C7.40245,9.89326102 6.9134125,9.91229831 6.4115125,9.83747119 L5.82535,9.79622373 L5.15335,10.3586169 C4.997425,10.5397356 4.3199125,11.1095322 3.736375,11.4794373 C4.0915375,10.4598847 4.07605,10.1370441 4.07605,10.1370441 L4.1251375,9.49004068 L3.55315,9.19549153 C2.0986375,8.44616271 1.4444875,6.88616271 1.4444875,5.52023729 C1.4444875,3.24528136 4.05085,1.42801356 7.2546625,1.42801356 M7.2546625,0.370386441 C3.465475,0.370386441 0.3944875,2.65829831 0.3944875,5.52023729 C0.3944875,7.3028678 1.2623125,9.20342373 3.0751375,10.1370441 C3.0751375,10.1478847 3.07225,10.1560814 3.07225,10.1679797 C3.07225,10.9426915 2.43175,12.0048136 2.1794875,12.4429356 L2.1805375,12.4429356 C2.1605875,12.4902644 2.148775,12.5420881 2.148775,12.5973492 C2.148775,12.8141627 2.322025,12.9881424 2.5375375,12.9881424 C2.5693,12.9881424 2.6210125,12.9815322 2.6393875,12.9815322 C2.6446375,12.9815322 2.6467375,12.9815322 2.6462125,12.9831186 C3.986275,12.762339 5.9642125,11.2435864 6.2576875,10.8837288 C6.5585125,10.928678 6.761425,10.9358169 7.0136875,10.9358169 C7.120525,10.9358169 7.2347125,10.9342305 7.3696375,10.9342305 C11.1583,10.9342305 14.094625,8.75446102 14.049475,5.52023729 C14.049475,2.65829831 11.0435875,0.370386441 7.2546625,0.370386441'/>\n                                        <path d='M17.2055125,9.79172881 C17.2055125,8.35811525 16.6498,7.26532203 15.2624875,6.4451322 C15.228625,6.82614237 15.120475,7.23517966 15.0031375,7.59477288 C15.8998375,8.21903729 16.1555125,8.85995932 16.1555125,9.79172881 C16.1555125,10.9323797 15.62815,11.7597085 14.40175,12.3919051 L13.879375,12.653139 C13.879375,12.653139 13.9337125,14.0082237 14.0140375,14.3511593 C12.9895,13.5946915 12.6374875,12.9630237 12.6374875,12.9630237 L12.08545,13.0486915 C11.86705,13.0809492 11.276425,13.0812136 11.276425,13.0812136 C9.85,13.0812136 8.7929125,12.7388068 7.8909625,12.0278169 C8.135875,12.0124814 6.42805,12.0132746 6.3899875,12.0468542 C7.4326375,13.3297559 9.1373125,14.1388407 11.276425,14.1388407 C11.3927125,14.1388407 11.49115,14.1398983 11.58355,14.1398983 C11.801425,14.1398983 11.9773,14.1338169 12.237175,14.095478 C12.491275,14.4058915 13.914025,15.7728746 15.0724375,15.9629831 C15.0719125,15.9619254 15.073225,15.9619254 15.078475,15.9619254 C15.0939625,15.9619254 15.13885,15.967478 15.16615,15.967478 C15.3522625,15.967478 15.5024125,15.8167661 15.5024125,15.6293017 C15.5024125,15.5817085 15.49165,15.5367593 15.47485,15.4960407 L15.4759,15.4960407 C15.258025,15.117939 14.9159875,14.0129831 14.9159875,13.3435051 C14.9159875,13.3331932 14.9128375,13.3260542 14.9128375,13.3168 C16.4797,12.5095661 17.2055125,11.3321627 17.2055125,9.79172881'/>\n                                    </g>\n                                </g>\n                            </g>\n                        </svg>\n                    )}\n                </FormattedMessage>\n            </button>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nexport default class PinIcon extends React.PureComponent {\n    render() {\n        return (\n            <span {...this.props}>\n                <FormattedMessage\n                    id='generic_icons.pin'\n                    defaultMessage='Pin Icon'\n                >\n                    {(ariaLabel) => (\n                        <svg\n                            width='14px'\n                            height='14px'\n                            viewBox='0 0 16 16'\n                            version='1.1'\n                            role='img'\n                            aria-label={ariaLabel}\n                        >\n                            <g\n                                stroke='inherit'\n                                strokeWidth='1'\n                                fill='inherit'\n                                fillRule='evenodd'\n                            >\n                                <g\n                                    transform='translate(-775.000000, -32.000000)'\n                                    fillRule='nonzero'\n                                    fill='inherit'\n                                >\n                                    <g>\n                                        <g transform='translate(764.000000, 22.000000)'>\n                                            <g transform='translate(10.000000, 10.000000)'>\n                                                <path d='M16.456,7.291 L9.483,0.25 C9.31,0.078 9.178,0 9.08,0 C8.896,0 8.831,0.276 8.831,0.732 L8.831,3.044 L5.831,5.96 L2.578,6.268 C1.887,6.405 1.668,6.917 2.167,7.41 L4.781,10.011 L3.83,10.961 L1.05,15.511 C0.93,15.761 1.03,15.862 1.28,15.74 L5.83,12.961 L6.786,12.005 L9.359,14.565 C9.556,14.76 9.754,14.854 9.929,14.854 C10.197,14.854 10.413,14.634 10.497,14.219 L10.83,10.961 L13.746,7.961 L16.082,7.961 C16.788,7.961 16.955,7.785 16.456,7.291 Z M12.312,6.567 L9.396,9.567 L8.911,10.065 L8.84,10.757 L8.797,11.184 L5.589,7.992 L6.018,7.952 L6.72,7.886 L7.225,7.396 L10.225,4.48 L10.547,4.167 L12.616,6.256 L12.312,6.567 Z'/>\n                                            </g>\n                                        </g>\n                                    </g>\n                                </g>\n                            </g>\n                        </svg>\n                    )}\n                </FormattedMessage>\n            </span>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nexport default class PluginChannelHeaderIcon extends React.PureComponent {\n    render() {\n        return (\n            <span {...this.props}>\n                <FormattedMessage\n                    id='generic_icons.plugins'\n                    defaultMessage='Plugins'\n                >\n                    {(ariaLabel) => (\n                        <svg\n                            width='14px'\n                            height='14px'\n                            viewBox='0 0 16 16'\n                            version='1.1'\n                            role='img'\n                            aria-label={ariaLabel}\n                        >\n                            <path\n                                fillRule='evenodd'\n                                d='M10.2500542,0.707106781 C10.6987855,0.707106781 11.0625542,1.07087542 11.0625542,1.51960678 L11.0615542,3.50610678 L12.8042208,3.50710678 C13.4301435,3.50710678 13.9375542,4.0145174 13.9375542,4.64044011 C13.9375542,5.26636283 13.4301435,5.77377345 12.8042208,5.77377345 L12.8125542,5.77377345 L12.8125542,8.97377345 L12.8125542,8.97377345 C12.8125542,11.2921636 10.8653399,13.2156919 8.31338929,13.5787961 L8.31255416,15.8946068 C8.31255416,16.3433381 7.94878552,16.7071068 7.50005416,16.7071068 C7.0513228,16.7071068 6.68755416,16.3433381 6.68755416,15.8946068 L6.68783265,13.5954057 C4.14942691,13.2878302 2.17885387,11.4410225 2.06752014,9.17620376 L2.06255416,8.97377345 L2.06255416,8.97377345 L2.06255416,5.77377345 L2.07088749,5.77377345 C1.44496478,5.77377345 0.937554159,5.26636283 0.937554159,4.64044011 C0.937554159,4.0145174 1.44496478,3.50710678 2.07088749,3.50710678 L3.81155416,3.50610678 L3.81255416,1.51960678 C3.81255416,1.07087542 4.1763228,0.707106781 4.62505416,0.707106781 C5.07378552,0.707106781 5.43755416,1.07087542 5.43755416,1.51960678 L5.43655416,3.50610678 L9.43655416,3.50610678 L9.43755416,1.51960678 C9.43755416,1.07087542 9.8013228,0.707106781 10.2500542,0.707106781 Z M11,6 L4,6 L4,9.3 L4.07019791,9.30071649 C4.39483943,10.5555917 5.80705165,11.5 7.5,11.5 C9.19294835,11.5 10.6051606,10.5555917 10.9298021,9.30071649 L10.9298021,9.30071649 L11,9.3 L11,6 Z'\n                                transform='rotate(45 7.707 6.793)'\n                            />\n                        </svg>\n                    )}\n                </FormattedMessage>\n            </span>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nexport default class PluginIcon extends React.PureComponent {\n    render() {\n        return (\n            <span {...this.props}>\n                <FormattedMessage\n                    id='generic_icons.plugin'\n                    defaultMessage='Plugin Icon'\n                >\n                    {(ariaLabel) => (\n                        <svg\n                            width='61px'\n                            height='61px'\n                            viewBox='0 0 61 61'\n                            aria-label={ariaLabel}\n                        >\n                            <g\n                                stroke='none'\n                                strokeWidth='1'\n                                fill='inherit'\n                                fillRule='evenodd'\n                            >\n                                <g\n                                    transform='translate(-347.000000, -211.000000)'\n                                    fill='inherit'\n                                >\n                                    <g transform='translate(377.585786, 241.500000) rotate(-315.000000) translate(-377.585786, -241.500000) translate(358.585786, 200.000000)'>\n                                        <g transform='translate(0.000000, -0.000000)'>\n                                            <path\n                                                d='M3.28846154,6.10822511 L3.05411255,6.10822511 C1.36737277,6.10822511 2.06566048e-16,4.74085234 0,3.05411255 C-2.06566048e-16,1.36737277 1.36737277,-7.78498519e-14 3.05411255,-7.81597009e-14 L34.9458874,-7.81597009e-14 C36.6326272,-8.16905472e-14 38,1.36737277 38,3.05411255 C38,4.74085234 36.6326272,6.10822511 34.9458874,6.10822511 L34.7115385,6.10822511 L34.7115385,14.7316017 C34.7115385,20.9798931 29.0184395,26.1638765 21.5576923,27.1415606 L21.5576923,33.1964286 C21.5576923,34.5081049 20.4943686,35.5714286 19.1826923,35.5714286 C17.871016,35.5714286 16.8076923,34.5081049 16.8076923,33.1964286 L16.8076923,27.1859094 C9.16823824,26.3322077 3.28846154,21.0815081 3.28846154,14.7316017 L3.28846154,6.10822511 Z M19.1431901,14.7316017 C17.8533303,14.7316017 16.8076923,15.7772397 16.8076923,17.0670996 C16.8076923,18.3569594 17.8533303,19.4025974 19.1431901,19.4025974 L19.2221945,19.4025974 C20.5120543,19.4025974 21.5576923,18.3569594 21.5576923,17.0670996 C21.5576923,15.7772397 20.5120543,14.7316017 19.2221945,14.7316017 L19.1431901,14.7316017 Z'\n                                                transform='translate(19.000000, 17.785714) rotate(-180.000000) translate(-19.000000, -17.785714) '\n                                            />\n                                            <path\n                                                d='M32.1538462,53.5367965 L34.7115385,53.5367965 L34.7115385,62.1601732 C34.7115385,68.4084646 29.0184395,73.592448 21.5576923,74.5701321 L21.5576923,80.625 C21.5576923,81.9366763 20.4943686,83 19.1826923,83 C17.871016,83 16.8076923,81.9366763 16.8076923,80.625 L16.8076923,74.6144809 C9.16823824,73.7607791 3.28846154,68.5100796 3.28846154,62.1601732 L3.28846154,53.5367965 L3.05411255,53.5367965 C1.36737277,53.5367965 2.06566048e-16,52.1694238 0,50.482684 C-2.06566048e-16,48.7959442 1.36737277,47.4285714 3.05411255,47.4285714 L8.40384615,47.4285714 L8.40384615,42.2581169 C8.40384615,40.9464406 9.46716987,39.8831169 10.7788462,39.8831169 C12.0905224,39.8831169 13.1538462,40.9464406 13.1538462,42.2581169 L13.1538462,47.4285714 L24.8461538,47.4285714 L24.8461538,42.2581169 C24.8461538,40.9464406 25.9094776,39.8831169 27.2211538,39.8831169 C28.5328301,39.8831169 29.5961538,40.9464406 29.5961538,42.2581169 L29.5961538,47.4285714 L34.9458874,47.4285714 C36.6326272,47.4285714 38,48.7959442 38,50.482684 C38,52.1694238 36.6326272,53.5367965 34.9458874,53.5367965 L32.1538462,53.5367965 Z M19.1431901,62.1601732 C17.8533303,62.1601732 16.8076923,63.2058112 16.8076923,64.495671 C16.8076923,65.7855308 17.8533303,66.8311688 19.1431901,66.8311688 L19.2221945,66.8311688 C20.5120543,66.8311688 21.5576923,65.7855308 21.5576923,64.495671 C21.5576923,63.2058112 20.5120543,62.1601732 19.2221945,62.1601732 L19.1431901,62.1601732 Z'\n                                                transform='translate(19.000000, 61.441558) rotate(-360.000000) translate(-19.000000, -61.441558) '\n                                            />\n                                        </g>\n                                    </g>\n                                </g>\n                            </g>\n                        </svg>\n                    )}\n                </FormattedMessage>\n            </span>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nexport default class ReplyIcon extends React.PureComponent {\n    render() {\n        return (\n            <span {...this.props}>\n                <FormattedMessage\n                    id='generic_icons.reply'\n                    defaultMessage='Reply Icon'\n                >\n                    {(ariaLabel) => (\n                        <svg\n                            x='0px'\n                            y='0px'\n                            width='17px'\n                            height='17px'\n                            viewBox='-158 242 18 18'\n                            style={style}\n                            role='img'\n                            aria-label={ariaLabel}\n                        >\n                            <path d='M-142.2,252.6c-2-3-4.8-4.7-8.3-4.8v-3.3c0-0.2-0.1-0.3-0.2-0.3s-0.3,0-0.4,0.1l-6.9,6.2c-0.1,0.1-0.1,0.2-0.1,0.3 c0,0.1,0,0.2,0.1,0.3l6.9,6.4c0.1,0.1,0.3,0.1,0.4,0.1c0.1-0.1,0.2-0.2,0.2-0.4v-3.8c4.2,0,7.4,0.4,9.6,4.4c0.1,0.1,0.2,0.2,0.3,0.2 c0,0,0.1,0,0.1,0c0.2-0.1,0.3-0.3,0.2-0.4C-140.2,257.3-140.6,255-142.2,252.6z M-150.8,252.5c-0.2,0-0.4,0.2-0.4,0.4v3.3l-6-5.5 l6-5.3v2.8c0,0.2,0.2,0.4,0.4,0.4c3.3,0,6,1.5,8,4.5c0.5,0.8,0.9,1.6,1.2,2.3C-144,252.8-147.1,252.5-150.8,252.5z'/>\n                        </svg>\n                    )}\n                </FormattedMessage>\n            </span>\n        );\n    }\n}\n\nconst style = {\n    enableBackground: 'new -158 242 18 18',\n};\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nexport default class ScrollToBottomIcon extends React.PureComponent {\n    render() {\n        return (\n            <span {...this.props}>\n                <FormattedMessage\n                    id='generic_icons.arrow.down'\n                    defaultMessage='Down Arrow Icon'\n                >\n                    {(ariaLabel) => (\n                        <svg\n                            x='0px'\n                            y='0px'\n                            viewBox='-239 239 21 23'\n                            style={style}\n                            role='img'\n                            aria-label={ariaLabel}\n                        >\n                            <path d='M-239,241.4l2.4-2.4l8.1,8.2l8.1-8.2l2.4,2.4l-10.5,10.6L-239,241.4z M-228.5,257.2l8.1-8.2l2.4,2.4l-10.5,10.6l-10.5-10.6 l2.4-2.4L-228.5,257.2z'/>\n                        </svg>\n                    )}\n                </FormattedMessage>\n            </span>\n        );\n    }\n}\n\nconst style = {\n    enableBackground: 'new -239 239 21 23',\n};\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nexport default class SearchIcon extends React.PureComponent {\n    render() {\n        return (\n            <span {...this.props}>\n                <FormattedMessage\n                    id='generic_icons.search'\n                    defaultMessage='Search Icon'\n                >\n                    {(ariaLabel) => (\n                        <svg\n                            width='14px'\n                            height='14px'\n                            viewBox='0 0 19 18'\n                            role='img'\n                            aria-label={ariaLabel}\n                        >\n                            <g\n                                stroke='inherit'\n                                strokeWidth='1'\n                                fill='none'\n                                fillRule='evenodd'\n                            >\n                                <g\n                                    transform='translate(-719.000000, -20.000000)'\n                                    strokeWidth='1.5'\n                                >\n                                    <g transform='translate(0.000000, 1.000000)'>\n                                        <g transform='translate(63.000000, 10.000000)'>\n                                            <g transform='translate(657.000000, 10.000000)'>\n                                                <circle\n                                                    cx='7'\n                                                    cy='7'\n                                                    r='7'\n                                                />\n                                                <path\n                                                    d='M12.5,11.5 L16.5,15.5'\n                                                    strokeLinecap='round'\n                                                />\n                                            </g>\n                                        </g>\n                                    </g>\n                                </g>\n                            </g>\n                        </svg>\n                    )}\n                </FormattedMessage>\n            </span>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nexport default class StatusAwayAvatarIcon extends React.PureComponent {\n    render() {\n        return (\n            <span {...this.props}>\n                <FormattedMessage\n                    id='mobile.set_status.away.icon'\n                    defaultMessage='Away Icon'\n                >\n                    {(ariaLabel) => (\n\n                        <svg\n                            width='13px'\n                            height='13px'\n                            viewBox='0 0 12 12'\n                            style={style}\n                            role='img'\n                            aria-label={ariaLabel}\n                        >\n                            <path\n                                className='away--icon'\n                                d='M9.081,5.712C9.267,5.712 9.417,5.863 9.417,6.048L9.417,9.086L11.864,10.499C12.025,10.592 12.08,10.797 11.987,10.958L11.482,11.832C11.39,11.993 11.184,12.048 11.023,11.955L7.904,10.154C7.788,10.087 7.727,9.961 7.737,9.836C7.736,9.827 7.736,9.818 7.736,9.809L7.736,6.048C7.736,5.863 7.886,5.712 8.072,5.712L9.081,5.712ZM4.812,11.513L4.605,11.513C2.325,11.41 0.253,10.374 0.046,9.027C-0.058,8.923 0.046,8.509 0.046,8.405C0.15,7.576 0.357,6.437 0.771,5.815C0.978,5.401 2.015,5.297 2.015,5.297C2.015,5.297 2.015,7.369 4.605,7.369L5.019,7.369C4.915,7.784 4.812,8.198 4.812,8.612C4.812,9.648 5.226,10.581 5.848,11.41C5.537,11.513 5.123,11.513 4.812,11.513ZM4.605,0.117C6.034,0.117 7.195,1.277 7.195,2.707C7.195,4.136 6.034,5.297 4.605,5.297C3.175,5.297 2.015,4.136 2.015,2.707C2.015,1.277 3.175,0.117 4.605,0.117Z'\n                            />\n                        </svg>\n                    )}\n                </FormattedMessage>\n            </span>\n        );\n    }\n}\n\nconst style = {\n    fillRule: 'evenodd',\n    clipRule: 'evenodd',\n    strokeLinejoin: 'round',\n    strokeMiterlimit: 1.41421,\n};\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nexport default class StatusAwayIcon extends React.PureComponent {\n    render() {\n        return (\n            <span {...this.props}>\n                <FormattedMessage\n                    id='mobile.set_status.away.icon'\n                    defaultMessage='Away Icon'\n                >\n                    {(ariaLabel) => (\n                        <svg\n                            width='100%'\n                            height='100%'\n                            viewBox='0 0 20 20'\n                            style={style}\n                            role='img'\n                            aria-label={ariaLabel}\n                        >\n                            <path\n                                className='away--icon'\n                                d='M10,0C15.519,0 20,4.481 20,10C20,15.519 15.519,20 10,20C4.481,20 0,15.519 0,10C0,4.481 4.481,0 10,0ZM10.27,3C10.949,3 11.5,3.586 11.5,4.307L11.5,9.379L15.002,12.881C15.492,13.37 15.499,14.158 15.019,14.638L14.638,15.019C14.158,15.499 13.37,15.492 12.881,15.002L8.887,11.008C8.739,10.861 8.636,10.686 8.576,10.501C8.528,10.402 8.5,10.299 8.5,10.193L8.5,4.307C8.5,3.586 9.051,3 9.73,3L10.27,3Z'\n                            />\n                        </svg>\n                    )}\n                </FormattedMessage>\n            </span>\n        );\n    }\n}\n\nconst style = {\n    fillRule: 'evenodd',\n    clipRule: 'evenodd',\n    strokeLinejoin: 'round',\n    strokeMiterlimit: 1.41421,\n};\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nexport default class StatusDndAvatarIcon extends React.PureComponent {\n    render() {\n        return (\n            <span {...this.props}>\n                <FormattedMessage\n                    id='mobile.set_status.dnd.icon'\n                    defaultMessage='Do Not Disturb Icon'\n                >\n                    {(ariaLabel) => (\n                        <svg\n                            x='0px'\n                            y='0px'\n                            width='13px'\n                            height='13px'\n                            viewBox='-299 391 12 12'\n                            style={style}\n                            role='img'\n                            aria-label={ariaLabel}\n                        >\n                            <g>\n                                <ellipse\n                                    className='dnd--icon'\n                                    cx='-294.6'\n                                    cy='394'\n                                    rx='2.5'\n                                    ry='2.5'\n                                />\n                                <path\n                                    className='dnd--icon'\n                                    d='M-293.8,399.4c0-0.4,0.1-0.7,0.2-1c-0.3,0.1-0.6,0.2-1,0.2c-2.5,0-2.5-2-2.5-2s-1,0.1-1.2,0.5c-0.4,0.6-0.6,1.7-0.7,2.5 c0,0.1-0.1,0.5,0,0.6c0.2,1.3,2.2,2.3,4.4,2.4c0,0,0.1,0,0.1,0c0,0,0.1,0,0.1,0c0.7,0,1.4-0.1,2-0.3 C-293.3,401.5-293.8,400.5-293.8,399.4z'\n                                />\n                            </g>\n                            <path\n                                className='dnd--icon'\n                                d='M-287,400c0,0.1-0.1,0.1-0.1,0.1l-4.9,0c-0.1,0-0.1-0.1-0.1-0.1v-1.6c0-0.1,0.1-0.1,0.1-0.1l4.9,0c0.1,0,0.1,0.1,0.1,0.1 V400z'\n                            />\n                        </svg>\n                    )}\n                </FormattedMessage>\n            </span>\n        );\n    }\n}\n\nconst style = {\n    enableBackground: 'new -299 391 12 12',\n};\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nexport default class StatusDndIcon extends React.PureComponent {\n    render() {\n        return (\n            <span {...this.props}>\n                <FormattedMessage\n                    id='mobile.set_status.dnd.icon'\n                    defaultMessage='Do Not Disturb Icon'\n                >\n                    {(ariaLabel) => (\n                        <svg\n                            width='100%'\n                            height='100%'\n                            viewBox='0 0 20 20'\n                            style={style}\n                            role='img'\n                            aria-label={ariaLabel}\n                        >\n                            <path\n                                className='dnd--icon'\n                                d='M10,0c5.519,0 10,4.481 10,10c0,5.519 -4.481,10 -10,10c-5.519,0 -10,-4.481 -10,-10c0,-5.519 4.481,-10 10,-10Zm5.25,8.5l-10.5,0c-0.414,0 -0.75,0.336 -0.75,0.75l0,1.5c0,0.414 0.336,0.75 0.75,0.75l10.5,0c0.414,0 0.75,-0.336 0.75,-0.75l0,-1.5c0,-0.414 -0.336,-0.75 -0.75,-0.75Z'\n                            />\n                        </svg>\n                    )}\n                </FormattedMessage>\n            </span>\n        );\n    }\n}\n\nconst style = {\n    fillRule: 'evenodd',\n    clipRule: 'evenodd',\n    strokeLinejoin: 'round',\n    strokeMiterlimit: 1.41421,\n};\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nexport default class StatusDndAvatarIcon extends React.PureComponent {\n    render() {\n        return (\n            <span {...this.props}>\n                <FormattedMessage\n                    id='mobile.set_status.offline.icon'\n                    defaultMessage='Offline Icon'\n                >\n                    {(ariaLabel) => (\n                        <svg\n                            x='0px'\n                            y='0px'\n                            width='13px'\n                            height='13px'\n                            viewBox='-299 391 12 12'\n                            style={style}\n                            role='img'\n                            aria-label={ariaLabel}\n                        >\n                            <g>\n                                <g>\n                                    <ellipse\n                                        className='offline--icon'\n                                        cx='-294.5'\n                                        cy='394'\n                                        rx='2.5'\n                                        ry='2.5'\n                                    />\n                                    <path\n                                        className='offline--icon'\n                                        d='M-294.3,399.7c0-0.4,0.1-0.8,0.2-1.2c-0.1,0-0.2,0-0.4,0c-2.5,0-2.5-2-2.5-2s-1,0.1-1.2,0.5c-0.4,0.6-0.6,1.7-0.7,2.5 c0,0.1-0.1,0.5,0,0.6c0.2,1.3,2.2,2.3,4.4,2.4h0.1h0.1c0.3,0,0.7,0,1-0.1C-293.9,401.6-294.3,400.7-294.3,399.7z'\n                                    />\n                                </g>\n                            </g>\n                            <g>\n                                <path\n                                    className='offline--icon'\n                                    d='M-288.9,399.4l1.8-1.8c0.1-0.1,0.1-0.3,0-0.3l-0.7-0.7c-0.1-0.1-0.3-0.1-0.3,0l-1.8,1.8l-1.8-1.8c-0.1-0.1-0.3-0.1-0.3,0 l-0.7,0.7c-0.1,0.1-0.1,0.3,0,0.3l1.8,1.8l-1.8,1.8c-0.1,0.1-0.1,0.3,0,0.3l0.7,0.7c0.1,0.1,0.3,0.1,0.3,0l1.8-1.8l1.8,1.8 c0.1,0.1,0.3,0.1,0.3,0l0.7-0.7c0.1-0.1,0.1-0.3,0-0.3L-288.9,399.4z'\n                                />\n                            </g>\n                        </svg>\n                    )}\n                </FormattedMessage>\n            </span>\n        );\n    }\n}\n\nconst style = {\n    enableBackground: 'new -299 391 12 12',\n};\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nexport default class StatusOfflineIcon extends React.PureComponent {\n    render() {\n        return (\n            <span {...this.props}>\n                <FormattedMessage\n                    id='mobile.set_status.offline.icon'\n                    defaultMessage='Offline Icon'\n                >\n                    {(ariaLabel) => (\n                        <svg\n                            width='100%'\n                            height='100%'\n                            className='offline--icon'\n                            viewBox='0 0 20 20'\n                            style={style}\n                            role='img'\n                            aria-label={ariaLabel}\n                        >\n                            <path d='M10,0c5.519,0 10,4.481 10,10c0,5.519 -4.481,10 -10,10c-5.519,0 -10,-4.481 -10,-10c0,-5.519 4.481,-10 10,-10Zm0,2c4.415,0 8,3.585 8,8c0,4.415 -3.585,8 -8,8c-4.415,0 -8,-3.585 -8,-8c0,-4.415 3.585,-8 8,-8Z'/>\n                        </svg>\n                    )}\n                </FormattedMessage>\n            </span>\n        );\n    }\n}\n\nconst style = {\n    fillRule: 'evenodd',\n    clipRule: 'evenodd',\n    strokeLinejoin: 'round',\n    strokeMiterlimit: 1.41421,\n};\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nexport default class StatusOnlineAvatarIcon extends React.PureComponent {\n    render() {\n        return (\n            <span {...this.props}>\n                <FormattedMessage\n                    id='mobile.set_status.online.icon'\n                    defaultMessage='Online Icon'\n                >\n                    {(ariaLabel) => (\n                        <svg\n                            x='0px'\n                            y='0px'\n                            width='13px'\n                            height='13px'\n                            viewBox='-243 245 12 12'\n                            style={style}\n                            role='img'\n                            aria-label={ariaLabel}\n                        >\n                            <g>\n                                <path\n                                    className='online--icon'\n                                    d='M-236,250.5C-236,250.5-236,250.5-236,250.5C-236,250.5-236,250.5-236,250.5C-236,250.5-236,250.5-236,250.5z'\n                                />\n                                <ellipse\n                                    className='online--icon'\n                                    cx='-238.5'\n                                    cy='248'\n                                    rx='2.5'\n                                    ry='2.5'\n                                />\n                            </g>\n                            <path\n                                className='online--icon'\n                                d='M-238.9,253.8c0-0.4,0.1-0.9,0.2-1.3c-2.2-0.2-2.2-2-2.2-2s-1,0.1-1.2,0.5c-0.4,0.6-0.6,1.7-0.7,2.5c0,0.1-0.1,0.5,0,0.6 c0.2,1.3,2.2,2.3,4.4,2.4c0,0,0.1,0,0.1,0c0,0,0.1,0,0.1,0c0,0,0.1,0,0.1,0C-238.7,255.7-238.9,254.8-238.9,253.8z'\n                            />\n                            <g>\n                                <g>\n                                    <path\n                                        className='online--icon'\n                                        d='M-232.3,250.1l1.3,1.3c0,0,0,0.1,0,0.1l-4.1,4.1c0,0,0,0-0.1,0c0,0,0,0,0,0l-2.7-2.7c0,0,0-0.1,0-0.1l1.2-1.2 c0,0,0.1,0,0.1,0l1.4,1.4l2.9-2.9C-232.4,250.1-232.3,250.1-232.3,250.1z'\n                                    />\n                                </g>\n                            </g>\n                        </svg>\n                    )}\n                </FormattedMessage>\n            </span>\n        );\n    }\n}\n\nconst style = {\n    enableBackground: 'new -243 245 12 12',\n};\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nexport default class StatusOnlineIcon extends React.PureComponent {\n    render() {\n        return (\n            <span {...this.props}>\n                <FormattedMessage\n                    id='mobile.set_status.online.icon'\n                    defaultMessage='Online Icon'\n                >\n                    {(ariaLabel) => (\n                        <svg\n                            width='100%'\n                            height='100%'\n                            viewBox='0 0 20 20'\n                            style={style}\n                            role='img'\n                            aria-label={ariaLabel}\n                        >\n                            <path\n                                className='online--icon'\n                                d='M10,0c5.519,0 10,4.481 10,10c0,5.519 -4.481,10 -10,10c-5.519,0 -10,-4.481 -10,-10c0,-5.519 4.481,-10 10,-10Zm6.19,7.18c0,0.208 -0.075,0.384 -0.224,0.53l-5.782,5.64l-1.087,1.059c-0.149,0.146 -0.33,0.218 -0.543,0.218c-0.213,0 -0.394,-0.072 -0.543,-0.218l-1.086,-1.059l-2.891,-2.82c-0.149,-0.146 -0.224,-0.322 -0.224,-0.53c0,-0.208 0.075,-0.384 0.224,-0.53l1.086,-1.059c0.149,-0.146 0.33,-0.218 0.543,-0.218c0.213,0 0.394,0.072 0.543,0.218l2.348,2.298l5.24,-5.118c0.149,-0.146 0.33,-0.218 0.543,-0.218c0.213,0 0.394,0.072 0.543,0.218l1.086,1.059c0.149,0.146 0.224,0.322 0.224,0.53Z'\n                            />\n                        </svg>\n                    )}\n                </FormattedMessage>\n            </span>\n        );\n    }\n}\n\nconst style = {\n    fillRule: 'evenodd',\n    clipRule: 'evenodd',\n    strokeLinejoin: 'round',\n    strokeMiterlimit: 1.41421,\n};\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {FormattedMessage} from 'react-intl';\n\nexport default class UnreadBelowIcon extends React.PureComponent {\n    render() {\n        return (\n            <span {...this.props}>\n                <FormattedMessage\n                    id='generic_icons.arrow.down'\n                    defaultMessage='Down Arrow Icon'\n                >\n                    {(ariaLabel) => (\n                        <svg\n                            xmlns='http://www.w3.org/2000/svg'\n                            width='16'\n                            height='16'\n                            viewBox='0 0 24 24'\n                            role='img'\n                            aria-label={ariaLabel}\n                        >\n                            <g transform='rotate(180 12 12)'>\n                                <path\n                                    fill='none'\n                                    d='M0 0h24v24H0V0z'\n                                />\n                                <path d='M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z'/>\n                            </g>\n                        </svg>\n                    )}\n                </FormattedMessage>\n            </span>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport AsyncSelect from 'react-select/lib/Async';\nimport {intlShape} from 'react-intl';\nimport {components} from 'react-select';\nimport classNames from 'classnames';\n\nimport {Constants} from 'utils/constants';\n\nimport FormattedMarkdownMessage from 'components/formatted_markdown_message';\nimport PublicChannelIcon from 'components/widgets/icons/globe_icon.jsx';\nimport PrivateChannelIcon from 'components/widgets/icons/lock_icon.jsx';\nimport CloseCircleSolidIcon from 'components/widgets/icons/close_circle_solid_icon';\nimport LoadingSpinner from 'components/widgets/loading/loading_spinner';\n\nimport {t} from 'utils/i18n.jsx';\n\nimport './channels_input.scss';\n\nexport default class ChannelsInput extends React.Component {\n    static propTypes = {\n        placeholder: PropTypes.string,\n        ariaLabel: PropTypes.string.isRequired,\n        channelsLoader: PropTypes.func,\n        onChange: PropTypes.func,\n        value: PropTypes.arrayOf(PropTypes.object),\n        onInputChange: PropTypes.func,\n        inputValue: PropTypes.string,\n        loadingMessageId: PropTypes.string,\n        loadingMessageDefault: PropTypes.string,\n        noOptionsMessageId: PropTypes.string,\n        noOptionsMessageDefault: PropTypes.string,\n    }\n\n    static defaultProps = {\n        loadingMessageId: t('widgets.channels_input.loading'),\n        loadingMessageDefault: 'Loading',\n        noOptionsMessageId: t('widgets.channels_input.empty'),\n        noOptionsMessageDefault: 'No channels found',\n    };\n\n    static contextTypes = {\n        intl: intlShape.isRequired,\n    };\n\n    constructor(props) {\n        super(props);\n        this.selectRef = React.createRef();\n        this.state = {\n            options: [],\n        };\n    }\n\n    getOptionValue = (channel) => channel.id\n\n    handleInputChange = (inputValue, action) => {\n        if (action.action === 'input-blur') {\n            for (const option of this.state.options) {\n                if (this.props.inputValue === option.name) {\n                    this.onChange([...this.props.value, option]);\n                    this.props.onInputChange('');\n                    return;\n                }\n            }\n        }\n        if (action.action !== 'input-blur' && action.action !== 'menu-close') {\n            this.props.onInputChange(inputValue);\n        }\n    }\n\n    optionsLoader = (input, callback) => {\n        const customCallback = (options) => {\n            this.setState({options});\n            callback(options);\n        };\n        const result = this.props.channelsLoader(this.props.inputValue, customCallback);\n        if (result && result.then) {\n            result.then(customCallback);\n        }\n    }\n\n    loadingMessage = () => {\n        let text = 'Loading';\n        if (this.context.intl) {\n            text = this.context.intl.formatMessage({\n                id: this.props.loadingMessageId,\n                defaultMessage: this.props.loadingMessageDefault,\n            });\n        }\n\n        return (<LoadingSpinner text={text}/>);\n    }\n\n    NoOptionsMessage = (props) => {\n        const inputValue = props.selectProps.inputValue;\n        if (!inputValue) {\n            return null;\n        }\n        return (\n            <div className='channels-input__option channels-input__option--no-matches'>\n                <FormattedMarkdownMessage\n                    id={this.props.noOptionsMessageId}\n                    defaultMessage={this.props.noOptionsMessageDefault}\n                    values={{text: inputValue}}\n                >\n                    {(message) => (\n                        <components.NoOptionsMessage {...props}>\n                            {message}\n                        </components.NoOptionsMessage>\n                    )}\n                </FormattedMarkdownMessage>\n            </div>\n        );\n    };\n\n    formatOptionLabel = (channel) => {\n        let icon = <PublicChannelIcon className='public-channel-icon'/>;\n        if (channel.type === Constants.PRIVATE_CHANNEL) {\n            icon = <PrivateChannelIcon className='private-channel-icon'/>;\n        }\n        return (\n            <React.Fragment>\n                {icon}\n                {channel.display_name}\n                <span className='channel-name'>{channel.name}</span>\n            </React.Fragment>\n        );\n    }\n\n    onChange = (value) => {\n        if (this.props.onChange) {\n            this.props.onChange(value);\n        }\n    }\n\n    MultiValueRemove = ({children, innerProps}) => (\n        <div {...innerProps}>\n            {children || <CloseCircleSolidIcon/>}\n        </div>\n    );\n\n    components = {\n        NoOptionsMessage: this.NoOptionsMessage,\n        MultiValueRemove: this.MultiValueRemove,\n        IndicatorsContainer: () => null,\n    };\n\n    onFocus = () => {\n        this.selectRef.current.handleInputChange(this.props.inputValue, {action: 'custom'});\n    }\n\n    render() {\n        return (\n            <AsyncSelect\n                ref={this.selectRef}\n                styles={this.customStyles}\n                onChange={this.onChange}\n                loadOptions={this.optionsLoader}\n                isMulti={true}\n                isClearable={false}\n                className={classNames('ChannelsInput', {empty: this.props.inputValue === ''})}\n                classNamePrefix='channels-input'\n                placeholder={this.props.placeholder}\n                components={this.components}\n                getOptionValue={this.getOptionValue}\n                formatOptionLabel={this.formatOptionLabel}\n                noOptionsMessage={this.noOptionsMessage}\n                loadingMessage={this.loadingMessage}\n                defaultOptions={false}\n                defaultMenuIsOpen={false}\n                openMenuOnClick={false}\n                onInputChange={this.handleInputChange}\n                inputValue={this.props.inputValue}\n                openMenuOnFocus={true}\n                onFocus={this.onFocus}\n                tabSelectsValue={true}\n                value={this.props.value}\n                aria-label={this.props.ariaLabel}\n            />\n        );\n    }\n}\n","var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js??ref--6-2!./channels_input.scss\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport AsyncSelect from 'react-select/lib/AsyncCreatable';\nimport {components} from 'react-select';\nimport {intlShape} from 'react-intl';\nimport classNames from 'classnames';\n\nimport {isEmail} from 'mattermost-redux/utils/helpers';\n\nimport FormattedMarkdownMessage from 'components/formatted_markdown_message';\nimport MailIcon from 'components/widgets/icons/mail_icon';\nimport MailPlusIcon from 'components/widgets/icons/mail_plus_icon';\nimport CloseCircleSolidIcon from 'components/widgets/icons/close_circle_solid_icon';\nimport GuestBadge from 'components/widgets/badges/guest_badge';\nimport LoadingSpinner from 'components/widgets/loading/loading_spinner';\nimport Avatar from 'components/widgets/users/avatar';\nimport {imageURLForUser, getDisplayName, getLongDisplayNameParts} from 'utils/utils.jsx';\n\nimport {t} from 'utils/i18n.jsx';\nimport {isGuest} from 'utils/utils';\n\nimport './users_emails_input.scss';\n\nexport default class UsersEmailsInput extends React.Component {\n    static propTypes = {\n        placeholder: PropTypes.string,\n        ariaLabel: PropTypes.string.isRequired,\n        usersLoader: PropTypes.func,\n        onChange: PropTypes.func,\n        value: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.object, PropTypes.string])),\n        onInputChange: PropTypes.func,\n        inputValue: PropTypes.string,\n        noMatchMessageId: PropTypes.string,\n        noMatchMessageDefault: PropTypes.string,\n        validAddressMessageId: PropTypes.string,\n        validAddressMessageDefault: PropTypes.string,\n        loadingMessageId: PropTypes.string,\n        loadingMessageDefault: PropTypes.string,\n    }\n\n    static contextTypes = {\n        intl: intlShape.isRequired,\n    };\n\n    static defaultProps = {\n        noMatchMessageId: t('widgets.users_emails_input.no_user_found_matching'),\n        noMatchMessageDefault: 'No one found matching **{text}**, type email address',\n        validAddressMessageId: t('widgets.users_emails_input.valid_email'),\n        validAddressMessageDefault: 'Add **{email}**',\n        loadingMessageId: t('widgets.users_emails_input.loading'),\n        loadingMessageDefault: 'Loading',\n    };\n\n    constructor(props) {\n        super(props);\n        this.selectRef = React.createRef();\n        this.state = {\n            options: [],\n        };\n    }\n\n    renderUserName = (user) => {\n        const parts = getLongDisplayNameParts(user);\n        let fullName = null;\n        if (parts.fullName) {\n            fullName = (<span className='fullname'>{parts.fullName}</span>);\n        }\n        let nickname = null;\n        if (parts.nickname) {\n            nickname = (<span className='nickname'>{parts.nickname}</span>);\n        }\n\n        return (\n            <>\n                {parts.displayName}\n                {fullName}\n                {nickname}\n            </>\n        );\n    }\n\n    loadingMessage = () => {\n        let text = 'Loading';\n        if (this.context.intl) {\n            text = this.context.intl.formatMessage({\n                id: this.props.loadingMessageId,\n                defaultMessage: this.props.loadingMessageDefault,\n            });\n        }\n\n        return (<LoadingSpinner text={text}/>);\n    }\n\n    getOptionValue = (user) => {\n        return user.id || user.value;\n    }\n\n    formatOptionLabel = (user, options) => {\n        const profileImg = imageURLForUser(user);\n        let guestBadge = null;\n        if (!isEmail(user.value) && isGuest(user)) {\n            guestBadge = <GuestBadge/>;\n        }\n\n        if (options.context === 'menu') {\n            if (user.value && isEmail(user.value)) {\n                return this.getCreateLabel(user.value);\n            }\n            return (\n                <React.Fragment>\n                    <Avatar\n                        size='lg'\n                        username={user.username}\n                        url={profileImg}\n                    />\n                    {this.renderUserName(user)}\n                    {guestBadge}\n                </React.Fragment>\n            );\n        }\n\n        if (user.value && isEmail(user.value)) {\n            return (\n                <React.Fragment>\n                    <MailIcon className='mail-icon'/>\n                    <span>{user.value}</span>\n                </React.Fragment>\n            );\n        }\n\n        return (\n            <React.Fragment>\n                <Avatar\n                    size='sm'\n                    username={user.username}\n                    url={profileImg}\n                />\n                {getDisplayName(user)}\n                {guestBadge}\n            </React.Fragment>\n        );\n    }\n\n    onChange = (value) => {\n        if (this.props.onChange) {\n            this.props.onChange(value.map((v) => {\n                if (v.id) {\n                    return v;\n                }\n                return v.value;\n            }));\n        }\n    }\n\n    getCreateLabel = (value) => (\n        <React.Fragment>\n            <MailPlusIcon className='mail-plus-icon'/>\n            <FormattedMarkdownMessage\n                key='widgets.users_emails_input.valid_email'\n                id={this.props.validAddressMessageId}\n                defaultMessage={this.props.validAddressMessageDefault}\n                values={{email: value}}\n            />\n        </React.Fragment>\n    );\n\n    NoOptionsMessage = (props) => {\n        const inputValue = props.selectProps.inputValue;\n        if (!inputValue) {\n            return null;\n        }\n        return (\n            <div className='users-emails-input__option users-emails-input__option--no-matches'>\n                <FormattedMarkdownMessage\n                    id={this.props.noMatchMessageId}\n                    defaultMessage={this.props.noMatchMessageDefault}\n                    values={{text: inputValue}}\n                >\n                    {(message) => (\n                        <components.NoOptionsMessage {...props}>\n                            {message}\n                        </components.NoOptionsMessage>\n                    )}\n                </FormattedMarkdownMessage>\n            </div>\n        );\n    };\n\n    MultiValueRemove = ({children, innerProps}) => (\n        <div {...innerProps}>\n            {children || <CloseCircleSolidIcon/>}\n        </div>\n    );\n\n    components = {\n        NoOptionsMessage: this.NoOptionsMessage,\n        MultiValueRemove: this.MultiValueRemove,\n        IndicatorsContainer: () => null,\n    };\n\n    handleInputChange = (inputValue, action) => {\n        if (action.action === 'input-blur') {\n            const values = this.props.value.map((v) => {\n                if (v.id) {\n                    return v;\n                }\n                return {label: v, value: v};\n            });\n\n            for (const option of this.state.options) {\n                if (this.props.inputValue === option.username || this.props.inputValue === ('@' + option.username)) {\n                    this.onChange([...values, option]);\n                    this.props.onInputChange('');\n                    return;\n                } else if (this.props.inputValue === option.email) {\n                    this.onChange([...values, option]);\n                    this.props.onInputChange('');\n                    return;\n                }\n            }\n\n            if (isEmail(this.props.inputValue)) {\n                const email = this.props.inputValue;\n                this.onChange([...values, {value: email, label: email}]);\n                this.props.onInputChange('');\n            }\n        }\n        if (action.action !== 'input-blur' && action.action !== 'menu-close') {\n            this.props.onInputChange(inputValue);\n        }\n    }\n\n    optionsLoader = (input, callback) => {\n        const customCallback = (options) => {\n            this.setState({options});\n            callback(options);\n        };\n        const result = this.props.usersLoader(this.props.inputValue, customCallback);\n        if (result && result.then) {\n            result.then(customCallback);\n        }\n    }\n\n    showAddEmail = (input, values, options) => {\n        return options.length === 0 && isEmail(input);\n    }\n\n    onFocus = () => {\n        this.selectRef.current.handleInputChange(this.props.inputValue, {action: 'custom'});\n    }\n\n    render() {\n        const values = this.props.value.map((v) => {\n            if (v.id) {\n                return v;\n            }\n            return {label: v, value: v};\n        });\n        return (\n            <AsyncSelect\n                ref={this.selectRef}\n                styles={this.customStyles}\n                onChange={this.onChange}\n                loadOptions={this.optionsLoader}\n                isValidNewOption={this.showAddEmail}\n                isMulti={true}\n                isClearable={false}\n                className={classNames('UsersEmailsInput', {empty: this.props.inputValue === ''})}\n                classNamePrefix='users-emails-input'\n                placeholder={this.props.placeholder}\n                components={this.components}\n                getOptionValue={this.getOptionValue}\n                formatOptionLabel={this.formatOptionLabel}\n                defaultOptions={false}\n                defaultMenuIsOpen={false}\n                openMenuOnClick={false}\n                loadingMessage={this.loadingMessage}\n                onInputChange={this.handleInputChange}\n                inputValue={this.props.inputValue}\n                openMenuOnFocus={true}\n                onFocus={this.onFocus}\n                tabSelectsValue={true}\n                value={values}\n                aria-label={this.props.ariaLabel}\n            />\n        );\n    }\n}\n","var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js??ref--6-2!./users_emails_input.scss\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {intlShape} from 'react-intl';\n\ntype Props = {\n    text: React.ReactNode;\n}\n\nexport default class LoadingSpinner extends React.PureComponent<Props> {\n    public static defaultProps: Props = {\n        text: null,\n    }\n\n    public static contextTypes = {\n        intl: intlShape.isRequired,\n    };\n\n    public render() {\n        const {formatMessage} = this.context.intl;\n        return (\n            <span\n                id='loadingSpinner'\n                className={'LoadingSpinner' + (this.props.text ? ' with-text' : '')}\n            >\n                <span\n                    className='fa fa-spinner fa-fw fa-pulse spinner'\n                    title={formatMessage({id: 'generic_icons.loading', defaultMessage: 'Loading Icon'})}\n                />\n                {this.props.text}\n            </span>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\n\nimport LoadingSpinner from './loading_spinner';\n\ntype Props = {\n    loading: boolean;\n    text: React.ReactNode;\n    children: React.ReactNode;\n}\n\nexport default class LoadingWrapper extends React.Component<Props> {\n    public static defaultProps: Props = {\n        loading: true,\n        text: null,\n        children: null,\n    }\n\n    public render() {\n        const {text, loading, children} = this.props;\n        if (!loading) {\n            return children;\n        }\n\n        return <LoadingSpinner text={text}/>;\n    }\n}\n","var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js??ref--6-2!./menu.scss\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\n\nimport {isMobile} from 'utils/utils';\n\nimport SubMenuItem from './menu_items/submenu_item';\n\nimport MenuGroup from './menu_group';\nimport MenuItemAction from './menu_items/menu_item_action';\nimport MenuItemExternalLink from './menu_items/menu_item_external_link';\nimport MenuItemLink from './menu_items/menu_item_link';\nimport MenuItemToggleModalRedux from './menu_items/menu_item_toggle_modal_redux';\n\nimport './menu.scss';\n\ntype Props = {\n    children?: React.ReactNode;\n    openLeft?: boolean;\n    openUp?: boolean;\n    id?: string;\n    ariaLabel: string;\n    customStyles?: object;\n}\n\nexport default class Menu extends React.PureComponent<Props> {\n    public static Group = MenuGroup\n    public static ItemAction = MenuItemAction\n    public static ItemExternalLink = MenuItemExternalLink\n    public static ItemLink = MenuItemLink\n    public static ItemToggleModalRedux = MenuItemToggleModalRedux\n    public static ItemSubMenu = SubMenuItem\n\n    public node: React.RefObject<HTMLUListElement>; //Public because it is used by tests\n    private observer: MutationObserver;\n\n    public constructor(props: Props) {\n        super(props);\n        this.node = React.createRef();\n        this.observer = new MutationObserver(this.hideUnneededDividers);\n    }\n\n    public hideUnneededDividers = () => { //Public because it is used by tests\n        if (this.node.current === null) {\n            return;\n        }\n\n        this.observer.disconnect();\n        const children = Object.values(this.node.current.children).slice(0, this.node.current.children.length) as HTMLElement[];\n\n        // Hiding dividers at beginning and duplicated ones\n        let prevWasDivider = false;\n        let isAtBeginning = true;\n        for (const child of children) {\n            if (child.classList.contains('menu-divider') || child.classList.contains('mobile-menu-divider')) {\n                child.style.display = 'block';\n                if (isAtBeginning || prevWasDivider) {\n                    child.style.display = 'none';\n                }\n                prevWasDivider = true;\n            } else {\n                isAtBeginning = false;\n                prevWasDivider = false;\n            }\n        }\n\n        // Hiding trailing dividers\n        for (const child of children.reverse()) {\n            if (child.classList.contains('menu-divider') || child.classList.contains('mobile-menu-divider')) {\n                child.style.display = 'none';\n            } else {\n                break;\n            }\n        }\n        this.observer.observe(this.node.current, {attributes: true, childList: true, subtree: true});\n    }\n\n    public componentDidMount() {\n        this.hideUnneededDividers();\n    }\n\n    public componentDidUpdate() {\n        this.hideUnneededDividers();\n    }\n\n    public componentWillUnmount() {\n        this.observer.disconnect();\n    }\n\n    // Used from DotMenu component to know in which direction show the menu\n    public rect() {\n        if (this.node && this.node.current) {\n            return this.node.current.getBoundingClientRect();\n        }\n        return null;\n    }\n\n    public render() {\n        const {children, openUp, openLeft, id, ariaLabel, customStyles} = this.props;\n        let styles: React.CSSProperties = {};\n        if (customStyles) {\n            styles = customStyles;\n        } else {\n            if (openLeft && !isMobile()) {\n                styles.left = 'inherit';\n                styles.right = 0;\n            }\n            if (openUp && !isMobile()) {\n                styles.bottom = '100%';\n                styles.top = 'auto';\n            }\n        }\n\n        return (\n            <div\n                aria-label={ariaLabel}\n                className='a11y__popup Menu'\n                id={id}\n                role='menu'\n            >\n                <ul\n                    ref={this.node}\n                    style={styles}\n                    className='Menu__content dropdown-menu'\n                >\n                    {children}\n                </ul>\n            </div>\n        );\n    }\n}\n","var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js??ref--6-2!./menu_group.scss\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\n\nimport './menu_group.scss';\n\ntype Props = {\n    divider?: React.ReactNode;\n    children?: React.ReactNode;\n}\n\nexport default class MenuGroup extends React.PureComponent<Props> {\n    public render() {\n        const {children} = this.props;\n\n        const divider = this.props.divider || <li className='MenuGroup menu-divider'/>;\n\n        return (\n            <React.Fragment>\n                {divider}\n                {children}\n            </React.Fragment>\n        );\n    }\n}","var content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/sass-loader/dist/cjs.js??ref--6-2!./menu_item.scss\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\n\nimport './menu_item.scss';\n\nexport default function menuItem(Component: React.ComponentType<any>) {\n    type Props = {\n        show: boolean;\n        id?: string;\n        icon?: React.ReactNode;\n        text?: string;\n    }\n    class MenuItem extends React.PureComponent<Props|React.ComponentProps<typeof Component>> {\n        public static defaultProps = {\n            show: true,\n        };\n\n        public static displayName?: string;\n\n        public render() {\n            const {id, show, icon, text, ...props} = this.props;\n            if (!show) {\n                return null;\n            }\n\n            let textProp: React.ReactNode = text;\n            if (icon) {\n                textProp = (\n                    <React.Fragment>\n                        <span className='icon'>{icon}</span>\n                        {text}\n                    </React.Fragment>\n                );\n            }\n\n            return (\n                <li\n                    className='MenuItem'\n                    role='menuitem'\n                    id={id}\n                >\n                    <Component\n                        text={textProp}\n                        {...props}\n                    />\n                </li>\n            );\n        }\n    }\n    return MenuItem;\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\n\nimport menuItem from './menu_item';\n\ntype Props = {\n    onClick: (e: React.MouseEvent) => void;\n    ariaLabel?: string;\n    text: React.ReactNode;\n    extraText?: string;\n    id?: string;\n    buttonClass?: string;\n    isDangerous?: boolean;\n}\nexport const MenuItemActionImpl = ({onClick, ariaLabel, text, extraText, id, buttonClass, isDangerous}: Props) => (\n    <button\n        id={id}\n        aria-label={ariaLabel}\n        className={'style--none' + (extraText ? ' MenuItem__help' : '') + (buttonClass ? ' ' + buttonClass : '') + (isDangerous ? ' MenuItem__dangerous' : '')}\n        onClick={onClick}\n    >\n        {text}\n        {extraText && <span className='extra-text'>{extraText}</span>}\n    </button>\n);\n\nconst MenuItemAction = menuItem(MenuItemActionImpl);\nMenuItemAction.displayName = 'MenuItemAction';\n\nexport default MenuItemAction;\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\n\nimport menuItem from './menu_item';\n\ntype Props = {\n    url: string;\n    text: React.ReactNode;\n}\nexport const MenuItemExternalLinkImpl: React.FC<Props> = ({url, text}: Props) => (\n    <a\n        target='_blank'\n        rel='noopener noreferrer'\n        href={url}\n    >\n        {text}\n    </a>\n);\n\nconst MenuItemExternalLink = menuItem(MenuItemExternalLinkImpl);\nMenuItemExternalLink.displayName = 'MenuItemExternalLink';\nexport default MenuItemExternalLink;\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {Link} from 'react-router-dom';\n\nimport menuItem from './menu_item';\n\ntype Props = {\n    to: string;\n    text: React.ReactNode;\n}\n\nexport const MenuItemLinkImpl: React.FC<Props> = ({to, text}: Props) => <Link to={to}>{text}</Link>;\n\nconst MenuItemLink = menuItem(MenuItemLinkImpl);\nMenuItemLink.displayName = 'MenuItemLink';\n\nexport default MenuItemLink;\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\n\nimport ToggleModalButtonRedux from 'components/toggle_modal_button_redux';\n\nimport menuItem from './menu_item';\n\ntype Props = {\n    modalId: string;\n    dialogType: React.ComponentType<any>;\n    dialogProps?: object;\n    extraText?: string;\n    text: React.ReactNode;\n}\n\nexport const MenuItemToggleModalReduxImpl: React.FC<Props> = ({modalId, dialogType, dialogProps, text, extraText}: Props) => (\n    <ToggleModalButtonRedux\n        accessibilityLabel={text}\n        modalId={modalId}\n        dialogType={dialogType}\n        dialogProps={dialogProps}\n        className={extraText && 'MenuItem__help'}\n    >\n        {text}\n        {extraText && <span className='extra-text'>{extraText}</span>}\n    </ToggleModalButtonRedux>\n);\n\nconst MenuItemToggleModalRedux = menuItem(MenuItemToggleModalReduxImpl);\nMenuItemToggleModalRedux.displayName = 'MenuItemToggleModalRedux';\n\nexport default MenuItemToggleModalRedux;\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\n\nimport * as Utils from 'utils/utils.jsx';\nimport {showMobileSubMenuModal} from 'actions/global_actions';\n\nimport './menu_item.scss';\n\n// Requires an object conforming to a submenu structure passed to registerPostDropdownSubMenuAction\n// of the form:\n// {\n//     \"id\": \"A\",\n//     \"parentMenuId\": null,\n//     \"text\": \"A text\",\n//     \"subMenu\": [\n//         {\n//             \"id\": \"B\",\n//             \"parentMenuId\": \"A\",\n//             \"text\": \"B text\"\n//             \"subMenu\": [],\n//             \"action\": () => {},\n//             \"filter\": () => {},\n//         }\n//     ],\n//     \"action\": () => {},\n//     \"filter\": () => {},\n// }\n// Submenus can contain Submenus as well\n\ntype Props = {\n    id?: string;\n    postId?: string;\n    text: React.ReactNode;\n    subMenu?: Props[];\n    icon?: React.ReactNode;\n    action?: (id?: string) => {};\n    filter?: (id?: string) => {};\n    xOffset?: number;\n    ariaLabel?: string;\n    root?: boolean;\n    show?: boolean;\n}\n\ntype State = {\n    show: boolean;\n}\n\nexport default class SubMenuItem extends React.PureComponent<Props, State> {\n    private node: React.RefObject<any>;\n\n    public static defaultProps = {\n        show: true,\n    };\n\n    public constructor(props: Props) {\n        super(props);\n        this.node = React.createRef();\n\n        this.state = {\n            show: false,\n        };\n    }\n\n    private show = () => {\n        this.setState({show: true});\n    }\n\n    private hide = () => {\n        this.setState({show: false});\n    }\n\n    private onClick = (event: React.MouseEvent<HTMLElement>) => {\n        const {id, postId, subMenu, action, root} = this.props;\n        const isMobile = Utils.isMobile();\n        const pathPair = Object.entries(event.nativeEvent).find(([key, value]) => key === 'path');\n        let path: HTMLElement[] | undefined;\n        if (pathPair) {\n            path = pathPair[1];\n        }\n        if (isMobile) {\n            if (subMenu && subMenu.length) { // if contains a submenu, call openModal with it\n                if (!root) { //required to close only the original menu\n                    event.stopPropagation();\n                }\n                showMobileSubMenuModal(subMenu);\n            } else if (action) { // leaf node in the tree handles action only\n                action(postId);\n            }\n        } else if (path && // the first 2 elements in path match original event id\n            path.slice(0, 2).find((e) => e.id === id) &&\n            action) {\n            action(postId);\n        } else if (!path && !event.nativeEvent.composedPath && action) { //for tests only that don't contain `path` or `composedPath`\n            action(postId);\n        } else if (!path && (event.nativeEvent.composedPath() as HTMLElement[]).slice(0, 2).find((e) => e.id === id) && action) {\n            action(postId);\n        }\n    }\n\n    public render() {\n        const {id, postId, text, subMenu, root, icon, filter, xOffset, ariaLabel} = this.props;\n        const isMobile = Utils.isMobile();\n\n        if (filter && !filter(id)) {\n            return ('');\n        }\n\n        let textProp = text;\n        if (icon) {\n            textProp = (\n                <React.Fragment>\n                    <span className='icon'>{icon}</span>\n                    {text}\n                </React.Fragment>\n            );\n        }\n\n        const hasSubmenu = subMenu && subMenu.length;\n        const parentWidth = this.node && this.node.current ? this.node.current.getBoundingClientRect().width : 0;\n        const childOffset = (React.isValidElement(text)) ? 20 : 0;\n        const offset = (root ? 2 : childOffset);\n        const subMenuStyle = {\n            visibility: (this.state.show && hasSubmenu && !isMobile ? 'visible' : 'hidden') as 'visible' | 'hidden',\n            right: (parseInt(String(xOffset), 10) - offset) + 'px',\n        };\n\n        let subMenuContent: React.ReactNode = '';\n\n        if (!isMobile) {\n            subMenuContent = (\n                <ul\n                    className={'a11y__popup Menu dropdown-menu SubMenu'}\n                    style={subMenuStyle}\n                >\n                    {hasSubmenu ? subMenu!.map((s) => {\n                        return (\n                            <SubMenuItem\n                                key={s.id}\n                                id={s.id}\n                                postId={postId}\n                                text={s.text}\n                                subMenu={s.subMenu}\n                                action={s.action}\n                                filter={s.filter}\n                                xOffset={parentWidth}\n                                ariaLabel={ariaLabel}\n                                root={false}\n                            />\n                        );\n                    }) : ''}\n                </ul>\n            );\n        }\n\n        return (\n            <li\n                className={'SubMenuItem MenuItem'}\n                role='menuitem'\n                id={id + '_menuitem'}\n                ref={this.node}\n            >\n                <div\n                    id={id}\n                    aria-label={ariaLabel}\n                    onMouseEnter={this.show}\n                    onMouseLeave={this.hide}\n                    onClick={this.onClick}\n                >\n                    <span\n                        id={'channelHeaderDropdownIconLeft_' + id}\n                        className={'fa fa-angle-left SubMenu__icon-left' + (hasSubmenu && !isMobile ? '' : '-empty' + (isMobile ? ' mobile' : ''))}\n                        aria-label={Utils.localizeMessage('post_info.submenu.icon', 'submenu icon').toLowerCase()}\n                    />\n                    {textProp}\n                    <span\n                        id={'channelHeaderDropdownIconRight_' + id}\n                        className={'fa fa-angle-right SubMenu__icon-right' + (hasSubmenu && isMobile ? '' : '-empty')}\n                        aria-label={Utils.localizeMessage('post_info.submenu.icon', 'submenu icon').toLowerCase()}\n                    />\n                    {subMenuContent}\n                </div>\n            </li>\n        );\n    }\n}\n","var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js!../../../../../node_modules/sass-loader/dist/cjs.js??ref--6-2!./submenu_modal.scss\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {Modal} from 'react-bootstrap';\n\nimport MenuWrapper from '../../menu_wrapper';\nimport Menu from '../../menu';\nimport SubMenuItem from '../../menu_items/submenu_item';\n\nimport * as Utils from 'utils/utils.jsx';\n\nimport './submenu_modal.scss';\n\ntype Props = {\n    elements?: (React.ComponentProps<typeof SubMenuItem>)[];\n    onHide: () => void;\n}\n\ntype State = {\n    show: boolean;\n}\n\nexport default class SubMenuModal extends React.PureComponent<Props, State> {\n    public constructor(props: Props) {\n        super(props);\n        this.state = {\n            show: true,\n        };\n    }\n\n    public onHide = () => { //public because it is used on tests\n        this.setState({show: false});\n    }\n\n    public render() {\n        let SubMenuItems;\n        if (this.props.elements) {\n            SubMenuItems = this.props.elements.map((element) => {\n                return (\n                    <Menu.ItemSubMenu\n                        key={element.id}\n                        id={element.id}\n                        text={element.text}\n                        subMenu={element.subMenu}\n                        action={element.action}\n                        filter={element.filter}\n                        xOffset={0}\n                        root={false}\n                    />\n                );\n            });\n        }\n        return (\n            <Modal\n                dialogClassName={'SubMenuModal a11y__modal mobile-sub-menu'}\n                show={this.state.show}\n                onHide={this.onHide}\n                onExited={this.props.onHide}\n                enforceFocus={false}\n                id='submenuModal'\n                role='dialog'\n            >\n                <Modal.Body\n                    onClick={this.onHide}\n                >\n                    <MenuWrapper>\n                        <Menu\n                            openLeft={true}\n                            ariaLabel={Utils.localizeMessage('post_info.submenu.mobile', 'mobile submenu').toLowerCase()}\n                        >\n                            {SubMenuItems}\n                        </Menu>\n                        <div/>\n                    </MenuWrapper>\n                </Modal.Body>\n            </Modal>\n        );\n    }\n}\n","var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js??ref--6-2!./menu_wrapper.scss\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\n\nimport Constants from 'utils/constants';\n\nimport MenuWrapperAnimation from './menu_wrapper_animation';\n\nimport './menu_wrapper.scss';\n\ntype Props = {\n    children?: React.ReactNode;\n    className: string;\n    onToggle?: (open: boolean) => void;\n    animationComponent: any;\n    id?: string;\n}\n\ntype State = {\n    open: boolean;\n}\n\nexport default class MenuWrapper extends React.PureComponent<Props, State> {\n    private node: React.RefObject<HTMLDivElement>;\n\n    public static defaultProps = {\n        className: '',\n        animationComponent: MenuWrapperAnimation,\n    };\n\n    public constructor(props: Props) {\n        super(props);\n        if (!Array.isArray(props.children) || props.children.length !== 2) {\n            throw new Error('MenuWrapper needs exactly 2 children');\n        }\n        this.state = {\n            open: false,\n        };\n        this.node = React.createRef();\n    }\n\n    public componentDidMount() {\n        document.addEventListener('click', this.closeOnBlur, true);\n        document.addEventListener('keyup', this.keyboardClose, true);\n    }\n\n    public componentWillUnmount() {\n        document.removeEventListener('click', this.closeOnBlur, true);\n        document.removeEventListener('keyup', this.keyboardClose, true);\n    }\n\n    private keyboardClose = (e: KeyboardEvent) => {\n        if (e.key === Constants.KeyCodes.ESCAPE[0]) {\n            this.close();\n        }\n\n        if (e.key === Constants.KeyCodes.TAB[0]) {\n            this.closeOnBlur(e);\n        }\n    }\n\n    private closeOnBlur = (e: Event) => {\n        if (this.node && this.node.current && e.target && this.node.current.contains(e.target as Node)) {\n            return;\n        }\n\n        this.close();\n    }\n\n    private close = () => {\n        if (this.state.open) {\n            this.setState({open: false});\n            if (this.props.onToggle) {\n                this.props.onToggle(false);\n            }\n        }\n    }\n\n    private toggle = () => {\n        const newState = !this.state.open;\n        this.setState({open: newState});\n        if (this.props.onToggle) {\n            this.props.onToggle(newState);\n        }\n    }\n\n    public render() {\n        const {children} = this.props;\n\n        const Animation = this.props.animationComponent;\n\n        return (\n            <div\n                id={this.props.id}\n                className={'MenuWrapper ' + this.props.className}\n                onClick={this.toggle}\n                ref={this.node}\n            >\n                {children ? Object.values(children)[0] : {}}\n                <Animation show={this.state.open}>\n                    {children ? Object.values(children)[1] : {}}\n                </Animation>\n            </div>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {chain, tween, styler, action} from 'popmotion';\nimport {CSSTransition} from 'react-transition-group';\n\nimport {isMobile} from 'utils/utils.jsx';\n\nconst ANIMATION_DURATION = 80;\n\ntype Props = {\n    children?: React.ReactNode;\n    show: boolean;\n}\n\nexport default class MenuWrapperAnimation extends React.PureComponent<Props> {\n    private onEntering = (node: HTMLElement, isAppearing: boolean) => {\n        const nodeStyler = styler(node);\n        chain(\n            action(({update, complete}) => {\n                update({display: 'block'});\n                complete();\n            }),\n            tween({from: {opacity: 0}, to: {opacity: 1}, duration: ANIMATION_DURATION}),\n        ).start(nodeStyler.set);\n    }\n\n    private onExiting = (node: HTMLElement) => {\n        const nodeStyler = styler(node);\n        chain(\n            tween({from: {opacity: 1}, to: {opacity: 0}, duration: ANIMATION_DURATION}),\n            action(({update, complete}) => {\n                update({display: 'none'});\n                complete();\n            }),\n        ).start(nodeStyler.set);\n    }\n\n    public render() {\n        return (\n            <CSSTransition\n                in={this.props.show}\n                classNames='MenuWrapperAnimation'\n                enter={true}\n                exit={true}\n                mountOnEnter={true}\n                unmountOnExit={true}\n                {...(isMobile() ? {} : {\n                    onEntering: this.onEntering,\n                    onExiting: this.onExiting,\n                })}\n                timeout={{\n                    enter: ANIMATION_DURATION,\n                    exit: ANIMATION_DURATION,\n                }}\n            >\n                {this.props.children}\n            </CSSTransition>\n        );\n    }\n}\n\n","var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js??ref--6-2!./full_screen_modal.scss\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {CSSTransition} from 'react-transition-group';\nimport {InjectedIntl, injectIntl} from 'react-intl';\n\nimport CloseIcon from 'components/widgets/icons/close_icon';\nimport BackIcon from 'components/widgets/icons/back_icon';\n\nimport './full_screen_modal.scss';\n\n// This must be on sync with the animation time in ./full_screen_modal.scss\nconst ANIMATION_DURATION = 100;\n\ntype Props = {\n    intl: InjectedIntl;\n    show: boolean;\n    onClose: () => void;\n    onGoBack?: () => void;\n    children: React.ReactNode;\n};\n\nclass FullScreenModal extends React.Component<Props> {\n    public componentDidMount() {\n        document.addEventListener('keydown', this.handleKeypress);\n    }\n\n    public componentWillUnmount() {\n        document.removeEventListener('keydown', this.handleKeypress);\n    }\n\n    private handleKeypress = (e: KeyboardEvent) => {\n        if (e.key === 'Escape' && this.props.show) {\n            this.close();\n        }\n    }\n\n    private close = () => {\n        this.props.onClose();\n    }\n\n    public render() {\n        return (\n            <CSSTransition\n                in={this.props.show}\n                classNames='FullScreenModal'\n                mountOnEnter={true}\n                unmountOnExit={true}\n                timeout={ANIMATION_DURATION}\n                appear={true}\n            >\n                <div className='FullScreenModal'>\n                    {this.props.onGoBack &&\n                        <button\n                            onClick={this.props.onGoBack}\n                            className='back'\n                            aria-label={this.props.intl.formatMessage({id: 'full_screen_modal.back', defaultMessage: 'Back'})}\n                        >\n                            <BackIcon id='backIcon'/>\n                        </button>}\n                    <button\n                        onClick={this.close}\n                        className='close-x'\n                        aria-label={this.props.intl.formatMessage({id: 'full_screen_modal.close', defaultMessage: 'Close'})}\n                    >\n                        <CloseIcon id='closeIcon'/>\n                    </button>\n                    {this.props.children}\n                </div>\n            </CSSTransition>\n        );\n    }\n}\n\nexport default injectIntl(FullScreenModal);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {Popover as BSPopover, Sizes as BSSizes} from 'react-bootstrap';\n\nconst SizeMap = {xs: 'xsmall', sm: 'small', md: 'medium', lg: 'large'};\nexport type Sizes = 'xs' | 'sm' | 'md' | 'lg';\n\ninterface Props {\n    id?: string;\n    children?: React.ReactNode;\n    popoverStyle?: 'info';\n    popoverSize?: Sizes;\n    title?: React.ReactNode;\n    placement?: 'bottom' | 'top' | 'right' | 'left';\n    className?: string;\n    style?: React.CSSProperties;\n    onMouseOut?: React.MouseEventHandler<BSPopover>; // didn't find a better way to satisfy typing, so for now we have a slight 'bootstrap leakage'\n    onMouseOver?: React.MouseEventHandler<BSPopover>;\n}\n\nexport default class Popover extends React.PureComponent<Props> {\n    static defaultProps = {\n        placement: 'right',\n        popoverStyle: 'info',\n        popoverSize: 'sm'\n\n    }\n    render() {\n        const {placement, popoverSize, children, popoverStyle, title, id, onMouseOut, onMouseOver, className, style} = this.props;\n        return (\n            <BSPopover\n                id={id}\n                style={style}\n                className={className}\n                bsStyle={popoverStyle}\n                placement={placement}\n                bsClass='popover'\n                title={title}\n                bsSize={popoverSize && SizeMap[popoverSize] as BSSizes} // map our sizes to bootstrap\n                onMouseOut={onMouseOut!}\n                onMouseOver={onMouseOver}\n            >\n                {children}\n            </BSPopover>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport './separator.scss';\n\nexport default class BasicSeparator extends React.PureComponent<React.PropsWithChildren<{}>> {\n    public render() {\n        const {children} = this.props;\n        return (\n            <div className='Separator BasicSeparator'>\n                <hr className='separator__hr'/>\n                {children && (\n                    <div className='separator__text'>\n                        {children}\n                    </div>\n                )}\n            </div>\n        );\n    }\n}\n","var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js??ref--6-2!./notification-separator.scss\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport './separator.scss';\nimport './notification-separator.scss';\n\nexport default class NotificationSeparator extends React.PureComponent<React.PropsWithChildren<{}>> {\n    public render() {\n        const {children} = this.props;\n        return (\n            <div className='Separator NotificationSeparator'>\n                <hr className='separator__hr'/>\n                {children && (\n                    <div className='separator__text'>\n                        {children}\n                    </div>\n                )}\n            </div>\n        );\n    }\n}\n\n","var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js??ref--6-2!./separator.scss\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\n\nimport Setting from './setting';\n\ntype Props = {\n    id: string;\n    label: React.ReactNode;\n    labelClassName: string;\n    helpText?: React.ReactNode;\n    placeholder: string;\n    value: boolean;\n    inputClassName: string;\n    onChange(name: string, value: any): void; // value is any since onChange is a common func for inputs and checkboxes\n}\n\nexport default class BoolSetting extends React.Component<Props> {\n    public static defaultProps: Partial<Props> = {\n        labelClassName: '',\n        inputClassName: '',\n    };\n\n    private handleChange: React.ChangeEventHandler<HTMLInputElement> = (e) => {\n        this.props.onChange(this.props.id, e.target.checked);\n    }\n\n    public render(): JSX.Element {\n        return (\n            <Setting\n                label={this.props.label}\n                labelClassName={this.props.labelClassName}\n                inputClassName={this.props.inputClassName}\n                helpText={this.props.helpText}\n                inputId={this.props.id}\n            >\n                <div className='checkbox'>\n                    <label>\n                        <input\n                            id={this.props.id}\n                            type='checkbox'\n                            checked={this.props.value}\n                            onChange={this.handleChange}\n                        />\n                        <span>{this.props.placeholder}</span>\n                    </label>\n                </div>\n            </Setting>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\n\nimport Setting from './setting';\n\ntype Props = {\n    id: string;\n    options: {text: string;value: string}[];\n    label: React.ReactNode;\n    onChange(name: string, value: any): void;\n    value?: string;\n    labelClassName?: string;\n    inputClassName?: string;\n    helpText?: React.ReactNode;\n\n}\n\nexport default class RadioSetting extends React.Component<Props> {\n    public static defaultProps: Partial<Props> = {\n        labelClassName: '',\n        inputClassName: '',\n        options: [],\n    };\n\n    private handleChange: React.ChangeEventHandler<HTMLInputElement> = (e) => {\n        this.props.onChange(this.props.id, e.target.value);\n    }\n\n    public render(): JSX.Element {\n        return (\n            <Setting\n                label={this.props.label}\n                labelClassName={this.props.labelClassName}\n                inputClassName={this.props.inputClassName}\n                helpText={this.props.helpText}\n                inputId={this.props.id}\n            >\n                {\n                    this.props.options.map(({value, text}) => {\n                        return (\n                            <div\n                                className='radio'\n                                key={value}\n                            >\n                                <label>\n                                    <input\n                                        type='radio'\n                                        value={value}\n                                        name={this.props.id}\n                                        checked={value === this.props.value}\n                                        onChange={this.handleChange}\n                                    />\n                                    {text}\n                                </label>\n                            </div>\n                        );\n                    })\n                }\n            </Setting>\n        );\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\n\ntype Props = {\n    inputId?: string;\n    label: React.ReactNode;\n    labelClassName?: string;\n    inputClassName?: string;\n    children: React.ReactNode;\n    helpText?: React.ReactNode;\n    footer?: React.ReactNode;\n}\n\nconst Setting: React.FC<Props> = ({\n    inputId,\n    label,\n    labelClassName,\n    inputClassName,\n    children,\n    footer,\n    helpText,\n}: Props) => {\n    return (\n        <div\n            data-testid={inputId}\n            className='form-group'\n        >\n            <label\n                data-testid={inputId + 'label'}\n                className={'control-label ' + labelClassName}\n                htmlFor={inputId}\n            >\n                {label}\n            </label>\n            <div className={inputClassName}>\n                {children}\n                <div\n                    data-testid={inputId + 'help-text'}\n                    className='help-text'\n                >\n                    {helpText}\n                </div>\n                {footer}\n            </div>\n        </div>\n    );\n};\n\nexport default Setting;\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\n\nimport Setting from './setting';\n\ntype InputTypes = 'input' | 'textarea' | 'number' | 'email' | 'tel' | 'url' | 'password'\n\nexport type WidgetTextSettingProps = {\n    id: string;\n    label: React.ReactNode;\n    labelClassName: string;\n    placeholder?: string;\n    helpText?: React.ReactNode;\n    footer?: React.ReactNode;\n    value: string | number;\n    inputClassName: string;\n    maxLength: number;\n    resizable: boolean;\n    onChange(name: string, value: any): void;\n    disabled?: boolean;\n    type: InputTypes;\n}\n\n// Since handle change is read from input and textarea element\ntype HandleChangeTypes = React.ChangeEventHandler<HTMLInputElement | HTMLTextAreaElement>\n\nexport default class TextSetting extends React.Component<WidgetTextSettingProps> {\n    public static validTypes: string[] = ['input', 'textarea', 'number', 'email', 'tel', 'url', 'password'];\n\n    public static defaultProps: Partial<WidgetTextSettingProps> = {\n        labelClassName: '',\n        inputClassName: '',\n        type: 'input',\n        maxLength: -1, // A negative number allows for values of any length\n        resizable: true,\n    };\n\n    private handleChange: HandleChangeTypes = (e) => {\n        if (this.props.type === 'number') {\n            this.props.onChange(this.props.id, parseInt(e.target.value, 10));\n        } else {\n            this.props.onChange(this.props.id, e.target.value);\n        }\n    }\n\n    public render(): JSX.Element {\n        const {resizable} = this.props;\n        let {type} = this.props;\n        let input = null;\n\n        if (type === 'textarea') {\n            let style = {};\n            if (!resizable) {\n                style = Object.assign({}, {resize: 'none'});\n            }\n\n            input = (\n                <textarea\n                    data-testid={this.props.id + 'input'}\n                    id={this.props.id}\n                    style={style}\n                    className='form-control'\n                    rows={5}\n                    placeholder={this.props.placeholder}\n                    value={this.props.value}\n                    maxLength={this.props.maxLength}\n                    onChange={this.handleChange}\n                    disabled={this.props.disabled}\n                />\n            );\n        } else {\n            type = ['input', 'email', 'tel', 'number', 'url', 'password'].includes(type) ? type : 'input';\n\n            input = (\n                <input\n                    data-testid={this.props.id + type}\n                    id={this.props.id}\n                    className='form-control'\n                    type={type}\n                    placeholder={this.props.placeholder}\n                    value={this.props.value}\n                    maxLength={this.props.maxLength}\n                    onChange={this.handleChange}\n                    disabled={this.props.disabled}\n                />\n            );\n        }\n\n        return (\n            <Setting\n                label={this.props.label}\n                labelClassName={this.props.labelClassName}\n                inputClassName={this.props.inputClassName}\n                helpText={this.props.helpText}\n                inputId={this.props.id}\n                footer={this.props.footer}\n            >\n                {input}\n            </Setting>\n        );\n    }\n}\n","var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js??ref--6-2!./team_icon.scss\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\n\nimport {imageURLForTeam} from 'utils/utils.jsx';\n\nimport './team_icon.scss';\n\ntype Props = {\n\n    /** Team icon URL (when available) */\n    url?: string;\n\n    /** Team display name (used for the initials) if icon URL is not set */\n    name: string;\n\n    /**\n     * Size of the icon, \"sm\", \"md\" or \"lg\".\n     *\n     * @default \"regular\"\n     **/\n    size?: 'sm'|'md'|'lg';\n\n    /** Whether to add hover effect to the icon */\n    withHover?: boolean;\n};\n\n/**\n * An icon representing a Team. If `url` is set - shows the image,\n * otherwise shows team initials\n */\nexport class TeamIcon extends React.PureComponent<Props> {\n    public static defaultProps = {\n        size: 'md',\n    };\n\n    public render() {\n        const {name, url, size, withHover} = this.props;\n        if (!name && !url) {\n            throw new Error('Either `url` or `name` prop is required ');\n        }\n        const hoverCss = withHover ? '' : 'no-hover';\n        const teamIconUrl = url || imageURLForTeam({display_name: name});\n        let icon;\n        if (teamIconUrl) {\n            icon = (\n                <div\n                    className={`TeamIcon__image TeamIcon__${size}`}\n                    aria-label={'Team Icon'}\n                    style={{backgroundImage: `url('${teamIconUrl}')`}}\n                />\n            );\n        } else {\n            icon = (\n                <div\n                    className={`TeamIcon__initials TeamIcon__initials__${size}`}\n                    aria-label={'Team Initials'}\n                >\n                    {name ? name.replace(/\\s/g, '').substring(0, 2) : '??'}\n                </div>\n            );\n        }\n        return (\n\n            <div className={`TeamIcon ${hoverCss} TeamIcon__${size}`} >\n                <div className={`TeamIcon__content ${hoverCss}`}>\n                    {icon}\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default TeamIcon;\n","var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js??ref--6-2!./avatar.scss\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\n\nimport './avatar.scss';\n\ntype Props = {\n    url: string;\n    username?: string;\n    size?: string;\n};\n\nconst Avatar: React.FunctionComponent<Props> = ({url, username, size = 'md'}: Props) => (\n    <img\n        className={`Avatar Avatar-${size}`}\n        alt={`${username || 'user'} profile image`}\n        src={url}\n    />\n);\n\nAvatar.defaultProps = {\n    size: 'md',\n};\n\nexport default Avatar;\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {getCurrentChannelId} from 'mattermost-redux/selectors/entities/channels';\nimport {getConfig} from 'mattermost-redux/selectors/entities/general';\nimport {getOpenGraphMetadataForUrl} from 'mattermost-redux/selectors/entities/posts';\n\nimport YoutubeVideo from './youtube_video';\n\nfunction mapStateToProps(state, ownProps) {\n    const config = getConfig(state);\n\n    return {\n        currentChannelId: getCurrentChannelId(state),\n        googleDeveloperKey: config.GoogleDeveloperKey,\n        hasImageProxy: config.HasImageProxy === 'true',\n        metadata: getOpenGraphMetadataForUrl(state, ownProps.link),\n    };\n}\n\nexport default connect(mapStateToProps)(YoutubeVideo);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport {getVideoId, ytRegex, handleYoutubeTime} from 'utils/youtube';\n\nimport ExternalImage from 'components/external_image';\n\nexport default class YoutubeVideo extends React.PureComponent {\n    static propTypes = {\n        link: PropTypes.string.isRequired,\n        show: PropTypes.bool.isRequired,\n        metadata: PropTypes.object,\n    }\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            playing: false,\n        };\n    }\n\n    static getDerivedStateFromProps(props, state) {\n        if (!props.show && state.playing) {\n            return {playing: false};\n        }\n        return null;\n    }\n\n    play = () => {\n        this.setState({playing: true});\n    }\n\n    stop = () => {\n        this.setState({playing: false});\n    }\n\n    render() {\n        const {metadata, link} = this.props;\n\n        const videoId = getVideoId(link);\n        const time = handleYoutubeTime(link);\n\n        const header = (\n            <h4>\n                <span className='video-type'>{'YouTube - '}</span>\n                <span className='video-title'>\n                    <a\n                        href={this.props.link}\n                        target='blank'\n                        rel='noopener noreferrer'\n                    >\n                        {metadata.title}\n                    </a>\n                </span>\n            </h4>\n        );\n\n        let content;\n\n        if (this.state.playing) {\n            content = (\n                <iframe\n                    src={'https://www.youtube.com/embed/' + videoId + '?autoplay=1&autohide=1&border=0&wmode=opaque&fs=1&enablejsapi=1' + time}\n                    width='480px'\n                    height='360px'\n                    type='text/html'\n                    frameBorder='0'\n                    allowFullScreen='allowfullscreen'\n                />\n            );\n        } else {\n            const image = metadata.images[0];\n\n            content = (\n                <div className='embed-responsive video-div__placeholder'>\n                    <div className='video-thumbnail__container'>\n                        <ExternalImage src={image.secure_url || image.url}>\n                            {(safeUrl) => (\n                                <img\n                                    src={safeUrl}\n                                    alt='youtube video thumbnail'\n                                    className='video-thumbnail'\n                                />\n                            )}\n                        </ExternalImage>\n                        <div className='block'>\n                            <span className='play-button'><span/></span>\n                        </div>\n                    </div>\n                </div>\n            );\n        }\n\n        return (\n            <div\n                className='post__embed-container'\n            >\n                <div>\n                    {header}\n                    <div\n                        className='video-div embed-responsive-item'\n                        onClick={this.play}\n                    >\n                        {content}\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n    static isYoutubeLink(link) {\n        return link.trim().match(ytRegex);\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport * as Flux from 'flux';\n\nimport Constants from 'utils/constants';\n\nconst PayloadSources = Constants.PayloadSources;\n\nconst AppDispatcher = Object.assign(new Flux.Dispatcher(), {\n    handleServerAction: function performServerAction(action) {\n        if (!action.type) {\n            console.warn('handleServerAction called with undefined action type'); // eslint-disable-line no-console\n        }\n\n        var payload = {\n            source: PayloadSources.SERVER_ACTION,\n            action,\n        };\n        this.dispatch(payload);\n    },\n\n    handleViewAction: function performViewAction(action) {\n        if (!action.type) {\n            console.warn('handleViewAction called with undefined action type'); // eslint-disable-line no-console\n        }\n\n        var payload = {\n            source: PayloadSources.VIEW_ACTION,\n            action,\n        };\n        this.dispatch(payload);\n    },\n});\n\nexport default AppDispatcher;\n","module.exports = __webpack_public_path__ + \"files/c86ea01a44f1291289b4af3eeb01f261.png\";","module.exports = __webpack_public_path__ + \"files/8713c219cc92b0b4a2cc51f6eca009ca.png\";","module.exports = __webpack_public_path__ + \"files/f17f34e72125711d05850934588a743b.png\";","module.exports = __webpack_public_path__ + \"files/3fee6e80a205e777a5acde9c16a90e55.png\";","module.exports = __webpack_public_path__ + \"files/b96d9389dbf73d7c1584084920ee7c03.png\";","module.exports = __webpack_public_path__ + \"files/32c2bbd0baa32c30ead015bd2c22222d.png\";","module.exports = __webpack_public_path__ + \"files/fb02f374b8f73825415db1bccd4bd76d.gif\";","module.exports = __webpack_public_path__ + \"files/6f4421b97edade53cd63705875f17a2a.png\";","module.exports = __webpack_public_path__ + \"files/bd956aafccffed574da236f21af209ef.gif\";","module.exports = __webpack_public_path__ + \"files/8b03642d36741ba3030a9004a1d56bb0.gif\";","exports = module.exports = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".categories-container {\\n  position: relative;\\n  font-size: 0;\\n  padding: 0 .2rem;\\n  box-sizing: border-box;\\n  overflow-x: hidden;\\n  height: 292px; }\\n  .categories-container .category-container {\\n    width: 33.33%;\\n    display: inline-block;\\n    padding: .2rem;\\n    box-sizing: border-box; }\\n  .categories-container .category {\\n    position: relative;\\n    display: inline-block;\\n    width: 100%;\\n    padding-bottom: 75%;\\n    background-size: cover;\\n    background-repeat: no-repeat;\\n    background-position: center;\\n    cursor: pointer;\\n    border-radius: .6rem;\\n    overflow: hidden; }\\n  .categories-container .category-name {\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n    width: 100%;\\n    height: 100%;\\n    position: absolute;\\n    background-color: rgba(0, 0, 0, 0.2);\\n    color: white;\\n    font-size: 1.2rem;\\n    font-weight: bold;\\n    text-align: center;\\n    text-transform: uppercase; }\\n\", \"\"]);\n","exports = module.exports = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".header-container {\\n  z-index: 1;\\n  width: 100%; }\\n  .header-container .nav-bar {\\n    border-bottom-width: 1px;\\n    border-bottom-style: solid;\\n    position: relative;\\n    height: 3.5rem;\\n    display: flex;\\n    align-items: center;\\n    justify-content: space-around; }\\n    .header-container .nav-bar .ic {\\n      cursor: pointer;\\n      vertical-align: middle; }\\n    .header-container .nav-bar a {\\n      align-items: center;\\n      display: flex;\\n      flex-grow: 1;\\n      height: 100%;\\n      justify-content: space-around; }\\n      .header-container .nav-bar a .header-text {\\n        font-family: SFUIDisplay, sans-serif;\\n        font-size: 1.6rem;\\n        font-weight: 500;\\n        padding-left: 1rem;\\n        vertical-align: middle; }\\n\", \"\"]);\n","exports = module.exports = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".gfycat-search {\\n  position: relative;\\n  width: 100%;\\n  box-sizing: border-box;\\n  padding: 8px 7px 1px 7px; }\\n  .gfycat-search .search-input {\\n    position: relative;\\n    display: block;\\n    box-sizing: border-box;\\n    width: 100%;\\n    height: 29px;\\n    padding: 0 27px;\\n    font-size: 1.3rem;\\n    border-radius: 30px;\\n    border-width: 1px;\\n    border-style: solid;\\n    outline: none;\\n    box-shadow: none;\\n    z-index: 1;\\n    background-color: transparent; }\\n  .gfycat-search .search-input::-ms-clear {\\n    display: none; }\\n  .gfycat-search .search-input-bg {\\n    position: absolute;\\n    width: calc(100% - 2.4rem);\\n    height: 3.3rem;\\n    border-radius: .6rem; }\\n  .gfycat-search .placeholder {\\n    position: absolute;\\n    top: 14px;\\n    left: 34px;\\n    font-size: 13px; }\\n  .gfycat-search .ic {\\n    position: absolute;\\n    top: calc(50% - .3rem); }\\n  .gfycat-search .ic-clear-search, .gfycat-search .ic-search {\\n    background-repeat: no-repeat;\\n    background-position: center;\\n    cursor: pointer;\\n    position: absolute;\\n    z-index: 1; }\\n  .gfycat-search .ic-clear-search {\\n    right: 12px;\\n    top: 12px;\\n    width: 2rem;\\n    height: 2rem; }\\n  .gfycat-search .ic-search {\\n    top: 11px;\\n    left: 11px;\\n    width: 2.4rem;\\n    height: 2.4rem; }\\n  .gfycat-search .submit-button {\\n    display: none; }\\n\", \"\"]);\n","exports = module.exports = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Imports\nvar getUrl = require(\"../../../../node_modules/css-loader/dist/runtime/getUrl.js\");\nvar ___CSS_LOADER_URL___0___ = getUrl(require(\"../../static/search_end.png\"));\n// Module\nexports.push([module.id, \".search-grid-container {\\n  position: relative;\\n  width: 100%;\\n  margin: 0 auto;\\n  font-size: 0;\\n  overflow-x: hidden;\\n  height: 336px; }\\n\\n.empty-search {\\n  margin: 2rem auto;\\n  font-size: 1.6rem;\\n  color: #a0a0a0;\\n  text-align: center; }\\n  .empty-search a {\\n    text-decoration: none; }\\n  .empty-search .empty-search-button {\\n    display: inline-block;\\n    padding: .6rem 1.6rem;\\n    font-size: 1.2rem;\\n    line-height: 1.5;\\n    color: #ffffff;\\n    border-radius: .6rem;\\n    background-color: #1b70ff; }\\n\\n.empty-search-image {\\n  width: 100%;\\n  height: 9rem;\\n  margin-bottom: 2rem;\\n  background-image: url(\" + ___CSS_LOADER_URL___0___ + \");\\n  background-repeat: no-repeat;\\n  background-position: center;\\n  background-size: contain; }\\n\", \"\"]);\n","exports = module.exports = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".search-item-wrapper {\\n  width: 50%;\\n  position: absolute;\\n  border-radius: .6rem;\\n  overflow: hidden;\\n  box-sizing: border-box; }\\n\\n.search-item {\\n  width: 100%;\\n  display: inline-block;\\n  background-size: cover;\\n  border-radius: .6rem;\\n  cursor: pointer; }\\n\", \"\"]);\n","exports = module.exports = require(\"../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".InvitationModal {\\n  display: flex;\\n  flex-direction: column;\\n  padding-top: 168px;\\n  width: 100%;\\n  height: 100%;\\n  align-items: center;\\n  font-size: 16px;\\n  color: var(--center-channel-color-90); }\\n  @media (max-width: 768px) {\\n    .InvitationModal {\\n      padding-left: 15px;\\n      padding-right: 15px; } }\\n  .InvitationModal h1 {\\n    font-size: 32px;\\n    margin-bottom: 40px;\\n    margin-top: 16px;\\n    text-align: center;\\n    font-weight: 300;\\n    line-height: 1; }\\n    .InvitationModal h1 strong {\\n      font-weight: 400; }\\n  .InvitationModal h2 {\\n    font-weight: 300; }\\n    .InvitationModal h2 strong {\\n      font-weight: 400; }\\n  .InvitationModal .modal-icon {\\n    text-align: center; }\\n    .InvitationModal .modal-icon svg {\\n      fill: var(--button-bg);\\n      height: 38px;\\n      width: 126px;\\n      margin-right: 85px; }\\n\\n.app__body .modal.invitation-modal-confirm .modal-dialog {\\n  width: 400px; }\\n\\n.app__body .modal.invitation-modal-confirm .modal-content {\\n  border-radius: 8px; }\\n\\n.app__body .modal.invitation-modal-confirm .modal-header {\\n  border-radius: 8px 8px 0 0;\\n  background: var(--center-channel-bg);\\n  border: 0px;\\n  min-height: 64px;\\n  padding: 20px; }\\n  .app__body .modal.invitation-modal-confirm .modal-header .modal-title {\\n    font-size: 20px;\\n    color: var(--center-channel-color); }\\n\\n.app__body .modal.invitation-modal-confirm .modal-body {\\n  padding: 0 20px; }\\n\\n.app__body .modal.invitation-modal-confirm .modal-footer {\\n  border-radius: 0 0 8px 8px;\\n  border: 0px;\\n  min-height: 80px;\\n  padding: 20px; }\\n  .app__body .modal.invitation-modal-confirm .modal-footer button {\\n    outline: none;\\n    font-size: 15px;\\n    font-weight: bold; }\\n\", \"\"]);\n","exports = module.exports = require(\"../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".InvitationModal .InvitationModalConfirmStep h1 {\\n  margin-bottom: 10px; }\\n\\n.InvitationModalConfirmStep {\\n  display: block;\\n  width: 720px; }\\n  @media screen and (max-width: 768px) {\\n    .InvitationModalConfirmStep {\\n      width: 100%; } }\\n  .InvitationModalConfirmStep .subtitle {\\n    margin-bottom: 40px;\\n    margin-top: 0px;\\n    font-size: 16px;\\n    text-align: center;\\n    font-weight: 400; }\\n    .InvitationModalConfirmStep .subtitle strong {\\n      font-weight: 600; }\\n  .InvitationModalConfirmStep .invitation-modal-confirm-not-sent h2 {\\n    margin-top: 32px;\\n    margin-bottom: 13px;\\n    font-size: 20px;\\n    font-weight: 400; }\\n  .InvitationModalConfirmStep .invitation-modal-confirm-not-sent .InvitationModalConfirmStepTable .table-header {\\n    height: 40px;\\n    font-size: 14px;\\n    border-bottom: 1px solid;\\n    border-top: 1px solid;\\n    border-color: var(--center-channel-color-10);\\n    background: rgba(238, 179, 0, 0.2);\\n    color: var(--center-channel-color); }\\n  .InvitationModalConfirmStep .invitation-modal-confirm-sent h2 {\\n    font-size: 20px;\\n    margin-bottom: 13px;\\n    font-weight: 400; }\\n  .InvitationModalConfirmStep .invitation-modal-confirm-sent .InvitationModalConfirmStepTable .table-header {\\n    height: 40px;\\n    font-size: 14px;\\n    border-bottom: 1px solid;\\n    border-top: 1px solid;\\n    border-color: var(--center-channel-color-10);\\n    background: rgba(0, 131, 89, 0.2);\\n    color: var(--center-channel-color); }\\n    .InvitationModalConfirmStep .invitation-modal-confirm-sent .InvitationModalConfirmStepTable .table-header svg {\\n      fill: var(--center-channel-color);\\n      height: 18px;\\n      width: 18px; }\\n  .InvitationModalConfirmStep .confirm-done {\\n    margin-top: 32px;\\n    text-align: right;\\n    margin-bottom: 28px; }\\n    .InvitationModalConfirmStep .confirm-done button {\\n      height: 48px;\\n      padding: 13px 26px;\\n      min-width: 120px;\\n      font-size: 16px;\\n      font-weight: 600;\\n      background: var(--button-bg);\\n      color: var(--button-color); }\\n      .InvitationModalConfirmStep .confirm-done button:focus, .InvitationModalConfirmStep .confirm-done button:active, .InvitationModalConfirmStep .confirm-done button:focus:active {\\n        outline: none;\\n        border-color: transparent; }\\n\", \"\"]);\n","exports = module.exports = require(\"../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".InvitationModalConfirmStepRow {\\n  display: flex; }\\n  .InvitationModalConfirmStepRow .username-or-icon {\\n    width: 50%;\\n    display: flex;\\n    align-items: center; }\\n    .InvitationModalConfirmStepRow .username-or-icon .email {\\n      margin: 0 4px 0 8px;\\n      overflow-wrap: anywhere;\\n      word-break: break-word; }\\n    .InvitationModalConfirmStepRow .username-or-icon .name {\\n      margin: 0 4px 0 8px; }\\n    .InvitationModalConfirmStepRow .username-or-icon .mail-icon {\\n      width: 36px;\\n      height: 36px;\\n      border-radius: 18px;\\n      background: var(--button-bg);\\n      padding: 3px;\\n      margin: 12px 0 12px 12px;\\n      display: inline-block; }\\n      .InvitationModalConfirmStepRow .username-or-icon .mail-icon svg {\\n        width: 24px;\\n        height: 24px;\\n        fill: var(--button-color);\\n        margin: 3px; }\\n    .InvitationModalConfirmStepRow .username-or-icon .alert-icon {\\n      width: 36px;\\n      height: 36px;\\n      border-radius: 18px;\\n      background: var(--dnd-indicator);\\n      padding: 3px;\\n      margin: 12px 0 12px 12px;\\n      display: inline-block; }\\n      .InvitationModalConfirmStepRow .username-or-icon .alert-icon svg {\\n        width: 28.8px;\\n        height: 28.8px;\\n        fill: var(--button-color);\\n        margin: .6px; }\\n    .InvitationModalConfirmStepRow .username-or-icon .Avatar {\\n      margin: 12px 0 12px 12px; }\\n    .InvitationModalConfirmStepRow .username-or-icon .Badge {\\n      margin-top: 2px;\\n      display: inline-block;\\n      vertical-align: top; }\\n  .InvitationModalConfirmStepRow .reason {\\n    display: flex;\\n    align-items: center;\\n    width: 50%;\\n    padding: 12px; }\\n\", \"\"]);\n","exports = module.exports = require(\"../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".InvitationModalConfirmStepTable {\\n  width: 100%; }\\n  .InvitationModalConfirmStepTable .table-header {\\n    display: flex; }\\n    .InvitationModalConfirmStepTable .table-header .people-header, .InvitationModalConfirmStepTable .table-header .details-header {\\n      margin: 12px;\\n      width: 50%;\\n      font-weight: bold;\\n      display: flex;\\n      align-items: center; }\\n    .InvitationModalConfirmStepTable .table-header span {\\n      display: flex; }\\n\", \"\"]);\n","exports = module.exports = require(\"../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".InvitationModalGuestsStep {\\n  max-width: 720px;\\n  width: 100%; }\\n  .InvitationModalGuestsStep h2 {\\n    margin-bottom: 12px;\\n    margin-top: 0px;\\n    font-size: 20px; }\\n    .InvitationModalGuestsStep h2 span {\\n      font-weight: 400; }\\n  .InvitationModalGuestsStep input {\\n    background: var(--center-channel-bg);\\n    border-color: var(--center-channel-color-60);\\n    border: 1px solid;\\n    border-radius: 4px;\\n    padding: 12px 14px;\\n    width: 100%; }\\n  .InvitationModalGuestsStep textarea {\\n    height: 90px;\\n    background: var(--center-channel-bg);\\n    border: 1px solid;\\n    border-color: var(--center-channel-color-60);\\n    border-radius: 4px;\\n    padding: 12px;\\n    width: 100%;\\n    margin-top: 4px; }\\n    .InvitationModalGuestsStep textarea:focus {\\n      border: 2px solid;\\n      padding: 11px;\\n      border-color: var(--button-bg); }\\n  .InvitationModalGuestsStep .help-text {\\n    margin-top: 8px;\\n    color: var(--center-channel-color-60); }\\n  .InvitationModalGuestsStep .add-people, .InvitationModalGuestsStep .add-channels, .InvitationModalGuestsStep .custom-message {\\n    max-width: 720px;\\n    width: 100%;\\n    margin-bottom: 28px; }\\n  .InvitationModalGuestsStep .invite-guests {\\n    text-align: right; }\\n    .InvitationModalGuestsStep .invite-guests button {\\n      height: 48px;\\n      padding: 13px 26px;\\n      font-size: 16px;\\n      width: 180px;\\n      border-radius: 4px; }\\n  .InvitationModalGuestsStep .custom-message {\\n    position: relative; }\\n    .InvitationModalGuestsStep .custom-message a {\\n      font-weight: 600;\\n      color: var(--button-bg-90); }\\n    .InvitationModalGuestsStep .custom-message span {\\n      font-weight: 600; }\\n    .InvitationModalGuestsStep .custom-message svg {\\n      fill: var(--center-channel-color-60);\\n      cursor: pointer;\\n      position: absolute;\\n      right: 0px;\\n      top: 3px;\\n      width: 19.2px;\\n      height: 19.2px; }\\n      .InvitationModalGuestsStep .custom-message svg:hover {\\n        fill: var(--center-channel-color-80); }\\n    .InvitationModalGuestsStep .custom-message .help-text span {\\n      font-weight: normal; }\\n  .InvitationModalGuestsStep .invite-guests {\\n    text-align: right;\\n    margin-bottom: 28px; }\\n    .InvitationModalGuestsStep .invite-guests button {\\n      height: 48px;\\n      padding: 13px 26px;\\n      font-size: 16px;\\n      font-weight: 600;\\n      width: 180px;\\n      border-radius: 4px;\\n      background: var(--button-bg);\\n      color: var(--button-color); }\\n      .InvitationModalGuestsStep .invite-guests button:focus, .InvitationModalGuestsStep .invite-guests button:active, .InvitationModalGuestsStep .invite-guests button:focus:active {\\n        outline: none;\\n        border-color: transparent; }\\n      .InvitationModalGuestsStep .invite-guests button.btn-inactive {\\n        background: var(--center-channel-color-10);\\n        color: var(--center-channel-color-50); }\\n\", \"\"]);\n","exports = module.exports = require(\"../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".InvitationModalInitialStep .back {\\n  position: absolute;\\n  left: 30px;\\n  top: 30px; }\\n\\n.InvitationModalInitialStep .invitation-modal-option {\\n  display: flex;\\n  max-width: 720px;\\n  border-top: 1px solid;\\n  border-top-color: var(--center-channel-color-20);\\n  padding: 32px;\\n  width: 100%;\\n  align-items: center;\\n  cursor: pointer;\\n  font-size: 16px; }\\n  .InvitationModalInitialStep .invitation-modal-option:last-child {\\n    border-bottom: 1px solid;\\n    border-bottom-color: var(--center-channel-color-20);\\n    margin-bottom: 28px; }\\n  .InvitationModalInitialStep .invitation-modal-option h2 {\\n    margin-top: 0px;\\n    margin-bottom: 16px;\\n    font-size: 24px;\\n    line-height: 1.38; }\\n  .InvitationModalInitialStep .invitation-modal-option .arrow svg {\\n    height: 48px;\\n    width: 48px;\\n    margin-left: 32px;\\n    fill: var(--center-channel-color-20); }\\n\", \"\"]);\n","exports = module.exports = require(\"../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".InvitationModalMembersStep {\\n  max-width: 720px;\\n  width: 100%; }\\n  .InvitationModalMembersStep h2 {\\n    margin-bottom: 12px;\\n    margin-top: 0px;\\n    font-size: 20px; }\\n    .InvitationModalMembersStep h2 span {\\n      font-weight: 400; }\\n  .InvitationModalMembersStep .share-link {\\n    max-width: 720px;\\n    width: 100%; }\\n    .InvitationModalMembersStep .share-link .share-link-input-block {\\n      display: flex; }\\n    .InvitationModalMembersStep .share-link .share-link-input {\\n      flex-grow: 1;\\n      height: 48px;\\n      background: var(--center-channel-color-05);\\n      border-top: 1px solid var(--center-channel-color-20);\\n      border-left: 1px solid var(--center-channel-color-20);\\n      border-bottom: 1px solid var(--center-channel-color-20);\\n      border-right: 0;\\n      border-radius: 4px 0 0 4px;\\n      padding: 12px 14px;\\n      font-size: 16px;\\n      color: var(--center-channel-color-50); }\\n    .InvitationModalMembersStep .share-link .share-link-input-button {\\n      display: flex;\\n      align-items: center;\\n      justify-content: center;\\n      flex-grow: 0;\\n      border: 1px solid;\\n      border-color: var(--button-bg);\\n      color: var(--button-bg);\\n      height: 48px;\\n      width: 180px;\\n      border-radius: 0 4px 4px 0;\\n      background: var(--center-channel-bg);\\n      font-size: 16px;\\n      font-weight: 600; }\\n      .InvitationModalMembersStep .share-link .share-link-input-button:hover {\\n        background: var(--button-bg-05); }\\n      .InvitationModalMembersStep .share-link .share-link-input-button:active {\\n        background: var(--button-bg-10); }\\n      .InvitationModalMembersStep .share-link .share-link-input-button span {\\n        display: inline-block;\\n        margin-right: 9px;\\n        height: 24px; }\\n      .InvitationModalMembersStep .share-link .share-link-input-button svg {\\n        fill: var(--button-bg); }\\n    .InvitationModalMembersStep .share-link .help-text {\\n      margin-top: 8px;\\n      color: var(--center-channel-color-60); }\\n  .InvitationModalMembersStep .search-and-add {\\n    max-width: 720px;\\n    width: 100%;\\n    margin-bottom: 28px; }\\n    .InvitationModalMembersStep .search-and-add .search-and-add-input {\\n      height: 48px;\\n      background: white;\\n      border: 1px solid rgba(0, 0, 0, 0.3);\\n      border-radius: 4px;\\n      padding: 12px 14px;\\n      width: 100%; }\\n    .InvitationModalMembersStep .search-and-add .help-text {\\n      margin-top: 8px;\\n      color: var(--center-channel-color-60); }\\n  .InvitationModalMembersStep .invitation-modal-or {\\n    position: relative;\\n    max-width: 720px;\\n    width: 100%;\\n    display: flex;\\n    flex-direction: column;\\n    align-items: center; }\\n    .InvitationModalMembersStep .invitation-modal-or hr {\\n      max-width: 720px;\\n      width: calc(100% - 40px);\\n      margin: 45px 0;\\n      border-color: var(--center-channel-color-10); }\\n    .InvitationModalMembersStep .invitation-modal-or div {\\n      text-align: center;\\n      display: inline-block;\\n      position: absolute;\\n      background: var(--center-channel-bg);\\n      padding: 30px 12px;\\n      top: 0;\\n      color: var(--center-channel-color-20);\\n      font-size: 20px; }\\n  .InvitationModalMembersStep .invite-members {\\n    text-align: right;\\n    margin-bottom: 28px; }\\n    .InvitationModalMembersStep .invite-members button {\\n      height: 48px;\\n      padding: 13px 26px;\\n      font-size: 16px;\\n      font-weight: 600;\\n      width: 180px;\\n      border-radius: 4px;\\n      background: var(--button-bg);\\n      color: var(--button-color); }\\n      .InvitationModalMembersStep .invite-members button:focus, .InvitationModalMembersStep .invite-members button:active, .InvitationModalMembersStep .invite-members button:focus:active {\\n        outline: none;\\n        border-color: transparent; }\\n      .InvitationModalMembersStep .invite-members button.btn-inactive {\\n        background: var(--center-channel-color-10);\\n        color: var(--center-channel-color-50); }\\n\", \"\"]);\n","exports = module.exports = require(\"../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".modal-marketplace {\\n  display: flex;\\n  flex-direction: column;\\n  padding-top: 50px;\\n  width: 100%;\\n  height: 100%;\\n  align-items: center;\\n  font-size: 16px;\\n  color: var(--center-channel-color-90); }\\n  @media (max-width: 768px) {\\n    .modal-marketplace {\\n      padding-left: 15px;\\n      padding-right: 15px; } }\\n  .modal-marketplace .sidebar__search-clear {\\n    top: 32px;\\n    right: 38px;\\n    font-size: 22px;\\n    width: 30px;\\n    height: 30px;\\n    display: flex;\\n    align-items: center;\\n    justify-content: center; }\\n  .modal-marketplace .nav-tabs {\\n    font-size: 14px; }\\n    .modal-marketplace .nav-tabs > li > a {\\n      -webkit-transition: all 0.15s ease;\\n      -webkit-transition-delay: 0s;\\n      -moz-transition: all 0.15s ease;\\n      -o-transition: all 0.15s ease;\\n      transition: all 0.15s ease false;\\n      padding: 10px 16px; }\\n  .modal-marketplace h1 {\\n    font-size: 28px;\\n    margin: 8px 0 24px; }\\n    .modal-marketplace h1 strong {\\n      font-weight: 400; }\\n  .modal-marketplace h2 {\\n    font-weight: 300; }\\n    .modal-marketplace h2 strong {\\n      font-weight: 400; }\\n  .modal-marketplace .more-modal__list .more-modal__row {\\n    align-items: normal; }\\n    .modal-marketplace .more-modal__list .more-modal__row .tag {\\n      padding: 3px 5px;\\n      margin-left: 10px;\\n      background-color: rgba(0, 0, 0, 0.3);\\n      border-radius: 4px;\\n      font-weight: bold;\\n      font-size: 0.8em;\\n      color: white;\\n      cursor: help; }\\n    .modal-marketplace .more-modal__list .more-modal__row .update {\\n      border-top: 1px solid rgba(0, 0, 0, 0.1);\\n      padding: 10px 10px 0 0;\\n      margin: 10px 10px 0 0;\\n      font-size: .9em; }\\n  .modal-marketplace .more-modal__list .more-modal__description {\\n    margin: 2px 0 0;\\n    font-size: .9em; }\\n  .modal-marketplace .search_input {\\n    flex: 1;\\n    margin-left: 16px;\\n    margin-right: 16px;\\n    margin-bottom: 20px;\\n    margin-top: 28px;\\n    height: 40px;\\n    width: 720px; }\\n  .modal-marketplace .btn {\\n    font-weight: 600;\\n    min-width: 8rem;\\n    border-radius: 4px;\\n    font-size: 13px;\\n    padding: 8px 16px; }\\n  .modal-marketplace .btn-outline {\\n    background: transparent;\\n    border: 1px solid var(--button-bg); }\\n  .modal-marketplace .tabs {\\n    width: 720px;\\n    display: flex;\\n    flex-direction: column; }\\n  .modal-marketplace .subtitle {\\n    margin-left: 5px; }\\n  .modal-marketplace .plugin__list {\\n    display: flex;\\n    flex-direction: column; }\\n    .modal-marketplace .plugin__list .plugin__row {\\n      border-bottom: 1px solid rgba(0, 0, 0, 0.15);\\n      display: flex;\\n      padding: 10px 15px;\\n      align-items: center; }\\n      .modal-marketplace .plugin__list .plugin__row.clickable {\\n        cursor: pointer; }\\n      .modal-marketplace .plugin__list .plugin__row:hover .plugin__actions--round {\\n        opacity: .5; }\\n  .modal-marketplace .more-modal__list {\\n    padding-bottom: 80px; }\\n  .modal-marketplace .icon__plugin {\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n    height: 42px;\\n    flex: 0 0 42px;\\n    margin-right: 4px;\\n    border-radius: 50%; }\\n    .modal-marketplace .icon__plugin svg {\\n      width: 32px;\\n      height: 32px; }\\n    .modal-marketplace .icon__plugin svg {\\n      fill: var(--button-bg); }\\n  .modal-marketplace .icon__plugin--background {\\n    background-color: white;\\n    padding: 6px; }\\n    .modal-marketplace .icon__plugin--background svg {\\n      width: 24px;\\n      height: 24px; }\\n  .modal-marketplace .no_plugins_div {\\n    text-align: center; }\\n  .modal-marketplace .item_error {\\n    background-color: var(--error-text-08); }\\n  .modal-marketplace .error_text {\\n    color: var(--error-text);\\n    opacity: 1; }\\n\\n.error-bar {\\n  background-color: var(--error-text-08);\\n  color: var(--error-text);\\n  min-height: 32px;\\n  position: fixed;\\n  text-align: center;\\n  top: 0;\\n  width: 100%;\\n  z-index: 9999;\\n  overflow: hidden;\\n  padding: 5px 30px;\\n  max-height: 32px; }\\n\", \"\"]);\n","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".Badge {\\n  margin: 0 0 0 4px;\\n  display: flex;\\n  align-items: center; }\\n\\n.Badge__box {\\n  border-radius: 2px;\\n  font-family: inherit;\\n  font-size: 10px;\\n  font-weight: 600;\\n  padding: 1px 4px;\\n  line-height: 14px;\\n  background: var(--center-channel-color-15); }\\n  .Badge__box.BotBadge, .Badge__box.GuestBadge {\\n    padding: 2px 4px; }\\n\", \"\"]);\n","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".ChannelsInput.empty .channels-input__control .channels-input__input {\\n  border-bottom: 0; }\\n\\n.ChannelsInput .channels-input__control {\\n  min-height: 48px;\\n  background: var(--center-channel-bg);\\n  color: var(--center-channel-color-60);\\n  box-shadow: none;\\n  border-color: var(--center-channel-color-20);\\n  padding: 3px;\\n  transition: none; }\\n  .ChannelsInput .channels-input__control:hover {\\n    border-color: var(--center-channel-color-20);\\n    cursor: text; }\\n  .ChannelsInput .channels-input__control--is-focused, .ChannelsInput .channels-input__control--menu-is-open {\\n    border-color: var(--button-bg);\\n    border-width: 2px;\\n    padding: 2px;\\n    transition: none; }\\n    .ChannelsInput .channels-input__control--is-focused:hover, .ChannelsInput .channels-input__control--menu-is-open:hover {\\n      border-color: var(--button-bg); }\\n    .ChannelsInput .channels-input__control--is-focused .channels-input__value-container .channels-input__input, .ChannelsInput .channels-input__control--menu-is-open .channels-input__value-container .channels-input__input {\\n      border-bottom: 0; }\\n  .ChannelsInput .channels-input__control .channels-input__input {\\n    border-bottom: 1px dotted red; }\\n    .ChannelsInput .channels-input__control .channels-input__input > div {\\n      width: 1px; }\\n\\n.ChannelsInput .channels-input__value-container {\\n  margin-left: 0;\\n  padding: 0; }\\n\\n.ChannelsInput .channels-input__placeholder {\\n  color: var(--center-channel-color-60);\\n  margin-left: 8px; }\\n\\n.ChannelsInput .channels-input__input {\\n  color: var(--center-channel-color);\\n  margin-left: 6px; }\\n\\n.ChannelsInput input {\\n  height: inherit; }\\n\\n.ChannelsInput .channels-input__menu {\\n  margin-top: 0px;\\n  background: var(--center-channel-bg);\\n  color: var(--center-channel-color);\\n  box-shadow: 0 0 0 0 rgba(0, 0, 0, 0.1), 0 4px 11px rgba(0, 0, 0, 0.1); }\\n\\n.ChannelsInput .channels-input__menu-list {\\n  padding: 0px; }\\n\\n.ChannelsInput .channels-input__menu-notice {\\n  height: 44px;\\n  padding: 12px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  border-radius: 4px 4px 0 0; }\\n\\n.ChannelsInput .channels-input__option {\\n  height: 44px;\\n  cursor: pointer;\\n  padding: 12px;\\n  display: flex;\\n  align-items: center;\\n  font-size: 16px; }\\n  .ChannelsInput .channels-input__option--no-matches {\\n    color: var(--center-channel-color-50);\\n    text-align: center; }\\n    .ChannelsInput .channels-input__option--no-matches span {\\n      width: 100%; }\\n    .ChannelsInput .channels-input__option--no-matches strong {\\n      font-weight: 600; }\\n  .ChannelsInput .channels-input__option:first-child {\\n    border-radius: 4px 4px 0 0; }\\n  .ChannelsInput .channels-input__option:last-child {\\n    border-radius: 0 0 4px 4px; }\\n  .ChannelsInput .channels-input__option:hover, .ChannelsInput .channels-input__option--is-focused {\\n    background: var(--button-bg-10); }\\n  .ChannelsInput .channels-input__option--no-matches:hover {\\n    background: none;\\n    cursor: default; }\\n  .ChannelsInput .channels-input__option .public-channel-icon, .ChannelsInput .channels-input__option .private-channel-icon {\\n    width: 18px;\\n    height: 18px;\\n    display: flex;\\n    align-items: center;\\n    margin-right: 8px; }\\n    .ChannelsInput .channels-input__option .public-channel-icon svg, .ChannelsInput .channels-input__option .private-channel-icon svg {\\n      width: 18px;\\n      height: 18px;\\n      fill: var(--center-channel-color-50); }\\n  .ChannelsInput .channels-input__option .channel-name {\\n    opacity: .5; }\\n    .ChannelsInput .channels-input__option .channel-name::before {\\n      opacity: .5;\\n      padding-left: 5px;\\n      content: \\\"(\\\"; }\\n    .ChannelsInput .channels-input__option .channel-name::after {\\n      opacity: .5;\\n      content: \\\")\\\"; }\\n\\n.ChannelsInput .show {\\n  display: block; }\\n\\n.ChannelsInput .channels-input__multi-value {\\n  align-items: center;\\n  background: var(--center-channel-color-10);\\n  padding: 4px;\\n  border-radius: 16px;\\n  color: var(--center-channel-color);\\n  margin: 4px; }\\n  .ChannelsInput .channels-input__multi-value:nth-last-child(2) {\\n    margin: 4px 0px 4px 4px; }\\n\\n.ChannelsInput .channels-input__multi-value__label {\\n  display: flex;\\n  align-items: center;\\n  color: var(--center-channel-color);\\n  font-size: 1.6rem;\\n  padding: 0px; }\\n  .ChannelsInput .channels-input__multi-value__label .public-channel-icon, .ChannelsInput .channels-input__multi-value__label .private-channel-icon {\\n    display: flex;\\n    width: 24px;\\n    height: 24px;\\n    border-radius: 16px;\\n    background: var(--center-channel-color-50);\\n    padding: 4px;\\n    margin-right: 4px; }\\n  .ChannelsInput .channels-input__multi-value__label .public-channel-icon svg {\\n    width: 16px;\\n    height: 16px;\\n    fill: var(--button-color-80); }\\n  .ChannelsInput .channels-input__multi-value__label .private-channel-icon svg {\\n    width: 14px;\\n    height: 14px;\\n    margin: 0 1px;\\n    fill: var(--button-color-80); }\\n  .ChannelsInput .channels-input__multi-value__label .channel-name {\\n    display: none; }\\n\\n.ChannelsInput .channels-input__multi-value__remove {\\n  padding: 0px 4px 0px 8px;\\n  cursor: pointer; }\\n  .ChannelsInput .channels-input__multi-value__remove span {\\n    height: 16px;\\n    width: 16px;\\n    display: flex; }\\n  .ChannelsInput .channels-input__multi-value__remove:hover {\\n    background: none; }\\n  .ChannelsInput .channels-input__multi-value__remove svg {\\n    height: 16px;\\n    width: 16px;\\n    fill: var(--center-channel-color-60);\\n    opacity: .6; }\\n    .ChannelsInput .channels-input__multi-value__remove svg:hover {\\n      fill: var(--center-channel-color-80); }\\n\", \"\"]);\n","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".UsersEmailsInput.empty .users-emails-input__control .users-emails-input__input {\\n  border-bottom: 0; }\\n\\n.UsersEmailsInput .users-emails-input__control {\\n  min-height: 48px;\\n  background: var(--center-channel-bg);\\n  color: var(--center-channel-color-60);\\n  box-shadow: none;\\n  border-color: var(--center-channel-color-20);\\n  padding: 3px;\\n  transition: none; }\\n  .UsersEmailsInput .users-emails-input__control:hover {\\n    border-color: var(--center-channel-color-20);\\n    cursor: text; }\\n  .UsersEmailsInput .users-emails-input__control--is-focused, .UsersEmailsInput .users-emails-input__control--menu-is-open {\\n    border-color: var(--button-bg);\\n    border-width: 2px;\\n    padding: 2px;\\n    transition: none; }\\n    .UsersEmailsInput .users-emails-input__control--is-focused:hover, .UsersEmailsInput .users-emails-input__control--menu-is-open:hover {\\n      border-color: var(--button-bg); }\\n    .UsersEmailsInput .users-emails-input__control--is-focused .users-emails-input__value-container .users-emails-input__input, .UsersEmailsInput .users-emails-input__control--menu-is-open .users-emails-input__value-container .users-emails-input__input {\\n      border-bottom: 0; }\\n  .UsersEmailsInput .users-emails-input__control .users-emails-input__input {\\n    border-bottom: 1px dotted red; }\\n    .UsersEmailsInput .users-emails-input__control .users-emails-input__input > div {\\n      width: 1px; }\\n\\n.UsersEmailsInput .users-emails-input__value-container {\\n  margin-left: 0;\\n  padding: 0; }\\n\\n.UsersEmailsInput .users-emails-input__placeholder {\\n  color: var(--center-channel-color-60);\\n  margin-left: 8px; }\\n\\n.UsersEmailsInput .users-emails-input__input {\\n  color: var(--center-channel-color);\\n  margin-left: 6px; }\\n\\n.UsersEmailsInput input {\\n  height: inherit; }\\n\\n.UsersEmailsInput .users-emails-input__menu {\\n  margin-top: 0px;\\n  background: var(--center-channel-bg);\\n  color: var(--center-channel-color);\\n  box-shadow: 0 0 0 0 rgba(0, 0, 0, 0.1), 0 4px 11px rgba(0, 0, 0, 0.1); }\\n  .UsersEmailsInput .users-emails-input__menu .Badge {\\n    margin-top: 2px; }\\n\\n.UsersEmailsInput .users-emails-input__menu-list {\\n  padding: 0px; }\\n\\n.UsersEmailsInput .users-emails-input__menu-notice {\\n  height: 60px;\\n  padding: 12px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  border-radius: 4px 4px 0 0; }\\n\\n.UsersEmailsInput .users-emails-input__option {\\n  height: 60px;\\n  cursor: pointer;\\n  padding: 12px;\\n  display: flex;\\n  align-items: center; }\\n  .UsersEmailsInput .users-emails-input__option--no-matches {\\n    color: var(--center-channel-color-50);\\n    text-align: center; }\\n    .UsersEmailsInput .users-emails-input__option--no-matches span {\\n      width: 100%; }\\n    .UsersEmailsInput .users-emails-input__option--no-matches strong {\\n      font-weight: 600; }\\n  .UsersEmailsInput .users-emails-input__option:first-child {\\n    border-radius: 4px 4px 0 0; }\\n  .UsersEmailsInput .users-emails-input__option:last-child {\\n    border-radius: 0 0 4px 4px; }\\n  .UsersEmailsInput .users-emails-input__option:hover, .UsersEmailsInput .users-emails-input__option--is-focused {\\n    background: var(--button-bg-10); }\\n  .UsersEmailsInput .users-emails-input__option--no-matches:hover {\\n    background: none;\\n    cursor: default; }\\n  .UsersEmailsInput .users-emails-input__option .fullname {\\n    opacity: .5; }\\n    .UsersEmailsInput .users-emails-input__option .fullname::before {\\n      padding: 5px;\\n      content: \\\"-\\\"; }\\n  .UsersEmailsInput .users-emails-input__option .nickname {\\n    opacity: .5; }\\n    .UsersEmailsInput .users-emails-input__option .nickname::before {\\n      opacity: .5;\\n      padding-left: 5px;\\n      content: \\\"(\\\"; }\\n    .UsersEmailsInput .users-emails-input__option .nickname::after {\\n      opacity: .5;\\n      content: \\\")\\\"; }\\n  .UsersEmailsInput .users-emails-input__option .mail-plus-icon {\\n    width: 36px;\\n    height: 36px;\\n    border-radius: 18px;\\n    background: var(--button-bg);\\n    padding: 3px;\\n    margin-right: 8px;\\n    display: inline-block; }\\n    .UsersEmailsInput .users-emails-input__option .mail-plus-icon svg {\\n      width: 24px;\\n      height: 24px;\\n      fill: var(--button-color);\\n      margin: 3px; }\\n  .UsersEmailsInput .users-emails-input__option .Avatar {\\n    display: inline-block;\\n    margin-right: 8px; }\\n\\n.UsersEmailsInput .show {\\n  display: block; }\\n\\n.UsersEmailsInput .users-emails-input__multi-value {\\n  align-items: center;\\n  background: var(--center-channel-color-10);\\n  padding: 4px;\\n  border-radius: 16px;\\n  color: var(--center-channel-color);\\n  margin: 4px; }\\n  .UsersEmailsInput .users-emails-input__multi-value:nth-last-child(2) {\\n    margin: 4px 0px 4px 4px; }\\n\\n.UsersEmailsInput .users-emails-input__multi-value__label {\\n  display: flex;\\n  align-items: center;\\n  padding: 0;\\n  color: var(--center-channel-color);\\n  font-size: 1.6rem; }\\n  .UsersEmailsInput .users-emails-input__multi-value__label .mail-icon {\\n    width: 24px;\\n    height: 24px;\\n    border-radius: 16px;\\n    background: var(--center-channel-color-50);\\n    padding: 3px;\\n    margin-right: 4px; }\\n    .UsersEmailsInput .users-emails-input__multi-value__label .mail-icon svg {\\n      width: 18px;\\n      height: 18px;\\n      fill: var(--button-color-90); }\\n  .UsersEmailsInput .users-emails-input__multi-value__label .Avatar {\\n    margin-right: 4px; }\\n\\n.UsersEmailsInput .users-emails-input__multi-value__remove {\\n  padding: 0px 4px 0px 8px;\\n  cursor: pointer; }\\n  .UsersEmailsInput .users-emails-input__multi-value__remove span {\\n    height: 16px;\\n    width: 16px;\\n    display: flex; }\\n  .UsersEmailsInput .users-emails-input__multi-value__remove:hover {\\n    background: none; }\\n  .UsersEmailsInput .users-emails-input__multi-value__remove svg {\\n    height: 16px;\\n    width: 16px;\\n    fill: var(--center-channel-color-60);\\n    opacity: .6; }\\n    .UsersEmailsInput .users-emails-input__multi-value__remove svg:hover {\\n      fill: var(--center-channel-color-80); }\\n\\n.UsersEmailsInput .Badge {\\n  margin-left: 8px; }\\n\", \"\"]);\n","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".Menu {\\n  z-index: 10000; }\\n  .Menu .dropdown-menu {\\n    -webkit-border-radius: 4px;\\n    -moz-border-radius: 4px;\\n    -ms-border-radius: 4px;\\n    -o-border-radius: 4px;\\n    border-radius: 4px;\\n    display: block;\\n    max-height: 80vh;\\n    max-width: 270px;\\n    overflow: auto;\\n    padding: 8px 0; }\\n    .Menu .dropdown-menu ul {\\n      margin: 0;\\n      padding: 0; }\\n    .Menu .dropdown-menu li {\\n      list-style: none; }\\n      .Menu .dropdown-menu li a {\\n        color: inherit; }\\n  .Menu.Menu-enter .dropdown-menu {\\n    opacity: 0; }\\n    @media screen and (min-width: 768px) {\\n      .Menu.Menu-enter .dropdown-menu {\\n        max-height: 0;\\n        overflow: hidden;\\n        overflow-y: hidden; } }\\n  .Menu.Menu-enter-active .dropdown-menu {\\n    opacity: 1; }\\n    @media screen and (min-width: 768px) {\\n      .Menu.Menu-enter-active .dropdown-menu {\\n        max-height: 80vh;\\n        transition: max-height 1000ms ease-in, opacity 250ms linear;\\n        overflow-y: hidden; } }\\n    @media screen and (max-width: 640px) {\\n      .Menu.Menu-enter-active .dropdown-menu {\\n        transition: opacity 1000ms linear; } }\\n  .Menu.Menu-enter-done .dropdown-menu {\\n    opacity: 1; }\\n    @media screen and (min-width: 768px) {\\n      .Menu.Menu-enter-done .dropdown-menu {\\n        max-height: 80vh;\\n        overflow-y: auto; } }\\n  .Menu.Menu-exit .dropdown-menu {\\n    opacity: 0; }\\n    @media screen and (min-width: 768px) {\\n      .Menu.Menu-exit .dropdown-menu {\\n        max-height: 0;\\n        transition: max-height 1000ms ease-in 0ms, opacity 250ms linear 750ms;\\n        overflow-y: hidden; } }\\n    @media screen and (max-width: 768px) {\\n      .Menu.Menu-exit .dropdown-menu {\\n        transition: opacity 1000ms linear; } }\\n\", \"\"]);\n","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".MenuGroup.menu-divider {\\n  filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=15);\\n  opacity: 0.15;\\n  background: black;\\n  height: 1px;\\n  margin: 8px 0; }\\n\", \"\"]);\n","exports = module.exports = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".d-flex {\\n  display: -webkit-box !important;\\n  display: -ms-flexbox !important;\\n  display: flex !important; }\\n\\n.d-inline-flex {\\n  display: -webkit-inline-box !important;\\n  display: -ms-inline-flexbox !important;\\n  display: inline-flex !important; }\\n\\n.flex-row {\\n  -webkit-box-orient: horizontal !important;\\n  -webkit-box-direction: normal !important;\\n  -ms-flex-direction: row !important;\\n  flex-direction: row !important; }\\n\\n.flex-column {\\n  -webkit-box-orient: vertical !important;\\n  -webkit-box-direction: normal !important;\\n  -ms-flex-direction: column !important;\\n  flex-direction: column !important; }\\n\\n.flex-row-reverse {\\n  -webkit-box-orient: horizontal !important;\\n  -webkit-box-direction: reverse !important;\\n  -ms-flex-direction: row-reverse !important;\\n  flex-direction: row-reverse !important; }\\n\\n.flex-column-reverse {\\n  -webkit-box-orient: vertical !important;\\n  -webkit-box-direction: reverse !important;\\n  -ms-flex-direction: column-reverse !important;\\n  flex-direction: column-reverse !important; }\\n\\n.flex-wrap {\\n  -ms-flex-wrap: wrap !important;\\n  flex-wrap: wrap !important; }\\n\\n.flex-nowrap {\\n  -ms-flex-wrap: nowrap !important;\\n  flex-wrap: nowrap !important; }\\n\\n.flex-wrap-reverse {\\n  -ms-flex-wrap: wrap-reverse !important;\\n  flex-wrap: wrap-reverse !important; }\\n\\n.justify-content-start {\\n  -webkit-box-pack: start !important;\\n  -ms-flex-pack: start !important;\\n  justify-content: flex-start !important; }\\n\\n.justify-content-end {\\n  -webkit-box-pack: end !important;\\n  -ms-flex-pack: end !important;\\n  justify-content: flex-end !important; }\\n\\n.justify-content-center {\\n  -webkit-box-pack: center !important;\\n  -ms-flex-pack: center !important;\\n  justify-content: center !important; }\\n\\n.justify-content-between {\\n  -webkit-box-pack: justify !important;\\n  -ms-flex-pack: justify !important;\\n  justify-content: space-between !important; }\\n\\n.justify-content-around {\\n  -ms-flex-pack: distribute !important;\\n  justify-content: space-around !important; }\\n\\n.align-items-start {\\n  -webkit-box-align: start !important;\\n  -ms-flex-align: start !important;\\n  align-items: flex-start !important; }\\n\\n.align-items-end {\\n  -webkit-box-align: end !important;\\n  -ms-flex-align: end !important;\\n  align-items: flex-end !important; }\\n\\n.align-items-center {\\n  -webkit-box-align: center !important;\\n  -ms-flex-align: center !important;\\n  align-items: center !important; }\\n\\n.align-items-baseline {\\n  -webkit-box-align: baseline !important;\\n  -ms-flex-align: baseline !important;\\n  align-items: baseline !important; }\\n\\n.align-items-stretch {\\n  -webkit-box-align: stretch !important;\\n  -ms-flex-align: stretch !important;\\n  align-items: stretch !important; }\\n\\n.align-content-start {\\n  -ms-flex-line-pack: start !important;\\n  align-content: flex-start !important; }\\n\\n.align-content-end {\\n  -ms-flex-line-pack: end !important;\\n  align-content: flex-end !important; }\\n\\n.align-content-center {\\n  -ms-flex-line-pack: center !important;\\n  align-content: center !important; }\\n\\n.align-content-between {\\n  -ms-flex-line-pack: justify !important;\\n  align-content: space-between !important; }\\n\\n.align-content-around {\\n  -ms-flex-line-pack: distribute !important;\\n  align-content: space-around !important; }\\n\\n.align-content-stretch {\\n  -ms-flex-line-pack: stretch !important;\\n  align-content: stretch !important; }\\n\\n.align-self-auto {\\n  -ms-flex-item-align: auto !important;\\n  align-self: auto !important; }\\n\\n.align-self-start {\\n  -ms-flex-item-align: start !important;\\n  align-self: flex-start !important; }\\n\\n.align-self-end {\\n  -ms-flex-item-align: end !important;\\n  align-self: flex-end !important; }\\n\\n.align-self-center {\\n  -ms-flex-item-align: center !important;\\n  align-self: center !important; }\\n\\n.align-self-baseline {\\n  -ms-flex-item-align: baseline !important;\\n  align-self: baseline !important; }\\n\\n.align-self-stretch {\\n  -ms-flex-item-align: stretch !important;\\n  align-self: stretch !important; }\\n\\n@media (min-width: 576px) {\\n  .flex-sm-row {\\n    -webkit-box-orient: horizontal !important;\\n    -webkit-box-direction: normal !important;\\n    -ms-flex-direction: row !important;\\n    flex-direction: row !important; }\\n  .flex-sm-column {\\n    -webkit-box-orient: vertical !important;\\n    -webkit-box-direction: normal !important;\\n    -ms-flex-direction: column !important;\\n    flex-direction: column !important; }\\n  .flex-sm-row-reverse {\\n    -webkit-box-orient: horizontal !important;\\n    -webkit-box-direction: reverse !important;\\n    -ms-flex-direction: row-reverse !important;\\n    flex-direction: row-reverse !important; }\\n  .flex-sm-column-reverse {\\n    -webkit-box-orient: vertical !important;\\n    -webkit-box-direction: reverse !important;\\n    -ms-flex-direction: column-reverse !important;\\n    flex-direction: column-reverse !important; }\\n  .flex-sm-wrap {\\n    -ms-flex-wrap: wrap !important;\\n    flex-wrap: wrap !important; }\\n  .flex-sm-nowrap {\\n    -ms-flex-wrap: nowrap !important;\\n    flex-wrap: nowrap !important; }\\n  .flex-sm-wrap-reverse {\\n    -ms-flex-wrap: wrap-reverse !important;\\n    flex-wrap: wrap-reverse !important; }\\n  .justify-content-sm-start {\\n    -webkit-box-pack: start !important;\\n    -ms-flex-pack: start !important;\\n    justify-content: flex-start !important; }\\n  .justify-content-sm-end {\\n    -webkit-box-pack: end !important;\\n    -ms-flex-pack: end !important;\\n    justify-content: flex-end !important; }\\n  .justify-content-sm-center {\\n    -webkit-box-pack: center !important;\\n    -ms-flex-pack: center !important;\\n    justify-content: center !important; }\\n  .justify-content-sm-between {\\n    -webkit-box-pack: justify !important;\\n    -ms-flex-pack: justify !important;\\n    justify-content: space-between !important; }\\n  .justify-content-sm-around {\\n    -ms-flex-pack: distribute !important;\\n    justify-content: space-around !important; }\\n  .align-items-sm-start {\\n    -webkit-box-align: start !important;\\n    -ms-flex-align: start !important;\\n    align-items: flex-start !important; }\\n  .align-items-sm-end {\\n    -webkit-box-align: end !important;\\n    -ms-flex-align: end !important;\\n    align-items: flex-end !important; }\\n  .align-items-sm-center {\\n    -webkit-box-align: center !important;\\n    -ms-flex-align: center !important;\\n    align-items: center !important; }\\n  .align-items-sm-baseline {\\n    -webkit-box-align: baseline !important;\\n    -ms-flex-align: baseline !important;\\n    align-items: baseline !important; }\\n  .align-items-sm-stretch {\\n    -webkit-box-align: stretch !important;\\n    -ms-flex-align: stretch !important;\\n    align-items: stretch !important; }\\n  .align-content-sm-start {\\n    -ms-flex-line-pack: start !important;\\n    align-content: flex-start !important; }\\n  .align-content-sm-end {\\n    -ms-flex-line-pack: end !important;\\n    align-content: flex-end !important; }\\n  .align-content-sm-center {\\n    -ms-flex-line-pack: center !important;\\n    align-content: center !important; }\\n  .align-content-sm-between {\\n    -ms-flex-line-pack: justify !important;\\n    align-content: space-between !important; }\\n  .align-content-sm-around {\\n    -ms-flex-line-pack: distribute !important;\\n    align-content: space-around !important; }\\n  .align-content-sm-stretch {\\n    -ms-flex-line-pack: stretch !important;\\n    align-content: stretch !important; }\\n  .align-self-sm-auto {\\n    -ms-flex-item-align: auto !important;\\n    align-self: auto !important; }\\n  .align-self-sm-start {\\n    -ms-flex-item-align: start !important;\\n    align-self: flex-start !important; }\\n  .align-self-sm-end {\\n    -ms-flex-item-align: end !important;\\n    align-self: flex-end !important; }\\n  .align-self-sm-center {\\n    -ms-flex-item-align: center !important;\\n    align-self: center !important; }\\n  .align-self-sm-baseline {\\n    -ms-flex-item-align: baseline !important;\\n    align-self: baseline !important; }\\n  .align-self-sm-stretch {\\n    -ms-flex-item-align: stretch !important;\\n    align-self: stretch !important; } }\\n\\n@media (min-width: 768px) {\\n  .flex-md-row {\\n    -webkit-box-orient: horizontal !important;\\n    -webkit-box-direction: normal !important;\\n    -ms-flex-direction: row !important;\\n    flex-direction: row !important; }\\n  .flex-md-column {\\n    -webkit-box-orient: vertical !important;\\n    -webkit-box-direction: normal !important;\\n    -ms-flex-direction: column !important;\\n    flex-direction: column !important; }\\n  .flex-md-row-reverse {\\n    -webkit-box-orient: horizontal !important;\\n    -webkit-box-direction: reverse !important;\\n    -ms-flex-direction: row-reverse !important;\\n    flex-direction: row-reverse !important; }\\n  .flex-md-column-reverse {\\n    -webkit-box-orient: vertical !important;\\n    -webkit-box-direction: reverse !important;\\n    -ms-flex-direction: column-reverse !important;\\n    flex-direction: column-reverse !important; }\\n  .flex-md-wrap {\\n    -ms-flex-wrap: wrap !important;\\n    flex-wrap: wrap !important; }\\n  .flex-md-nowrap {\\n    -ms-flex-wrap: nowrap !important;\\n    flex-wrap: nowrap !important; }\\n  .flex-md-wrap-reverse {\\n    -ms-flex-wrap: wrap-reverse !important;\\n    flex-wrap: wrap-reverse !important; }\\n  .justify-content-md-start {\\n    -webkit-box-pack: start !important;\\n    -ms-flex-pack: start !important;\\n    justify-content: flex-start !important; }\\n  .justify-content-md-end {\\n    -webkit-box-pack: end !important;\\n    -ms-flex-pack: end !important;\\n    justify-content: flex-end !important; }\\n  .justify-content-md-center {\\n    -webkit-box-pack: center !important;\\n    -ms-flex-pack: center !important;\\n    justify-content: center !important; }\\n  .justify-content-md-between {\\n    -webkit-box-pack: justify !important;\\n    -ms-flex-pack: justify !important;\\n    justify-content: space-between !important; }\\n  .justify-content-md-around {\\n    -ms-flex-pack: distribute !important;\\n    justify-content: space-around !important; }\\n  .align-items-md-start {\\n    -webkit-box-align: start !important;\\n    -ms-flex-align: start !important;\\n    align-items: flex-start !important; }\\n  .align-items-md-end {\\n    -webkit-box-align: end !important;\\n    -ms-flex-align: end !important;\\n    align-items: flex-end !important; }\\n  .align-items-md-center {\\n    -webkit-box-align: center !important;\\n    -ms-flex-align: center !important;\\n    align-items: center !important; }\\n  .align-items-md-baseline {\\n    -webkit-box-align: baseline !important;\\n    -ms-flex-align: baseline !important;\\n    align-items: baseline !important; }\\n  .align-items-md-stretch {\\n    -webkit-box-align: stretch !important;\\n    -ms-flex-align: stretch !important;\\n    align-items: stretch !important; }\\n  .align-content-md-start {\\n    -ms-flex-line-pack: start !important;\\n    align-content: flex-start !important; }\\n  .align-content-md-end {\\n    -ms-flex-line-pack: end !important;\\n    align-content: flex-end !important; }\\n  .align-content-md-center {\\n    -ms-flex-line-pack: center !important;\\n    align-content: center !important; }\\n  .align-content-md-between {\\n    -ms-flex-line-pack: justify !important;\\n    align-content: space-between !important; }\\n  .align-content-md-around {\\n    -ms-flex-line-pack: distribute !important;\\n    align-content: space-around !important; }\\n  .align-content-md-stretch {\\n    -ms-flex-line-pack: stretch !important;\\n    align-content: stretch !important; }\\n  .align-self-md-auto {\\n    -ms-flex-item-align: auto !important;\\n    align-self: auto !important; }\\n  .align-self-md-start {\\n    -ms-flex-item-align: start !important;\\n    align-self: flex-start !important; }\\n  .align-self-md-end {\\n    -ms-flex-item-align: end !important;\\n    align-self: flex-end !important; }\\n  .align-self-md-center {\\n    -ms-flex-item-align: center !important;\\n    align-self: center !important; }\\n  .align-self-md-baseline {\\n    -ms-flex-item-align: baseline !important;\\n    align-self: baseline !important; }\\n  .align-self-md-stretch {\\n    -ms-flex-item-align: stretch !important;\\n    align-self: stretch !important; } }\\n\\n@media (min-width: 992px) {\\n  .flex-lg-row {\\n    -webkit-box-orient: horizontal !important;\\n    -webkit-box-direction: normal !important;\\n    -ms-flex-direction: row !important;\\n    flex-direction: row !important; }\\n  .flex-lg-column {\\n    -webkit-box-orient: vertical !important;\\n    -webkit-box-direction: normal !important;\\n    -ms-flex-direction: column !important;\\n    flex-direction: column !important; }\\n  .flex-lg-row-reverse {\\n    -webkit-box-orient: horizontal !important;\\n    -webkit-box-direction: reverse !important;\\n    -ms-flex-direction: row-reverse !important;\\n    flex-direction: row-reverse !important; }\\n  .flex-lg-column-reverse {\\n    -webkit-box-orient: vertical !important;\\n    -webkit-box-direction: reverse !important;\\n    -ms-flex-direction: column-reverse !important;\\n    flex-direction: column-reverse !important; }\\n  .flex-lg-wrap {\\n    -ms-flex-wrap: wrap !important;\\n    flex-wrap: wrap !important; }\\n  .flex-lg-nowrap {\\n    -ms-flex-wrap: nowrap !important;\\n    flex-wrap: nowrap !important; }\\n  .flex-lg-wrap-reverse {\\n    -ms-flex-wrap: wrap-reverse !important;\\n    flex-wrap: wrap-reverse !important; }\\n  .justify-content-lg-start {\\n    -webkit-box-pack: start !important;\\n    -ms-flex-pack: start !important;\\n    justify-content: flex-start !important; }\\n  .justify-content-lg-end {\\n    -webkit-box-pack: end !important;\\n    -ms-flex-pack: end !important;\\n    justify-content: flex-end !important; }\\n  .justify-content-lg-center {\\n    -webkit-box-pack: center !important;\\n    -ms-flex-pack: center !important;\\n    justify-content: center !important; }\\n  .justify-content-lg-between {\\n    -webkit-box-pack: justify !important;\\n    -ms-flex-pack: justify !important;\\n    justify-content: space-between !important; }\\n  .justify-content-lg-around {\\n    -ms-flex-pack: distribute !important;\\n    justify-content: space-around !important; }\\n  .align-items-lg-start {\\n    -webkit-box-align: start !important;\\n    -ms-flex-align: start !important;\\n    align-items: flex-start !important; }\\n  .align-items-lg-end {\\n    -webkit-box-align: end !important;\\n    -ms-flex-align: end !important;\\n    align-items: flex-end !important; }\\n  .align-items-lg-center {\\n    -webkit-box-align: center !important;\\n    -ms-flex-align: center !important;\\n    align-items: center !important; }\\n  .align-items-lg-baseline {\\n    -webkit-box-align: baseline !important;\\n    -ms-flex-align: baseline !important;\\n    align-items: baseline !important; }\\n  .align-items-lg-stretch {\\n    -webkit-box-align: stretch !important;\\n    -ms-flex-align: stretch !important;\\n    align-items: stretch !important; }\\n  .align-content-lg-start {\\n    -ms-flex-line-pack: start !important;\\n    align-content: flex-start !important; }\\n  .align-content-lg-end {\\n    -ms-flex-line-pack: end !important;\\n    align-content: flex-end !important; }\\n  .align-content-lg-center {\\n    -ms-flex-line-pack: center !important;\\n    align-content: center !important; }\\n  .align-content-lg-between {\\n    -ms-flex-line-pack: justify !important;\\n    align-content: space-between !important; }\\n  .align-content-lg-around {\\n    -ms-flex-line-pack: distribute !important;\\n    align-content: space-around !important; }\\n  .align-content-lg-stretch {\\n    -ms-flex-line-pack: stretch !important;\\n    align-content: stretch !important; }\\n  .align-self-lg-auto {\\n    -ms-flex-item-align: auto !important;\\n    align-self: auto !important; }\\n  .align-self-lg-start {\\n    -ms-flex-item-align: start !important;\\n    align-self: flex-start !important; }\\n  .align-self-lg-end {\\n    -ms-flex-item-align: end !important;\\n    align-self: flex-end !important; }\\n  .align-self-lg-center {\\n    -ms-flex-item-align: center !important;\\n    align-self: center !important; }\\n  .align-self-lg-baseline {\\n    -ms-flex-item-align: baseline !important;\\n    align-self: baseline !important; }\\n  .align-self-lg-stretch {\\n    -ms-flex-item-align: stretch !important;\\n    align-self: stretch !important; } }\\n\\n@media (min-width: 1200px) {\\n  .flex-xl-row {\\n    -webkit-box-orient: horizontal !important;\\n    -webkit-box-direction: normal !important;\\n    -ms-flex-direction: row !important;\\n    flex-direction: row !important; }\\n  .flex-xl-column {\\n    -webkit-box-orient: vertical !important;\\n    -webkit-box-direction: normal !important;\\n    -ms-flex-direction: column !important;\\n    flex-direction: column !important; }\\n  .flex-xl-row-reverse {\\n    -webkit-box-orient: horizontal !important;\\n    -webkit-box-direction: reverse !important;\\n    -ms-flex-direction: row-reverse !important;\\n    flex-direction: row-reverse !important; }\\n  .flex-xl-column-reverse {\\n    -webkit-box-orient: vertical !important;\\n    -webkit-box-direction: reverse !important;\\n    -ms-flex-direction: column-reverse !important;\\n    flex-direction: column-reverse !important; }\\n  .flex-xl-wrap {\\n    -ms-flex-wrap: wrap !important;\\n    flex-wrap: wrap !important; }\\n  .flex-xl-nowrap {\\n    -ms-flex-wrap: nowrap !important;\\n    flex-wrap: nowrap !important; }\\n  .flex-xl-wrap-reverse {\\n    -ms-flex-wrap: wrap-reverse !important;\\n    flex-wrap: wrap-reverse !important; }\\n  .justify-content-xl-start {\\n    -webkit-box-pack: start !important;\\n    -ms-flex-pack: start !important;\\n    justify-content: flex-start !important; }\\n  .justify-content-xl-end {\\n    -webkit-box-pack: end !important;\\n    -ms-flex-pack: end !important;\\n    justify-content: flex-end !important; }\\n  .justify-content-xl-center {\\n    -webkit-box-pack: center !important;\\n    -ms-flex-pack: center !important;\\n    justify-content: center !important; }\\n  .justify-content-xl-between {\\n    -webkit-box-pack: justify !important;\\n    -ms-flex-pack: justify !important;\\n    justify-content: space-between !important; }\\n  .justify-content-xl-around {\\n    -ms-flex-pack: distribute !important;\\n    justify-content: space-around !important; }\\n  .align-items-xl-start {\\n    -webkit-box-align: start !important;\\n    -ms-flex-align: start !important;\\n    align-items: flex-start !important; }\\n  .align-items-xl-end {\\n    -webkit-box-align: end !important;\\n    -ms-flex-align: end !important;\\n    align-items: flex-end !important; }\\n  .align-items-xl-center {\\n    -webkit-box-align: center !important;\\n    -ms-flex-align: center !important;\\n    align-items: center !important; }\\n  .align-items-xl-baseline {\\n    -webkit-box-align: baseline !important;\\n    -ms-flex-align: baseline !important;\\n    align-items: baseline !important; }\\n  .align-items-xl-stretch {\\n    -webkit-box-align: stretch !important;\\n    -ms-flex-align: stretch !important;\\n    align-items: stretch !important; }\\n  .align-content-xl-start {\\n    -ms-flex-line-pack: start !important;\\n    align-content: flex-start !important; }\\n  .align-content-xl-end {\\n    -ms-flex-line-pack: end !important;\\n    align-content: flex-end !important; }\\n  .align-content-xl-center {\\n    -ms-flex-line-pack: center !important;\\n    align-content: center !important; }\\n  .align-content-xl-between {\\n    -ms-flex-line-pack: justify !important;\\n    align-content: space-between !important; }\\n  .align-content-xl-around {\\n    -ms-flex-line-pack: distribute !important;\\n    align-content: space-around !important; }\\n  .align-content-xl-stretch {\\n    -ms-flex-line-pack: stretch !important;\\n    align-content: stretch !important; }\\n  .align-self-xl-auto {\\n    -ms-flex-item-align: auto !important;\\n    align-self: auto !important; }\\n  .align-self-xl-start {\\n    -ms-flex-item-align: start !important;\\n    align-self: flex-start !important; }\\n  .align-self-xl-end {\\n    -ms-flex-item-align: end !important;\\n    align-self: flex-end !important; }\\n  .align-self-xl-center {\\n    -ms-flex-item-align: center !important;\\n    align-self: center !important; }\\n  .align-self-xl-baseline {\\n    -ms-flex-item-align: baseline !important;\\n    align-self: baseline !important; }\\n  .align-self-xl-stretch {\\n    -ms-flex-item-align: stretch !important;\\n    align-self: stretch !important; } }\\n\\n.col {\\n  -ms-flex-preferred-size: 0;\\n  flex-basis: 0;\\n  -ms-flex-positive: 1;\\n  flex-grow: 1;\\n  max-width: 100%; }\\n\\n.col-auto {\\n  -ms-flex: 0 0 auto;\\n  flex: 0 0 auto;\\n  width: auto;\\n  max-width: 100%; }\\n\\n@keyframes spin {\\n  from {\\n    transform: scale(1) rotate(0deg); }\\n  to {\\n    transform: scale(1) rotate(360deg); } }\\n\\n@keyframes highlight {\\n  from {\\n    background: rgba(255, 255, 0, 0.5); }\\n  to {\\n    background: none; } }\\n\\n.padding-top {\\n  padding-top: 7px; }\\n  .padding-top.half {\\n    padding-top: 3px; }\\n  .padding-top.x2 {\\n    padding-top: 12px; }\\n  .padding-top.x3 {\\n    padding-top: 21px; }\\n\\n.padding-bottom {\\n  padding-bottom: 7px; }\\n  .padding-bottom.half {\\n    padding-bottom: 3px; }\\n  .padding-bottom.x1 {\\n    padding-bottom: 4px; }\\n  .padding-bottom.x2 {\\n    padding-bottom: 12px; }\\n  .padding-bottom.x3 {\\n    padding-bottom: 21px; }\\n  .padding-bottom .control-label {\\n    font-weight: 600; }\\n    .padding-bottom .control-label.text-left {\\n      text-align: left; }\\n\\n.padding-left {\\n  padding-left: 7px; }\\n  .padding-left.x2 {\\n    padding-left: 12px; }\\n  .padding-left.x3 {\\n    padding-left: 21px; }\\n\\n.padding-right {\\n  padding-right: 7px; }\\n  .padding-right.x2 {\\n    padding-right: 12px; }\\n  .padding-right.x3 {\\n    padding-right: 21px; }\\n\\n.margin-right {\\n  margin-right: 7px; }\\n  .margin-right.margin-right--half {\\n    margin-right: 3px; }\\n  .margin-right.x2 {\\n    margin-right: 12px; }\\n  .margin-right.x3 {\\n    margin-right: 21px; }\\n\\n.margin-left {\\n  margin-left: 7px; }\\n  .margin-left.x2 {\\n    margin-left: 12px; }\\n  .margin-left.x3 {\\n    margin-left: 21px; }\\n\\n.margin-top {\\n  margin-top: 7px; }\\n  .margin-top.margin-top--half {\\n    margin-top: 4px; }\\n  .margin-top.x2 {\\n    margin-top: 12px; }\\n  .margin-top.x3 {\\n    margin-top: 21px; }\\n\\n.margin-bottom {\\n  margin-bottom: 7px; }\\n  .margin-bottom.margin-bottom--half {\\n    margin-top: 4px; }\\n  .margin-bottom.x2 {\\n    margin-bottom: 12px; }\\n  .margin-bottom.x3 {\\n    margin-bottom: 21px; }\\n\\n.d-block {\\n  display: block; }\\n\\n.a11y--focused {\\n  border-radius: 4px;\\n  box-shadow: 0 0 0 1px 2px #166de0; }\\n\\n.hidden-label {\\n  position: absolute;\\n  overflow: hidden;\\n  height: 1px;\\n  width: 1px;\\n  margin: -1px;\\n  padding: 0;\\n  border: 0; }\\n\\n.Menu .MenuItem {\\n  font-size: 14px;\\n  display: flex;\\n  align-items: center; }\\n  .Menu .MenuItem .MenuItem__icon {\\n    text-align: center;\\n    width: 20px;\\n    margin-right: 8px; }\\n  .Menu .MenuItem > a {\\n    text-decoration: none; }\\n    .Menu .MenuItem > a:focus, .Menu .MenuItem > a:hover {\\n      color: inherit; }\\n  .Menu .MenuItem > div {\\n    padding-left: 0px !important; }\\n    .Menu .MenuItem > div:hover, .Menu .MenuItem > div:focus {\\n      background-color: var(--center-channel-color-10) !important; }\\n  .Menu .MenuItem > div,\\n  .Menu .MenuItem > button,\\n  .Menu .MenuItem > a {\\n    align-items: center;\\n    clear: both;\\n    color: inherit;\\n    cursor: pointer;\\n    display: flex;\\n    font-weight: normal;\\n    padding: 0 32px 0 24px;\\n    text-align: left;\\n    white-space: nowrap;\\n    width: 100%;\\n    overflow: hidden;\\n    text-overflow: ellipsis;\\n    line-height: 28px; }\\n    .Menu .MenuItem > div.MenuItem__help,\\n    .Menu .MenuItem > button.MenuItem__help,\\n    .Menu .MenuItem > a.MenuItem__help {\\n      height: auto;\\n      padding: 3px 24px 9px;\\n      flex-direction: column;\\n      align-items: flex-start; }\\n    .Menu .MenuItem > div .MenuItem__icon:first-child,\\n    .Menu .MenuItem > button .MenuItem__icon:first-child,\\n    .Menu .MenuItem > a .MenuItem__icon:first-child {\\n      margin-right: 8px; }\\n    .Menu .MenuItem > div:hover,\\n    .Menu .MenuItem > button:hover,\\n    .Menu .MenuItem > a:hover {\\n      background: rgba(0, 0, 0, 0.08); }\\n  .Menu .MenuItem.MenuItem__dangerous {\\n    color: #d64946; }\\n  .Menu .MenuItem span.icon {\\n    width: 30px;\\n    padding-right: 15px;\\n    display: inline-block;\\n    text-align: center; }\\n  .Menu .MenuItem span.extra-text {\\n    filter: progid:DXImageTransform.Microsoft.Alpha(Opacity=70);\\n    opacity: 0.7;\\n    display: block;\\n    font-size: 12px;\\n    line-height: 12px; }\\n\\n.SubMenu {\\n  padding-left: 0px;\\n  position: absolute;\\n  top: unset;\\n  left: unset; }\\n\\n.SubMenu__icon-left {\\n  color: inherit;\\n  font-size: 19px;\\n  padding: 0 8px 0 9px;\\n  position: relative;\\n  top: 0; }\\n\\n.SubMenu__icon-left-empty {\\n  visibility: hidden;\\n  font-size: 19px;\\n  padding: 0 8px 0 9px;\\n  position: relative;\\n  top: 0; }\\n  .SubMenu__icon-left-empty.mobile {\\n    padding: 0 4px 0 9px; }\\n\\n.SubMenu__icon-right {\\n  color: inherit;\\n  font-size: 19px;\\n  padding: 0;\\n  margin-left: auto;\\n  top: 0; }\\n\\n.SubMenu__icon-right-empty {\\n  visibility: hidden;\\n  font-size: 19px;\\n  padding: 0;\\n  margin-left: auto;\\n  width: 0;\\n  top: 0; }\\n\\n.MenuItem__divider {\\n  margin: 8px 0;\\n  border-top: 1px solid #ddd; }\\n\", \"\"]);\n","exports = module.exports = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"@media screen and (max-width: 768px) {\\n  #submenuModal {\\n    padding: 0px; }\\n    #submenuModal .mobile-sub-menu {\\n      height: 100%;\\n      margin-top: 0px !important;\\n      max-width: 100% !important; }\\n      #submenuModal .mobile-sub-menu .modal-content {\\n        background: transparent !important;\\n        box-shadow: unset;\\n        border: unset;\\n        height: 100%;\\n        padding: 0px; }\\n        #submenuModal .mobile-sub-menu .modal-content .modal-body {\\n          overflow: unset;\\n          height: 100%;\\n          max-height: unset;\\n          padding: 0px; }\\n          #submenuModal .mobile-sub-menu .modal-content .modal-body .MenuWrapper {\\n            height: 100%; }\\n            #submenuModal .mobile-sub-menu .modal-content .modal-body .MenuWrapper div {\\n              height: 100%; }\\n            #submenuModal .mobile-sub-menu .modal-content .modal-body .MenuWrapper .Menu {\\n              padding: 0 1.5em; }\\n              #submenuModal .mobile-sub-menu .modal-content .modal-body .MenuWrapper .Menu.dropdown-menu {\\n                top: 0;\\n                height: 100%;\\n                width: 100%;\\n                position: relative;\\n                background: transparent;\\n                list-style: none;\\n                margin-bottom: 0;\\n                max-height: inherit;\\n                max-width: inherit;\\n                border: 0px;\\n                padding-top: 0px;\\n                box-shadow: none;\\n                color: inherit;\\n                display: flex;\\n                flex-direction: column;\\n                justify-content: center; }\\n                #submenuModal .mobile-sub-menu .modal-content .modal-body .MenuWrapper .Menu.dropdown-menu div,\\n                #submenuModal .mobile-sub-menu .modal-content .modal-body .MenuWrapper .Menu.dropdown-menu button,\\n                #submenuModal .mobile-sub-menu .modal-content .modal-body .MenuWrapper .Menu.dropdown-menu a,\\n                #submenuModal .mobile-sub-menu .modal-content .modal-body .MenuWrapper .Menu.dropdown-menu a:hover {\\n                  opacity: .8; }\\n                #submenuModal .mobile-sub-menu .modal-content .modal-body .MenuWrapper .Menu.dropdown-menu .MenuItem {\\n                  background: var(--center-channel-bg); }\\n                  #submenuModal .mobile-sub-menu .modal-content .modal-body .MenuWrapper .Menu.dropdown-menu .MenuItem > div,\\n                  #submenuModal .mobile-sub-menu .modal-content .modal-body .MenuWrapper .Menu.dropdown-menu .MenuItem > button,\\n                  #submenuModal .mobile-sub-menu .modal-content .modal-body .MenuWrapper .Menu.dropdown-menu .MenuItem > a {\\n                    padding: 15px 20px;\\n                    font-size: 14px;\\n                    width: 100%;\\n                    text-align: left;\\n                    border-top: 1px solid;\\n                    height: auto;\\n                    opacity: 1.0;\\n                    border-color: var(--center-channel-color-10); }\\n                  #submenuModal .mobile-sub-menu .modal-content .modal-body .MenuWrapper .Menu.dropdown-menu .MenuItem:first-child div,\\n                  #submenuModal .mobile-sub-menu .modal-content .modal-body .MenuWrapper .Menu.dropdown-menu .MenuItem:first-child button {\\n                    border: none; }\\n                #submenuModal .mobile-sub-menu .modal-content .modal-body .MenuWrapper .Menu.dropdown-menu .MenuGroup.menu-divider {\\n                  background: white; } }\\n\", \"\"]);\n","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".d-flex {\\n  display: -webkit-box !important;\\n  display: -ms-flexbox !important;\\n  display: flex !important; }\\n\\n.d-inline-flex {\\n  display: -webkit-inline-box !important;\\n  display: -ms-inline-flexbox !important;\\n  display: inline-flex !important; }\\n\\n.flex-row {\\n  -webkit-box-orient: horizontal !important;\\n  -webkit-box-direction: normal !important;\\n  -ms-flex-direction: row !important;\\n  flex-direction: row !important; }\\n\\n.flex-column {\\n  -webkit-box-orient: vertical !important;\\n  -webkit-box-direction: normal !important;\\n  -ms-flex-direction: column !important;\\n  flex-direction: column !important; }\\n\\n.flex-row-reverse {\\n  -webkit-box-orient: horizontal !important;\\n  -webkit-box-direction: reverse !important;\\n  -ms-flex-direction: row-reverse !important;\\n  flex-direction: row-reverse !important; }\\n\\n.flex-column-reverse {\\n  -webkit-box-orient: vertical !important;\\n  -webkit-box-direction: reverse !important;\\n  -ms-flex-direction: column-reverse !important;\\n  flex-direction: column-reverse !important; }\\n\\n.flex-wrap {\\n  -ms-flex-wrap: wrap !important;\\n  flex-wrap: wrap !important; }\\n\\n.flex-nowrap {\\n  -ms-flex-wrap: nowrap !important;\\n  flex-wrap: nowrap !important; }\\n\\n.flex-wrap-reverse {\\n  -ms-flex-wrap: wrap-reverse !important;\\n  flex-wrap: wrap-reverse !important; }\\n\\n.justify-content-start {\\n  -webkit-box-pack: start !important;\\n  -ms-flex-pack: start !important;\\n  justify-content: flex-start !important; }\\n\\n.justify-content-end {\\n  -webkit-box-pack: end !important;\\n  -ms-flex-pack: end !important;\\n  justify-content: flex-end !important; }\\n\\n.justify-content-center {\\n  -webkit-box-pack: center !important;\\n  -ms-flex-pack: center !important;\\n  justify-content: center !important; }\\n\\n.justify-content-between {\\n  -webkit-box-pack: justify !important;\\n  -ms-flex-pack: justify !important;\\n  justify-content: space-between !important; }\\n\\n.justify-content-around {\\n  -ms-flex-pack: distribute !important;\\n  justify-content: space-around !important; }\\n\\n.align-items-start {\\n  -webkit-box-align: start !important;\\n  -ms-flex-align: start !important;\\n  align-items: flex-start !important; }\\n\\n.align-items-end {\\n  -webkit-box-align: end !important;\\n  -ms-flex-align: end !important;\\n  align-items: flex-end !important; }\\n\\n.align-items-center {\\n  -webkit-box-align: center !important;\\n  -ms-flex-align: center !important;\\n  align-items: center !important; }\\n\\n.align-items-baseline {\\n  -webkit-box-align: baseline !important;\\n  -ms-flex-align: baseline !important;\\n  align-items: baseline !important; }\\n\\n.align-items-stretch {\\n  -webkit-box-align: stretch !important;\\n  -ms-flex-align: stretch !important;\\n  align-items: stretch !important; }\\n\\n.align-content-start {\\n  -ms-flex-line-pack: start !important;\\n  align-content: flex-start !important; }\\n\\n.align-content-end {\\n  -ms-flex-line-pack: end !important;\\n  align-content: flex-end !important; }\\n\\n.align-content-center {\\n  -ms-flex-line-pack: center !important;\\n  align-content: center !important; }\\n\\n.align-content-between {\\n  -ms-flex-line-pack: justify !important;\\n  align-content: space-between !important; }\\n\\n.align-content-around {\\n  -ms-flex-line-pack: distribute !important;\\n  align-content: space-around !important; }\\n\\n.align-content-stretch {\\n  -ms-flex-line-pack: stretch !important;\\n  align-content: stretch !important; }\\n\\n.align-self-auto {\\n  -ms-flex-item-align: auto !important;\\n  align-self: auto !important; }\\n\\n.align-self-start {\\n  -ms-flex-item-align: start !important;\\n  align-self: flex-start !important; }\\n\\n.align-self-end {\\n  -ms-flex-item-align: end !important;\\n  align-self: flex-end !important; }\\n\\n.align-self-center {\\n  -ms-flex-item-align: center !important;\\n  align-self: center !important; }\\n\\n.align-self-baseline {\\n  -ms-flex-item-align: baseline !important;\\n  align-self: baseline !important; }\\n\\n.align-self-stretch {\\n  -ms-flex-item-align: stretch !important;\\n  align-self: stretch !important; }\\n\\n@media (min-width: 576px) {\\n  .flex-sm-row {\\n    -webkit-box-orient: horizontal !important;\\n    -webkit-box-direction: normal !important;\\n    -ms-flex-direction: row !important;\\n    flex-direction: row !important; }\\n  .flex-sm-column {\\n    -webkit-box-orient: vertical !important;\\n    -webkit-box-direction: normal !important;\\n    -ms-flex-direction: column !important;\\n    flex-direction: column !important; }\\n  .flex-sm-row-reverse {\\n    -webkit-box-orient: horizontal !important;\\n    -webkit-box-direction: reverse !important;\\n    -ms-flex-direction: row-reverse !important;\\n    flex-direction: row-reverse !important; }\\n  .flex-sm-column-reverse {\\n    -webkit-box-orient: vertical !important;\\n    -webkit-box-direction: reverse !important;\\n    -ms-flex-direction: column-reverse !important;\\n    flex-direction: column-reverse !important; }\\n  .flex-sm-wrap {\\n    -ms-flex-wrap: wrap !important;\\n    flex-wrap: wrap !important; }\\n  .flex-sm-nowrap {\\n    -ms-flex-wrap: nowrap !important;\\n    flex-wrap: nowrap !important; }\\n  .flex-sm-wrap-reverse {\\n    -ms-flex-wrap: wrap-reverse !important;\\n    flex-wrap: wrap-reverse !important; }\\n  .justify-content-sm-start {\\n    -webkit-box-pack: start !important;\\n    -ms-flex-pack: start !important;\\n    justify-content: flex-start !important; }\\n  .justify-content-sm-end {\\n    -webkit-box-pack: end !important;\\n    -ms-flex-pack: end !important;\\n    justify-content: flex-end !important; }\\n  .justify-content-sm-center {\\n    -webkit-box-pack: center !important;\\n    -ms-flex-pack: center !important;\\n    justify-content: center !important; }\\n  .justify-content-sm-between {\\n    -webkit-box-pack: justify !important;\\n    -ms-flex-pack: justify !important;\\n    justify-content: space-between !important; }\\n  .justify-content-sm-around {\\n    -ms-flex-pack: distribute !important;\\n    justify-content: space-around !important; }\\n  .align-items-sm-start {\\n    -webkit-box-align: start !important;\\n    -ms-flex-align: start !important;\\n    align-items: flex-start !important; }\\n  .align-items-sm-end {\\n    -webkit-box-align: end !important;\\n    -ms-flex-align: end !important;\\n    align-items: flex-end !important; }\\n  .align-items-sm-center {\\n    -webkit-box-align: center !important;\\n    -ms-flex-align: center !important;\\n    align-items: center !important; }\\n  .align-items-sm-baseline {\\n    -webkit-box-align: baseline !important;\\n    -ms-flex-align: baseline !important;\\n    align-items: baseline !important; }\\n  .align-items-sm-stretch {\\n    -webkit-box-align: stretch !important;\\n    -ms-flex-align: stretch !important;\\n    align-items: stretch !important; }\\n  .align-content-sm-start {\\n    -ms-flex-line-pack: start !important;\\n    align-content: flex-start !important; }\\n  .align-content-sm-end {\\n    -ms-flex-line-pack: end !important;\\n    align-content: flex-end !important; }\\n  .align-content-sm-center {\\n    -ms-flex-line-pack: center !important;\\n    align-content: center !important; }\\n  .align-content-sm-between {\\n    -ms-flex-line-pack: justify !important;\\n    align-content: space-between !important; }\\n  .align-content-sm-around {\\n    -ms-flex-line-pack: distribute !important;\\n    align-content: space-around !important; }\\n  .align-content-sm-stretch {\\n    -ms-flex-line-pack: stretch !important;\\n    align-content: stretch !important; }\\n  .align-self-sm-auto {\\n    -ms-flex-item-align: auto !important;\\n    align-self: auto !important; }\\n  .align-self-sm-start {\\n    -ms-flex-item-align: start !important;\\n    align-self: flex-start !important; }\\n  .align-self-sm-end {\\n    -ms-flex-item-align: end !important;\\n    align-self: flex-end !important; }\\n  .align-self-sm-center {\\n    -ms-flex-item-align: center !important;\\n    align-self: center !important; }\\n  .align-self-sm-baseline {\\n    -ms-flex-item-align: baseline !important;\\n    align-self: baseline !important; }\\n  .align-self-sm-stretch {\\n    -ms-flex-item-align: stretch !important;\\n    align-self: stretch !important; } }\\n\\n@media (min-width: 768px) {\\n  .flex-md-row {\\n    -webkit-box-orient: horizontal !important;\\n    -webkit-box-direction: normal !important;\\n    -ms-flex-direction: row !important;\\n    flex-direction: row !important; }\\n  .flex-md-column {\\n    -webkit-box-orient: vertical !important;\\n    -webkit-box-direction: normal !important;\\n    -ms-flex-direction: column !important;\\n    flex-direction: column !important; }\\n  .flex-md-row-reverse {\\n    -webkit-box-orient: horizontal !important;\\n    -webkit-box-direction: reverse !important;\\n    -ms-flex-direction: row-reverse !important;\\n    flex-direction: row-reverse !important; }\\n  .flex-md-column-reverse {\\n    -webkit-box-orient: vertical !important;\\n    -webkit-box-direction: reverse !important;\\n    -ms-flex-direction: column-reverse !important;\\n    flex-direction: column-reverse !important; }\\n  .flex-md-wrap {\\n    -ms-flex-wrap: wrap !important;\\n    flex-wrap: wrap !important; }\\n  .flex-md-nowrap {\\n    -ms-flex-wrap: nowrap !important;\\n    flex-wrap: nowrap !important; }\\n  .flex-md-wrap-reverse {\\n    -ms-flex-wrap: wrap-reverse !important;\\n    flex-wrap: wrap-reverse !important; }\\n  .justify-content-md-start {\\n    -webkit-box-pack: start !important;\\n    -ms-flex-pack: start !important;\\n    justify-content: flex-start !important; }\\n  .justify-content-md-end {\\n    -webkit-box-pack: end !important;\\n    -ms-flex-pack: end !important;\\n    justify-content: flex-end !important; }\\n  .justify-content-md-center {\\n    -webkit-box-pack: center !important;\\n    -ms-flex-pack: center !important;\\n    justify-content: center !important; }\\n  .justify-content-md-between {\\n    -webkit-box-pack: justify !important;\\n    -ms-flex-pack: justify !important;\\n    justify-content: space-between !important; }\\n  .justify-content-md-around {\\n    -ms-flex-pack: distribute !important;\\n    justify-content: space-around !important; }\\n  .align-items-md-start {\\n    -webkit-box-align: start !important;\\n    -ms-flex-align: start !important;\\n    align-items: flex-start !important; }\\n  .align-items-md-end {\\n    -webkit-box-align: end !important;\\n    -ms-flex-align: end !important;\\n    align-items: flex-end !important; }\\n  .align-items-md-center {\\n    -webkit-box-align: center !important;\\n    -ms-flex-align: center !important;\\n    align-items: center !important; }\\n  .align-items-md-baseline {\\n    -webkit-box-align: baseline !important;\\n    -ms-flex-align: baseline !important;\\n    align-items: baseline !important; }\\n  .align-items-md-stretch {\\n    -webkit-box-align: stretch !important;\\n    -ms-flex-align: stretch !important;\\n    align-items: stretch !important; }\\n  .align-content-md-start {\\n    -ms-flex-line-pack: start !important;\\n    align-content: flex-start !important; }\\n  .align-content-md-end {\\n    -ms-flex-line-pack: end !important;\\n    align-content: flex-end !important; }\\n  .align-content-md-center {\\n    -ms-flex-line-pack: center !important;\\n    align-content: center !important; }\\n  .align-content-md-between {\\n    -ms-flex-line-pack: justify !important;\\n    align-content: space-between !important; }\\n  .align-content-md-around {\\n    -ms-flex-line-pack: distribute !important;\\n    align-content: space-around !important; }\\n  .align-content-md-stretch {\\n    -ms-flex-line-pack: stretch !important;\\n    align-content: stretch !important; }\\n  .align-self-md-auto {\\n    -ms-flex-item-align: auto !important;\\n    align-self: auto !important; }\\n  .align-self-md-start {\\n    -ms-flex-item-align: start !important;\\n    align-self: flex-start !important; }\\n  .align-self-md-end {\\n    -ms-flex-item-align: end !important;\\n    align-self: flex-end !important; }\\n  .align-self-md-center {\\n    -ms-flex-item-align: center !important;\\n    align-self: center !important; }\\n  .align-self-md-baseline {\\n    -ms-flex-item-align: baseline !important;\\n    align-self: baseline !important; }\\n  .align-self-md-stretch {\\n    -ms-flex-item-align: stretch !important;\\n    align-self: stretch !important; } }\\n\\n@media (min-width: 992px) {\\n  .flex-lg-row {\\n    -webkit-box-orient: horizontal !important;\\n    -webkit-box-direction: normal !important;\\n    -ms-flex-direction: row !important;\\n    flex-direction: row !important; }\\n  .flex-lg-column {\\n    -webkit-box-orient: vertical !important;\\n    -webkit-box-direction: normal !important;\\n    -ms-flex-direction: column !important;\\n    flex-direction: column !important; }\\n  .flex-lg-row-reverse {\\n    -webkit-box-orient: horizontal !important;\\n    -webkit-box-direction: reverse !important;\\n    -ms-flex-direction: row-reverse !important;\\n    flex-direction: row-reverse !important; }\\n  .flex-lg-column-reverse {\\n    -webkit-box-orient: vertical !important;\\n    -webkit-box-direction: reverse !important;\\n    -ms-flex-direction: column-reverse !important;\\n    flex-direction: column-reverse !important; }\\n  .flex-lg-wrap {\\n    -ms-flex-wrap: wrap !important;\\n    flex-wrap: wrap !important; }\\n  .flex-lg-nowrap {\\n    -ms-flex-wrap: nowrap !important;\\n    flex-wrap: nowrap !important; }\\n  .flex-lg-wrap-reverse {\\n    -ms-flex-wrap: wrap-reverse !important;\\n    flex-wrap: wrap-reverse !important; }\\n  .justify-content-lg-start {\\n    -webkit-box-pack: start !important;\\n    -ms-flex-pack: start !important;\\n    justify-content: flex-start !important; }\\n  .justify-content-lg-end {\\n    -webkit-box-pack: end !important;\\n    -ms-flex-pack: end !important;\\n    justify-content: flex-end !important; }\\n  .justify-content-lg-center {\\n    -webkit-box-pack: center !important;\\n    -ms-flex-pack: center !important;\\n    justify-content: center !important; }\\n  .justify-content-lg-between {\\n    -webkit-box-pack: justify !important;\\n    -ms-flex-pack: justify !important;\\n    justify-content: space-between !important; }\\n  .justify-content-lg-around {\\n    -ms-flex-pack: distribute !important;\\n    justify-content: space-around !important; }\\n  .align-items-lg-start {\\n    -webkit-box-align: start !important;\\n    -ms-flex-align: start !important;\\n    align-items: flex-start !important; }\\n  .align-items-lg-end {\\n    -webkit-box-align: end !important;\\n    -ms-flex-align: end !important;\\n    align-items: flex-end !important; }\\n  .align-items-lg-center {\\n    -webkit-box-align: center !important;\\n    -ms-flex-align: center !important;\\n    align-items: center !important; }\\n  .align-items-lg-baseline {\\n    -webkit-box-align: baseline !important;\\n    -ms-flex-align: baseline !important;\\n    align-items: baseline !important; }\\n  .align-items-lg-stretch {\\n    -webkit-box-align: stretch !important;\\n    -ms-flex-align: stretch !important;\\n    align-items: stretch !important; }\\n  .align-content-lg-start {\\n    -ms-flex-line-pack: start !important;\\n    align-content: flex-start !important; }\\n  .align-content-lg-end {\\n    -ms-flex-line-pack: end !important;\\n    align-content: flex-end !important; }\\n  .align-content-lg-center {\\n    -ms-flex-line-pack: center !important;\\n    align-content: center !important; }\\n  .align-content-lg-between {\\n    -ms-flex-line-pack: justify !important;\\n    align-content: space-between !important; }\\n  .align-content-lg-around {\\n    -ms-flex-line-pack: distribute !important;\\n    align-content: space-around !important; }\\n  .align-content-lg-stretch {\\n    -ms-flex-line-pack: stretch !important;\\n    align-content: stretch !important; }\\n  .align-self-lg-auto {\\n    -ms-flex-item-align: auto !important;\\n    align-self: auto !important; }\\n  .align-self-lg-start {\\n    -ms-flex-item-align: start !important;\\n    align-self: flex-start !important; }\\n  .align-self-lg-end {\\n    -ms-flex-item-align: end !important;\\n    align-self: flex-end !important; }\\n  .align-self-lg-center {\\n    -ms-flex-item-align: center !important;\\n    align-self: center !important; }\\n  .align-self-lg-baseline {\\n    -ms-flex-item-align: baseline !important;\\n    align-self: baseline !important; }\\n  .align-self-lg-stretch {\\n    -ms-flex-item-align: stretch !important;\\n    align-self: stretch !important; } }\\n\\n@media (min-width: 1200px) {\\n  .flex-xl-row {\\n    -webkit-box-orient: horizontal !important;\\n    -webkit-box-direction: normal !important;\\n    -ms-flex-direction: row !important;\\n    flex-direction: row !important; }\\n  .flex-xl-column {\\n    -webkit-box-orient: vertical !important;\\n    -webkit-box-direction: normal !important;\\n    -ms-flex-direction: column !important;\\n    flex-direction: column !important; }\\n  .flex-xl-row-reverse {\\n    -webkit-box-orient: horizontal !important;\\n    -webkit-box-direction: reverse !important;\\n    -ms-flex-direction: row-reverse !important;\\n    flex-direction: row-reverse !important; }\\n  .flex-xl-column-reverse {\\n    -webkit-box-orient: vertical !important;\\n    -webkit-box-direction: reverse !important;\\n    -ms-flex-direction: column-reverse !important;\\n    flex-direction: column-reverse !important; }\\n  .flex-xl-wrap {\\n    -ms-flex-wrap: wrap !important;\\n    flex-wrap: wrap !important; }\\n  .flex-xl-nowrap {\\n    -ms-flex-wrap: nowrap !important;\\n    flex-wrap: nowrap !important; }\\n  .flex-xl-wrap-reverse {\\n    -ms-flex-wrap: wrap-reverse !important;\\n    flex-wrap: wrap-reverse !important; }\\n  .justify-content-xl-start {\\n    -webkit-box-pack: start !important;\\n    -ms-flex-pack: start !important;\\n    justify-content: flex-start !important; }\\n  .justify-content-xl-end {\\n    -webkit-box-pack: end !important;\\n    -ms-flex-pack: end !important;\\n    justify-content: flex-end !important; }\\n  .justify-content-xl-center {\\n    -webkit-box-pack: center !important;\\n    -ms-flex-pack: center !important;\\n    justify-content: center !important; }\\n  .justify-content-xl-between {\\n    -webkit-box-pack: justify !important;\\n    -ms-flex-pack: justify !important;\\n    justify-content: space-between !important; }\\n  .justify-content-xl-around {\\n    -ms-flex-pack: distribute !important;\\n    justify-content: space-around !important; }\\n  .align-items-xl-start {\\n    -webkit-box-align: start !important;\\n    -ms-flex-align: start !important;\\n    align-items: flex-start !important; }\\n  .align-items-xl-end {\\n    -webkit-box-align: end !important;\\n    -ms-flex-align: end !important;\\n    align-items: flex-end !important; }\\n  .align-items-xl-center {\\n    -webkit-box-align: center !important;\\n    -ms-flex-align: center !important;\\n    align-items: center !important; }\\n  .align-items-xl-baseline {\\n    -webkit-box-align: baseline !important;\\n    -ms-flex-align: baseline !important;\\n    align-items: baseline !important; }\\n  .align-items-xl-stretch {\\n    -webkit-box-align: stretch !important;\\n    -ms-flex-align: stretch !important;\\n    align-items: stretch !important; }\\n  .align-content-xl-start {\\n    -ms-flex-line-pack: start !important;\\n    align-content: flex-start !important; }\\n  .align-content-xl-end {\\n    -ms-flex-line-pack: end !important;\\n    align-content: flex-end !important; }\\n  .align-content-xl-center {\\n    -ms-flex-line-pack: center !important;\\n    align-content: center !important; }\\n  .align-content-xl-between {\\n    -ms-flex-line-pack: justify !important;\\n    align-content: space-between !important; }\\n  .align-content-xl-around {\\n    -ms-flex-line-pack: distribute !important;\\n    align-content: space-around !important; }\\n  .align-content-xl-stretch {\\n    -ms-flex-line-pack: stretch !important;\\n    align-content: stretch !important; }\\n  .align-self-xl-auto {\\n    -ms-flex-item-align: auto !important;\\n    align-self: auto !important; }\\n  .align-self-xl-start {\\n    -ms-flex-item-align: start !important;\\n    align-self: flex-start !important; }\\n  .align-self-xl-end {\\n    -ms-flex-item-align: end !important;\\n    align-self: flex-end !important; }\\n  .align-self-xl-center {\\n    -ms-flex-item-align: center !important;\\n    align-self: center !important; }\\n  .align-self-xl-baseline {\\n    -ms-flex-item-align: baseline !important;\\n    align-self: baseline !important; }\\n  .align-self-xl-stretch {\\n    -ms-flex-item-align: stretch !important;\\n    align-self: stretch !important; } }\\n\\n.col {\\n  -ms-flex-preferred-size: 0;\\n  flex-basis: 0;\\n  -ms-flex-positive: 1;\\n  flex-grow: 1;\\n  max-width: 100%; }\\n\\n.col-auto {\\n  -ms-flex: 0 0 auto;\\n  flex: 0 0 auto;\\n  width: auto;\\n  max-width: 100%; }\\n\\n@keyframes spin {\\n  from {\\n    transform: scale(1) rotate(0deg); }\\n  to {\\n    transform: scale(1) rotate(360deg); } }\\n\\n@keyframes highlight {\\n  from {\\n    background: rgba(255, 255, 0, 0.5); }\\n  to {\\n    background: none; } }\\n\\n.padding-top {\\n  padding-top: 7px; }\\n  .padding-top.half {\\n    padding-top: 3px; }\\n  .padding-top.x2 {\\n    padding-top: 12px; }\\n  .padding-top.x3 {\\n    padding-top: 21px; }\\n\\n.padding-bottom {\\n  padding-bottom: 7px; }\\n  .padding-bottom.half {\\n    padding-bottom: 3px; }\\n  .padding-bottom.x1 {\\n    padding-bottom: 4px; }\\n  .padding-bottom.x2 {\\n    padding-bottom: 12px; }\\n  .padding-bottom.x3 {\\n    padding-bottom: 21px; }\\n  .padding-bottom .control-label {\\n    font-weight: 600; }\\n    .padding-bottom .control-label.text-left {\\n      text-align: left; }\\n\\n.padding-left {\\n  padding-left: 7px; }\\n  .padding-left.x2 {\\n    padding-left: 12px; }\\n  .padding-left.x3 {\\n    padding-left: 21px; }\\n\\n.padding-right {\\n  padding-right: 7px; }\\n  .padding-right.x2 {\\n    padding-right: 12px; }\\n  .padding-right.x3 {\\n    padding-right: 21px; }\\n\\n.margin-right {\\n  margin-right: 7px; }\\n  .margin-right.margin-right--half {\\n    margin-right: 3px; }\\n  .margin-right.x2 {\\n    margin-right: 12px; }\\n  .margin-right.x3 {\\n    margin-right: 21px; }\\n\\n.margin-left {\\n  margin-left: 7px; }\\n  .margin-left.x2 {\\n    margin-left: 12px; }\\n  .margin-left.x3 {\\n    margin-left: 21px; }\\n\\n.margin-top {\\n  margin-top: 7px; }\\n  .margin-top.margin-top--half {\\n    margin-top: 4px; }\\n  .margin-top.x2 {\\n    margin-top: 12px; }\\n  .margin-top.x3 {\\n    margin-top: 21px; }\\n\\n.margin-bottom {\\n  margin-bottom: 7px; }\\n  .margin-bottom.margin-bottom--half {\\n    margin-top: 4px; }\\n  .margin-bottom.x2 {\\n    margin-bottom: 12px; }\\n  .margin-bottom.x3 {\\n    margin-bottom: 21px; }\\n\\n.d-block {\\n  display: block; }\\n\\n.a11y--focused {\\n  border-radius: 4px;\\n  box-shadow: 0 0 0 1px 2px #166de0; }\\n\\n.hidden-label {\\n  position: absolute;\\n  overflow: hidden;\\n  height: 1px;\\n  width: 1px;\\n  margin: -1px;\\n  padding: 0;\\n  border: 0; }\\n\\n.MenuWrapper {\\n  position: relative; }\\n  .MenuWrapper *:first-child {\\n    -webkit-user-select: none;\\n    /* Chrome/Safari */\\n    -moz-user-select: none;\\n    /* Firefox */\\n    -ms-user-select: none;\\n    /* IE10+ */\\n    /* Rules below not implemented in browsers yet */\\n    -o-user-select: none;\\n    user-select: none;\\n    cursor: pointer; }\\n\", \"\"]);\n","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".FullScreenModal {\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  background: var(--center-channel-bg);\\n  z-index: 1030 !important;\\n  overflow: auto; }\\n  .FullScreenModal .close-x, .FullScreenModal .back {\\n    border: 0;\\n    background: none;\\n    padding: 0;\\n    position: fixed;\\n    top: 48px;\\n    height: 40px;\\n    width: 40px;\\n    cursor: pointer; }\\n    .FullScreenModal .close-x svg, .FullScreenModal .back svg {\\n      fill: var(--center-channel-color-90);\\n      padding: 4px;\\n      width: 40px;\\n      height: 40px;\\n      border-radius: 4px; }\\n      .FullScreenModal .close-x svg:hover, .FullScreenModal .back svg:hover {\\n        background: var(--button-bg-10); }\\n  .FullScreenModal .close-x {\\n    right: 48px; }\\n  .FullScreenModal .back {\\n    left: 48px; }\\n  .FullScreenModal-enter, .FullScreenModal-appear {\\n    opacity: 0; }\\n  .FullScreenModal-enter-active, .FullScreenModal-appear-active {\\n    opacity: 1;\\n    transition: opacity 100ms; }\\n  .FullScreenModal-exit {\\n    opacity: 1; }\\n  .FullScreenModal-exit-active {\\n    opacity: 0;\\n    transition: opacity 100ms; }\\n\", \"\"]);\n","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".NotificationSeparator .separator__hr {\\n  border-color: #ffaf53; }\\n\\n.NotificationSeparator .separator__text {\\n  color: #ff8800;\\n  font-weight: normal; }\\n\", \"\"]);\n","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".d-flex {\\n  display: -webkit-box !important;\\n  display: -ms-flexbox !important;\\n  display: flex !important; }\\n\\n.d-inline-flex {\\n  display: -webkit-inline-box !important;\\n  display: -ms-inline-flexbox !important;\\n  display: inline-flex !important; }\\n\\n.flex-row {\\n  -webkit-box-orient: horizontal !important;\\n  -webkit-box-direction: normal !important;\\n  -ms-flex-direction: row !important;\\n  flex-direction: row !important; }\\n\\n.flex-column {\\n  -webkit-box-orient: vertical !important;\\n  -webkit-box-direction: normal !important;\\n  -ms-flex-direction: column !important;\\n  flex-direction: column !important; }\\n\\n.flex-row-reverse {\\n  -webkit-box-orient: horizontal !important;\\n  -webkit-box-direction: reverse !important;\\n  -ms-flex-direction: row-reverse !important;\\n  flex-direction: row-reverse !important; }\\n\\n.flex-column-reverse {\\n  -webkit-box-orient: vertical !important;\\n  -webkit-box-direction: reverse !important;\\n  -ms-flex-direction: column-reverse !important;\\n  flex-direction: column-reverse !important; }\\n\\n.flex-wrap {\\n  -ms-flex-wrap: wrap !important;\\n  flex-wrap: wrap !important; }\\n\\n.flex-nowrap {\\n  -ms-flex-wrap: nowrap !important;\\n  flex-wrap: nowrap !important; }\\n\\n.flex-wrap-reverse {\\n  -ms-flex-wrap: wrap-reverse !important;\\n  flex-wrap: wrap-reverse !important; }\\n\\n.justify-content-start {\\n  -webkit-box-pack: start !important;\\n  -ms-flex-pack: start !important;\\n  justify-content: flex-start !important; }\\n\\n.justify-content-end {\\n  -webkit-box-pack: end !important;\\n  -ms-flex-pack: end !important;\\n  justify-content: flex-end !important; }\\n\\n.justify-content-center {\\n  -webkit-box-pack: center !important;\\n  -ms-flex-pack: center !important;\\n  justify-content: center !important; }\\n\\n.justify-content-between {\\n  -webkit-box-pack: justify !important;\\n  -ms-flex-pack: justify !important;\\n  justify-content: space-between !important; }\\n\\n.justify-content-around {\\n  -ms-flex-pack: distribute !important;\\n  justify-content: space-around !important; }\\n\\n.align-items-start {\\n  -webkit-box-align: start !important;\\n  -ms-flex-align: start !important;\\n  align-items: flex-start !important; }\\n\\n.align-items-end {\\n  -webkit-box-align: end !important;\\n  -ms-flex-align: end !important;\\n  align-items: flex-end !important; }\\n\\n.align-items-center {\\n  -webkit-box-align: center !important;\\n  -ms-flex-align: center !important;\\n  align-items: center !important; }\\n\\n.align-items-baseline {\\n  -webkit-box-align: baseline !important;\\n  -ms-flex-align: baseline !important;\\n  align-items: baseline !important; }\\n\\n.align-items-stretch {\\n  -webkit-box-align: stretch !important;\\n  -ms-flex-align: stretch !important;\\n  align-items: stretch !important; }\\n\\n.align-content-start {\\n  -ms-flex-line-pack: start !important;\\n  align-content: flex-start !important; }\\n\\n.align-content-end {\\n  -ms-flex-line-pack: end !important;\\n  align-content: flex-end !important; }\\n\\n.align-content-center {\\n  -ms-flex-line-pack: center !important;\\n  align-content: center !important; }\\n\\n.align-content-between {\\n  -ms-flex-line-pack: justify !important;\\n  align-content: space-between !important; }\\n\\n.align-content-around {\\n  -ms-flex-line-pack: distribute !important;\\n  align-content: space-around !important; }\\n\\n.align-content-stretch {\\n  -ms-flex-line-pack: stretch !important;\\n  align-content: stretch !important; }\\n\\n.align-self-auto {\\n  -ms-flex-item-align: auto !important;\\n  align-self: auto !important; }\\n\\n.align-self-start {\\n  -ms-flex-item-align: start !important;\\n  align-self: flex-start !important; }\\n\\n.align-self-end {\\n  -ms-flex-item-align: end !important;\\n  align-self: flex-end !important; }\\n\\n.align-self-center {\\n  -ms-flex-item-align: center !important;\\n  align-self: center !important; }\\n\\n.align-self-baseline {\\n  -ms-flex-item-align: baseline !important;\\n  align-self: baseline !important; }\\n\\n.align-self-stretch {\\n  -ms-flex-item-align: stretch !important;\\n  align-self: stretch !important; }\\n\\n@media (min-width: 576px) {\\n  .flex-sm-row {\\n    -webkit-box-orient: horizontal !important;\\n    -webkit-box-direction: normal !important;\\n    -ms-flex-direction: row !important;\\n    flex-direction: row !important; }\\n  .flex-sm-column {\\n    -webkit-box-orient: vertical !important;\\n    -webkit-box-direction: normal !important;\\n    -ms-flex-direction: column !important;\\n    flex-direction: column !important; }\\n  .flex-sm-row-reverse {\\n    -webkit-box-orient: horizontal !important;\\n    -webkit-box-direction: reverse !important;\\n    -ms-flex-direction: row-reverse !important;\\n    flex-direction: row-reverse !important; }\\n  .flex-sm-column-reverse {\\n    -webkit-box-orient: vertical !important;\\n    -webkit-box-direction: reverse !important;\\n    -ms-flex-direction: column-reverse !important;\\n    flex-direction: column-reverse !important; }\\n  .flex-sm-wrap {\\n    -ms-flex-wrap: wrap !important;\\n    flex-wrap: wrap !important; }\\n  .flex-sm-nowrap {\\n    -ms-flex-wrap: nowrap !important;\\n    flex-wrap: nowrap !important; }\\n  .flex-sm-wrap-reverse {\\n    -ms-flex-wrap: wrap-reverse !important;\\n    flex-wrap: wrap-reverse !important; }\\n  .justify-content-sm-start {\\n    -webkit-box-pack: start !important;\\n    -ms-flex-pack: start !important;\\n    justify-content: flex-start !important; }\\n  .justify-content-sm-end {\\n    -webkit-box-pack: end !important;\\n    -ms-flex-pack: end !important;\\n    justify-content: flex-end !important; }\\n  .justify-content-sm-center {\\n    -webkit-box-pack: center !important;\\n    -ms-flex-pack: center !important;\\n    justify-content: center !important; }\\n  .justify-content-sm-between {\\n    -webkit-box-pack: justify !important;\\n    -ms-flex-pack: justify !important;\\n    justify-content: space-between !important; }\\n  .justify-content-sm-around {\\n    -ms-flex-pack: distribute !important;\\n    justify-content: space-around !important; }\\n  .align-items-sm-start {\\n    -webkit-box-align: start !important;\\n    -ms-flex-align: start !important;\\n    align-items: flex-start !important; }\\n  .align-items-sm-end {\\n    -webkit-box-align: end !important;\\n    -ms-flex-align: end !important;\\n    align-items: flex-end !important; }\\n  .align-items-sm-center {\\n    -webkit-box-align: center !important;\\n    -ms-flex-align: center !important;\\n    align-items: center !important; }\\n  .align-items-sm-baseline {\\n    -webkit-box-align: baseline !important;\\n    -ms-flex-align: baseline !important;\\n    align-items: baseline !important; }\\n  .align-items-sm-stretch {\\n    -webkit-box-align: stretch !important;\\n    -ms-flex-align: stretch !important;\\n    align-items: stretch !important; }\\n  .align-content-sm-start {\\n    -ms-flex-line-pack: start !important;\\n    align-content: flex-start !important; }\\n  .align-content-sm-end {\\n    -ms-flex-line-pack: end !important;\\n    align-content: flex-end !important; }\\n  .align-content-sm-center {\\n    -ms-flex-line-pack: center !important;\\n    align-content: center !important; }\\n  .align-content-sm-between {\\n    -ms-flex-line-pack: justify !important;\\n    align-content: space-between !important; }\\n  .align-content-sm-around {\\n    -ms-flex-line-pack: distribute !important;\\n    align-content: space-around !important; }\\n  .align-content-sm-stretch {\\n    -ms-flex-line-pack: stretch !important;\\n    align-content: stretch !important; }\\n  .align-self-sm-auto {\\n    -ms-flex-item-align: auto !important;\\n    align-self: auto !important; }\\n  .align-self-sm-start {\\n    -ms-flex-item-align: start !important;\\n    align-self: flex-start !important; }\\n  .align-self-sm-end {\\n    -ms-flex-item-align: end !important;\\n    align-self: flex-end !important; }\\n  .align-self-sm-center {\\n    -ms-flex-item-align: center !important;\\n    align-self: center !important; }\\n  .align-self-sm-baseline {\\n    -ms-flex-item-align: baseline !important;\\n    align-self: baseline !important; }\\n  .align-self-sm-stretch {\\n    -ms-flex-item-align: stretch !important;\\n    align-self: stretch !important; } }\\n\\n@media (min-width: 768px) {\\n  .flex-md-row {\\n    -webkit-box-orient: horizontal !important;\\n    -webkit-box-direction: normal !important;\\n    -ms-flex-direction: row !important;\\n    flex-direction: row !important; }\\n  .flex-md-column {\\n    -webkit-box-orient: vertical !important;\\n    -webkit-box-direction: normal !important;\\n    -ms-flex-direction: column !important;\\n    flex-direction: column !important; }\\n  .flex-md-row-reverse {\\n    -webkit-box-orient: horizontal !important;\\n    -webkit-box-direction: reverse !important;\\n    -ms-flex-direction: row-reverse !important;\\n    flex-direction: row-reverse !important; }\\n  .flex-md-column-reverse {\\n    -webkit-box-orient: vertical !important;\\n    -webkit-box-direction: reverse !important;\\n    -ms-flex-direction: column-reverse !important;\\n    flex-direction: column-reverse !important; }\\n  .flex-md-wrap {\\n    -ms-flex-wrap: wrap !important;\\n    flex-wrap: wrap !important; }\\n  .flex-md-nowrap {\\n    -ms-flex-wrap: nowrap !important;\\n    flex-wrap: nowrap !important; }\\n  .flex-md-wrap-reverse {\\n    -ms-flex-wrap: wrap-reverse !important;\\n    flex-wrap: wrap-reverse !important; }\\n  .justify-content-md-start {\\n    -webkit-box-pack: start !important;\\n    -ms-flex-pack: start !important;\\n    justify-content: flex-start !important; }\\n  .justify-content-md-end {\\n    -webkit-box-pack: end !important;\\n    -ms-flex-pack: end !important;\\n    justify-content: flex-end !important; }\\n  .justify-content-md-center {\\n    -webkit-box-pack: center !important;\\n    -ms-flex-pack: center !important;\\n    justify-content: center !important; }\\n  .justify-content-md-between {\\n    -webkit-box-pack: justify !important;\\n    -ms-flex-pack: justify !important;\\n    justify-content: space-between !important; }\\n  .justify-content-md-around {\\n    -ms-flex-pack: distribute !important;\\n    justify-content: space-around !important; }\\n  .align-items-md-start {\\n    -webkit-box-align: start !important;\\n    -ms-flex-align: start !important;\\n    align-items: flex-start !important; }\\n  .align-items-md-end {\\n    -webkit-box-align: end !important;\\n    -ms-flex-align: end !important;\\n    align-items: flex-end !important; }\\n  .align-items-md-center {\\n    -webkit-box-align: center !important;\\n    -ms-flex-align: center !important;\\n    align-items: center !important; }\\n  .align-items-md-baseline {\\n    -webkit-box-align: baseline !important;\\n    -ms-flex-align: baseline !important;\\n    align-items: baseline !important; }\\n  .align-items-md-stretch {\\n    -webkit-box-align: stretch !important;\\n    -ms-flex-align: stretch !important;\\n    align-items: stretch !important; }\\n  .align-content-md-start {\\n    -ms-flex-line-pack: start !important;\\n    align-content: flex-start !important; }\\n  .align-content-md-end {\\n    -ms-flex-line-pack: end !important;\\n    align-content: flex-end !important; }\\n  .align-content-md-center {\\n    -ms-flex-line-pack: center !important;\\n    align-content: center !important; }\\n  .align-content-md-between {\\n    -ms-flex-line-pack: justify !important;\\n    align-content: space-between !important; }\\n  .align-content-md-around {\\n    -ms-flex-line-pack: distribute !important;\\n    align-content: space-around !important; }\\n  .align-content-md-stretch {\\n    -ms-flex-line-pack: stretch !important;\\n    align-content: stretch !important; }\\n  .align-self-md-auto {\\n    -ms-flex-item-align: auto !important;\\n    align-self: auto !important; }\\n  .align-self-md-start {\\n    -ms-flex-item-align: start !important;\\n    align-self: flex-start !important; }\\n  .align-self-md-end {\\n    -ms-flex-item-align: end !important;\\n    align-self: flex-end !important; }\\n  .align-self-md-center {\\n    -ms-flex-item-align: center !important;\\n    align-self: center !important; }\\n  .align-self-md-baseline {\\n    -ms-flex-item-align: baseline !important;\\n    align-self: baseline !important; }\\n  .align-self-md-stretch {\\n    -ms-flex-item-align: stretch !important;\\n    align-self: stretch !important; } }\\n\\n@media (min-width: 992px) {\\n  .flex-lg-row {\\n    -webkit-box-orient: horizontal !important;\\n    -webkit-box-direction: normal !important;\\n    -ms-flex-direction: row !important;\\n    flex-direction: row !important; }\\n  .flex-lg-column {\\n    -webkit-box-orient: vertical !important;\\n    -webkit-box-direction: normal !important;\\n    -ms-flex-direction: column !important;\\n    flex-direction: column !important; }\\n  .flex-lg-row-reverse {\\n    -webkit-box-orient: horizontal !important;\\n    -webkit-box-direction: reverse !important;\\n    -ms-flex-direction: row-reverse !important;\\n    flex-direction: row-reverse !important; }\\n  .flex-lg-column-reverse {\\n    -webkit-box-orient: vertical !important;\\n    -webkit-box-direction: reverse !important;\\n    -ms-flex-direction: column-reverse !important;\\n    flex-direction: column-reverse !important; }\\n  .flex-lg-wrap {\\n    -ms-flex-wrap: wrap !important;\\n    flex-wrap: wrap !important; }\\n  .flex-lg-nowrap {\\n    -ms-flex-wrap: nowrap !important;\\n    flex-wrap: nowrap !important; }\\n  .flex-lg-wrap-reverse {\\n    -ms-flex-wrap: wrap-reverse !important;\\n    flex-wrap: wrap-reverse !important; }\\n  .justify-content-lg-start {\\n    -webkit-box-pack: start !important;\\n    -ms-flex-pack: start !important;\\n    justify-content: flex-start !important; }\\n  .justify-content-lg-end {\\n    -webkit-box-pack: end !important;\\n    -ms-flex-pack: end !important;\\n    justify-content: flex-end !important; }\\n  .justify-content-lg-center {\\n    -webkit-box-pack: center !important;\\n    -ms-flex-pack: center !important;\\n    justify-content: center !important; }\\n  .justify-content-lg-between {\\n    -webkit-box-pack: justify !important;\\n    -ms-flex-pack: justify !important;\\n    justify-content: space-between !important; }\\n  .justify-content-lg-around {\\n    -ms-flex-pack: distribute !important;\\n    justify-content: space-around !important; }\\n  .align-items-lg-start {\\n    -webkit-box-align: start !important;\\n    -ms-flex-align: start !important;\\n    align-items: flex-start !important; }\\n  .align-items-lg-end {\\n    -webkit-box-align: end !important;\\n    -ms-flex-align: end !important;\\n    align-items: flex-end !important; }\\n  .align-items-lg-center {\\n    -webkit-box-align: center !important;\\n    -ms-flex-align: center !important;\\n    align-items: center !important; }\\n  .align-items-lg-baseline {\\n    -webkit-box-align: baseline !important;\\n    -ms-flex-align: baseline !important;\\n    align-items: baseline !important; }\\n  .align-items-lg-stretch {\\n    -webkit-box-align: stretch !important;\\n    -ms-flex-align: stretch !important;\\n    align-items: stretch !important; }\\n  .align-content-lg-start {\\n    -ms-flex-line-pack: start !important;\\n    align-content: flex-start !important; }\\n  .align-content-lg-end {\\n    -ms-flex-line-pack: end !important;\\n    align-content: flex-end !important; }\\n  .align-content-lg-center {\\n    -ms-flex-line-pack: center !important;\\n    align-content: center !important; }\\n  .align-content-lg-between {\\n    -ms-flex-line-pack: justify !important;\\n    align-content: space-between !important; }\\n  .align-content-lg-around {\\n    -ms-flex-line-pack: distribute !important;\\n    align-content: space-around !important; }\\n  .align-content-lg-stretch {\\n    -ms-flex-line-pack: stretch !important;\\n    align-content: stretch !important; }\\n  .align-self-lg-auto {\\n    -ms-flex-item-align: auto !important;\\n    align-self: auto !important; }\\n  .align-self-lg-start {\\n    -ms-flex-item-align: start !important;\\n    align-self: flex-start !important; }\\n  .align-self-lg-end {\\n    -ms-flex-item-align: end !important;\\n    align-self: flex-end !important; }\\n  .align-self-lg-center {\\n    -ms-flex-item-align: center !important;\\n    align-self: center !important; }\\n  .align-self-lg-baseline {\\n    -ms-flex-item-align: baseline !important;\\n    align-self: baseline !important; }\\n  .align-self-lg-stretch {\\n    -ms-flex-item-align: stretch !important;\\n    align-self: stretch !important; } }\\n\\n@media (min-width: 1200px) {\\n  .flex-xl-row {\\n    -webkit-box-orient: horizontal !important;\\n    -webkit-box-direction: normal !important;\\n    -ms-flex-direction: row !important;\\n    flex-direction: row !important; }\\n  .flex-xl-column {\\n    -webkit-box-orient: vertical !important;\\n    -webkit-box-direction: normal !important;\\n    -ms-flex-direction: column !important;\\n    flex-direction: column !important; }\\n  .flex-xl-row-reverse {\\n    -webkit-box-orient: horizontal !important;\\n    -webkit-box-direction: reverse !important;\\n    -ms-flex-direction: row-reverse !important;\\n    flex-direction: row-reverse !important; }\\n  .flex-xl-column-reverse {\\n    -webkit-box-orient: vertical !important;\\n    -webkit-box-direction: reverse !important;\\n    -ms-flex-direction: column-reverse !important;\\n    flex-direction: column-reverse !important; }\\n  .flex-xl-wrap {\\n    -ms-flex-wrap: wrap !important;\\n    flex-wrap: wrap !important; }\\n  .flex-xl-nowrap {\\n    -ms-flex-wrap: nowrap !important;\\n    flex-wrap: nowrap !important; }\\n  .flex-xl-wrap-reverse {\\n    -ms-flex-wrap: wrap-reverse !important;\\n    flex-wrap: wrap-reverse !important; }\\n  .justify-content-xl-start {\\n    -webkit-box-pack: start !important;\\n    -ms-flex-pack: start !important;\\n    justify-content: flex-start !important; }\\n  .justify-content-xl-end {\\n    -webkit-box-pack: end !important;\\n    -ms-flex-pack: end !important;\\n    justify-content: flex-end !important; }\\n  .justify-content-xl-center {\\n    -webkit-box-pack: center !important;\\n    -ms-flex-pack: center !important;\\n    justify-content: center !important; }\\n  .justify-content-xl-between {\\n    -webkit-box-pack: justify !important;\\n    -ms-flex-pack: justify !important;\\n    justify-content: space-between !important; }\\n  .justify-content-xl-around {\\n    -ms-flex-pack: distribute !important;\\n    justify-content: space-around !important; }\\n  .align-items-xl-start {\\n    -webkit-box-align: start !important;\\n    -ms-flex-align: start !important;\\n    align-items: flex-start !important; }\\n  .align-items-xl-end {\\n    -webkit-box-align: end !important;\\n    -ms-flex-align: end !important;\\n    align-items: flex-end !important; }\\n  .align-items-xl-center {\\n    -webkit-box-align: center !important;\\n    -ms-flex-align: center !important;\\n    align-items: center !important; }\\n  .align-items-xl-baseline {\\n    -webkit-box-align: baseline !important;\\n    -ms-flex-align: baseline !important;\\n    align-items: baseline !important; }\\n  .align-items-xl-stretch {\\n    -webkit-box-align: stretch !important;\\n    -ms-flex-align: stretch !important;\\n    align-items: stretch !important; }\\n  .align-content-xl-start {\\n    -ms-flex-line-pack: start !important;\\n    align-content: flex-start !important; }\\n  .align-content-xl-end {\\n    -ms-flex-line-pack: end !important;\\n    align-content: flex-end !important; }\\n  .align-content-xl-center {\\n    -ms-flex-line-pack: center !important;\\n    align-content: center !important; }\\n  .align-content-xl-between {\\n    -ms-flex-line-pack: justify !important;\\n    align-content: space-between !important; }\\n  .align-content-xl-around {\\n    -ms-flex-line-pack: distribute !important;\\n    align-content: space-around !important; }\\n  .align-content-xl-stretch {\\n    -ms-flex-line-pack: stretch !important;\\n    align-content: stretch !important; }\\n  .align-self-xl-auto {\\n    -ms-flex-item-align: auto !important;\\n    align-self: auto !important; }\\n  .align-self-xl-start {\\n    -ms-flex-item-align: start !important;\\n    align-self: flex-start !important; }\\n  .align-self-xl-end {\\n    -ms-flex-item-align: end !important;\\n    align-self: flex-end !important; }\\n  .align-self-xl-center {\\n    -ms-flex-item-align: center !important;\\n    align-self: center !important; }\\n  .align-self-xl-baseline {\\n    -ms-flex-item-align: baseline !important;\\n    align-self: baseline !important; }\\n  .align-self-xl-stretch {\\n    -ms-flex-item-align: stretch !important;\\n    align-self: stretch !important; } }\\n\\n.col {\\n  -ms-flex-preferred-size: 0;\\n  flex-basis: 0;\\n  -ms-flex-positive: 1;\\n  flex-grow: 1;\\n  max-width: 100%; }\\n\\n.col-auto {\\n  -ms-flex: 0 0 auto;\\n  flex: 0 0 auto;\\n  width: auto;\\n  max-width: 100%; }\\n\\n@keyframes spin {\\n  from {\\n    transform: scale(1) rotate(0deg); }\\n  to {\\n    transform: scale(1) rotate(360deg); } }\\n\\n@keyframes highlight {\\n  from {\\n    background: rgba(255, 255, 0, 0.5); }\\n  to {\\n    background: none; } }\\n\\n.padding-top {\\n  padding-top: 7px; }\\n  .padding-top.half {\\n    padding-top: 3px; }\\n  .padding-top.x2 {\\n    padding-top: 12px; }\\n  .padding-top.x3 {\\n    padding-top: 21px; }\\n\\n.padding-bottom {\\n  padding-bottom: 7px; }\\n  .padding-bottom.half {\\n    padding-bottom: 3px; }\\n  .padding-bottom.x1 {\\n    padding-bottom: 4px; }\\n  .padding-bottom.x2 {\\n    padding-bottom: 12px; }\\n  .padding-bottom.x3 {\\n    padding-bottom: 21px; }\\n  .padding-bottom .control-label {\\n    font-weight: 600; }\\n    .padding-bottom .control-label.text-left {\\n      text-align: left; }\\n\\n.padding-left {\\n  padding-left: 7px; }\\n  .padding-left.x2 {\\n    padding-left: 12px; }\\n  .padding-left.x3 {\\n    padding-left: 21px; }\\n\\n.padding-right {\\n  padding-right: 7px; }\\n  .padding-right.x2 {\\n    padding-right: 12px; }\\n  .padding-right.x3 {\\n    padding-right: 21px; }\\n\\n.margin-right {\\n  margin-right: 7px; }\\n  .margin-right.margin-right--half {\\n    margin-right: 3px; }\\n  .margin-right.x2 {\\n    margin-right: 12px; }\\n  .margin-right.x3 {\\n    margin-right: 21px; }\\n\\n.margin-left {\\n  margin-left: 7px; }\\n  .margin-left.x2 {\\n    margin-left: 12px; }\\n  .margin-left.x3 {\\n    margin-left: 21px; }\\n\\n.margin-top {\\n  margin-top: 7px; }\\n  .margin-top.margin-top--half {\\n    margin-top: 4px; }\\n  .margin-top.x2 {\\n    margin-top: 12px; }\\n  .margin-top.x3 {\\n    margin-top: 21px; }\\n\\n.margin-bottom {\\n  margin-bottom: 7px; }\\n  .margin-bottom.margin-bottom--half {\\n    margin-top: 4px; }\\n  .margin-bottom.x2 {\\n    margin-bottom: 12px; }\\n  .margin-bottom.x3 {\\n    margin-bottom: 21px; }\\n\\n.d-block {\\n  display: block; }\\n\\n.a11y--focused {\\n  border-radius: 4px;\\n  box-shadow: 0 0 0 1px 2px #166de0; }\\n\\n.hidden-label {\\n  position: absolute;\\n  overflow: hidden;\\n  height: 1px;\\n  width: 1px;\\n  margin: -1px;\\n  padding: 0;\\n  border: 0; }\\n\\n.Separator {\\n  height: 2em;\\n  margin: 0;\\n  position: relative;\\n  text-align: center;\\n  z-index: 0;\\n  pointer-events: none;\\n  z-index: 1;\\n  height: 1px;\\n  margin-bottom: 1em;\\n  margin-top: -1em; }\\n  .Separator:before, .Separator:after {\\n    content: '';\\n    display: none;\\n    height: 1em;\\n    left: 0;\\n    position: absolute;\\n    width: 100%; }\\n  .Separator:before {\\n    bottom: 0; }\\n  .Separator:after {\\n    top: 0; }\\n  .Separator.hovered--after:before {\\n    background: #f5f5f5;\\n    display: block; }\\n  .Separator.hovered--before:after {\\n    background: #f5f5f5;\\n    display: block; }\\n  .Separator .separator__hr {\\n    border-top: 1px solid var(--center-channel-color-20);\\n    margin: 0;\\n    position: relative;\\n    top: 1em;\\n    z-index: 5; }\\n  .Separator .separator__text {\\n    -webkit-border-radius: 50px;\\n    -moz-border-radius: 50px;\\n    -ms-border-radius: 50px;\\n    -o-border-radius: 50px;\\n    border-radius: 50px;\\n    background: var(--center-channel-bg);\\n    color: var(--center-channel-color);\\n    display: inline-block;\\n    font-size: 13px;\\n    font-weight: 700;\\n    line-height: 2em;\\n    padding: 0 1em;\\n    position: relative;\\n    z-index: 5; }\\n\\n@media screen and (max-width: 1440px) {\\n  .Separator.hovered--comment:before, .Separator.hovered--comment:after {\\n    background: none !important; } }\\n\\n@media screen and (max-width: 768px) {\\n  .Separator.hovered--after:before {\\n    background: none; }\\n  .Separator.hovered--before:after {\\n    background: none; } }\\n\\n@media print {\\n  .Separator .separator__hr {\\n    top: 1.7em; } }\\n\", \"\"]);\n","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".d-flex {\\n  display: -webkit-box !important;\\n  display: -ms-flexbox !important;\\n  display: flex !important; }\\n\\n.d-inline-flex {\\n  display: -webkit-inline-box !important;\\n  display: -ms-inline-flexbox !important;\\n  display: inline-flex !important; }\\n\\n.flex-row {\\n  -webkit-box-orient: horizontal !important;\\n  -webkit-box-direction: normal !important;\\n  -ms-flex-direction: row !important;\\n  flex-direction: row !important; }\\n\\n.flex-column {\\n  -webkit-box-orient: vertical !important;\\n  -webkit-box-direction: normal !important;\\n  -ms-flex-direction: column !important;\\n  flex-direction: column !important; }\\n\\n.flex-row-reverse {\\n  -webkit-box-orient: horizontal !important;\\n  -webkit-box-direction: reverse !important;\\n  -ms-flex-direction: row-reverse !important;\\n  flex-direction: row-reverse !important; }\\n\\n.flex-column-reverse {\\n  -webkit-box-orient: vertical !important;\\n  -webkit-box-direction: reverse !important;\\n  -ms-flex-direction: column-reverse !important;\\n  flex-direction: column-reverse !important; }\\n\\n.flex-wrap {\\n  -ms-flex-wrap: wrap !important;\\n  flex-wrap: wrap !important; }\\n\\n.flex-nowrap {\\n  -ms-flex-wrap: nowrap !important;\\n  flex-wrap: nowrap !important; }\\n\\n.flex-wrap-reverse {\\n  -ms-flex-wrap: wrap-reverse !important;\\n  flex-wrap: wrap-reverse !important; }\\n\\n.justify-content-start {\\n  -webkit-box-pack: start !important;\\n  -ms-flex-pack: start !important;\\n  justify-content: flex-start !important; }\\n\\n.justify-content-end {\\n  -webkit-box-pack: end !important;\\n  -ms-flex-pack: end !important;\\n  justify-content: flex-end !important; }\\n\\n.justify-content-center {\\n  -webkit-box-pack: center !important;\\n  -ms-flex-pack: center !important;\\n  justify-content: center !important; }\\n\\n.justify-content-between {\\n  -webkit-box-pack: justify !important;\\n  -ms-flex-pack: justify !important;\\n  justify-content: space-between !important; }\\n\\n.justify-content-around {\\n  -ms-flex-pack: distribute !important;\\n  justify-content: space-around !important; }\\n\\n.align-items-start {\\n  -webkit-box-align: start !important;\\n  -ms-flex-align: start !important;\\n  align-items: flex-start !important; }\\n\\n.align-items-end {\\n  -webkit-box-align: end !important;\\n  -ms-flex-align: end !important;\\n  align-items: flex-end !important; }\\n\\n.align-items-center {\\n  -webkit-box-align: center !important;\\n  -ms-flex-align: center !important;\\n  align-items: center !important; }\\n\\n.align-items-baseline {\\n  -webkit-box-align: baseline !important;\\n  -ms-flex-align: baseline !important;\\n  align-items: baseline !important; }\\n\\n.align-items-stretch {\\n  -webkit-box-align: stretch !important;\\n  -ms-flex-align: stretch !important;\\n  align-items: stretch !important; }\\n\\n.align-content-start {\\n  -ms-flex-line-pack: start !important;\\n  align-content: flex-start !important; }\\n\\n.align-content-end {\\n  -ms-flex-line-pack: end !important;\\n  align-content: flex-end !important; }\\n\\n.align-content-center {\\n  -ms-flex-line-pack: center !important;\\n  align-content: center !important; }\\n\\n.align-content-between {\\n  -ms-flex-line-pack: justify !important;\\n  align-content: space-between !important; }\\n\\n.align-content-around {\\n  -ms-flex-line-pack: distribute !important;\\n  align-content: space-around !important; }\\n\\n.align-content-stretch {\\n  -ms-flex-line-pack: stretch !important;\\n  align-content: stretch !important; }\\n\\n.align-self-auto {\\n  -ms-flex-item-align: auto !important;\\n  align-self: auto !important; }\\n\\n.align-self-start {\\n  -ms-flex-item-align: start !important;\\n  align-self: flex-start !important; }\\n\\n.align-self-end {\\n  -ms-flex-item-align: end !important;\\n  align-self: flex-end !important; }\\n\\n.align-self-center {\\n  -ms-flex-item-align: center !important;\\n  align-self: center !important; }\\n\\n.align-self-baseline {\\n  -ms-flex-item-align: baseline !important;\\n  align-self: baseline !important; }\\n\\n.align-self-stretch {\\n  -ms-flex-item-align: stretch !important;\\n  align-self: stretch !important; }\\n\\n@media (min-width: 576px) {\\n  .flex-sm-row {\\n    -webkit-box-orient: horizontal !important;\\n    -webkit-box-direction: normal !important;\\n    -ms-flex-direction: row !important;\\n    flex-direction: row !important; }\\n  .flex-sm-column {\\n    -webkit-box-orient: vertical !important;\\n    -webkit-box-direction: normal !important;\\n    -ms-flex-direction: column !important;\\n    flex-direction: column !important; }\\n  .flex-sm-row-reverse {\\n    -webkit-box-orient: horizontal !important;\\n    -webkit-box-direction: reverse !important;\\n    -ms-flex-direction: row-reverse !important;\\n    flex-direction: row-reverse !important; }\\n  .flex-sm-column-reverse {\\n    -webkit-box-orient: vertical !important;\\n    -webkit-box-direction: reverse !important;\\n    -ms-flex-direction: column-reverse !important;\\n    flex-direction: column-reverse !important; }\\n  .flex-sm-wrap {\\n    -ms-flex-wrap: wrap !important;\\n    flex-wrap: wrap !important; }\\n  .flex-sm-nowrap {\\n    -ms-flex-wrap: nowrap !important;\\n    flex-wrap: nowrap !important; }\\n  .flex-sm-wrap-reverse {\\n    -ms-flex-wrap: wrap-reverse !important;\\n    flex-wrap: wrap-reverse !important; }\\n  .justify-content-sm-start {\\n    -webkit-box-pack: start !important;\\n    -ms-flex-pack: start !important;\\n    justify-content: flex-start !important; }\\n  .justify-content-sm-end {\\n    -webkit-box-pack: end !important;\\n    -ms-flex-pack: end !important;\\n    justify-content: flex-end !important; }\\n  .justify-content-sm-center {\\n    -webkit-box-pack: center !important;\\n    -ms-flex-pack: center !important;\\n    justify-content: center !important; }\\n  .justify-content-sm-between {\\n    -webkit-box-pack: justify !important;\\n    -ms-flex-pack: justify !important;\\n    justify-content: space-between !important; }\\n  .justify-content-sm-around {\\n    -ms-flex-pack: distribute !important;\\n    justify-content: space-around !important; }\\n  .align-items-sm-start {\\n    -webkit-box-align: start !important;\\n    -ms-flex-align: start !important;\\n    align-items: flex-start !important; }\\n  .align-items-sm-end {\\n    -webkit-box-align: end !important;\\n    -ms-flex-align: end !important;\\n    align-items: flex-end !important; }\\n  .align-items-sm-center {\\n    -webkit-box-align: center !important;\\n    -ms-flex-align: center !important;\\n    align-items: center !important; }\\n  .align-items-sm-baseline {\\n    -webkit-box-align: baseline !important;\\n    -ms-flex-align: baseline !important;\\n    align-items: baseline !important; }\\n  .align-items-sm-stretch {\\n    -webkit-box-align: stretch !important;\\n    -ms-flex-align: stretch !important;\\n    align-items: stretch !important; }\\n  .align-content-sm-start {\\n    -ms-flex-line-pack: start !important;\\n    align-content: flex-start !important; }\\n  .align-content-sm-end {\\n    -ms-flex-line-pack: end !important;\\n    align-content: flex-end !important; }\\n  .align-content-sm-center {\\n    -ms-flex-line-pack: center !important;\\n    align-content: center !important; }\\n  .align-content-sm-between {\\n    -ms-flex-line-pack: justify !important;\\n    align-content: space-between !important; }\\n  .align-content-sm-around {\\n    -ms-flex-line-pack: distribute !important;\\n    align-content: space-around !important; }\\n  .align-content-sm-stretch {\\n    -ms-flex-line-pack: stretch !important;\\n    align-content: stretch !important; }\\n  .align-self-sm-auto {\\n    -ms-flex-item-align: auto !important;\\n    align-self: auto !important; }\\n  .align-self-sm-start {\\n    -ms-flex-item-align: start !important;\\n    align-self: flex-start !important; }\\n  .align-self-sm-end {\\n    -ms-flex-item-align: end !important;\\n    align-self: flex-end !important; }\\n  .align-self-sm-center {\\n    -ms-flex-item-align: center !important;\\n    align-self: center !important; }\\n  .align-self-sm-baseline {\\n    -ms-flex-item-align: baseline !important;\\n    align-self: baseline !important; }\\n  .align-self-sm-stretch {\\n    -ms-flex-item-align: stretch !important;\\n    align-self: stretch !important; } }\\n\\n@media (min-width: 768px) {\\n  .flex-md-row {\\n    -webkit-box-orient: horizontal !important;\\n    -webkit-box-direction: normal !important;\\n    -ms-flex-direction: row !important;\\n    flex-direction: row !important; }\\n  .flex-md-column {\\n    -webkit-box-orient: vertical !important;\\n    -webkit-box-direction: normal !important;\\n    -ms-flex-direction: column !important;\\n    flex-direction: column !important; }\\n  .flex-md-row-reverse {\\n    -webkit-box-orient: horizontal !important;\\n    -webkit-box-direction: reverse !important;\\n    -ms-flex-direction: row-reverse !important;\\n    flex-direction: row-reverse !important; }\\n  .flex-md-column-reverse {\\n    -webkit-box-orient: vertical !important;\\n    -webkit-box-direction: reverse !important;\\n    -ms-flex-direction: column-reverse !important;\\n    flex-direction: column-reverse !important; }\\n  .flex-md-wrap {\\n    -ms-flex-wrap: wrap !important;\\n    flex-wrap: wrap !important; }\\n  .flex-md-nowrap {\\n    -ms-flex-wrap: nowrap !important;\\n    flex-wrap: nowrap !important; }\\n  .flex-md-wrap-reverse {\\n    -ms-flex-wrap: wrap-reverse !important;\\n    flex-wrap: wrap-reverse !important; }\\n  .justify-content-md-start {\\n    -webkit-box-pack: start !important;\\n    -ms-flex-pack: start !important;\\n    justify-content: flex-start !important; }\\n  .justify-content-md-end {\\n    -webkit-box-pack: end !important;\\n    -ms-flex-pack: end !important;\\n    justify-content: flex-end !important; }\\n  .justify-content-md-center {\\n    -webkit-box-pack: center !important;\\n    -ms-flex-pack: center !important;\\n    justify-content: center !important; }\\n  .justify-content-md-between {\\n    -webkit-box-pack: justify !important;\\n    -ms-flex-pack: justify !important;\\n    justify-content: space-between !important; }\\n  .justify-content-md-around {\\n    -ms-flex-pack: distribute !important;\\n    justify-content: space-around !important; }\\n  .align-items-md-start {\\n    -webkit-box-align: start !important;\\n    -ms-flex-align: start !important;\\n    align-items: flex-start !important; }\\n  .align-items-md-end {\\n    -webkit-box-align: end !important;\\n    -ms-flex-align: end !important;\\n    align-items: flex-end !important; }\\n  .align-items-md-center {\\n    -webkit-box-align: center !important;\\n    -ms-flex-align: center !important;\\n    align-items: center !important; }\\n  .align-items-md-baseline {\\n    -webkit-box-align: baseline !important;\\n    -ms-flex-align: baseline !important;\\n    align-items: baseline !important; }\\n  .align-items-md-stretch {\\n    -webkit-box-align: stretch !important;\\n    -ms-flex-align: stretch !important;\\n    align-items: stretch !important; }\\n  .align-content-md-start {\\n    -ms-flex-line-pack: start !important;\\n    align-content: flex-start !important; }\\n  .align-content-md-end {\\n    -ms-flex-line-pack: end !important;\\n    align-content: flex-end !important; }\\n  .align-content-md-center {\\n    -ms-flex-line-pack: center !important;\\n    align-content: center !important; }\\n  .align-content-md-between {\\n    -ms-flex-line-pack: justify !important;\\n    align-content: space-between !important; }\\n  .align-content-md-around {\\n    -ms-flex-line-pack: distribute !important;\\n    align-content: space-around !important; }\\n  .align-content-md-stretch {\\n    -ms-flex-line-pack: stretch !important;\\n    align-content: stretch !important; }\\n  .align-self-md-auto {\\n    -ms-flex-item-align: auto !important;\\n    align-self: auto !important; }\\n  .align-self-md-start {\\n    -ms-flex-item-align: start !important;\\n    align-self: flex-start !important; }\\n  .align-self-md-end {\\n    -ms-flex-item-align: end !important;\\n    align-self: flex-end !important; }\\n  .align-self-md-center {\\n    -ms-flex-item-align: center !important;\\n    align-self: center !important; }\\n  .align-self-md-baseline {\\n    -ms-flex-item-align: baseline !important;\\n    align-self: baseline !important; }\\n  .align-self-md-stretch {\\n    -ms-flex-item-align: stretch !important;\\n    align-self: stretch !important; } }\\n\\n@media (min-width: 992px) {\\n  .flex-lg-row {\\n    -webkit-box-orient: horizontal !important;\\n    -webkit-box-direction: normal !important;\\n    -ms-flex-direction: row !important;\\n    flex-direction: row !important; }\\n  .flex-lg-column {\\n    -webkit-box-orient: vertical !important;\\n    -webkit-box-direction: normal !important;\\n    -ms-flex-direction: column !important;\\n    flex-direction: column !important; }\\n  .flex-lg-row-reverse {\\n    -webkit-box-orient: horizontal !important;\\n    -webkit-box-direction: reverse !important;\\n    -ms-flex-direction: row-reverse !important;\\n    flex-direction: row-reverse !important; }\\n  .flex-lg-column-reverse {\\n    -webkit-box-orient: vertical !important;\\n    -webkit-box-direction: reverse !important;\\n    -ms-flex-direction: column-reverse !important;\\n    flex-direction: column-reverse !important; }\\n  .flex-lg-wrap {\\n    -ms-flex-wrap: wrap !important;\\n    flex-wrap: wrap !important; }\\n  .flex-lg-nowrap {\\n    -ms-flex-wrap: nowrap !important;\\n    flex-wrap: nowrap !important; }\\n  .flex-lg-wrap-reverse {\\n    -ms-flex-wrap: wrap-reverse !important;\\n    flex-wrap: wrap-reverse !important; }\\n  .justify-content-lg-start {\\n    -webkit-box-pack: start !important;\\n    -ms-flex-pack: start !important;\\n    justify-content: flex-start !important; }\\n  .justify-content-lg-end {\\n    -webkit-box-pack: end !important;\\n    -ms-flex-pack: end !important;\\n    justify-content: flex-end !important; }\\n  .justify-content-lg-center {\\n    -webkit-box-pack: center !important;\\n    -ms-flex-pack: center !important;\\n    justify-content: center !important; }\\n  .justify-content-lg-between {\\n    -webkit-box-pack: justify !important;\\n    -ms-flex-pack: justify !important;\\n    justify-content: space-between !important; }\\n  .justify-content-lg-around {\\n    -ms-flex-pack: distribute !important;\\n    justify-content: space-around !important; }\\n  .align-items-lg-start {\\n    -webkit-box-align: start !important;\\n    -ms-flex-align: start !important;\\n    align-items: flex-start !important; }\\n  .align-items-lg-end {\\n    -webkit-box-align: end !important;\\n    -ms-flex-align: end !important;\\n    align-items: flex-end !important; }\\n  .align-items-lg-center {\\n    -webkit-box-align: center !important;\\n    -ms-flex-align: center !important;\\n    align-items: center !important; }\\n  .align-items-lg-baseline {\\n    -webkit-box-align: baseline !important;\\n    -ms-flex-align: baseline !important;\\n    align-items: baseline !important; }\\n  .align-items-lg-stretch {\\n    -webkit-box-align: stretch !important;\\n    -ms-flex-align: stretch !important;\\n    align-items: stretch !important; }\\n  .align-content-lg-start {\\n    -ms-flex-line-pack: start !important;\\n    align-content: flex-start !important; }\\n  .align-content-lg-end {\\n    -ms-flex-line-pack: end !important;\\n    align-content: flex-end !important; }\\n  .align-content-lg-center {\\n    -ms-flex-line-pack: center !important;\\n    align-content: center !important; }\\n  .align-content-lg-between {\\n    -ms-flex-line-pack: justify !important;\\n    align-content: space-between !important; }\\n  .align-content-lg-around {\\n    -ms-flex-line-pack: distribute !important;\\n    align-content: space-around !important; }\\n  .align-content-lg-stretch {\\n    -ms-flex-line-pack: stretch !important;\\n    align-content: stretch !important; }\\n  .align-self-lg-auto {\\n    -ms-flex-item-align: auto !important;\\n    align-self: auto !important; }\\n  .align-self-lg-start {\\n    -ms-flex-item-align: start !important;\\n    align-self: flex-start !important; }\\n  .align-self-lg-end {\\n    -ms-flex-item-align: end !important;\\n    align-self: flex-end !important; }\\n  .align-self-lg-center {\\n    -ms-flex-item-align: center !important;\\n    align-self: center !important; }\\n  .align-self-lg-baseline {\\n    -ms-flex-item-align: baseline !important;\\n    align-self: baseline !important; }\\n  .align-self-lg-stretch {\\n    -ms-flex-item-align: stretch !important;\\n    align-self: stretch !important; } }\\n\\n@media (min-width: 1200px) {\\n  .flex-xl-row {\\n    -webkit-box-orient: horizontal !important;\\n    -webkit-box-direction: normal !important;\\n    -ms-flex-direction: row !important;\\n    flex-direction: row !important; }\\n  .flex-xl-column {\\n    -webkit-box-orient: vertical !important;\\n    -webkit-box-direction: normal !important;\\n    -ms-flex-direction: column !important;\\n    flex-direction: column !important; }\\n  .flex-xl-row-reverse {\\n    -webkit-box-orient: horizontal !important;\\n    -webkit-box-direction: reverse !important;\\n    -ms-flex-direction: row-reverse !important;\\n    flex-direction: row-reverse !important; }\\n  .flex-xl-column-reverse {\\n    -webkit-box-orient: vertical !important;\\n    -webkit-box-direction: reverse !important;\\n    -ms-flex-direction: column-reverse !important;\\n    flex-direction: column-reverse !important; }\\n  .flex-xl-wrap {\\n    -ms-flex-wrap: wrap !important;\\n    flex-wrap: wrap !important; }\\n  .flex-xl-nowrap {\\n    -ms-flex-wrap: nowrap !important;\\n    flex-wrap: nowrap !important; }\\n  .flex-xl-wrap-reverse {\\n    -ms-flex-wrap: wrap-reverse !important;\\n    flex-wrap: wrap-reverse !important; }\\n  .justify-content-xl-start {\\n    -webkit-box-pack: start !important;\\n    -ms-flex-pack: start !important;\\n    justify-content: flex-start !important; }\\n  .justify-content-xl-end {\\n    -webkit-box-pack: end !important;\\n    -ms-flex-pack: end !important;\\n    justify-content: flex-end !important; }\\n  .justify-content-xl-center {\\n    -webkit-box-pack: center !important;\\n    -ms-flex-pack: center !important;\\n    justify-content: center !important; }\\n  .justify-content-xl-between {\\n    -webkit-box-pack: justify !important;\\n    -ms-flex-pack: justify !important;\\n    justify-content: space-between !important; }\\n  .justify-content-xl-around {\\n    -ms-flex-pack: distribute !important;\\n    justify-content: space-around !important; }\\n  .align-items-xl-start {\\n    -webkit-box-align: start !important;\\n    -ms-flex-align: start !important;\\n    align-items: flex-start !important; }\\n  .align-items-xl-end {\\n    -webkit-box-align: end !important;\\n    -ms-flex-align: end !important;\\n    align-items: flex-end !important; }\\n  .align-items-xl-center {\\n    -webkit-box-align: center !important;\\n    -ms-flex-align: center !important;\\n    align-items: center !important; }\\n  .align-items-xl-baseline {\\n    -webkit-box-align: baseline !important;\\n    -ms-flex-align: baseline !important;\\n    align-items: baseline !important; }\\n  .align-items-xl-stretch {\\n    -webkit-box-align: stretch !important;\\n    -ms-flex-align: stretch !important;\\n    align-items: stretch !important; }\\n  .align-content-xl-start {\\n    -ms-flex-line-pack: start !important;\\n    align-content: flex-start !important; }\\n  .align-content-xl-end {\\n    -ms-flex-line-pack: end !important;\\n    align-content: flex-end !important; }\\n  .align-content-xl-center {\\n    -ms-flex-line-pack: center !important;\\n    align-content: center !important; }\\n  .align-content-xl-between {\\n    -ms-flex-line-pack: justify !important;\\n    align-content: space-between !important; }\\n  .align-content-xl-around {\\n    -ms-flex-line-pack: distribute !important;\\n    align-content: space-around !important; }\\n  .align-content-xl-stretch {\\n    -ms-flex-line-pack: stretch !important;\\n    align-content: stretch !important; }\\n  .align-self-xl-auto {\\n    -ms-flex-item-align: auto !important;\\n    align-self: auto !important; }\\n  .align-self-xl-start {\\n    -ms-flex-item-align: start !important;\\n    align-self: flex-start !important; }\\n  .align-self-xl-end {\\n    -ms-flex-item-align: end !important;\\n    align-self: flex-end !important; }\\n  .align-self-xl-center {\\n    -ms-flex-item-align: center !important;\\n    align-self: center !important; }\\n  .align-self-xl-baseline {\\n    -ms-flex-item-align: baseline !important;\\n    align-self: baseline !important; }\\n  .align-self-xl-stretch {\\n    -ms-flex-item-align: stretch !important;\\n    align-self: stretch !important; } }\\n\\n.col {\\n  -ms-flex-preferred-size: 0;\\n  flex-basis: 0;\\n  -ms-flex-positive: 1;\\n  flex-grow: 1;\\n  max-width: 100%; }\\n\\n.col-auto {\\n  -ms-flex: 0 0 auto;\\n  flex: 0 0 auto;\\n  width: auto;\\n  max-width: 100%; }\\n\\n@keyframes spin {\\n  from {\\n    transform: scale(1) rotate(0deg); }\\n  to {\\n    transform: scale(1) rotate(360deg); } }\\n\\n@keyframes highlight {\\n  from {\\n    background: rgba(255, 255, 0, 0.5); }\\n  to {\\n    background: none; } }\\n\\n.padding-top {\\n  padding-top: 7px; }\\n  .padding-top.half {\\n    padding-top: 3px; }\\n  .padding-top.x2 {\\n    padding-top: 12px; }\\n  .padding-top.x3 {\\n    padding-top: 21px; }\\n\\n.padding-bottom {\\n  padding-bottom: 7px; }\\n  .padding-bottom.half {\\n    padding-bottom: 3px; }\\n  .padding-bottom.x1 {\\n    padding-bottom: 4px; }\\n  .padding-bottom.x2 {\\n    padding-bottom: 12px; }\\n  .padding-bottom.x3 {\\n    padding-bottom: 21px; }\\n  .padding-bottom .control-label {\\n    font-weight: 600; }\\n    .padding-bottom .control-label.text-left {\\n      text-align: left; }\\n\\n.padding-left {\\n  padding-left: 7px; }\\n  .padding-left.x2 {\\n    padding-left: 12px; }\\n  .padding-left.x3 {\\n    padding-left: 21px; }\\n\\n.padding-right {\\n  padding-right: 7px; }\\n  .padding-right.x2 {\\n    padding-right: 12px; }\\n  .padding-right.x3 {\\n    padding-right: 21px; }\\n\\n.margin-right {\\n  margin-right: 7px; }\\n  .margin-right.margin-right--half {\\n    margin-right: 3px; }\\n  .margin-right.x2 {\\n    margin-right: 12px; }\\n  .margin-right.x3 {\\n    margin-right: 21px; }\\n\\n.margin-left {\\n  margin-left: 7px; }\\n  .margin-left.x2 {\\n    margin-left: 12px; }\\n  .margin-left.x3 {\\n    margin-left: 21px; }\\n\\n.margin-top {\\n  margin-top: 7px; }\\n  .margin-top.margin-top--half {\\n    margin-top: 4px; }\\n  .margin-top.x2 {\\n    margin-top: 12px; }\\n  .margin-top.x3 {\\n    margin-top: 21px; }\\n\\n.margin-bottom {\\n  margin-bottom: 7px; }\\n  .margin-bottom.margin-bottom--half {\\n    margin-top: 4px; }\\n  .margin-bottom.x2 {\\n    margin-bottom: 12px; }\\n  .margin-bottom.x3 {\\n    margin-bottom: 21px; }\\n\\n.d-block {\\n  display: block; }\\n\\n.a11y--focused {\\n  border-radius: 4px;\\n  box-shadow: 0 0 0 1px 2px #166de0; }\\n\\n.hidden-label {\\n  position: absolute;\\n  overflow: hidden;\\n  height: 1px;\\n  width: 1px;\\n  margin: -1px;\\n  padding: 0;\\n  border: 0; }\\n\\n.TeamIcon__content {\\n  -webkit-transition: all 0.25s ease;\\n  -webkit-transition-delay: 0s;\\n  -moz-transition: all 0.25s ease;\\n  -o-transition: all 0.25s ease;\\n  transition: all 0.25s ease false;\\n  -webkit-border-radius: 3px;\\n  -moz-border-radius: 3px;\\n  -ms-border-radius: 3px;\\n  -o-border-radius: 3px;\\n  border-radius: 3px;\\n  background-color: rgba(0, 0, 0, 0.12);\\n  overflow: hidden;\\n  height: 100%; }\\n  .TeamIcon__content.no-hover {\\n    transition: none; }\\n\\n.TeamIcon__initials.TeamIcon__initials__lg {\\n  font-size: 3em; }\\n\\n.TeamIcon__initials.TeamIcon__initials__sm {\\n  font-size: 14px; }\\n\\n.TeamIcon {\\n  -webkit-border-radius: 4px;\\n  -moz-border-radius: 4px;\\n  -ms-border-radius: 4px;\\n  -o-border-radius: 4px;\\n  border-radius: 4px;\\n  font-weight: bold;\\n  height: 45px;\\n  letter-spacing: -.5px;\\n  line-height: 42px;\\n  position: relative;\\n  text-align: center;\\n  text-transform: capitalize;\\n  vertical-align: top;\\n  width: 45px;\\n  margin-right: 20px; }\\n  .TeamIcon.TeamIcon__lg {\\n    width: 94px;\\n    height: 94px;\\n    line-height: 92px; }\\n  .TeamIcon.TeamIcon__sm {\\n    width: 40px;\\n    height: 40px;\\n    line-height: 38px; }\\n  .TeamIcon .TeamIcon__image {\\n    overflow: hidden;\\n    *zoom: 1;\\n    -webkit-background-size: 100% 100%;\\n    -moz-background-size: 100% 100%;\\n    -o-background-size: 100% 100%;\\n    background-size: 100% 100%;\\n    background-color: white;\\n    background-repeat: no-repeat;\\n    width: 45px;\\n    height: 100%; }\\n    .TeamIcon .TeamIcon__image.TeamIcon__lg {\\n      width: 94px; }\\n    .TeamIcon .TeamIcon__image.TeamIcon__sm {\\n      width: 40px; }\\n\", \"\"]);\n","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".Avatar {\\n  border-radius: 50%; }\\n  .Avatar.Avatar-xs {\\n    width: 16px;\\n    min-width: 16px;\\n    height: 16px; }\\n  .Avatar.Avatar-sm {\\n    width: 24px;\\n    min-width: 24px;\\n    height: 24px; }\\n  .Avatar.Avatar-md {\\n    width: 32px;\\n    min-width: 32px;\\n    height: 32px; }\\n  .Avatar.Avatar-lg {\\n    width: 36px;\\n    min-width: 36px;\\n    height: 36px; }\\n  .Avatar.Avatar-xl {\\n    width: 50px;\\n    min-width: 50px;\\n    height: 50px; }\\n  .Avatar.Avatar-xxl {\\n    width: 128px;\\n    min-width: 128px;\\n    height: 128px; }\\n\", \"\"]);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\n/* eslint-disable react/no-multi-comp */\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {Dropdown} from 'react-bootstrap';\nimport {RootCloseWrapper} from 'react-overlays';\n\nimport HeaderIconWrapper from 'components/channel_header/components/header_icon_wrapper';\nimport PluginChannelHeaderIcon from '../../components/widgets/icons/plugin_channel_header_icon';\n\nclass CustomMenu extends React.PureComponent {\n    static propTypes = {\n        open: PropTypes.bool,\n        children: PropTypes.node,\n        onClose: PropTypes.func.isRequired,\n        rootCloseEvent: PropTypes.oneOf(['click', 'mousedown']),\n    }\n\n    handleRootClose = () => {\n        this.props.onClose();\n    }\n\n    render() {\n        const {\n            open,\n            rootCloseEvent,\n            children,\n        } = this.props;\n\n        return (\n            <RootCloseWrapper\n                disabled={!open}\n                onRootClose={this.handleRootClose}\n                event={rootCloseEvent}\n            >\n                <ul\n                    role='menu'\n                    className='dropdown-menu channel-header_plugin-dropdown'\n                >\n                    {children}\n                </ul>\n            </RootCloseWrapper>\n        );\n    }\n}\n\nclass CustomToggle extends React.PureComponent {\n    static propTypes = {\n        children: PropTypes.element,\n        dropdownOpen: PropTypes.bool,\n        onClick: PropTypes.func,\n    }\n\n    handleClick = (e) => {\n        this.props.onClick(e);\n    }\n\n    render() {\n        const {children} = this.props;\n\n        let activeClass = '';\n        if (this.props.dropdownOpen) {\n            activeClass = ' active';\n        }\n\n        return (\n            <button\n                id='pluginChannelHeaderButtonDropdown'\n                className={'wide channel-header__icon style--none' + activeClass}\n                type='button'\n                onClick={this.handleClick}\n            >\n                {children}\n            </button>\n        );\n    }\n}\n\nexport default class ChannelHeaderPlug extends React.PureComponent {\n    static propTypes = {\n\n        /*\n         * Components or actions to add as channel header buttons\n         */\n        components: PropTypes.array,\n\n        channel: PropTypes.object.isRequired,\n        channelMember: PropTypes.object.isRequired,\n\n        /*\n         * Logged in user's theme\n         */\n        theme: PropTypes.object.isRequired,\n    }\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            dropdownOpen: false,\n        };\n    }\n\n    toggleDropdown = (dropdownOpen) => {\n        this.setState({dropdownOpen});\n    }\n\n    onClose = () => {\n        this.toggleDropdown(false);\n    }\n\n    fireActionAndClose = (action) => {\n        action(this.props.channel, this.props.channelMember);\n        this.onClose();\n    }\n\n    createButton = (plug) => {\n        return (\n            <HeaderIconWrapper\n                buttonClass='channel-header__icon style--none'\n                iconComponent={plug.icon}\n                onClick={() => plug.action(this.props.channel, this.props.channelMember)}\n                buttonId={plug.id}\n                tooltipKey={'plugin'}\n                tooltipText={plug.tooltipText ? plug.tooltipText : plug.dropdownText}\n            />\n        );\n    }\n\n    createDropdown = (plugs) => {\n        const items = plugs.map((plug) => {\n            return (\n                <li\n                    key={'channelHeaderPlug' + plug.id}\n                >\n                    <a\n                        href='#'\n                        className='d-flex align-items-center'\n                        onClick={() => this.fireActionAndClose(plug.action)}\n                    >\n                        <span className='d-flex align-items-center overflow--ellipsis'>{plug.icon}</span>\n                        <span>{plug.dropdownText}</span>\n                    </a>\n                </li>\n            );\n        });\n\n        return (\n            <div className='flex-child'>\n                <Dropdown\n                    ref='dropdown'\n                    id='channelHeaderPlugDropdown'\n                    onToggle={this.toggleDropdown}\n                    onSelect={this.onSelect}\n                    open={this.state.dropdownOpen}\n                >\n                    <CustomToggle\n                        dropdownOpen={this.state.dropdownOpen}\n                        bsRole='toggle'\n                    >\n                        <div>\n                            <span\n                                id='pluginCount'\n                                className='icon__text'\n                            >\n                                {plugs.length}\n                            </span>\n                            <PluginChannelHeaderIcon\n                                id='pluginChannelHeaderIcon'\n                                className='icon icon__pluginChannelHeader'\n                                aria-hidden='true'\n                            />\n                        </div>\n                    </CustomToggle>\n                    <CustomMenu\n                        bsRole='menu'\n                        open={this.state.dropdownOpen}\n                        onClose={this.onClose}\n                    >\n                        {items}\n                    </CustomMenu>\n                </Dropdown>\n            </div>\n        );\n    }\n\n    render() {\n        const components = this.props.components || [];\n\n        if (components.length === 0) {\n            return null;\n        } else if (components.length === 1) {\n            return this.createButton(components[0]);\n        }\n\n        return this.createDropdown(components);\n    }\n}\n\n/* eslint-enable react/no-multi-comp */\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {getTheme} from 'mattermost-redux/selectors/entities/preferences';\n\nimport ChannelHeaderPlug from './channel_header_plug.jsx';\n\nfunction mapStateToProps(state) {\n    return {\n        components: state.plugins.components.ChannelHeaderButton,\n        theme: getTheme(state),\n    };\n}\n\nexport default connect(mapStateToProps)(ChannelHeaderPlug);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport messageHtmlToComponent from 'utils/message_html_to_component';\nimport {formatText} from 'utils/text_formatting.jsx';\n\n// The following import has intentional side effects. Do not remove without research.\nimport {openInteractiveDialog} from './interactive_dialog';\n\n// Common libraries exposed on window for plugins to use as Webpack externals.\nwindow.React = require('react');\nwindow.ReactDOM = require('react-dom');\nwindow.Redux = require('redux');\nwindow.ReactRedux = require('react-redux');\nwindow.ReactBootstrap = require('react-bootstrap');\nwindow.PostUtils = {formatText, messageHtmlToComponent};\nwindow.PropTypes = require('prop-types');\nwindow.PDFJS = require('pdfjs-dist');\nwindow.openInteractiveDialog = openInteractiveDialog;\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport regeneratorRuntime from 'regenerator-runtime';\n\nimport {Client4} from 'mattermost-redux/client';\n\nimport store from 'stores/redux_store.jsx';\nimport {ActionTypes} from 'utils/constants.jsx';\nimport {getSiteURL} from 'utils/url';\nimport PluginRegistry from 'plugins/registry';\nimport {unregisterAllPluginWebSocketEvents, unregisterPluginReconnectHandler} from 'actions/websocket_actions.jsx';\nimport {unregisterPluginTranslationsSource} from 'actions/views/root';\nimport {unregisterAdminConsolePlugin} from 'actions/admin_actions';\n\n// Plugins may have been compiled with the regenerator runtime. Ensure this remains available\n// as a global export even though the webapp does not depend on same.\nwindow.regeneratorRuntime = regeneratorRuntime;\n\n// plugins records all active web app plugins by id.\nwindow.plugins = {};\n\n// registerPlugin, on the global window object, should be invoked by a plugin's web app bundle as\n// it is loaded.\n//\n// During the beta, plugins manipulated the global window.plugins data structure directly. This\n// remains possible, but is officially deprecated and may be removed in a future release.\nfunction registerPlugin(id, plugin) {\n    window.plugins[id] = plugin;\n}\nwindow.registerPlugin = registerPlugin;\n\n// initializePlugins queries the server for all enabled plugins and loads each in turn.\nexport async function initializePlugins() {\n    if (store.getState().entities.general.config.PluginsEnabled !== 'true') {\n        return;\n    }\n\n    const {data, error} = await getPlugins()(store.dispatch);\n    if (error) {\n        console.error(error); //eslint-disable-line no-console\n        return;\n    }\n\n    if (data == null || data.length === 0) {\n        return;\n    }\n\n    await Promise.all(data.map((m) => {\n        return loadPlugin(m).catch((loadErr) => {\n            console.error(loadErr.message); //eslint-disable-line no-console\n        });\n    }));\n}\n\n// getPlugins queries the server for all enabled plugins\nexport function getPlugins() {\n    return async (dispatch) => {\n        let plugins;\n        try {\n            plugins = await Client4.getWebappPlugins();\n        } catch (error) {\n            return {error};\n        }\n\n        dispatch({type: ActionTypes.RECEIVED_WEBAPP_PLUGINS, data: plugins});\n\n        return {data: plugins};\n    };\n}\n\n// loadedPlugins tracks which plugins have been added as script tags to the page\nconst loadedPlugins = {};\n\n// loadPlugin fetches the web app bundle described by the given manifest, waits for the bundle to\n// load, and then ensures the plugin has been initialized.\nexport function loadPlugin(manifest) {\n    return new Promise((resolve, reject) => {\n        // Don't load it again if previously loaded\n        const oldManifest = loadedPlugins[manifest.id];\n        if (oldManifest && oldManifest.webapp.bundle_path === manifest.webapp.bundle_path) {\n            resolve();\n            return;\n        }\n\n        if (oldManifest) {\n            // upgrading, perform cleanup\n            store.dispatch({type: ActionTypes.REMOVED_WEBAPP_PLUGIN, data: manifest});\n        }\n\n        function onLoad() {\n            initializePlugin(manifest);\n            console.log('Loaded ' + manifest.id + ' plugin'); //eslint-disable-line no-console\n            resolve();\n        }\n\n        function onError() {\n            reject(new Error('Unable to load bundle for plugin ' + manifest.id));\n        }\n\n        // Backwards compatibility for old plugins\n        let bundlePath = manifest.webapp.bundle_path;\n        if (bundlePath.includes('/static/') && !bundlePath.includes('/static/plugins/')) {\n            bundlePath = bundlePath.replace('/static/', '/static/plugins/');\n        }\n\n        console.log('Loading ' + manifest.id + ' plugin'); //eslint-disable-line no-console\n\n        const script = document.createElement('script');\n        script.id = 'plugin_' + manifest.id;\n        script.type = 'text/javascript';\n        script.src = getSiteURL() + bundlePath;\n        script.onload = onLoad;\n        script.onerror = onError;\n\n        document.getElementsByTagName('head')[0].appendChild(script);\n        loadedPlugins[manifest.id] = manifest;\n    });\n}\n\n// initializePlugin creates a registry specific to the plugin and invokes any initialize function\n// on the registered plugin class.\nfunction initializePlugin(manifest) {\n    // Initialize the plugin\n    const plugin = window.plugins[manifest.id];\n    const registry = new PluginRegistry(manifest.id);\n    if (plugin && plugin.initialize) {\n        plugin.initialize(registry, store);\n    }\n}\n\n// removePlugin triggers any uninitialize callback on the registered plugin, unregisters any\n// event handlers, and removes the plugin script from the DOM entirely. The plugin is responsible\n// for removing any of its registered components.\nexport function removePlugin(manifest) {\n    if (!loadedPlugins[manifest.id]) {\n        return;\n    }\n    console.log('Removing ' + manifest.id + ' plugin'); //eslint-disable-line no-console\n\n    delete loadedPlugins[manifest.id];\n\n    store.dispatch({type: ActionTypes.REMOVED_WEBAPP_PLUGIN, data: manifest});\n\n    const plugin = window.plugins[manifest.id];\n    if (plugin && plugin.uninitialize) {\n        plugin.uninitialize();\n\n    // Support the deprecated deinitialize callback from the plugins beta.\n    } else if (plugin && plugin.deinitialize) {\n        plugin.deinitialize();\n    }\n    unregisterAllPluginWebSocketEvents(manifest.id);\n    unregisterPluginReconnectHandler(manifest.id);\n    store.dispatch(unregisterAdminConsolePlugin(manifest.id));\n    unregisterPluginTranslationsSource(manifest.id);\n    const script = document.getElementById('plugin_' + manifest.id);\n    if (!script) {\n        return;\n    }\n    script.parentNode.removeChild(script);\n    console.log('Removed ' + manifest.id + ' plugin'); //eslint-disable-line no-console\n}\n\n// loadPluginsIfNecessary synchronizes the current state of loaded plugins with that of the server,\n// loading any newly added plugins and unloading any removed ones.\nexport async function loadPluginsIfNecessary() {\n    if (store.getState().entities.general.config.PluginsEnabled !== 'true') {\n        return;\n    }\n\n    const oldManifests = store.getState().plugins.plugins;\n\n    const {error} = await getPlugins()(store.dispatch);\n    if (error) {\n        console.error(error); //eslint-disable-line no-console\n        return;\n    }\n\n    const newManifests = store.getState().plugins.plugins;\n\n    // Get new plugins and update existing plugins if version changed\n    Object.values(newManifests).forEach((newManifest) => {\n        const oldManifest = oldManifests[newManifest.id];\n        if (!oldManifest || oldManifest.version !== newManifest.version) {\n            loadPlugin(newManifest).catch((loadErr) => {\n                console.error(loadErr.message); //eslint-disable-line no-console\n            });\n        }\n    });\n\n    // Remove old plugins\n    Object.keys(oldManifests).forEach((id) => {\n        if (!newManifests.hasOwnProperty(id)) {\n            const oldManifest = oldManifests[id];\n            store.dispatch({type: ActionTypes.REMOVED_WEBAPP_PLUGIN, data: oldManifest});\n            removePlugin(oldManifest);\n        }\n    });\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\nimport {\n    IntegrationTypes,\n} from 'mattermost-redux/action_types';\n\nimport {openModal} from 'actions/views/modals';\n\nimport {ModalIdentifiers} from 'utils/constants';\n\nimport InteractiveDialog from 'components/interactive_dialog';\nimport store from '../stores/redux_store';\n\nexport function openInteractiveDialog(dialog) {\n    store.dispatch({type: IntegrationTypes.RECEIVED_DIALOG, data: dialog});\n\n    store.dispatch(openModal({modalId: ModalIdentifiers.INTERACTIVE_DIALOG, dialogType: InteractiveDialog}));\n}\n\n// This code is problematic for a couple of different reasons:\n// * it monitors the store to modify the store: this is perhaps better handled by a saga\n// * it makes importing this file impure by triggering a side-effect which may not be obvious\n// * it's not really located in the \"right place\": dialogs are applicable to non-plugins too\n// * it's nigh impossible to test as written\n//\n// It's worth fixing all of this, but I think this requires some refactoring.\nlet previousTriggerId = '';\nstore.subscribe(() => {\n    const state = store.getState();\n    const currentTriggerId = state.entities.integrations.dialogTriggerId;\n\n    if (currentTriggerId === previousTriggerId) {\n        return;\n    }\n\n    previousTriggerId = currentTriggerId;\n\n    const dialog = state.entities.integrations.dialog || {};\n    if (dialog.trigger_id !== currentTriggerId) {\n        return;\n    }\n\n    store.dispatch(openModal({modalId: ModalIdentifiers.INTERACTIVE_DIALOG, dialogType: InteractiveDialog}));\n});\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {getTheme} from 'mattermost-redux/selectors/entities/preferences';\nimport {getMyCurrentChannelMembership} from 'mattermost-redux/selectors/entities/channels';\n\nimport MobileChannelHeaderPlug from './mobile_channel_header_plug.jsx';\n\nfunction mapStateToProps(state) {\n    return {\n        channelMember: getMyCurrentChannelMembership(state),\n        components: state.plugins.components.MobileChannelHeaderButton,\n        theme: getTheme(state),\n    };\n}\n\nexport default connect(mapStateToProps)(MobileChannelHeaderPlug);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nexport default class MobileChannelHeaderPlug extends React.PureComponent {\n    static propTypes = {\n\n        /*\n         * Components or actions to add as channel header buttons\n         */\n        components: PropTypes.array,\n\n        /*\n         * Set to true if the plug is in the dropdown\n         */\n        isDropdown: PropTypes.bool.isRequired,\n\n        channel: PropTypes.object.isRequired,\n        channelMember: PropTypes.object.isRequired,\n\n        /*\n         * Logged in user's theme\n         */\n        theme: PropTypes.object.isRequired,\n    }\n\n    createButton = (plug) => {\n        const onClick = () => this.fireAction(plug);\n\n        if (this.props.isDropdown) {\n            return (\n                <li\n                    key={'mobileChannelHeaderItem' + plug.id}\n                    role='presentation'\n                    className='MenuItem'\n                >\n                    <a\n                        role='menuitem'\n                        href='#'\n                        onClick={onClick}\n                    >\n                        {plug.dropdownText}\n                    </a>\n                </li>\n            );\n        }\n\n        return (\n            <li className='flex-parent--center'>\n                <button\n                    className='navbar-toggle navbar-right__icon'\n                    onClick={onClick}\n                >\n                    <span className='icon navbar-plugin-button'>\n                        {plug.icon}\n                    </span>\n                </button>\n            </li>\n        );\n    }\n\n    createList(plugs) {\n        return plugs.map(this.createButton);\n    }\n\n    fireAction(plug) {\n        return plug.action(this.props.channel, this.props.channelMember);\n    }\n\n    render() {\n        const components = this.props.components || [];\n\n        if (components.length === 0) {\n            return null;\n        } else if (components.length === 1) {\n            return this.createButton(components[0]);\n        }\n\n        if (!this.props.isDropdown) {\n            return null;\n        }\n\n        return this.createList(components);\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {connect} from 'react-redux';\nimport {getTheme} from 'mattermost-redux/selectors/entities/preferences';\n\nimport Pluggable from './pluggable.jsx';\n\nfunction mapStateToProps(state) {\n    return {\n        components: state.plugins.components,\n        theme: getTheme(state),\n    };\n}\n\nexport default connect(mapStateToProps)(Pluggable);\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nexport default class Pluggable extends React.PureComponent {\n    static propTypes = {\n\n        /*\n         * Should be a single overridable React component. One of this or pluggableName is required\n         */\n        children: PropTypes.element,\n\n        /*\n         * Override the component to be plugged. One of this or children is required\n         */\n        pluggableName: PropTypes.string,\n\n        /*\n         * Components for overriding provided by plugins\n         */\n        components: PropTypes.object.isRequired,\n\n        /*\n         * Logged in user's theme\n         */\n        theme: PropTypes.object.isRequired,\n\n        /*\n         * Id of the specific component to be plugged.\n         */\n        pluggableId: PropTypes.string,\n    }\n\n    render() {\n        const pluggableName = this.props.pluggableName;\n\n        let child;\n        if (this.props.children) {\n            child = React.Children.only(this.props.children).type;\n        } else if (!pluggableName) {\n            return null;\n        }\n\n        const components = this.props.components;\n        const childrenProps = child ? this.props.children.props : {};\n        const componentName = pluggableName || child.getComponentName();\n\n        // Include any props passed to this component or to the child component\n        let props = {...this.props};\n        Reflect.deleteProperty(props, 'children');\n        Reflect.deleteProperty(props, 'components');\n        Reflect.deleteProperty(props, 'pluggableName');\n        props = {...props, ...childrenProps};\n\n        // Override the default component with any registered plugin's component\n        // Select a specific component by pluginId if available\n        if (components.hasOwnProperty(componentName)) {\n            let pluginComponents = components[componentName];\n\n            if (this.props.pluggableId) {\n                pluginComponents = pluginComponents.filter(\n                    (element) => element.id === this.props.pluggableId);\n            }\n\n            const content = pluginComponents.map((p) => {\n                const PluginComponent = p.component;\n                return (\n                    <PluginComponent\n                        {...props}\n                        theme={this.props.theme}\n                        key={componentName + p.id}\n                    />\n                );\n            });\n\n            return (\n                <React.Fragment>\n                    {content}\n                </React.Fragment>\n            );\n        }\n\n        if (child == null) {\n            return null;\n        }\n\n        return React.cloneElement(this.props.children, {...props});\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport reducerRegistry from 'mattermost-redux/store/reducer_registry';\n\nimport {\n    registerPluginWebSocketEvent,\n    unregisterPluginWebSocketEvent,\n    registerPluginReconnectHandler,\n    unregisterPluginReconnectHandler,\n} from 'actions/websocket_actions.jsx';\n\nimport {showRHSPlugin, hideRHSPlugin, toggleRHSPlugin} from 'actions/views/rhs';\n\nimport {\n    registerPluginTranslationsSource,\n} from 'actions/views/root';\n\nimport {\n    registerAdminConsolePlugin,\n    unregisterAdminConsolePlugin,\n    registerAdminConsoleCustomSetting,\n} from 'actions/admin_actions';\n\nimport store from 'stores/redux_store.jsx';\nimport {ActionTypes} from 'utils/constants';\nimport {generateId} from 'utils/utils.jsx';\n\nfunction dispatchPluginComponentAction(name, pluginId, component, id = generateId()) {\n    store.dispatch({\n        type: ActionTypes.RECEIVED_PLUGIN_COMPONENT,\n        name,\n        data: {\n            id,\n            pluginId,\n            component,\n        },\n    });\n\n    return id;\n}\n\nconst resolveReactElement = (element) => {\n    if (typeof element === 'function') {\n        // Allow element to be passed as the name of the component, instead of a React element.\n        return React.createElement(element);\n    }\n\n    return element;\n};\n\nexport default class PluginRegistry {\n    constructor(id) {\n        this.id = id;\n    }\n\n    // Register a component at the root of the channel view of the app.\n    // Accepts a React component. Returns a unique identifier.\n    registerRootComponent(component) {\n        return dispatchPluginComponentAction('Root', this.id, component);\n    }\n\n    // Register a component in the user attributes section of the profile popover (hovercard), below the default user attributes.\n    // Accepts a React component. Returns a unique identifier.\n    registerPopoverUserAttributesComponent(component) {\n        return dispatchPluginComponentAction('PopoverUserAttributes', this.id, component);\n    }\n\n    // Register a component in the user actions of the profile popover (hovercard), below the default actions.\n    // Accepts a React component. Returns a unique identifier.\n    registerPopoverUserActionsComponent(component) {\n        return dispatchPluginComponentAction('PopoverUserActions', this.id, component);\n    }\n\n    // Register a component fixed to the top of the left-hand channel sidebar.\n    // Accepts a React component. Returns a unique identifier.\n    registerLeftSidebarHeaderComponent(component) {\n        return dispatchPluginComponentAction('LeftSidebarHeader', this.id, component);\n    }\n\n    // Register a component fixed to the bottom of the team sidebar. Does not render if\n    // user is only on one team and the team sidebar is not shown.\n    // Accepts a React component. Returns a unique identifier.\n    registerBottomTeamSidebarComponent(component) {\n        return dispatchPluginComponentAction('BottomTeamSidebar', this.id, component);\n    }\n\n    // Register a component fixed to the bottom of the post message.\n    // Accepts a React component. Returns a unique identifier.\n    registerPostMessageAttachmentComponent(component) {\n        return dispatchPluginComponentAction('PostMessageAttachment', this.id, component);\n    }\n\n    // Register a component to show as a tooltip when a user hovers on a link in a post.\n    // Accepts a React component. Returns a unique identifier.\n    registerLinkTooltipComponent(component) {\n        return dispatchPluginComponentAction('LinkTooltip', this.id, component);\n    }\n\n    // Add a button to the channel header. If there are more than one buttons registered by any\n    // plugin, a dropdown menu is created to contain all the plugin buttons.\n    // Accepts the following:\n    // - icon - React element to use as the button's icon\n    // - action - a function called when the button is clicked, passed the channel and channel member as arguments\n    // - dropdown_text - string or React element shown for the dropdown button description\n    // - tooltip_text - string shown for tooltip appear on hover\n    registerChannelHeaderButtonAction(icon, action, dropdownText, tooltipText) {\n        const id = generateId();\n\n        const data = {\n            id,\n            pluginId: this.id,\n            icon: resolveReactElement(icon),\n            action,\n            dropdownText: resolveReactElement(dropdownText),\n            tooltipText,\n        };\n\n        store.dispatch({\n            type: ActionTypes.RECEIVED_PLUGIN_COMPONENT,\n            name: 'ChannelHeaderButton',\n            data,\n        });\n\n        store.dispatch({\n            type: ActionTypes.RECEIVED_PLUGIN_COMPONENT,\n            name: 'MobileChannelHeaderButton',\n            data,\n        });\n\n        return id;\n    }\n\n    // Register a component to render a custom body for posts with a specific type.\n    // Custom post types must be prefixed with 'custom_'.\n    // Custom post types can also apply for ephemeral posts.\n    // Accepts a string type and a component.\n    // Returns a unique identifier.\n    registerPostTypeComponent(type, component) {\n        const id = generateId();\n\n        store.dispatch({\n            type: ActionTypes.RECEIVED_PLUGIN_POST_COMPONENT,\n            data: {\n                id,\n                pluginId: this.id,\n                type,\n                component,\n            },\n        });\n\n        return id;\n    }\n\n    // Register a component to render a custom body for post cards with a specific type.\n    // Custom post types must be prefixed with 'custom_'.\n    // Accepts a string type and a component.\n    // Returns a unique identifier.\n    registerPostCardTypeComponent(type, component) {\n        const id = generateId();\n\n        store.dispatch({\n            type: ActionTypes.RECEIVED_PLUGIN_POST_CARD_COMPONENT,\n            data: {\n                id,\n                pluginId: this.id,\n                type,\n                component,\n            },\n        });\n\n        return id;\n    }\n\n    // Register a component to render a custom embed preview for post links.\n    // Accepts the following:\n    // - match - A function that receives the embed object and returns a\n    //   boolean indicating if the plugin is able to process it.\n    //   The embed object contains the embed `type`, the `url` of the post link\n    //   and in some cases, a `data` object with information related to the\n    //   link (the opengraph or the image details, for example).\n    // - component - The component that renders the embed view for the link\n    // - toggleable - A boolean indicating if the embed view should be collapsable\n    // Returns a unique identifier.\n    registerPostWillRenderEmbedComponent(match, component, toggleable) {\n        const id = generateId();\n\n        store.dispatch({\n            type: ActionTypes.RECEIVED_PLUGIN_COMPONENT,\n            name: 'PostWillRenderEmbedComponent',\n            data: {\n                id,\n                pluginId: this.id,\n                component,\n                match,\n                toggleable,\n            },\n        });\n\n        return id;\n    }\n\n    // Register a main menu list item by providing some text and an action function.\n    // Accepts the following:\n    // - text - A string or React element to display in the menu\n    // - action - A function to trigger when component is clicked on\n    // - mobileIcon - A React element to display as the icon in the menu in mobile view\n    // Returns a unique identifier.\n    registerMainMenuAction(text, action, mobileIcon) {\n        const id = generateId();\n\n        store.dispatch({\n            type: ActionTypes.RECEIVED_PLUGIN_COMPONENT,\n            name: 'MainMenu',\n            data: {\n                id,\n                pluginId: this.id,\n                text: resolveReactElement(text),\n                action,\n                mobileIcon: resolveReactElement(mobileIcon),\n            },\n        });\n\n        return id;\n    }\n\n    // Register a post menu list item by providing some text and an action function.\n    // Accepts the following:\n    // - text - A string or React element to display in the menu\n    // - action - A function to trigger when component is clicked on\n    // - filter - A function whether to apply the plugin into the post' dropdown menu\n    // Returns a unique identifier.\n    registerPostDropdownMenuAction(text, action, filter) {\n        const id = generateId();\n\n        store.dispatch({\n            type: ActionTypes.RECEIVED_PLUGIN_COMPONENT,\n            name: 'PostDropdownMenu',\n            data: {\n                id,\n                pluginId: this.id,\n                text: resolveReactElement(text),\n                action,\n                filter,\n            },\n        });\n\n        return id;\n    }\n\n    // Register a post sub menu list item by providing some text and an action function.\n    // Accepts the following:\n    // - text - A string or React element to display in the menu\n    // - action - A function to trigger when component is clicked on\n    // - filter - A function whether to apply the plugin into the post' dropdown menu\n    //\n    // Returns an unique identifier for the root submenu, and a function to register submenu items.\n    // At this time, only one level of nesting is allowed to avoid rendering issue in the RHS.\n    registerPostDropdownSubMenuAction(text, action, filter) {\n        function registerMenuItem(pluginId, id, parentMenuId, innerText, innerAction, innerFilter) {\n            store.dispatch({\n                type: ActionTypes.RECEIVED_PLUGIN_COMPONENT,\n                name: 'PostDropdownMenu',\n                data: {\n                    id,\n                    parentMenuId,\n                    pluginId,\n                    text: resolveReactElement(innerText),\n                    subMenu: [],\n                    action: innerAction,\n                    filter: innerFilter,\n                },\n            });\n            return function registerSubMenuItem(t, a, f) {\n                if (parentMenuId) {\n                    throw new Error('Submenus are currently limited to a single level.');\n                }\n\n                return registerMenuItem(pluginId, generateId(), id, t, a, f);\n            };\n        }\n        const id = generateId();\n        return {id, rootRegisterMenuItem: registerMenuItem(this.id, id, null, text, action, filter)};\n    }\n\n    // Register a component at the bottom of the post dropdown menu.\n    // Accepts a React component. Returns a unique identifier.\n    registerPostDropdownMenuComponent(component) {\n        return dispatchPluginComponentAction('PostDropdownMenuItem', this.id, component);\n    }\n\n    // Register a file upload method by providing some text, an icon, and an action function.\n    // Accepts the following:\n    // - icon - JSX element to use as the button's icon\n    // - text - A string or JSX element to display in the file upload menu\n    // - action - A function to trigger when the menu item is selected.\n    // Returns a unique identifier.\n    registerFileUploadMethod(icon, action, text) {\n        const id = generateId();\n\n        store.dispatch({\n            type: ActionTypes.RECEIVED_PLUGIN_COMPONENT,\n            name: 'FileUploadMethod',\n            data: {\n                id,\n                pluginId: this.id,\n                text,\n                action,\n                icon,\n            },\n        });\n\n        return id;\n    }\n\n    // Register a hook to intercept file uploads before they take place.\n    // Accepts a function to run before files get uploaded. Receives an array of\n    // files and a function to upload files at a later time as arguments. Must\n    // return an object that can contain two properties:\n    // - message - An error message to display, leave blank or null to display no message\n    // - files - Modified array of files to upload, set to null to reject all files\n    // Returns a unique identifier.\n    registerFilesWillUploadHook(hook) {\n        const id = generateId();\n\n        store.dispatch({\n            type: ActionTypes.RECEIVED_PLUGIN_COMPONENT,\n            name: 'FilesWillUploadHook',\n            data: {\n                id,\n                pluginId: this.id,\n                hook,\n            },\n        });\n\n        return id;\n    }\n\n    // Unregister a component, action or hook using the unique identifier returned after registration.\n    // Accepts a string id.\n    // Returns undefined in all cases.\n    unregisterComponent(componentId) {\n        store.dispatch({\n            type: ActionTypes.REMOVED_PLUGIN_COMPONENT,\n            id: componentId,\n        });\n    }\n\n    // Unregister a component that provided a custom body for posts with a specific type.\n    // Accepts a string id.\n    // Returns undefined in all cases.\n    unregisterPostTypeComponent(componentId) {\n        store.dispatch({\n            type: ActionTypes.REMOVED_PLUGIN_POST_COMPONENT,\n            id: componentId,\n        });\n    }\n\n    // Register a reducer against the Redux store. It will be accessible in redux state\n    // under \"state['plugins-<yourpluginid>']\"\n    // Accepts a reducer. Returns undefined.\n    registerReducer(reducer) {\n        reducerRegistry.register('plugins-' + this.id, reducer);\n    }\n\n    // Register a handler for WebSocket events.\n    // Accepts the following:\n    // - event - the event type, can be a regular server event or an event from plugins.\n    // Plugin events will have \"custom_<pluginid>_\" prepended\n    // - handler - a function to handle the event, receives the event message as an argument\n    // Returns undefined.\n    registerWebSocketEventHandler(event, handler) {\n        registerPluginWebSocketEvent(this.id, event, handler);\n    }\n\n    // Unregister a handler for a custom WebSocket event.\n    // Accepts a string event type.\n    // Returns undefined.\n    unregisterWebSocketEventHandler(event) {\n        unregisterPluginWebSocketEvent(this.id, event);\n    }\n\n    // Register a handler that will be called when the app reconnects to the\n    // internet after previously disconnecting.\n    // Accepts a function to handle the event. Returns undefined.\n    registerReconnectHandler(handler) {\n        registerPluginReconnectHandler(this.id, handler);\n    }\n\n    // Unregister a previously registered reconnect handler.\n    // Returns undefined.\n    unregisterReconnectHandler() {\n        unregisterPluginReconnectHandler(this.id);\n    }\n\n    // Register a hook that will be called when a message is posted by the user before it\n    // is sent to the server. Accepts a function that receives the post as an argument.\n    //\n    // To reject a post, return an object containing an error such as\n    //     {error: {message: 'Rejected'}}\n    // To modify or allow the post without modifcation, return an object containing the post\n    // such as\n    //     {post: {...}}\n    //\n    // If the hook function is asynchronous, the message will not be sent to the server\n    // until the hook returns.\n    registerMessageWillBePostedHook(hook) {\n        const id = generateId();\n\n        store.dispatch({\n            type: ActionTypes.RECEIVED_PLUGIN_COMPONENT,\n            name: 'MessageWillBePosted',\n            data: {\n                id,\n                pluginId: this.id,\n                hook,\n            },\n        });\n\n        return id;\n    }\n\n    // Register a hook that will be called when a slash command is posted by the user before it\n    // is sent to the server. Accepts a function that receives the message (string) and the args\n    // (object) as arguments.\n    // The args object is:\n    //        {\n    //            channel_id: channelId,\n    //            team_id: teamId,\n    //            root_id: rootId,\n    //            parent_id: rootId,\n    //        }\n    //\n    // To reject a command, return an object containing an error:\n    //     {error: {message: 'Rejected'}}\n    // To ignore a command, return an empty object (to prevent an error from being displayed):\n    //     {}\n    // To modify or allow the command without modification, return an object containing the new message\n    // and args. It is not likely that you will need to change the args, so return the object that was provided:\n    //     {message: {...}, args}\n    //\n    // If the hook function is asynchronous, the command will not be sent to the server\n    // until the hook returns.\n    registerSlashCommandWillBePostedHook(hook) {\n        const id = generateId();\n\n        store.dispatch({\n            type: ActionTypes.RECEIVED_PLUGIN_COMPONENT,\n            name: 'SlashCommandWillBePosted',\n            data: {\n                id,\n                pluginId: this.id,\n                hook,\n            },\n        });\n\n        return id;\n    }\n\n    // Register a hook that will be called before a message is formatted into Markdown.\n    // Accepts a function that receives the unmodified post and the message (potentially\n    // already modified by other hooks) as arguments. This function must return a string\n    // message that will be formatted.\n    // Returns a unique identifier.\n    registerMessageWillFormatHook(hook) {\n        const id = generateId();\n\n        store.dispatch({\n            type: ActionTypes.RECEIVED_PLUGIN_COMPONENT,\n            name: 'MessageWillFormat',\n            data: {\n                id,\n                pluginId: this.id,\n                hook,\n            },\n        });\n\n        return id;\n    }\n\n    // Register a component to override file previews. Accepts a function to run before file is\n    // previewed and a react component to be rendered as the file preview.\n    // - override - A function to check whether preview needs to be overridden. Receives fileInfo and post as arguments.\n    // Returns true is preview should be overridden and false otherwise.\n    // - component - A react component to display instead of original preview. Receives fileInfo and post as props.\n    // Returns a unique identifier.\n    // Only one plugin can override a file preview at a time. If two plugins try to override the same file preview, the first plugin will perform the override and the second will not. Plugin precedence is ordered alphabetically by plugin ID.\n    registerFilePreviewComponent(override, component) {\n        const id = generateId();\n\n        store.dispatch({\n            type: ActionTypes.RECEIVED_PLUGIN_COMPONENT,\n            name: 'FilePreview',\n            data: {\n                id,\n                pluginId: this.id,\n                override,\n                component,\n            },\n        });\n\n        return id;\n    }\n\n    registerTranslations(getTranslationsForLocale) {\n        store.dispatch(registerPluginTranslationsSource(this.id, getTranslationsForLocale));\n    }\n\n    // Register a admin console definitions override function\n    // Note that this is a low-level interface primarily meant for internal use, and is not subject\n    // to semver guarantees. It may change in the future.\n    // Accepts the following:\n    // - func - A function that recieve the admin console config definitions and return a new\n    //          version of it, which is used for build the admin console.\n    // Each plugin can register at most one admin console plugin function, with newer registrations\n    // replacing older ones.\n    registerAdminConsolePlugin(func) {\n        store.dispatch(registerAdminConsolePlugin(this.id, func));\n    }\n\n    // Register a custom React component to manage the plugin configuration for the given setting key.\n    // Accepts the following:\n    // - key - A key specified in the settings_schema.settings block of the plugin's manifest.\n    // - component - A react component to render in place of the default handling.\n    // - options - Object for the following available options to display the setting:\n    //     showTitle - Optional boolean that if true the display_name of the setting will be rendered\n    // on the left column of the settings page and the registered component will be displayed on the\n    // available space in the right column.\n    registerAdminConsoleCustomSetting(key, component, {showTitle} = {}) {\n        store.dispatch(registerAdminConsoleCustomSetting(this.id, key, component, {showTitle}));\n    }\n\n    // Unregister a previously registered admin console definition override function.\n    // Returns undefined.\n    unregisterAdminConsolePlugin() {\n        store.dispatch(unregisterAdminConsolePlugin(this.id));\n    }\n\n    // Register a Right-Hand Sidebar component by providing a title for the right hand component.\n    // Accepts the following:\n    // - title - A string or JSX element to display as a title for the RHS.\n    // - component - A react component to display in the Right-Hand Sidebar.\n    // Returns:\n    // - id: a unique identifier\n    // - showRHSPlugin: the action to dispatch that will open the RHS.\n    // - hideRHSPlugin: the action to dispatch that will close the RHS\n    // - toggleRHSPlugin: the action to dispatch that will toggle the RHS\n    registerRightHandSidebarComponent(component, title) {\n        const id = generateId();\n\n        store.dispatch({\n            type: ActionTypes.RECEIVED_PLUGIN_COMPONENT,\n            name: 'RightHandSidebarComponent',\n            data: {\n                id,\n                pluginId: this.id,\n                component,\n                title,\n            },\n        });\n\n        return {id, showRHSPlugin: showRHSPlugin(id), hideRHSPlugin: hideRHSPlugin(id), toggleRHSPlugin: toggleRHSPlugin(id)};\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nexport function getIsLhsOpen(state) {\n    return state.views.lhs.isOpen;\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {getCurrentTeamId, getTeamByName} from 'mattermost-redux/selectors/entities/teams';\nimport {getCurrentUserId} from 'mattermost-redux/selectors/entities/users';\n\nimport localStorageStore from 'stores/local_storage_store';\n\n// getLastViewedChannelName combines data from the Redux store and localStorage to return the\n// previously selected channel name, returning the default channel if none exists.\n//\n// See LocalStorageStore for context.\nexport const getLastViewedChannelName = (state) => {\n    const userId = getCurrentUserId(state);\n    const teamId = getCurrentTeamId(state);\n\n    return localStorageStore.getPreviousChannelName(userId, teamId);\n};\n\nexport const getPenultimateViewedChannelName = (state) => {\n    const userId = getCurrentUserId(state);\n    const teamId = getCurrentTeamId(state);\n\n    return localStorageStore.getPenultimateChannelName(userId, teamId);\n};\n\n// getLastViewedChannelNameByTeamName combines data from the Redux store and localStorage to return\n// the url to the previously selected channel, returning the path to the default channel if none\n// exists.\n//\n// See LocalStorageStore for context.\nexport const getLastViewedChannelNameByTeamName = (state, teamName) => {\n    const userId = getCurrentUserId(state);\n    const team = getTeamByName(state, teamName);\n    const teamId = team && team.id;\n\n    return localStorageStore.getPreviousChannelName(userId, teamId);\n};\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nexport function getNavigationBlocked(state) {\n    return state.views.admin.navigationBlock.blocked;\n}\n\nexport function showNavigationPrompt(state) {\n    return state.views.admin.navigationBlock.showNavigationPrompt;\n}\n\nexport function getOnNavigationConfirmed(state) {\n    return state.views.admin.navigationBlock.onNavigationConfirmed;\n}","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nexport const getLastPostsApiTimeForChannel = (state, channelId) => state.views.channel.lastGetPosts[channelId];\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nexport const getPlugins = (state) => state.views.marketplace.plugins;\n\nexport const getInstalledPlugins = (state) =>\n    Object.values(getPlugins(state)).filter((p) => p.installed_version !== '');\n\nexport const getPlugin = (state, id) =>\n    getPlugins(state).find(((p) => p.manifest && p.manifest.id === id));\n\nexport const getFilter = (state) => state.views.marketplace.filter;\n\nexport const getInstalling = (state, id) => Boolean(state.views.marketplace.installing[id]);\n\nexport const getError = (state, id) => state.views.marketplace.errors[id];\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nexport function isModalOpen(state, modalId) {\n    return state.views.modals.modalState[modalId] && state.views.modals.modalState[modalId].open;\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nexport function getPreviousActiveSection(state) {\n    return state.views.settings.previousActiveSection;\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nexport function connectionErrorCount(state) {\n    return state.views.system.websocketConnectionErrorCount;\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nexport const getSocketStatus = (state) => state.websocket;\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {browserHistory} from 'utils/browser_history';\nimport * as Selectors from 'selectors/storage';\nimport * as Actions from 'actions/storage';\nimport store from 'stores/redux_store.jsx';\nimport {ErrorPageTypes, StoragePrefixes} from 'utils/constants';\nimport * as Utils from 'utils/utils.jsx';\n\nconst dispatch = store.dispatch;\nconst getState = store.getState;\n\nclass BrowserStoreClass {\n    setItem(name, value) {\n        dispatch(Actions.setItem(name, value));\n    }\n\n    getItem(name, defaultValue) {\n        return Selectors.makeGetItem(name, defaultValue)(getState());\n    }\n\n    removeItem(name) {\n        dispatch(Actions.removeItem(name));\n    }\n\n    setGlobalItem(name, value) {\n        dispatch(Actions.setGlobalItem(name, value));\n    }\n\n    getGlobalItem(name, defaultValue = null) {\n        return Selectors.makeGetGlobalItem(name, defaultValue)(getState());\n    }\n\n    removeGlobalItem(name) {\n        dispatch(Actions.removeGlobalItem(name));\n    }\n\n    signalLogout() {\n        if (this.isLocalStorageSupported()) {\n            // PLT-1285 store an identifier in session storage so we can catch if the logout came from this tab on IE11\n            const logoutId = Utils.generateId();\n\n            Utils.removePrefixFromLocalStorage(StoragePrefixes.ANNOUNCEMENT);\n\n            sessionStorage.setItem(StoragePrefixes.LOGOUT, logoutId);\n            localStorage.setItem(StoragePrefixes.LOGOUT, logoutId);\n            localStorage.removeItem(StoragePrefixes.LOGOUT);\n        }\n    }\n\n    isSignallingLogout(logoutId) {\n        return logoutId === sessionStorage.getItem(StoragePrefixes.LOGOUT);\n    }\n\n    signalLogin() {\n        if (this.isLocalStorageSupported()) {\n            // PLT-1285 store an identifier in session storage so we can catch if the logout came from this tab on IE11\n            const loginId = Utils.generateId();\n\n            sessionStorage.setItem(StoragePrefixes.LOGIN, loginId);\n            localStorage.setItem(StoragePrefixes.LOGIN, loginId);\n            localStorage.removeItem(StoragePrefixes.LOGIN);\n        }\n    }\n\n    isSignallingLogin(loginId) {\n        return loginId === sessionStorage.getItem(StoragePrefixes.LOGIN);\n    }\n\n    clear(options) {\n        dispatch(Actions.clear(options));\n    }\n\n    isLocalStorageSupported() {\n        if (this.hasCheckedLocalStorage) {\n            return this.localStorageSupported;\n        }\n\n        this.localStorageSupported = false;\n\n        try {\n            localStorage.setItem('__testLocal__', '1');\n            if (localStorage.getItem('__testLocal__') === '1') {\n                this.localStorageSupported = true;\n            }\n            localStorage.removeItem('__testLocal__', '1');\n        } catch (e) {\n            this.localStorageSupported = false;\n        }\n\n        try {\n            sessionStorage.setItem('__testSession__', '1');\n            sessionStorage.removeItem('__testSession__');\n        } catch (e) {\n            // Session storage not usable, website is unusable\n            browserHistory.push('/error?type=' + ErrorPageTypes.LOCAL_STORAGE);\n        }\n\n        this.hasCheckedLocalStorage = true;\n\n        return this.localStorageSupported;\n    }\n\n    hasSeenLandingPage() {\n        return localStorage.getItem(StoragePrefixes.LANDING_PAGE_SEEN);\n    }\n\n    setLandingPageSeen(landingPageSeen) {\n        localStorage.setItem(StoragePrefixes.LANDING_PAGE_SEEN, landingPageSeen);\n    }\n}\n\nvar BrowserStore = new BrowserStoreClass();\nexport default BrowserStore;\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport EventEmitter from 'events';\n\nimport Constants from 'utils/constants';\nimport AppDispatcher from '../dispatcher/app_dispatcher.jsx';\n\nconst ActionTypes = Constants.ActionTypes;\n\nclass ModalStoreClass extends EventEmitter {\n    constructor() {\n        super();\n\n        this.dispatchToken = AppDispatcher.register(this.handleEventPayload);\n    }\n\n    addModalListener = (action, callback) => {\n        this.on(action, callback);\n    }\n\n    removeModalListener = (action, callback) => {\n        this.removeListener(action, callback);\n    }\n\n    handleEventPayload = (payload) => {\n        // toggle event handlers should accept a boolean show/hide value and can accept a map of arguments\n        const {type, value, ...args} = payload.action; //eslint-disable-line no-use-before-define\n\n        switch (type) {\n        case ActionTypes.TOGGLE_SHORTCUTS_MODAL:\n        case ActionTypes.TOGGLE_IMPORT_THEME_MODAL:\n        case ActionTypes.TOGGLE_DELETE_POST_MODAL:\n        case ActionTypes.TOGGLE_GET_POST_LINK_MODAL:\n        case ActionTypes.TOGGLE_GET_TEAM_INVITE_LINK_MODAL:\n        case ActionTypes.TOGGLE_GET_PUBLIC_LINK_MODAL:\n        case ActionTypes.TOGGLE_QUICK_SWITCH_MODAL:\n        case ActionTypes.TOGGLE_CHANNEL_PURPOSE_UPDATE_MODAL:\n        case ActionTypes.TOGGLE_CHANNEL_NAME_UPDATE_MODAL:\n        case ActionTypes.TOGGLE_LEAVE_PRIVATE_CHANNEL_MODAL:\n            this.emit(type, value, args);\n            break;\n        }\n    }\n}\n\nconst ModalStore = new ModalStoreClass();\nexport default ModalStore;\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport Constants, {EventTypes, A11yClassNames, A11yAttributeNames, A11yCustomEventTypes} from 'utils/constants';\nimport {isKeyPressed, cmdOrCtrlPressed, isMac} from 'utils/utils';\nimport {isDesktopApp} from 'utils/user_agent';\n\nconst listenerOptions = {\n    capture: true,\n};\n\nexport default class A11yController {\n    constructor() {\n        this.regionHTMLCollection = this.getAllRegions();\n        this.sectionHTMLCollection = null; // populated when region changes\n        this.modalHTMLCollection = this.getAllModals();\n        this.popupHTMLCollection = this.getAllPopups();\n\n        this.activeRegion = null;\n        this.activeSection = null;\n        this.activeElement = null;\n\n        this.mouseIsPressed = false;\n\n        this.lastInputEventIsKeyboard = false;\n\n        this.enterKeyIsPressed = false;\n        this.f6KeyIsPressed = false;\n        this.upArrowKeyIsPressed = false;\n        this.downArrowKeyIsPressed = false;\n        this.tabKeyIsPressed = false;\n        this.tildeKeyIsPressed = false;\n        this.lKeyIsPressed = false;\n        this.windowIsFocused = true;\n\n        // used to reset navigation whenever navigation within a region occurs (section or element)\n        this.resetNavigation = false;\n\n        document.addEventListener(EventTypes.KEY_DOWN, this.handleKeyDown, listenerOptions);\n        document.addEventListener(EventTypes.KEY_UP, this.handleKeyUp, listenerOptions);\n        document.addEventListener(EventTypes.CLICK, this.handleMouseClick, listenerOptions);\n        document.addEventListener(EventTypes.MOUSE_DOWN, this.handleMouseDown, listenerOptions);\n        document.addEventListener(EventTypes.MOUSE_UP, this.handleMouseUp, listenerOptions);\n        document.addEventListener(EventTypes.FOCUS, this.handleFocus, listenerOptions);\n        window.addEventListener(EventTypes.BLUR, this.handleWindowBlur, listenerOptions);\n    }\n\n    destroy() {\n        this.clearActiveRegion();\n        this.clearCurrentFocus();\n\n        document.removeEventListener(EventTypes.KEY_DOWN, this.handleKeyDown, listenerOptions);\n        document.removeEventListener(EventTypes.KEY_UP, this.handleKeyUp, listenerOptions);\n        document.removeEventListener(EventTypes.CLICK, this.handleMouseClick, listenerOptions);\n        document.removeEventListener(EventTypes.MOUSE_DOWN, this.handleMouseDown, listenerOptions);\n        document.removeEventListener(EventTypes.MOUSE_UP, this.handleMouseUp, listenerOptions);\n        document.removeEventListener(EventTypes.FOCUS, this.handleFocus, listenerOptions);\n        window.removeEventListener(EventTypes.BLUR, this.handleWindowBlur, listenerOptions);\n    }\n\n    // convenience getter/setters\n\n    /**\n     * Determines if keyboard navigation is currently in progress based on several criteria as follows:\n     * 1. There must be defined regions and a single region must be active\n     * 2. The last input event detected must be a keyboard event\n     * 3. There must be no open modals and/or popups\n     * 4. There must be an active element and it must support classList\n     */\n    get navigationInProgress() {\n        if (!this.regions || !this.regions.length || !this.isElementValid(this.activeRegion)) {\n            return false;\n        }\n        if (!this.lastInputEventIsKeyboard) {\n            return false;\n        }\n        if (this.modalIsOpen || this.popupIsOpen) {\n            return false;\n        }\n        if (!this.isElementValid(this.activeElement)) {\n            return false;\n        }\n        return true;\n    }\n\n    /**\n     * Returns an array of available regions sorted by A11yAttributeNames.SORT_ORDER\n     */\n    get regions() {\n        let domElements = this.sortElementsByAttributeOrder(this.regionHTMLCollection);\n        domElements = domElements.filter((element) => {\n            return this.elementIsVisible(element);\n        });\n        return domElements;\n    }\n\n    /**\n     * Returns an array of available sections sorted by A11yAttributeNames.SORT_ORDER and optionally reversed\n     */\n    get sections() {\n        let domElements = this.sortElementsByAttributeOrder(this.sectionHTMLCollection);\n        domElements = domElements.filter((element) => {\n            return this.elementIsVisible(element);\n        });\n        if (this.shouldReverseSections) {\n            domElements.reverse();\n        }\n        return domElements;\n    }\n\n    /**\n     * Returns the index of the active region\n     */\n    get activeRegionIndex() {\n        if (!this.activeRegion) {\n            return null;\n        }\n        return this.regions.indexOf(this.activeRegion);\n    }\n\n    /**\n     * Returns the index of the active section\n     */\n    get activeSectionIndex() {\n        if (!this.activeSection) {\n            return null;\n        }\n        return this.sections.indexOf(this.activeSection);\n    }\n\n    /**\n     * Returns whether the regions requires reverse section navigation\n     */\n    get shouldReverseSections() {\n        if (!this.activeRegion) {\n            return false;\n        }\n        return this.getOrderReverseAttribute(this.activeRegion);\n    }\n\n    /**\n     * Returns the element that should currently have focus\n     */\n    get focusedElement() {\n        let focusedElement;\n        if (this.activeElement) {\n            focusedElement = this.activeElement;\n        } else if (this.activeSection) {\n            focusedElement = this.activeSection;\n        } else if (this.activeRegion) {\n            focusedElement = this.activeRegion;\n        }\n        return focusedElement;\n    }\n\n    /**\n     * Returnes whether an a11y-specific key is currently pressed\n     */\n    get a11yKeyIsPressed() {\n        return this.f6KeyIsPressed ||\n               this.upArrowKeyIsPressed ||\n               this.downArrowKeyIsPressed ||\n               this.tabKeyIsPressed ||\n               this.tildeKeyIsPressed ||\n               this.lKeyIsPressed;\n    }\n\n    /**\n     * Indicates if a modal window is currently open\n     * - modals must have A11yClassNames.MODAL to be considered\n     */\n    get modalIsOpen() {\n        return this.modalHTMLCollection.length > 0;\n    }\n\n    /**\n     * Indicates if a popup/dropdown element is currently open\n     * - popups/dropdowns must have A11yClassNames.POPUP to be considered\n     */\n    get popupIsOpen() {\n        return this.popupHTMLCollection.length > 0;\n    }\n\n    // public methods\n\n    /**\n     * Determines the next region, sets it as active and updates the current focus\n     */\n    nextRegion() {\n        const regions = this.regions;\n        if (\n            !regions ||\n            !regions.length ||\n            this.modalIsOpen ||\n            this.popupIsOpen\n        ) {\n            return;\n        }\n        let newRegion;\n        if (\n            !this.activeRegion ||\n            this.activeRegionIndex === regions.length - 1 ||\n            this.resetNavigation\n        ) {\n            newRegion = regions[0];\n        } else {\n            newRegion = regions[this.activeRegionIndex + 1];\n        }\n        this.setActiveRegion(newRegion);\n        this.setCurrentFocus();\n        this.resetNavigation = false;\n    }\n\n    /**\n     * Determines the previous region, sets it as active and updates the current focus\n     */\n    previousRegion() {\n        const regions = this.regions;\n        if (\n            !regions ||\n            !regions.length ||\n            this.modalIsOpen ||\n            this.popupIsOpen\n        ) {\n            return;\n        }\n        let newRegion;\n        if (!this.activeRegion || (this.activeRegionIndex !== 0 && this.resetNavigation)) {\n            newRegion = regions[0];\n        } else if (this.activeRegionIndex === 0) {\n            newRegion = regions[regions.length - 1];\n        } else {\n            newRegion = regions[this.activeRegionIndex - 1];\n        }\n        this.setActiveRegion(newRegion);\n        this.setCurrentFocus();\n        this.resetNavigation = false;\n    }\n\n    /**\n     * Determines the next section, sets it as active and updates the current focus\n     */\n    nextSection() {\n        const sections = this.sections;\n        const shouldLoopNavigation = this.getLoopNavigationAttribute(this.activeRegion);\n        if (\n            this.modalIsOpen ||\n            this.popupIsOpen ||\n            !sections ||\n            !sections.length ||\n            (!shouldLoopNavigation && this.activeSectionIndex === sections.length - 1)\n        ) {\n            return;\n        }\n        let newSection;\n        if (this.activeSection && this.activeSectionIndex < sections.length - 1) {\n            newSection = sections[this.activeSectionIndex + 1];\n        } else {\n            newSection = sections[0];\n        }\n        this.setActiveSection(newSection);\n        this.setCurrentFocus();\n        this.resetNavigation = true;\n    }\n\n    /**\n     * Determines the previous section, sets it as active and updates the current focus\n     */\n    previousSection() {\n        const sections = this.sections;\n        const shouldLoopNavigation = this.getLoopNavigationAttribute(this.activeRegion);\n        if (\n            this.modalIsOpen ||\n            this.popupIsOpen ||\n            !sections ||\n            !sections.length ||\n            (!shouldLoopNavigation && this.activeSectionIndex === 0)\n        ) {\n            return;\n        }\n        let newSection;\n        if (this.activeSection && this.activeSectionIndex > 0) {\n            newSection = sections[this.activeSectionIndex - 1];\n        } else if (this.activeSection && this.activeSectionIndex === 0) {\n            newSection = sections[sections.length - 1];\n        } else {\n            newSection = sections[0];\n        }\n        this.setActiveSection(newSection);\n        this.setCurrentFocus();\n        this.resetNavigation = true;\n    }\n\n    /**\n     * Takes the provided dom element, finds it's parent section and region (if available),\n     * sets them as active and updates the current focus\n     * @param {HTMLElement} element - the DOM element to set as the active element\n     * @param {array or boolean} elementPath - array of element's dom branch or boolean to find section/region of element\n     */\n    nextElement(element, elementPath = false) {\n        let region;\n        let section;\n        if (elementPath && elementPath.length) {\n            // is the current element in an active region?\n            if (elementPath.indexOf(this.activeRegion) < 0) {\n                region = elementPath.find((pathElement) => {\n                    if (!pathElement.classList) {\n                        return false;\n                    }\n                    return pathElement.classList.contains(A11yClassNames.REGION);\n                });\n            }\n\n            // is the current element in an active section?\n            if (elementPath.indexOf(this.activeSection) < 0) {\n                section = elementPath.find((pathElement) => {\n                    if (!pathElement.classList) {\n                        return false;\n                    }\n                    return pathElement.classList.contains(A11yClassNames.SECTION);\n                });\n            }\n        } else if (elementPath && typeof element.closest === 'function') {\n            region = element.closest(`.${A11yClassNames.REGION}`);\n            section = element.closest(`.${A11yClassNames.SECTION}`);\n        }\n        if (region && this.activeRegion !== region) {\n            this.setActiveRegion(region, false);\n        }\n        if (section && this.activeSection !== section) {\n            this.setActiveSection(section);\n        }\n        this.setActiveElement(element);\n        this.setCurrentFocus();\n        this.resetNavigation = true;\n    }\n\n    /**\n     * Resets the a11y navigation controller, active region/section/element, clears focus and resets user interraction states\n     */\n    cancelNavigation() {\n        this.clearActiveRegion();\n        this.setCurrentFocus();\n        this.resetInterractionStates();\n    }\n\n    // private methods\n\n    /**\n     * Sets the currently active region and stores a list of the regions sections\n     * @param {HTMLElement} element - DOM element to set as the active region\n     * @param {boolean} canFocusChild - whether to focus child section instead of provide region\n     * @emits {A11yCustomEventTypes.ACTIVATE} - emitted on the provided DOM element once set to active\n     */\n    setActiveRegion(element, canFocusChild = true) {\n        if (!this.isElementValid(element, [this.activeRegion]) && !this.resetNavigation) {\n            return;\n        }\n\n        // clear previous active region\n        this.clearActiveRegion();\n\n        // setup new active region\n        this.activeRegion = element;\n        this.activeRegion.addEventListener(A11yCustomEventTypes.UPDATE, this.handleActiveRegionUpdate);\n        this.activeRegion.dispatchEvent(new Event(A11yCustomEventTypes.ACTIVATE));\n\n        // apply visual updates to active region\n        this.updateActiveRegion();\n\n        // retrieve all sections for the new active region\n        this.sectionHTMLCollection = this.getAllSectionsForRegion(this.activeRegion);\n\n        // should the visual focus start on a child section\n        if (canFocusChild && this.getFocusChildAttribute(this.activeRegion) && this.sections && this.sections.length) {\n            this.setActiveSection(this.sections[0]);\n        }\n    }\n\n    /**\n     * Sets the currently active section\n     * @param {HTMLElement} element - DOM element to set as the active section\n     * @emits {A11yCustomEventTypes.ACTIVATE} - emitted on the provided DOM element once set to active\n     */\n    setActiveSection(element) {\n        if (!this.isElementValid(element, [this.activeSection])) {\n            return;\n        }\n\n        // clear previous active section\n        this.clearActiveSection();\n\n        // setup new active section\n        this.activeSection = element;\n        this.activeSection.addEventListener(A11yCustomEventTypes.UPDATE, this.handleActiveSectionUpdate);\n        this.activeSection.dispatchEvent(new Event(A11yCustomEventTypes.ACTIVATE));\n\n        // apply visual updates to active section\n        this.updateActiveSection();\n    }\n\n    /**\n     * Sets the currently active element\n     * @param {HTMLElement} element - DOM element to set as the active element\n     * @emits {A11yCustomEventTypes.ACTIVATE} - emitted on the provided DOM element once set to active\n     */\n    setActiveElement(element) {\n        if (!this.isElementValid(element, [this.activeElement])) {\n            return;\n        }\n\n        // clear previous active element\n        this.clearActiveElement();\n\n        // setup new active element\n        this.activeElement = element;\n        this.activeElement.addEventListener(A11yCustomEventTypes.UPDATE, this.handleActiveElementUpdate);\n        if (this.activeElement !== this.activeRegion && this.activeElement !== this.activeSection) {\n            this.activeElement.dispatchEvent(new Event(A11yCustomEventTypes.ACTIVATE));\n        }\n\n        // apply visual updates to active element\n        this.updateActiveElement();\n    }\n\n    /**\n     * Updates the focus status of the element that should now have focus\n     */\n    setCurrentFocus() {\n        this.clearCurrentFocus();\n        if (!this.focusedElement) {\n            return;\n        }\n\n        // set focus on the element that should have focus if needed\n        if (document.activeElement !== this.focusedElement) {\n            this.focusedElement.focus();\n        }\n\n        // apply visual updates to focused element\n        this.udpateCurrentFocus();\n    }\n\n    /**\n     * Updates the visual state of the active region and makes sure it is focusable\n     */\n    updateActiveRegion() {\n        if (!this.activeRegion) {\n            return;\n        }\n        this.activeRegion.classList.add(A11yClassNames.ACTIVE);\n\n        // ensure active region element is focusable\n        if (!this.activeRegion.getAttribute('tabindex')) {\n            this.activeRegion.setAttribute('tabindex', -1);\n        }\n    }\n\n    /**\n     * Updates the visual state of the active section and makes sure it is focusable\n     */\n    updateActiveSection() {\n        if (!this.activeSection) {\n            return;\n        }\n        this.activeSection.classList.add(A11yClassNames.ACTIVE);\n\n        // ensure active section element is focusable\n        if (!this.activeSection.getAttribute('tabindex')) {\n            this.activeSection.setAttribute('tabindex', -1);\n        }\n    }\n\n    /**\n     * Updates the visual state of the active element\n     */\n    updateActiveElement() {\n        if (!this.activeElement) {\n            return;\n        }\n        this.activeElement.classList.add(A11yClassNames.ACTIVE);\n    }\n\n    /**\n     * Updates the visual state of the currently focused element\n     */\n    udpateCurrentFocus(forceUpdate = false) {\n        if ((!this.focusedElement || !this.a11yKeyIsPressed) && !forceUpdate) {\n            return;\n        }\n        this.focusedElement.classList.add(A11yClassNames.FOCUSED);\n    }\n\n    /**\n     * Clears all a11y-applied classes, events and the active region DOM element reference\n     */\n    clearActiveRegion() {\n        if (this.activeRegion) {\n            this.activeRegion.classList.remove(A11yClassNames.ACTIVE);\n            this.activeRegion.dispatchEvent(new Event(A11yCustomEventTypes.DEACTIVATE));\n            this.activeRegion.removeEventListener(A11yCustomEventTypes.UPDATE, this.handleActiveRegionUpdate);\n            this.activeRegion = null;\n        }\n        this.clearActiveSection();\n    }\n\n    /**\n     * Clears all a11y-applied classes, events and the active section DOM element reference\n     */\n    clearActiveSection() {\n        if (this.activeSection) {\n            this.activeSection.classList.remove(A11yClassNames.ACTIVE);\n            this.activeSection.dispatchEvent(new Event(A11yCustomEventTypes.DEACTIVATE));\n            this.activeSection.removeEventListener(A11yCustomEventTypes.UPDATE, this.handleActiveSectionUpdate);\n            this.activeSection = null;\n        }\n        this.clearActiveElement();\n    }\n\n    /**\n     * Clears all a11y-applied classes, events and the active DOM element reference\n     */\n    clearActiveElement() {\n        if (this.activeElement) {\n            if (this.activeElement !== this.activeRegion && this.activeElement !== this.activeSection) {\n                this.activeElement.classList.remove(A11yClassNames.ACTIVE);\n                this.activeElement.dispatchEvent(new Event(A11yCustomEventTypes.DEACTIVATE));\n            }\n            this.activeElement.removeEventListener(A11yCustomEventTypes.UPDATE, this.handleActiveElementUpdate);\n            this.activeElement = null;\n        }\n    }\n\n    /**\n     * Clears all focused element classes and blurs the active element if requested\n     */\n    clearCurrentFocus(blurActiveElement = false) {\n        Array.from(document.getElementsByClassName(A11yClassNames.FOCUSED)).forEach((element) => {\n            element.classList.remove(A11yClassNames.FOCUSED);\n        });\n        if (blurActiveElement) {\n            document.activeElement.blur();\n        }\n    }\n\n    /**\n     * Resets the state of all a11y-defined interraction methods\n     */\n    resetInterractionStates() {\n        this.mouseIsPressed = false;\n        this.f6KeyIsPressed = false;\n        this.upArrowKeyIsPressed = false;\n        this.downArrowKeyIsPressed = false;\n        this.tabKeyIsPressed = false;\n        this.tildeKeyIsPressed = false;\n        this.enterKeyIsPressed = false;\n        this.lKeyIsPressed = false;\n        this.lastInputEventIsKeyboard = false;\n    }\n\n    // helper methods\n\n    /**\n     * Returns an HTMLCollection object of all defined regions\n     * - use of HTMLCollection is intentional as this object auto updates to reflect DOM changes\n     */\n    getAllRegions() {\n        return document.getElementsByClassName(A11yClassNames.REGION);\n    }\n\n    /**\n     * Returns an HTMLCollection object of all defined sections for the currently active region\n     * - use of HTMLCollection is intentional as this object auto updates to reflect DOM changes\n     */\n    getAllSectionsForRegion(region) {\n        if (!region) {\n            return null;\n        }\n        return region.getElementsByClassName(A11yClassNames.SECTION);\n    }\n\n    /**\n     * Sort a list of DOM elements by defined A11yAttributeNames.SORT_ORDER attribute\n     * @param {HTMLCollection} elements - list of elements to be sorted\n     */\n    sortElementsByAttributeOrder(elements) {\n        if (!elements || !elements.length) {\n            return [];\n        }\n        return Array.from(elements).sort((elementA, elementB) => {\n            const elementAOrder = parseInt(elementA.getAttribute(A11yAttributeNames.SORT_ORDER), 10);\n            const elementBOrder = parseInt(elementB.getAttribute(A11yAttributeNames.SORT_ORDER), 10);\n\n            if (isNaN(elementAOrder) && isNaN(elementBOrder)) {\n                return 0;\n            }\n            if (isNaN(elementBOrder)) {\n                return -1;\n            }\n            if (isNaN(elementAOrder)) {\n                return 1;\n            }\n\n            return elementAOrder - elementBOrder;\n        });\n    }\n\n    /**\n     * Returns whether a DOM element is currently visible or not\n     * @param {HTMLElement} element - the DOM element to check\n     */\n    elementIsVisible(element) {\n        return element && element.offsetParent;\n    }\n\n    /**\n     * Retuns an HTMLCollection of all DOM elements that have the A11yClassNames.MODAL class\n     */\n    getAllModals() {\n        return document.getElementsByClassName(A11yClassNames.MODAL);\n    }\n\n    /**\n     * Retuns an HTMLCollection of all DOM elements that have the A11yClassNames.POPUP class\n     */\n    getAllPopups() {\n        return document.getElementsByClassName(A11yClassNames.POPUP);\n    }\n\n    /**\n     * Helper to retrieve the value of the A11yAttributeNames.LOOP_NAVIGATION attribute for the provided DOM element\n     * @param {HTMLElement} element - the element to retrive the A11yAttributeNames.LOOP_NAVIGATION value from\n     */\n    getLoopNavigationAttribute(element) {\n        const attributeValue = element.getAttribute(A11yAttributeNames.LOOP_NAVIGATION);\n        if (attributeValue && attributeValue.toLowerCase() === 'false') {\n            return false;\n        }\n        return true;\n    }\n\n    /**\n     * Helper to retrieve the value of the A11yAttributeNames.ORDER_REVERSE attribute for the provided DOM element\n     * @param {HTMLElement} element - the element to retrive the A11yAttributeNames.ORDER_REVERSE value from\n     */\n    getOrderReverseAttribute(element) {\n        const attributeValue = element.getAttribute(A11yAttributeNames.ORDER_REVERSE);\n        if (attributeValue && attributeValue.toLowerCase() === 'true') {\n            return true;\n        }\n        return false;\n    }\n\n    /**\n     * Helper to retrieve the value of the A11yAttributeNames.FOCUS_CHILD attribute for the provided DOM element\n     * @param {HTMLElement} element - the element to retrive the A11yAttributeNames.FOCUS_CHILD value from\n     */\n    getFocusChildAttribute(element) {\n        const attributeValue = element.getAttribute(A11yAttributeNames.FOCUS_CHILD);\n        if (attributeValue && attributeValue.toLowerCase() === 'true') {\n            return true;\n        }\n        return false;\n    }\n\n    /**\n     * Helper method to verify if a provided DOM element is a valid element for a11y navigation\n     * @param {HTMLElement} element - the DOM element to check\n     * @param {arry of HTMLElements} invalidElements - a list of invalid DOM elements to check against\n     */\n    isElementValid(element, invalidElements = []) {\n        if (\n            element &&\n            element.classList &&\n            !invalidElements.includes(element)\n        ) {\n            return true;\n        }\n        return false;\n    }\n\n    // event handling methods\n\n    handleKeyDown = (event) => {\n        const modifierKeys = {\n            ctrlIsPressed: event.ctrlKey,\n            altIsPressed: event.altKey,\n            shiftIsPressed: event.shiftKey,\n        };\n        switch (true) {\n        case isKeyPressed(event, Constants.KeyCodes.TAB):\n            this.lastInputEventIsKeyboard = true;\n            if ((!isMac() && modifierKeys.altIsPressed) || cmdOrCtrlPressed(event)) {\n                return;\n            }\n            this.tabKeyIsPressed = true;\n            break;\n        case isKeyPressed(event, Constants.KeyCodes.TILDE):\n            this.lastInputEventIsKeyboard = true;\n            if (!this.regions || !this.regions.length) {\n                return;\n            }\n\n            // Check to make sure both aren't pressed because some older webkit browsers set CTRL and ALT when AltGr is pressed\n            if (modifierKeys.ctrlIsPressed && !modifierKeys.altIsPressed) {\n                this.tildeKeyIsPressed = true;\n                event.preventDefault();\n                if (modifierKeys.shiftIsPressed) {\n                    this.previousRegion();\n                } else {\n                    this.nextRegion();\n                }\n            }\n            break;\n        case isKeyPressed(event, Constants.KeyCodes.F6):\n            this.lastInputEventIsKeyboard = true;\n            if (!isDesktopApp() && !cmdOrCtrlPressed(event)) {\n                return;\n            }\n            this.f6KeyIsPressed = true;\n            event.preventDefault();\n            if (modifierKeys.shiftIsPressed) {\n                this.previousRegion();\n            } else {\n                this.nextRegion();\n            }\n            break;\n        case isKeyPressed(event, Constants.KeyCodes.UP):\n            this.lastInputEventIsKeyboard = true;\n            if (!this.navigationInProgress || !this.sections || !this.sections.length) {\n                return;\n            }\n            this.upArrowKeyIsPressed = true;\n            event.preventDefault();\n            if (this.shouldReverseSections) {\n                this.nextSection();\n            } else {\n                this.previousSection();\n            }\n            break;\n        case isKeyPressed(event, Constants.KeyCodes.DOWN):\n            this.lastInputEventIsKeyboard = true;\n            if (!this.navigationInProgress || !this.sections || !this.sections.length) {\n                return;\n            }\n            this.downArrowKeyIsPressed = true;\n            event.preventDefault();\n            if (this.shouldReverseSections) {\n                this.previousSection();\n            } else {\n                this.nextSection();\n            }\n            break;\n        case isKeyPressed(event, Constants.KeyCodes.ESCAPE):\n            if (!this.navigationInProgress) {\n                return;\n            }\n            event.preventDefault();\n            this.cancelNavigation();\n            break;\n        case isKeyPressed(event, Constants.KeyCodes.ENTER):\n            this.enterKeyIsPressed = true;\n            break;\n        case isKeyPressed(event, Constants.KeyCodes.SPACE):\n            if (event.target.nodeName === 'BUTTON') {\n                event.preventDefault();\n                event.stopPropagation();\n                event.target.click();\n            }\n            break;\n        case isKeyPressed(event, Constants.KeyCodes.L):\n            // For the Ctrl+Shift+L keyboard shortcut\n            this.lastInputEventIsKeyboard = true;\n            this.lKeyIsPressed = true;\n            break;\n        }\n    }\n\n    handleKeyUp = () => {\n        this.resetInterractionStates();\n    }\n\n    handleMouseClick = (event) => {\n        // hitting enter on a <button> triggers a click event\n        if (!this.enterKeyIsPressed) {\n            this.lastInputEventIsKeyboard = false;\n        }\n        if (event.target === this.activeElement) {\n            return;\n        }\n        this.cancelNavigation();\n    }\n\n    handleMouseDown = () => {\n        this.mouseIsPressed = true;\n    }\n\n    handleMouseUp = () => {\n        this.mouseIsPressed = false;\n    }\n\n    handleFocus = (event) => {\n        if (this.lastInputEventIsKeyboard && this.windowIsFocused) {\n            this.nextElement(event.target, event.path || true);\n        }\n\n        // focus just came back to the app\n        if (!this.windowIsFocused) {\n            this.windowIsFocused = true;\n        }\n    }\n\n    handleWindowBlur = (event) => {\n        if (event.target === window) {\n            this.windowIsFocused = false;\n        }\n    }\n\n    handleActiveRegionUpdate = () => {\n        if (this.navigationInProgress) {\n            this.updateActiveRegion();\n            if (this.focusedElement === this.activeRegion) {\n                this.udpateCurrentFocus(true);\n            }\n        }\n    }\n\n    handleActiveSectionUpdate = () => {\n        if (this.navigationInProgress) {\n            this.updateActiveSection();\n            if (this.focusedElement === this.activeSection) {\n                this.udpateCurrentFocus(true);\n            }\n        }\n    }\n\n    handleActiveElementUpdate = () => {\n        if (this.navigationInProgress) {\n            this.updateActiveElement();\n            if (this.focusedElement === this.activeElement) {\n                this.udpateCurrentFocus(true);\n            }\n        }\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nexport default class DelayedAction {\n    private action: Function;\n    private timer: number;\n\n    public constructor(action: Function) {\n        this.action = action;\n\n        this.timer = -1;\n\n        // bind fire since it doesn't get passed the correct this value with setTimeout\n        this.fire = this.fire.bind(this);\n    }\n\n    public fire() {\n        this.action();\n\n        this.timer = -1;\n    }\n\n    public fireAfter(timeout: number) {\n        if (this.timer >= 0) {\n            window.clearTimeout(this.timer);\n        }\n\n        this.timer = window.setTimeout(this.fire, timeout);\n    }\n\n    public cancel() {\n        window.clearTimeout(this.timer);\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\ntype Options = {\n    enter?: (event: CustomEvent) => void;\n    leave?: (event: CustomEvent) => void;\n    over?: (event: CustomEvent) => void;\n    drop?: (event: CustomEvent) => void;\n}\n\nexport default function dragster(query: string, options: Options) {\n    const noop = () => {}; // eslint-disable-line no-empty-function\n\n    const defaults = {\n        enter: noop,\n        leave: noop,\n        over: noop,\n        drop: noop,\n    };\n\n    const settings = Object.assign(defaults, options);\n    const node = document.querySelector(query);\n\n    if (!node) {\n        return noop;\n    }\n\n    let first = false;\n    let second = false;\n\n    const dragenter = (event: Event) => {\n        if (first) {\n            second = true;\n            return;\n        }\n\n        first = true;\n        const enterEvent = new CustomEvent('dragster:enter', {detail: event});\n        node.dispatchEvent(enterEvent);\n\n        event.preventDefault();\n    };\n\n    const dragleave = (event: Event) => {\n        if (second) {\n            second = false;\n        } else if (first) {\n            first = false;\n        }\n        if (!first && !second) {\n            const leaveEvent = new CustomEvent('dragster:leave', {detail: event});\n            node.dispatchEvent(leaveEvent);\n        }\n        event.preventDefault();\n    };\n\n    const dragover = (event: Event) => {\n        const overEvent = new CustomEvent('dragster:over', {detail: event});\n        node.dispatchEvent(overEvent);\n        event.preventDefault();\n    };\n\n    const drop = (event: Event) => {\n        if (second) {\n            second = false;\n        } else if (first) {\n            first = false;\n        }\n        if (!first && !second) {\n            const dropEvent = new CustomEvent('dragster:drop', {detail: event});\n            node.dispatchEvent(dropEvent);\n        }\n        event.preventDefault();\n    };\n\n    node.addEventListener('dragenter', dragenter);\n    node.addEventListener('dragleave', dragleave);\n    node.addEventListener('dragover', dragover);\n    node.addEventListener('drop', drop);\n\n    node.addEventListener('dragster:enter', settings.enter);\n    node.addEventListener('dragster:leave', settings.leave);\n    node.addEventListener('dragster:over', settings.over);\n    node.addEventListener('dragster:drop', settings.drop);\n\n    const unbindEvents = () => {\n        node.removeEventListener('dragenter', dragenter);\n        node.removeEventListener('dragleave', dragleave);\n        node.removeEventListener('dragover', dragover);\n        node.removeEventListener('drop', drop);\n\n        node.removeEventListener('dragster:enter', settings.enter);\n        node.removeEventListener('dragster:leave', settings.leave);\n        node.removeEventListener('dragster:over', settings.over);\n        node.removeEventListener('dragster:drop', settings.drop);\n    };\n\n    return unbindEvents;\n}\n\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nexport function compareEmojis(emojiA, emojiB, searchedName) {\n    const aName = emojiA.name || emojiA.aliases[0];\n    const bName = emojiB.name || emojiB.aliases[0];\n\n    // Have the emojis that contain the search appear first\n    const aPrefix = aName.startsWith(searchedName);\n    const bPrefix = bName.startsWith(searchedName);\n\n    if (aPrefix === bPrefix) {\n        return aName.localeCompare(bName);\n    } else if (aPrefix) {\n        return -1;\n    }\n\n    return 1;\n}","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport exif2css from 'exif2css';\n\nimport Constants from 'utils/constants';\nimport * as UserAgent from 'utils/user_agent';\n\nexport function canUploadFiles(config) {\n    const enableFileAttachments = config.EnableFileAttachments === 'true';\n    const enableMobileFileUpload = config.EnableMobileFileUpload === 'true';\n\n    if (!enableFileAttachments) {\n        return false;\n    }\n\n    if (UserAgent.isMobileApp()) {\n        return enableMobileFileUpload;\n    }\n\n    return true;\n}\n\nexport function canDownloadFiles(config) {\n    if (UserAgent.isMobileApp()) {\n        return config.EnableMobileFileDownload === 'true';\n    }\n\n    return true;\n}\n\nexport function trimFilename(filename) {\n    let trimmedFilename = filename;\n    if (filename.length > Constants.MAX_FILENAME_LENGTH) {\n        trimmedFilename = filename.substring(0, Math.min(Constants.MAX_FILENAME_LENGTH, filename.length)) + '...';\n    }\n\n    return trimmedFilename;\n}\n\nexport function getFileTypeFromMime(mimetype) {\n    const mimeTypeSplitBySlash = mimetype.split('/');\n    const mimeTypePrefix = mimeTypeSplitBySlash[0];\n    const mimeTypeSuffix = mimeTypeSplitBySlash[1];\n\n    if (mimeTypePrefix === 'video') {\n        return 'video';\n    } else if (mimeTypePrefix === 'audio') {\n        return 'audio';\n    } else if (mimeTypePrefix === 'image') {\n        return 'image';\n    }\n\n    if (mimeTypeSuffix) {\n        if (mimeTypeSuffix === 'pdf') {\n            return 'pdf';\n        } else if (mimeTypeSuffix.includes('vnd.ms-excel') || mimeTypeSuffix.includes('spreadsheetml') || mimeTypeSuffix.includes('vnd.sun.xml.calc') || mimeTypeSuffix.includes('opendocument.spreadsheet')) {\n            return 'spreadsheet';\n        } else if (mimeTypeSuffix.includes('vnd.ms-powerpoint') || mimeTypeSuffix.includes('presentationml') || mimeTypeSuffix.includes('vnd.sun.xml.impress') || mimeTypeSuffix.includes('opendocument.presentation')) {\n            return 'presentation';\n        } else if ((mimeTypeSuffix === 'msword') || mimeTypeSuffix.includes('vnd.ms-word') || mimeTypeSuffix.includes('officedocument.wordprocessingml') || mimeTypeSuffix.includes('application/x-mswrite')) {\n            return 'word';\n        }\n    }\n\n    return 'other';\n}\n\n// based on https://stackoverflow.com/questions/7584794/accessing-jpeg-exif-rotation-data-in-javascript-on-the-client-side/32490603#32490603\nexport function getExifOrientation(data) {\n    var view = new DataView(data);\n\n    if (view.getUint16(0, false) !== 0xFFD8) {\n        return -2;\n    }\n\n    var length = view.byteLength;\n    var offset = 2;\n\n    while (offset < length) {\n        var marker = view.getUint16(offset, false);\n        offset += 2;\n\n        if (marker === 0xFFE1) {\n            if (view.getUint32(offset += 2, false) !== 0x45786966) {\n                return -1;\n            }\n\n            var little = view.getUint16(offset += 6, false) === 0x4949;\n            offset += view.getUint32(offset + 4, little);\n            var tags = view.getUint16(offset, little);\n            offset += 2;\n\n            for (var i = 0; i < tags; i++) {\n                if (view.getUint16(offset + (i * 12), little) === 0x0112) {\n                    return view.getUint16(offset + (i * 12) + 8, little);\n                }\n            }\n        } else if ((marker & 0xFF00) === 0xFF00) {\n            offset += view.getUint16(offset, false);\n        } else {\n            break;\n        }\n    }\n    return -1;\n}\n\nexport function getOrientationStyles(orientation) {\n    const {\n        transform,\n        'transform-origin': transformOrigin,\n    } = exif2css(orientation);\n    return {transform, transformOrigin};\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {getLicense} from 'mattermost-redux/selectors/entities/general';\n\nimport store from 'stores/redux_store.jsx';\n\nconst LICENSE_EXPIRY_NOTIFICATION = 1000 * 60 * 60 * 24 * 60; // 60 days\nconst LICENSE_GRACE_PERIOD = 1000 * 60 * 60 * 24 * 15; // 15 days\n\nexport function isLicenseExpiring() {\n    const license = getLicense(store.getState());\n    if (license.IsLicensed !== 'true') {\n        return false;\n    }\n\n    const timeDiff = parseInt(license.ExpiresAt, 10) - Date.now();\n    return timeDiff <= LICENSE_EXPIRY_NOTIFICATION;\n}\n\nexport function isLicenseExpired() {\n    const license = getLicense(store.getState());\n    if (license.IsLicensed !== 'true') {\n        return false;\n    }\n\n    const timeDiff = parseInt(license.ExpiresAt, 10) - Date.now();\n    return timeDiff < 0;\n}\n\nexport function isLicensePastGracePeriod() {\n    const license = getLicense(store.getState());\n    if (license.IsLicensed !== 'true') {\n        return false;\n    }\n\n    const timeDiff = Date.now() - parseInt(license.ExpiresAt, 10);\n    return timeDiff > LICENSE_GRACE_PERIOD;\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {getScheme} from 'utils/url';\n\nimport RemoveMarkdown from './remove_markdown';\n\nexport default class LinkOnlyRenderer extends RemoveMarkdown {\n    link(href, title, text) {\n        let outHref = href;\n\n        if (!getScheme(href)) {\n            outHref = `http://${outHref}`;\n        }\n\n        let output = `<a class=\"theme markdown__link\" href=\"${outHref}\" target=\"_blank\"`;\n\n        if (title) {\n            output += ' title=\"' + title + '\"';\n        }\n\n        output += `>${text}</a>`;\n\n        return output;\n    }\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport React from 'react';\nimport {Parser, ProcessNodeDefinitions} from 'html-to-react';\n\nimport AtMention from 'components/at_mention';\nimport LatexBlock from 'components/latex_block';\nimport LinkTooltip from 'components/link_tooltip/link_tooltip';\nimport MarkdownImage from 'components/markdown_image';\nimport PostEmoji from 'components/post_emoji';\n\n/*\n * Converts HTML to React components using html-to-react.\n * The following options can be specified:\n * - mentions - If specified, mentions are replaced with the AtMention component. Defaults to true.\n * - emoji - If specified, emoji text is replaced with the PostEmoji component. Defaults to true.\n * - images - If specified, markdown images are replaced with the image component. Defaults to true.\n * - imageProps - If specified, any extra props that should be passed into the image component.\n * - latex - If specified, latex is replaced with the LatexBlock component. Defaults to true.\n * - imagesMetadata - the dimensions of the image as retrieved from post.metadata.images.\n * - hasPluginTooltips - If specified, the LinkTooltip component is placed inside links. Defaults to false.\n */\nexport function messageHtmlToComponent(html, isRHS, options = {}) {\n    if (!html) {\n        return null;\n    }\n\n    const parser = new Parser();\n    const processNodeDefinitions = new ProcessNodeDefinitions(React);\n\n    function isValidNode() {\n        return true;\n    }\n\n    const processingInstructions = [\n\n        // Workaround to fix MM-14931\n        {\n            replaceChildren: false,\n            shouldProcessNode: (node) => node.type === 'tag' && node.name === 'input' && node.attribs.type === 'checkbox',\n            processNode: (node) => {\n                const attribs = node.attribs || {};\n                node.attribs.checked = Boolean(attribs.checked);\n\n                return React.createElement('input', {...node.attribs});\n            },\n        },\n    ];\n\n    if (options.hasPluginTooltips) {\n        const hrefAttrib = 'href';\n        processingInstructions.push({\n            replaceChildren: true,\n            shouldProcessNode: (node) => node.type === 'tag' && node.name === 'a' && node.attribs[hrefAttrib],\n            processNode: (node, children) => {\n                return (\n                    <LinkTooltip\n                        href={node.attribs[hrefAttrib]}\n                        title={children[0]}\n                    />\n                );\n            },\n        });\n    }\n    if (!('mentions' in options) || options.mentions) {\n        const mentionAttrib = 'data-mention';\n        processingInstructions.push({\n            replaceChildren: true,\n            shouldProcessNode: (node) => node.attribs && node.attribs[mentionAttrib],\n            processNode: (node, children) => {\n                const mentionName = node.attribs[mentionAttrib];\n                const callAtMention = (\n                    <AtMention\n                        mentionName={mentionName}\n                        isRHS={isRHS}\n                        hasMention={true}\n                    >\n                        {children}\n                    </AtMention>\n                );\n                return callAtMention;\n            },\n        });\n    }\n\n    if (!('emoji' in options) || options.emoji) {\n        const emojiAttrib = 'data-emoticon';\n        processingInstructions.push({\n            replaceChildren: true,\n            shouldProcessNode: (node) => node.attribs && node.attribs[emojiAttrib],\n            processNode: (node) => {\n                const emojiName = node.attribs[emojiAttrib];\n\n                return <PostEmoji name={emojiName}/>;\n            },\n        });\n    }\n\n    if (!('images' in options) || options.images) {\n        processingInstructions.push({\n            shouldProcessNode: (node) => node.type === 'tag' && node.name === 'img',\n            processNode: (node) => {\n                const {\n                    class: className,\n                    ...attribs\n                } = node.attribs;\n\n                return (\n                    <MarkdownImage\n                        className={className}\n                        imageMetadata={options.imagesMetadata && options.imagesMetadata[attribs.src]}\n                        {...attribs}\n                        {...options.imageProps}\n                        postId={options.postId}\n                        imageIsLink={html.includes('<a')}\n                        postType={options.postType}\n                    />\n                );\n            },\n        });\n    }\n\n    if (!('latex' in options) || options.latex) {\n        processingInstructions.push({\n            shouldProcessNode: (node) => node.attribs && node.attribs['data-latex'],\n            processNode: (node) => {\n                return (\n                    <LatexBlock content={node.attribs['data-latex']}/>\n                );\n            },\n        });\n    }\n\n    processingInstructions.push({\n        shouldProcessNode: () => true,\n        processNode: processNodeDefinitions.processDefaultNode,\n    });\n\n    return parser.parseWithInstructions(html, isValidNode, processingInstructions);\n}\n\nexport default messageHtmlToComponent;\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nexport function parseTable(html: string): HTMLTableElement | null {\n    const el = document.createElement('div');\n    el.innerHTML = html;\n    return el.querySelector('table');\n}\n\nexport function getTable(clipboardData: DataTransfer): HTMLTableElement | boolean {\n    if (Array.from(clipboardData.types).indexOf('text/html') === -1) {\n        return false;\n    }\n\n    const html = clipboardData.getData('text/html');\n\n    if (!(/<table/i).test(html)) {\n        return false;\n    }\n\n    const table = parseTable(html);\n    if (!table) {\n        return false;\n    }\n\n    return table;\n}\n\nfunction columnText(column: Element): string {\n    const noBreakSpace = '\\u00A0';\n    const text = column.textContent == null ?\n        noBreakSpace : column.textContent.trim().replace(/\\|/g, '\\\\|').replace(/\\n/g, ' ');\n    return text;\n}\n\nfunction tableHeaders(row: HTMLTableRowElement): string[] {\n    return Array.from(row.querySelectorAll('td, th')).map(columnText);\n}\n\nexport function formatMarkdownTableMessage(table: HTMLTableElement, message?: string): string {\n    const rows = Array.from(table.querySelectorAll('tr'));\n\n    const headerRow = rows.shift();\n    const headers = headerRow ? tableHeaders(headerRow) : [];\n    const spacers = headers.map(() => '---');\n    const header = `|${headers.join(' | ')}|\\n|${spacers.join(' | ')}|\\n`;\n\n    const body = rows.map((row) => {\n        return `|${Array.from(row.querySelectorAll('td')).map(columnText).join(' | ')}|`;\n    }).join('\\n');\n\n    const formattedTable = `${header}${body}\\n`;\n\n    return message ? `${message}\\n\\n${formattedTable}` : formattedTable;\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nexport function popOverOverlayPosition(\n    targetBounds: DOMRect,\n    innerHeight: number,\n    spaceRequiredAbove: number,\n    spaceRequiredBelow?: number\n): string {\n    let placement: string;\n\n    if (targetBounds.top > spaceRequiredAbove) {\n        placement = 'top';\n    } else if (innerHeight - targetBounds.bottom > (spaceRequiredBelow || spaceRequiredAbove)) {\n        placement = 'bottom';\n    } else {\n        placement = 'left';\n    }\n    return placement;\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nimport {ErrorPageTypes} from 'utils/constants';\nimport {isGuest} from 'utils/utils.jsx';\n\nexport function importComponentSuccess(callback) {\n    return (comp) => callback(null, comp.default);\n}\n\nexport function createGetChildComponentsFunction(arrayOfComponents) {\n    return (locaiton, callback) => callback(null, arrayOfComponents);\n}\n\nexport const notFoundParams = {\n    type: ErrorPageTypes.PAGE_NOT_FOUND,\n};\n\nconst mfaPaths = [\n    '/mfa/setup',\n    '/mfa/confirm',\n];\n\nconst mfaAuthServices = [\n    '',\n    'email',\n    'ldap',\n];\n\nexport function checkIfMFARequired(user, license, config, path) {\n    if (license.MFA === 'true' &&\n            config.EnableMultifactorAuthentication === 'true' &&\n            config.EnforceMultifactorAuthentication === 'true' &&\n            mfaPaths.indexOf(path) === -1) {\n        if (isGuest(user) && config.GuestAccountsEnforceMultifactorAuthentication !== 'true') {\n            return false;\n        }\n\n        if (user && !user.mfa_active &&\n                mfaAuthServices.indexOf(user.auth_service) !== -1) {\n            return true;\n        }\n    }\n\n    return false;\n}\n\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\n/**\n * Compare server versions, ignoring the configuration hash and licensed status.\n *\n * For example, the following two server versions are considered equal:\n *     4.7.1.dev.3034fbc5fd566195d1b53e03890e35ff.true\n *     4.7.1.dev.d131dd02c5e6eec4693d9a0698aff95c.false\n *\n * but the following two are not\n *     4.7.0.dev.3034fbc5fd566195d1b53e03890e35ff.true\n *     4.7.1.dev.d131dd02c5e6eec4693d9a0698aff95c.true\n */\nexport function equalServerVersions(a: string, b: string): boolean {\n    if (a === b) {\n        return true;\n    }\n\n    const ignoredComponents = 2;\n    const aIgnoringComponents = (a || '').split('.').slice(0, -ignoredComponents).join('.');\n    const bIgnoringComponents = (b || '').split('.').slice(0, -ignoredComponents).join('.');\n    if (aIgnoringComponents === bIgnoringComponents) {\n        return true;\n    }\n\n    return false;\n}\n\n/**\n * Boolean function to check if a server version is greater than another.\n *\n * currentVersion: The server version being checked\n * compareVersion: The version to compare the former version against\n *\n * eg.  currentVersion = 4.16.0, compareVersion = 4.17.0 returns false\n *      currentVersion = 4.16.1, compareVersion = 4.16.1 returns true\n */\nexport function isServerVersionGreaterThanOrEqualTo(currentVersion: string, compareVersion: string): boolean {\n    if (currentVersion === compareVersion) {\n        return true;\n    }\n\n    // We only care about the numbers\n    const currentVersionNumber = (currentVersion || '').split('.').filter((x) => (/^[0-9]+$/).exec(x) !== null);\n    const compareVersionNumber = (compareVersion || '').split('.').filter((x) => (/^[0-9]+$/).exec(x) !== null);\n\n    for (let i = 0; i < Math.max(currentVersionNumber.length, compareVersionNumber.length); i++) {\n        if ((currentVersionNumber[i] || 0) > (compareVersionNumber[i] || 0)) {\n            return true;\n        }\n\n        if ((currentVersionNumber[i] || 0) < (compareVersionNumber[i] || 0)) {\n            return false;\n        }\n    }\n\n    // If all components are equal, then return true\n    return true;\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\n// Use when sorting multiple teams by their `display_name` field\nfunction compareTeamsByDisplayName(locale, a, b) {\n    if (a.display_name !== b.display_name) {\n        return a.display_name.localeCompare(b.display_name, locale, {numeric: true});\n    }\n\n    return a.name.localeCompare(b.name, locale, {numeric: true});\n}\n\n// Use to filter out teams that are deleted and without display_name, then sort by their `display_name` field\nexport function filterAndSortTeamsByDisplayName(teams, locale) {\n    if (!teams) {\n        return [];\n    }\n\n    return teams.filter((team) => {\n        return team && !team.delete_at > 0 && team.display_name != null;\n    }).sort((a, b) => {\n        return compareTeamsByDisplayName(locale, a, b);\n    });\n}\n","// Copyright (c) 2015-present Mattermost, Inc. All Rights Reserved.\n// See LICENSE.txt for license information.\n\nexport const ytRegex = /(?:http|https):\\/\\/(?:www\\.|m\\.)?(?:(?:youtube\\.com\\/(?:(?:v\\/)|(?:(?:watch|embed\\/watch)(?:\\/|.*v=))|(?:embed\\/)|(?:user\\/[^/]+\\/u\\/[0-9]\\/)))|(?:youtu\\.be\\/))([^#&?]*)/;\n\nexport function handleYoutubeTime(link) {\n    const timeRegex = /[\\\\?&](t|start|time_continue)=([0-9]+h)?([0-9]+m)?([0-9]+s?)/;\n\n    const time = link.match(timeRegex);\n    if (!time || !time[0]) {\n        return '';\n    }\n\n    const hours = time[2] ? time[2].match(/([0-9]+)h/) : null;\n    const minutes = time[3] ? time[3].match(/([0-9]+)m/) : null;\n    const seconds = time[4] ? time[4].match(/([0-9]+)s?/) : null;\n\n    let ticks = 0;\n\n    if (hours && hours[1]) {\n        ticks += parseInt(hours[1], 10) * 3600;\n    }\n\n    if (minutes && minutes[1]) {\n        ticks += parseInt(minutes[1], 10) * 60;\n    }\n\n    if (seconds && seconds[1]) {\n        ticks += parseInt(seconds[1], 10);\n    }\n\n    return '&start=' + ticks.toString();\n}\n\nexport function getVideoId(link) {\n    const match = link.trim().match(ytRegex);\n    if (!match || match[1].length !== 11) {\n        return null;\n    }\n\n    return match[1];\n}","/* (ignored) */"],"sourceRoot":""}